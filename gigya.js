/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/core/Gigya.Js/app/main.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process, global) {/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */

(function (global, factory) {
	 true ? module.exports = factory() :
	undefined;
}(this, (function () { 'use strict';

function objectOrFunction(x) {
  var type = typeof x;
  return x !== null && (type === 'object' || type === 'function');
}

function isFunction(x) {
  return typeof x === 'function';
}



var _isArray = void 0;
if (Array.isArray) {
  _isArray = Array.isArray;
} else {
  _isArray = function (x) {
    return Object.prototype.toString.call(x) === '[object Array]';
  };
}

var isArray = _isArray;

var len = 0;
var vertxNext = void 0;
var customSchedulerFn = void 0;

var asap = function asap(callback, arg) {
  queue[len] = callback;
  queue[len + 1] = arg;
  len += 2;
  if (len === 2) {
    // If len is 2, that means that we need to schedule an async flush.
    // If additional callbacks are queued before the queue is flushed, they
    // will be processed by this flush that we are scheduling.
    if (customSchedulerFn) {
      customSchedulerFn(flush);
    } else {
      scheduleFlush();
    }
  }
};

function setScheduler(scheduleFn) {
  customSchedulerFn = scheduleFn;
}

function setAsap(asapFn) {
  asap = asapFn;
}

var browserWindow = typeof window !== 'undefined' ? window : undefined;
var browserGlobal = browserWindow || {};
var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;
var isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';

// test for web worker but not in IE10
var isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';

// node
function useNextTick() {
  // node version 0.10.x displays a deprecation warning when nextTick is used recursively
  // see https://github.com/cujojs/when/issues/410 for details
  return function () {
    return process.nextTick(flush);
  };
}

// vertx
function useVertxTimer() {
  if (typeof vertxNext !== 'undefined') {
    return function () {
      vertxNext(flush);
    };
  }

  return useSetTimeout();
}

function useMutationObserver() {
  var iterations = 0;
  var observer = new BrowserMutationObserver(flush);
  var node = document.createTextNode('');
  observer.observe(node, { characterData: true });

  return function () {
    node.data = iterations = ++iterations % 2;
  };
}

// web worker
function useMessageChannel() {
  var channel = new MessageChannel();
  channel.port1.onmessage = flush;
  return function () {
    return channel.port2.postMessage(0);
  };
}

function useSetTimeout() {
  // Store setTimeout reference so es6-promise will be unaffected by
  // other code modifying setTimeout (like sinon.useFakeTimers())
  var globalSetTimeout = setTimeout;
  return function () {
    return globalSetTimeout(flush, 1);
  };
}

var queue = new Array(1000);
function flush() {
  for (var i = 0; i < len; i += 2) {
    var callback = queue[i];
    var arg = queue[i + 1];

    callback(arg);

    queue[i] = undefined;
    queue[i + 1] = undefined;
  }

  len = 0;
}

function attemptVertx() {
  try {
    var vertx = Function('return this')().require('vertx');
    vertxNext = vertx.runOnLoop || vertx.runOnContext;
    return useVertxTimer();
  } catch (e) {
    return useSetTimeout();
  }
}

var scheduleFlush = void 0;
// Decide what async method to use to triggering processing of queued callbacks:
if (isNode) {
  scheduleFlush = useNextTick();
} else if (BrowserMutationObserver) {
  scheduleFlush = useMutationObserver();
} else if (isWorker) {
  scheduleFlush = useMessageChannel();
} else if (browserWindow === undefined && "function" === 'function') {
  scheduleFlush = attemptVertx();
} else {
  scheduleFlush = useSetTimeout();
}

function then(onFulfillment, onRejection) {
  var parent = this;

  var child = new this.constructor(noop);

  if (child[PROMISE_ID] === undefined) {
    makePromise(child);
  }

  var _state = parent._state;


  if (_state) {
    var callback = arguments[_state - 1];
    asap(function () {
      return invokeCallback(_state, child, callback, parent._result);
    });
  } else {
    subscribe(parent, child, onFulfillment, onRejection);
  }

  return child;
}

/**
  `Promise.resolve` returns a promise that will become resolved with the
  passed `value`. It is shorthand for the following:

  ```javascript
  let promise = new Promise(function(resolve, reject){
    resolve(1);
  });

  promise.then(function(value){
    // value === 1
  });
  ```

  Instead of writing the above, your code now simply becomes the following:

  ```javascript
  let promise = Promise.resolve(1);

  promise.then(function(value){
    // value === 1
  });
  ```

  @method resolve
  @static
  @param {Any} value value that the returned promise will be resolved with
  Useful for tooling.
  @return {Promise} a promise that will become fulfilled with the given
  `value`
*/
function resolve$1(object) {
  /*jshint validthis:true */
  var Constructor = this;

  if (object && typeof object === 'object' && object.constructor === Constructor) {
    return object;
  }

  var promise = new Constructor(noop);
  resolve(promise, object);
  return promise;
}

var PROMISE_ID = Math.random().toString(36).substring(2);

function noop() {}

var PENDING = void 0;
var FULFILLED = 1;
var REJECTED = 2;

function selfFulfillment() {
  return new TypeError("You cannot resolve a promise with itself");
}

function cannotReturnOwn() {
  return new TypeError('A promises callback cannot return that same promise.');
}

function tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {
  try {
    then$$1.call(value, fulfillmentHandler, rejectionHandler);
  } catch (e) {
    return e;
  }
}

function handleForeignThenable(promise, thenable, then$$1) {
  asap(function (promise) {
    var sealed = false;
    var error = tryThen(then$$1, thenable, function (value) {
      if (sealed) {
        return;
      }
      sealed = true;
      if (thenable !== value) {
        resolve(promise, value);
      } else {
        fulfill(promise, value);
      }
    }, function (reason) {
      if (sealed) {
        return;
      }
      sealed = true;

      reject(promise, reason);
    }, 'Settle: ' + (promise._label || ' unknown promise'));

    if (!sealed && error) {
      sealed = true;
      reject(promise, error);
    }
  }, promise);
}

function handleOwnThenable(promise, thenable) {
  if (thenable._state === FULFILLED) {
    fulfill(promise, thenable._result);
  } else if (thenable._state === REJECTED) {
    reject(promise, thenable._result);
  } else {
    subscribe(thenable, undefined, function (value) {
      return resolve(promise, value);
    }, function (reason) {
      return reject(promise, reason);
    });
  }
}

function handleMaybeThenable(promise, maybeThenable, then$$1) {
  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {
    handleOwnThenable(promise, maybeThenable);
  } else {
    if (then$$1 === undefined) {
      fulfill(promise, maybeThenable);
    } else if (isFunction(then$$1)) {
      handleForeignThenable(promise, maybeThenable, then$$1);
    } else {
      fulfill(promise, maybeThenable);
    }
  }
}

function resolve(promise, value) {
  if (promise === value) {
    reject(promise, selfFulfillment());
  } else if (objectOrFunction(value)) {
    var then$$1 = void 0;
    try {
      then$$1 = value.then;
    } catch (error) {
      reject(promise, error);
      return;
    }
    handleMaybeThenable(promise, value, then$$1);
  } else {
    fulfill(promise, value);
  }
}

function publishRejection(promise) {
  if (promise._onerror) {
    promise._onerror(promise._result);
  }

  publish(promise);
}

function fulfill(promise, value) {
  if (promise._state !== PENDING) {
    return;
  }

  promise._result = value;
  promise._state = FULFILLED;

  if (promise._subscribers.length !== 0) {
    asap(publish, promise);
  }
}

function reject(promise, reason) {
  if (promise._state !== PENDING) {
    return;
  }
  promise._state = REJECTED;
  promise._result = reason;

  asap(publishRejection, promise);
}

function subscribe(parent, child, onFulfillment, onRejection) {
  var _subscribers = parent._subscribers;
  var length = _subscribers.length;


  parent._onerror = null;

  _subscribers[length] = child;
  _subscribers[length + FULFILLED] = onFulfillment;
  _subscribers[length + REJECTED] = onRejection;

  if (length === 0 && parent._state) {
    asap(publish, parent);
  }
}

function publish(promise) {
  var subscribers = promise._subscribers;
  var settled = promise._state;

  if (subscribers.length === 0) {
    return;
  }

  var child = void 0,
      callback = void 0,
      detail = promise._result;

  for (var i = 0; i < subscribers.length; i += 3) {
    child = subscribers[i];
    callback = subscribers[i + settled];

    if (child) {
      invokeCallback(settled, child, callback, detail);
    } else {
      callback(detail);
    }
  }

  promise._subscribers.length = 0;
}

function invokeCallback(settled, promise, callback, detail) {
  var hasCallback = isFunction(callback),
      value = void 0,
      error = void 0,
      succeeded = true;

  if (hasCallback) {
    try {
      value = callback(detail);
    } catch (e) {
      succeeded = false;
      error = e;
    }

    if (promise === value) {
      reject(promise, cannotReturnOwn());
      return;
    }
  } else {
    value = detail;
  }

  if (promise._state !== PENDING) {
    // noop
  } else if (hasCallback && succeeded) {
    resolve(promise, value);
  } else if (succeeded === false) {
    reject(promise, error);
  } else if (settled === FULFILLED) {
    fulfill(promise, value);
  } else if (settled === REJECTED) {
    reject(promise, value);
  }
}

function initializePromise(promise, resolver) {
  try {
    resolver(function resolvePromise(value) {
      resolve(promise, value);
    }, function rejectPromise(reason) {
      reject(promise, reason);
    });
  } catch (e) {
    reject(promise, e);
  }
}

var id = 0;
function nextId() {
  return id++;
}

function makePromise(promise) {
  promise[PROMISE_ID] = id++;
  promise._state = undefined;
  promise._result = undefined;
  promise._subscribers = [];
}

function validationError() {
  return new Error('Array Methods must be provided an Array');
}

var Enumerator = function () {
  function Enumerator(Constructor, input) {
    this._instanceConstructor = Constructor;
    this.promise = new Constructor(noop);

    if (!this.promise[PROMISE_ID]) {
      makePromise(this.promise);
    }

    if (isArray(input)) {
      this.length = input.length;
      this._remaining = input.length;

      this._result = new Array(this.length);

      if (this.length === 0) {
        fulfill(this.promise, this._result);
      } else {
        this.length = this.length || 0;
        this._enumerate(input);
        if (this._remaining === 0) {
          fulfill(this.promise, this._result);
        }
      }
    } else {
      reject(this.promise, validationError());
    }
  }

  Enumerator.prototype._enumerate = function _enumerate(input) {
    for (var i = 0; this._state === PENDING && i < input.length; i++) {
      this._eachEntry(input[i], i);
    }
  };

  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {
    var c = this._instanceConstructor;
    var resolve$$1 = c.resolve;


    if (resolve$$1 === resolve$1) {
      var _then = void 0;
      var error = void 0;
      var didError = false;
      try {
        _then = entry.then;
      } catch (e) {
        didError = true;
        error = e;
      }

      if (_then === then && entry._state !== PENDING) {
        this._settledAt(entry._state, i, entry._result);
      } else if (typeof _then !== 'function') {
        this._remaining--;
        this._result[i] = entry;
      } else if (c === Promise$1) {
        var promise = new c(noop);
        if (didError) {
          reject(promise, error);
        } else {
          handleMaybeThenable(promise, entry, _then);
        }
        this._willSettleAt(promise, i);
      } else {
        this._willSettleAt(new c(function (resolve$$1) {
          return resolve$$1(entry);
        }), i);
      }
    } else {
      this._willSettleAt(resolve$$1(entry), i);
    }
  };

  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {
    var promise = this.promise;


    if (promise._state === PENDING) {
      this._remaining--;

      if (state === REJECTED) {
        reject(promise, value);
      } else {
        this._result[i] = value;
      }
    }

    if (this._remaining === 0) {
      fulfill(promise, this._result);
    }
  };

  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {
    var enumerator = this;

    subscribe(promise, undefined, function (value) {
      return enumerator._settledAt(FULFILLED, i, value);
    }, function (reason) {
      return enumerator._settledAt(REJECTED, i, reason);
    });
  };

  return Enumerator;
}();

/**
  `Promise.all` accepts an array of promises, and returns a new promise which
  is fulfilled with an array of fulfillment values for the passed promises, or
  rejected with the reason of the first passed promise to be rejected. It casts all
  elements of the passed iterable to promises as it runs this algorithm.

  Example:

  ```javascript
  let promise1 = resolve(1);
  let promise2 = resolve(2);
  let promise3 = resolve(3);
  let promises = [ promise1, promise2, promise3 ];

  Promise.all(promises).then(function(array){
    // The array here would be [ 1, 2, 3 ];
  });
  ```

  If any of the `promises` given to `all` are rejected, the first promise
  that is rejected will be given as an argument to the returned promises's
  rejection handler. For example:

  Example:

  ```javascript
  let promise1 = resolve(1);
  let promise2 = reject(new Error("2"));
  let promise3 = reject(new Error("3"));
  let promises = [ promise1, promise2, promise3 ];

  Promise.all(promises).then(function(array){
    // Code here never runs because there are rejected promises!
  }, function(error) {
    // error.message === "2"
  });
  ```

  @method all
  @static
  @param {Array} entries array of promises
  @param {String} label optional string for labeling the promise.
  Useful for tooling.
  @return {Promise} promise that is fulfilled when all `promises` have been
  fulfilled, or rejected if any of them become rejected.
  @static
*/
function all(entries) {
  return new Enumerator(this, entries).promise;
}

/**
  `Promise.race` returns a new promise which is settled in the same way as the
  first passed promise to settle.

  Example:

  ```javascript
  let promise1 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 1');
    }, 200);
  });

  let promise2 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 2');
    }, 100);
  });

  Promise.race([promise1, promise2]).then(function(result){
    // result === 'promise 2' because it was resolved before promise1
    // was resolved.
  });
  ```

  `Promise.race` is deterministic in that only the state of the first
  settled promise matters. For example, even if other promises given to the
  `promises` array argument are resolved, but the first settled promise has
  become rejected before the other promises became fulfilled, the returned
  promise will become rejected:

  ```javascript
  let promise1 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 1');
    }, 200);
  });

  let promise2 = new Promise(function(resolve, reject){
    setTimeout(function(){
      reject(new Error('promise 2'));
    }, 100);
  });

  Promise.race([promise1, promise2]).then(function(result){
    // Code here never runs
  }, function(reason){
    // reason.message === 'promise 2' because promise 2 became rejected before
    // promise 1 became fulfilled
  });
  ```

  An example real-world use case is implementing timeouts:

  ```javascript
  Promise.race([ajax('foo.json'), timeout(5000)])
  ```

  @method race
  @static
  @param {Array} promises array of promises to observe
  Useful for tooling.
  @return {Promise} a promise which settles in the same way as the first passed
  promise to settle.
*/
function race(entries) {
  /*jshint validthis:true */
  var Constructor = this;

  if (!isArray(entries)) {
    return new Constructor(function (_, reject) {
      return reject(new TypeError('You must pass an array to race.'));
    });
  } else {
    return new Constructor(function (resolve, reject) {
      var length = entries.length;
      for (var i = 0; i < length; i++) {
        Constructor.resolve(entries[i]).then(resolve, reject);
      }
    });
  }
}

/**
  `Promise.reject` returns a promise rejected with the passed `reason`.
  It is shorthand for the following:

  ```javascript
  let promise = new Promise(function(resolve, reject){
    reject(new Error('WHOOPS'));
  });

  promise.then(function(value){
    // Code here doesn't run because the promise is rejected!
  }, function(reason){
    // reason.message === 'WHOOPS'
  });
  ```

  Instead of writing the above, your code now simply becomes the following:

  ```javascript
  let promise = Promise.reject(new Error('WHOOPS'));

  promise.then(function(value){
    // Code here doesn't run because the promise is rejected!
  }, function(reason){
    // reason.message === 'WHOOPS'
  });
  ```

  @method reject
  @static
  @param {Any} reason value that the returned promise will be rejected with.
  Useful for tooling.
  @return {Promise} a promise rejected with the given `reason`.
*/
function reject$1(reason) {
  /*jshint validthis:true */
  var Constructor = this;
  var promise = new Constructor(noop);
  reject(promise, reason);
  return promise;
}

function needsResolver() {
  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');
}

function needsNew() {
  throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}

/**
  Promise objects represent the eventual result of an asynchronous operation. The
  primary way of interacting with a promise is through its `then` method, which
  registers callbacks to receive either a promise's eventual value or the reason
  why the promise cannot be fulfilled.

  Terminology
  -----------

  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.
  - `thenable` is an object or function that defines a `then` method.
  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).
  - `exception` is a value that is thrown using the throw statement.
  - `reason` is a value that indicates why a promise was rejected.
  - `settled` the final resting state of a promise, fulfilled or rejected.

  A promise can be in one of three states: pending, fulfilled, or rejected.

  Promises that are fulfilled have a fulfillment value and are in the fulfilled
  state.  Promises that are rejected have a rejection reason and are in the
  rejected state.  A fulfillment value is never a thenable.

  Promises can also be said to *resolve* a value.  If this value is also a
  promise, then the original promise's settled state will match the value's
  settled state.  So a promise that *resolves* a promise that rejects will
  itself reject, and a promise that *resolves* a promise that fulfills will
  itself fulfill.


  Basic Usage:
  ------------

  ```js
  let promise = new Promise(function(resolve, reject) {
    // on success
    resolve(value);

    // on failure
    reject(reason);
  });

  promise.then(function(value) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  ```

  Advanced Usage:
  ---------------

  Promises shine when abstracting away asynchronous interactions such as
  `XMLHttpRequest`s.

  ```js
  function getJSON(url) {
    return new Promise(function(resolve, reject){
      let xhr = new XMLHttpRequest();

      xhr.open('GET', url);
      xhr.onreadystatechange = handler;
      xhr.responseType = 'json';
      xhr.setRequestHeader('Accept', 'application/json');
      xhr.send();

      function handler() {
        if (this.readyState === this.DONE) {
          if (this.status === 200) {
            resolve(this.response);
          } else {
            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));
          }
        }
      };
    });
  }

  getJSON('/posts.json').then(function(json) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  ```

  Unlike callbacks, promises are great composable primitives.

  ```js
  Promise.all([
    getJSON('/posts'),
    getJSON('/comments')
  ]).then(function(values){
    values[0] // => postsJSON
    values[1] // => commentsJSON

    return values;
  });
  ```

  @class Promise
  @param {Function} resolver
  Useful for tooling.
  @constructor
*/

var Promise$1 = function () {
  function Promise(resolver) {
    this[PROMISE_ID] = nextId();
    this._result = this._state = undefined;
    this._subscribers = [];

    if (noop !== resolver) {
      typeof resolver !== 'function' && needsResolver();
      this instanceof Promise ? initializePromise(this, resolver) : needsNew();
    }
  }

  /**
  The primary way of interacting with a promise is through its `then` method,
  which registers callbacks to receive either a promise's eventual value or the
  reason why the promise cannot be fulfilled.
   ```js
  findUser().then(function(user){
    // user is available
  }, function(reason){
    // user is unavailable, and you are given the reason why
  });
  ```
   Chaining
  --------
   The return value of `then` is itself a promise.  This second, 'downstream'
  promise is resolved with the return value of the first promise's fulfillment
  or rejection handler, or rejected if the handler throws an exception.
   ```js
  findUser().then(function (user) {
    return user.name;
  }, function (reason) {
    return 'default name';
  }).then(function (userName) {
    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it
    // will be `'default name'`
  });
   findUser().then(function (user) {
    throw new Error('Found user, but still unhappy');
  }, function (reason) {
    throw new Error('`findUser` rejected and we're unhappy');
  }).then(function (value) {
    // never reached
  }, function (reason) {
    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.
    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.
  });
  ```
  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.
   ```js
  findUser().then(function (user) {
    throw new PedagogicalException('Upstream error');
  }).then(function (value) {
    // never reached
  }).then(function (value) {
    // never reached
  }, function (reason) {
    // The `PedgagocialException` is propagated all the way down to here
  });
  ```
   Assimilation
  ------------
   Sometimes the value you want to propagate to a downstream promise can only be
  retrieved asynchronously. This can be achieved by returning a promise in the
  fulfillment or rejection handler. The downstream promise will then be pending
  until the returned promise is settled. This is called *assimilation*.
   ```js
  findUser().then(function (user) {
    return findCommentsByAuthor(user);
  }).then(function (comments) {
    // The user's comments are now available
  });
  ```
   If the assimliated promise rejects, then the downstream promise will also reject.
   ```js
  findUser().then(function (user) {
    return findCommentsByAuthor(user);
  }).then(function (comments) {
    // If `findCommentsByAuthor` fulfills, we'll have the value here
  }, function (reason) {
    // If `findCommentsByAuthor` rejects, we'll have the reason here
  });
  ```
   Simple Example
  --------------
   Synchronous Example
   ```javascript
  let result;
   try {
    result = findResult();
    // success
  } catch(reason) {
    // failure
  }
  ```
   Errback Example
   ```js
  findResult(function(result, err){
    if (err) {
      // failure
    } else {
      // success
    }
  });
  ```
   Promise Example;
   ```javascript
  findResult().then(function(result){
    // success
  }, function(reason){
    // failure
  });
  ```
   Advanced Example
  --------------
   Synchronous Example
   ```javascript
  let author, books;
   try {
    author = findAuthor();
    books  = findBooksByAuthor(author);
    // success
  } catch(reason) {
    // failure
  }
  ```
   Errback Example
   ```js
   function foundBooks(books) {
   }
   function failure(reason) {
   }
   findAuthor(function(author, err){
    if (err) {
      failure(err);
      // failure
    } else {
      try {
        findBoooksByAuthor(author, function(books, err) {
          if (err) {
            failure(err);
          } else {
            try {
              foundBooks(books);
            } catch(reason) {
              failure(reason);
            }
          }
        });
      } catch(error) {
        failure(err);
      }
      // success
    }
  });
  ```
   Promise Example;
   ```javascript
  findAuthor().
    then(findBooksByAuthor).
    then(function(books){
      // found books
  }).catch(function(reason){
    // something went wrong
  });
  ```
   @method then
  @param {Function} onFulfilled
  @param {Function} onRejected
  Useful for tooling.
  @return {Promise}
  */

  /**
  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same
  as the catch block of a try/catch statement.
  ```js
  function findAuthor(){
  throw new Error('couldn't find that author');
  }
  // synchronous
  try {
  findAuthor();
  } catch(reason) {
  // something went wrong
  }
  // async with promises
  findAuthor().catch(function(reason){
  // something went wrong
  });
  ```
  @method catch
  @param {Function} onRejection
  Useful for tooling.
  @return {Promise}
  */


  Promise.prototype.catch = function _catch(onRejection) {
    return this.then(null, onRejection);
  };

  /**
    `finally` will be invoked regardless of the promise's fate just as native
    try/catch/finally behaves
  
    Synchronous example:
  
    ```js
    findAuthor() {
      if (Math.random() > 0.5) {
        throw new Error();
      }
      return new Author();
    }
  
    try {
      return findAuthor(); // succeed or fail
    } catch(error) {
      return findOtherAuther();
    } finally {
      // always runs
      // doesn't affect the return value
    }
    ```
  
    Asynchronous example:
  
    ```js
    findAuthor().catch(function(reason){
      return findOtherAuther();
    }).finally(function(){
      // author was either found, or not
    });
    ```
  
    @method finally
    @param {Function} callback
    @return {Promise}
  */


  Promise.prototype.finally = function _finally(callback) {
    var promise = this;
    var constructor = promise.constructor;

    if (isFunction(callback)) {
      return promise.then(function (value) {
        return constructor.resolve(callback()).then(function () {
          return value;
        });
      }, function (reason) {
        return constructor.resolve(callback()).then(function () {
          throw reason;
        });
      });
    }

    return promise.then(callback, callback);
  };

  return Promise;
}();

Promise$1.prototype.then = then;
Promise$1.all = all;
Promise$1.race = race;
Promise$1.resolve = resolve$1;
Promise$1.reject = reject$1;
Promise$1._setScheduler = setScheduler;
Promise$1._setAsap = setAsap;
Promise$1._asap = asap;

/*global self*/
function polyfill() {
  var local = void 0;

  if (typeof global !== 'undefined') {
    local = global;
  } else if (typeof self !== 'undefined') {
    local = self;
  } else {
    try {
      local = Function('return this')();
    } catch (e) {
      throw new Error('polyfill failed because global object is unavailable in this environment');
    }
  }

  var P = local.Promise;

  if (P) {
    var promiseToString = null;
    try {
      promiseToString = Object.prototype.toString.call(P.resolve());
    } catch (e) {
      // silently ignored
    }

    if (promiseToString === '[object Promise]' && !P.cast) {
      return;
    }
  }

  local.Promise = Promise$1;
}

// Strange compat..
Promise$1.polyfill = polyfill;
Promise$1.Promise = Promise$1;

return Promise$1;

})));




/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ "./node_modules/process/browser.js"), __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(__webpack_provided_Object_dot_assign) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__extends", function() { return __extends; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__assign", function() { return __assign; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__rest", function() { return __rest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__decorate", function() { return __decorate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__param", function() { return __param; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__metadata", function() { return __metadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__awaiter", function() { return __awaiter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__generator", function() { return __generator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__exportStar", function() { return __exportStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__values", function() { return __values; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__read", function() { return __read; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spread", function() { return __spread; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spreadArrays", function() { return __spreadArrays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__await", function() { return __await; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function() { return __asyncGenerator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function() { return __asyncDelegator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncValues", function() { return __asyncValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function() { return __makeTemplateObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importStar", function() { return __importStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importDefault", function() { return __importDefault; });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = __webpack_provided_Object_dot_assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    return new (P || (P = gigya.Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __exportStar(m, exports) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new gigya.Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? gigya.Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new gigya.Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { gigya.Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js")["__assign"]))

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./src/core/Gigya.Js/app/API/ApisList.ts":
/*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/API/ApisList.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var ServerApi_1 = __webpack_require__(/*! src/core/Gigya.Js/app/API/ServerApi */ "./src/core/Gigya.Js/app/API/ServerApi.ts");
var UiApi_1 = __webpack_require__(/*! src/core/Gigya.Js/app/API/UiApi */ "./src/core/Gigya.Js/app/API/UiApi.ts");
var browser_1 = __webpack_require__(/*! ../Utils/browser */ "./src/core/Gigya.Js/app/Utils/browser.ts");
var localStorage_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/localStorage */ "./src/core/Gigya.Js/app/Utils/localStorage.ts");
var DOM_1 = __webpack_require__(/*! ../Utils/DOM */ "./src/core/Gigya.Js/app/Utils/DOM.ts");
var functions_1 = __webpack_require__(/*! ../Utils/functions */ "./src/core/Gigya.Js/app/Utils/functions.ts");
// Server and widget public APIs -- TODO: build process
exports.defaultApiSchema = 'ctag|APIKey|cid|oauth_token|source|sourceData|usePost|refUID|fb_UID|fb_at|fb_exp|environment|noAuth';
exports.defaultOauthSchema = 'ctag|temporary_account|authFlow|connectWithoutLogin|provider|redirectMethod|redirect_uri|pendingRegistration|lang|regSource|extraPermissions|sessionExpiration|forceAuthentication|includeiRank|includeAllIdentities|extraFields|enabledProviders|disabledProviders|signIDs|openIDUsername|openIDURL|openIDProviderLogo|openIDProviderName|finalizeRegistration|include|actionAttributes|profileAttributes|googlePlayAppID|bp_channel_url|loginIfExists|includeUserInfo|redirectURL|authCodeOnly|enablePopupLocation|invite|regToken|loginMode|apiDomain|conflictHandling|forcePermissions|signKeys|dataCenter';
exports.postBookmarkSchema = 'provider|URL|url|title|description|target|cid|APIKey|shortURLs|source|sourceData|providerKey|thumbnailURL|tags|userAction|[providerCapability=actions]UserAction|actionAttributes|facebookDialogType';
exports.loginMethods = {
    'socialize.login': 1,
    'socialize.addConnection': 1,
    'socialize.notifyLogin': 1,
    'socialize.linkAccounts': 1,
    'accounts.login': 1,
    'accounts.otp.login': 1,
    'accounts.auth.login': 1,
    'accounts.socialLogin': 1,
    'accounts.linkAccounts': 1,
    'accounts.register': 1,
    'accounts.finalizeRegistration': 1,
};
var loginClearSessionCondition = function (params) { return params['loginMode'] !== 'link' && params['loginMode'] !== 'reAuth'; };
var noAuthPreProcessor = function (params, callback) {
    params['noAuth'] = true; // so login token won't be attached to request
    callback();
};
var globalAccountRegistrationPreProcessor = function (params, callback) {
    if (window.gigya.globalAccount.dataCenter) // hint for "accounts.initRegistration" to be forwarded to the correct dc
        params['dataCenter'] = window.gigya.globalAccount.dataCenter;
    callback();
};
exports.logoutBehaviour = {
    logoutBeforeServerResponse: true,
    alwaysSendLogoutToServer: false,
};
exports.logoutMethods = {
    'socialize.logout': 1,
    'accounts.logout': 1,
    'socialize.deleteAccount': 1,
    'socialize.unlinkAccounts': 1,
};
var logoutPreProcessor = function (params, callback) {
    if (window.gigya.partnerSettings.ssoKey)
        params.signIDs = true;
    callback();
};
var logoutRequireSession = function () { return !exports.logoutBehaviour.alwaysSendLogoutToServer; };
exports.arApiList = [
    new ServerApi_1.ServerApi('socialize.login', exports.defaultOauthSchema, false, {
        oauth: true,
        preprocessor: globalAccountRegistrationPreProcessor
    }, {
        clearSessionCondition: loginClearSessionCondition
    }),
    new ServerApi_1.ServerApi('socialize.addConnection', exports.defaultOauthSchema, false, {
        oauth: true,
    }, {}),
    new ServerApi_1.ServerApi('socialize.requestPermissions', exports.defaultOauthSchema, true, {
        oauth: true,
        defaultParams: { forcePermissions: true },
    }),
    /*new ServerApi('socialize.postBookmark',
            defaultOauthSchema,
            false, {
                oauth: true
            }),*/
    new ServerApi_1.ServerApi('accounts.socialLogin', exports.defaultOauthSchema, false, {
        oauth: true,
        preprocessor: globalAccountRegistrationPreProcessor
    }, {
        clearSessionCondition: loginClearSessionCondition
    }),
    new UiApi_1.UiApi('showDebugUI', 'socialize.plugins.debug', {}, {}, '', {
        allowPopup: true,
    }),
    UiApi_1.UiApi.createApi('showMyPhotoUI', 'accounts', 'profilePhoto.MyPhotoPlugin', 'accounts.plugins.profilePhoto'),
    // Uses BasePlugin
    UiApi_1.UiApi.createApi('showRatingUI', 'comments', 'rating.RatingPlugin', 'comments.plugins.rating'),
    UiApi_1.UiApi.createApi('runJsUnitTests', '_', 'JsUtRunner.Jasmine.JasmineUtRunnerPlugin', '_.plugins.jsUtRunner'),
    UiApi_1.UiApi.createApi('loadBasePlugin', '_', 'Mock.MockPlugin', '_.plugins.mock'),
    new UiApi_1.UiApi('showCommentsUI', 'comments.plugins.comments', { width: 500 }, {}, '', {
        apiName: 'comments.showCommentsUI1',
    }),
    new UiApi_1.UiApi('showCommentsUI', 'comments.plugins.comments2', { width: 500 }, {}, '', {
        apiName: 'comments.showCommentsUI2',
    }),
    UiApi_1.UiApi.versionSelector('showCommentsUI', 'comments', '2', [
        {
            versionName: '1',
            method: window.gigya.comments.showCommentsUI1,
            additionalParams: { ctag: 'comments_v1' },
        },
        {
            versionName: '2',
            method: window.gigya.comments.showCommentsUI2,
            additionalParams: { ctag: 'comments_v2' },
            isSupported: function () { return browser_1.isModern(); },
        },
    ]),
    new UiApi_1.UiApi('showShareUI', 'socialize.plugins.share', { width: 520, height: 320 }, {
        width: 595,
        height: 324
    }, 'userAction', {
        allowPopup: true,
        preprocessor: function (params, callback) {
            var operationMode = params['operationMode'];
            if (operationMode)
                operationMode = operationMode.toLowerCase().replace(/ /g, '');
            if (!params['containerID']) {
                delete params['width'];
                delete params['height'];
            }
            window.gigya._.apiAdapter.isSessionValid(params, function (isValid) {
                if (operationMode == 'simpleshare' || (operationMode == 'autodetect' && !isValid)) {
                    window.gigya.socialize.showSimpleShareUI(params);
                }
                else {
                    callback();
                }
            });
        },
    }),
    UiApi_1.UiApi.createApi('showMessageUI', '_', 'messages.MessagesPlugin', '_.plugins.messages'),
    new UiApi_1.UiApi('showLoginUI_v1', 'socialize.plugins.login', { width: 120, height: 110 }, {
        width: 280,
        height: 220
    }, '', { allowPopup: true }),
    UiApi_1.UiApi.createApi('showLoginUI_v2', 'socialize', 'login_v2.LoginPlugin', 'socialize.plugins.login_v2'),
    UiApi_1.UiApi.versionSelector('showLoginUI', 'socialize', '1', [
        {
            versionName: '1',
            method: window.gigya.socialize.showLoginUI_v1,
        },
        {
            versionName: '2',
            method: window.gigya.socialize.showLoginUI_v2,
        },
    ]),
    new UiApi_1.UiApi('showAddConnectionsUI_v1', 'socialize.plugins.login', { width: 110, height: 65 }, {
        width: 250,
        height: 200
    }, '', { allowPopup: true }),
    UiApi_1.UiApi.createApi('showAddConnectionsUI_v2', 'socialize', 'login_v2.LoginPlugin', 'socialize.plugins.login_v2'),
    UiApi_1.UiApi.versionSelector('showAddConnectionsUI', 'socialize', '1', [
        {
            versionName: '1',
            method: window.gigya.socialize.showAddConnectionsUI_v1,
        },
        {
            versionName: '2',
            method: window.gigya.socialize.showAddConnectionsUI_v2,
        },
    ]),
    UiApi_1.UiApi.createApi('showEditConnectionsUI', 'socialize', 'editConnections.EditConnectionPlugin', 'socialize.plugins.edit'),
    new UiApi_1.UiApi('showShareBarUI', 'socialize.plugins.reactions', { shareCountCacheTimeout: 30 }, {}, 'userAction|shareButtons'),
    new UiApi_1.UiApi('showReactionsBarUI', 'socialize.plugins.reactions', {}, {}, 'userAction|barID|reactions', {
        preprocessor: function (params, callback) {
            if (!params['barID'])
                params['barID'] = params['itemID'];
            callback();
        },
    }),
    new UiApi_1.UiApi('showMiniShareUI', 'socialize.plugins.minishare', { width: 320, height: 153 }, {}, '', { allowPopup: true }),
    new UiApi_1.UiApi('showBookmarkUI', 'socialize.plugins.bookmark', { width: 310, height: 250 }, { width: 310, height: 310 }),
    new UiApi_1.UiApi('showSimpleShareUI', 'socialize.plugins.simpleShare', { width: 280, height: 175 }, {}, 'userAction', {
        allowPopup: true,
        dontLoadPluginsCore: true,
        waitForAPIQueue: true,
    }),
    new UiApi_1.UiApi('showShareMobileUI', 'socialize.plugins.shareMobile', {}, {}, 'userAction', { allowPopup: true }),
    new UiApi_1.UiApi('showUserStatusUI', 'gm.plugins.userStatus', {
        width: 300,
        hidePoints: false,
        hideActions: false
    }, {}, '', {
        requireSession: true,
    }),
    new UiApi_1.UiApi('showAchievementsUI', 'gm.plugins.achievements', {
        width: 300,
        height: 100,
        excludeChallenges: '_default'
    }),
    new UiApi_1.UiApi('showChallengeStatusUI', 'gm.plugins.achievements', { width: 300, height: 100, challenge: '_default' }),
    new UiApi_1.UiApi('showLeaderboardUI', 'gm.plugins.leaderboard', { width: 300 }, {}, '', {
        preprocessor: function (params, callback) {
            if (params && params.height)
                params.height = null;
            callback();
        },
    }),
    new UiApi_1.UiApi('showNotifications', 'gm.plugins.notifications', {}, {}, '', {
        preprocessor: function (params, callback) {
            var localSettings = localStorage_1.getObject('gmSettings');
            if (!(localSettings && localSettings['disableNotifications'])) {
                params.containerID = 'gigNotifications';
                if (!document.getElementById(params.containerID)) {
                    var container = document.createElement('div');
                    container.id = params.containerID;
                    container.style.position = 'absolute';
                    container.style.left = '-1000px';
                    // Read the alert to the user when using screen reader.
                    container.setAttribute('role', 'alert');
                    container.setAttribute('aria-live', 'polite');
                    container.setAttribute('aria-atomic', 'true');
                    DOM_1.appendToBody(container);
                }
                callback();
            }
        },
    }),
    new UiApi_1.UiApi('showTfaUI', 'accounts.plugins.tfa', { width: 325 }),
    UiApi_1.UiApi.createApi('showScreenSet', 'accounts', 'ScreenSet.ScreenSetPlugin', 'accounts.plugins.screenSet', undefined, ['hideScreenSet', 'switchScreen']),
    new ServerApi_1.ServerApi('socialize.getAvailableProviders', 'enabledProviders|disabledProviders|requiredCapabilities'),
    new ServerApi_1.ServerApi('socialize.notifyLogin', 'siteUID|UIDTimestamp|UIDSig|UIDNonce|provider|authToken|tokenSecret|regSource|tokenExpiration|sessionHandle|sessionHandleExpiration|userInfo|providerSessions|sessionExpiration|authCode|includeAllIdentitiesincludeiRank|group|settings|extraFields|signIDs|newUser|actionAttributes|profileAttributes|bp_channel_url|signKeys', false, undefined, { clearSession: true }),
    new ServerApi_1.ServerApi('socialize.shortenURL', 'URL'),
    new ServerApi_1.ServerApi('socialize.convertAction', 'userAction|[providerCapability=actions]UserAction|provider'),
    new ServerApi_1.ServerApi('socialize.getReactionsCount', 'barID|buttonIDs|reportLoad'),
    new ServerApi_1.ServerApi('socialize.incrementReactionsCount', 'barID|buttonID|count|actionAttributes|profileAttributes'),
    new ServerApi_1.ServerApi('socialize.deleteAccount', undefined, true),
    new ServerApi_1.ServerApi('socialize.delUserSettings', 'group|settings', true),
    new ServerApi_1.ServerApi('socialize.getContacts', 'enabledProviders|disabledProviders', true),
    new ServerApi_1.ServerApi('socialize.getFriendsInfo', 'enabledProviders|disabledProviders|detailLevel|UIDs|siteUsersOnly|requiredCapabilities|signIDs', true),
    new ServerApi_1.ServerApi('socialize.getRawData', 'provider|UID|fields|dataFormat|path', true),
    new ServerApi_1.ServerApi('socialize.getSessionInfo', 'provider|paddingMode|encrypt|signIDs|encryptAll', true),
    new ServerApi_1.ServerApi('socialize.getUserInfo', 'enabledProviders|disabledProviders|signIDs|includeiRank|includeAllIdentities|extraFields|group|settings|includeOpenidUID|include', true),
    new ServerApi_1.ServerApi('socialize.getUserSettings', 'group|settings|regToken', true, undefined, {}, 'regToken'),
    new ServerApi_1.ServerApi('socialize.checkin', 'enabledProviders|disabledProviders|placeID|comment|latitude|longitude|actionAttributes|profileAttributes', true),
    new ServerApi_1.ServerApi('socialize.logout', 'signIDs|samlContext|sustainLogoutURLs', true, { preprocessor: logoutPreProcessor, disableCache: true }, { requiresSession: logoutRequireSession }),
    new ServerApi_1.ServerApi('socialize.notifyRegistration', 'siteUID|UIDTimestamp|UIDSig', true),
    new ServerApi_1.ServerApi('socialize.publishUserAction', 'userAction|[providerCapability=actions]UserAction|enabledProviders|disabledProviders|target|shortURLs|userLocation|tags|actionAttributes|profileAttributes', true),
    new ServerApi_1.ServerApi('socialize.removeConnection', 'provider|lastIdentityHandling|removeLoginID', true),
    new ServerApi_1.ServerApi('socialize.setStatus', 'shortURLs|status|[providerCapability=status]Status|enabledProviders|disabledProviders|userLocation|actionAttributes|profileAttributes', true),
    new ServerApi_1.ServerApi('socialize.setUID', 'siteUID|UIDTimestamp|UIDSig', true),
    new ServerApi_1.ServerApi('socialize.setUserSettings', 'group|settings|regToken', true, undefined, {}, 'regToken'),
    new ServerApi_1.ServerApi('socialize.unlinkAccounts', undefined, true),
    new ServerApi_1.ServerApi('socialize.sendEmail', 'dontSendEmail|companyName|lang|emails|emailSubject|emailBody|linkBack|senderEmail|senderName|userMsg|shortURLs|userAction|[providerCapability=actions]UserAction|actionAttributes|profileAttributes|captchaTicket|lang', false, undefined, {}),
    new ServerApi_1.ServerApi('socialize.facebookGraphOperation', 'graphPath|graphParams|authRequired|method|authType'),
    new ServerApi_1.ServerApi('socialize.getTopShares', 'age|tag|limit'),
    new ServerApi_1.ServerApi('socialize.notifySSOLogin', 'bp_channel_url'),
    new ServerApi_1.ServerApi('gm.getChallengeStatus', 'UID|includeChallenges|excludeChallenges|details|lang|actionAttributes|profileAttributes'),
    new ServerApi_1.ServerApi('gm.resetLevelStatus', 'challenges|actionAttributes|profileAttributes', true),
    new ServerApi_1.ServerApi('gm.getTopUsers', 'challenge|totalCount|friendsCount|includeSelf|period|lang|actionAttributes|profileAttributes'),
    new ServerApi_1.ServerApi('gm.getChallengeConfig', 'UID|includeChallenges|excludeChallenges|lang|actionAttributes|profileAttributes|expandActions'),
    new ServerApi_1.ServerApi('gm.notifyAction', 'action|operation|challengeIDs|actionAttributes|profileAttributes', true),
    new ServerApi_1.ServerApi('comments.updateComment', 'categoryID|streamID|commentID|commentText|commentTitle|ratings|mediaItems|taggedUsers'),
    new ServerApi_1.ServerApi('comments.postComment', 'categoryID|streamID|parentID|guestName|guestEmail|commentText|anonymous|mediaItems|privacy|feedID|userAction|[providerCapability=actions]UserAction|scope|enabledProviders|disabledProviders|shortURLs|commentTitle|ratings|tags|taggedUsers|streamTags|actionAttributes|profileAttributes'),
    new ServerApi_1.ServerApi('comments.getComments', 'categoryID|streamID|includeSettings|start|startTS|threadLimit|sort|threaded|threadDepth|includeStreamInfo|includeOpenidUID|includeUID|includeReplies|tags|dataFormat|markupType|includeUserOptions|includeUserComments|includeRatingsDims|includeUserHighlighting|pinnedCommentID|lang'),
    new ServerApi_1.ServerApi('comments.setStreamInfo', 'categoryID|streamID|streamTitle|streamURL|streamInfoSig|streamTags'),
    new ServerApi_1.ServerApi('comments.getTopStreams', 'categoryID|limit|maxStreamAge|includeLastComment|streamTag|minRatingsCount'),
    new ServerApi_1.ServerApi('comments.getTopRatedStreams', 'categoryID|limit|maxStreamAge|ratingClass|minRatingsCount|streamTag'),
    new ServerApi_1.ServerApi('comments.getStreamInfo', 'categoryID|streamID|streamIDs|includeLastComment|includeRatingsDims|includeRatingDetails'),
    new ServerApi_1.ServerApi('comments.flagComment', 'categoryID|streamID|commentID|actionAttributes|profileAttributes'),
    new ServerApi_1.ServerApi('comments.vote', 'categoryID|streamID|commentID|vote|actionAttributes|profileAttributes', true),
    new ServerApi_1.ServerApi('comments.getUserVotes', 'categoryID|streamID', true),
    new ServerApi_1.ServerApi('comments.getUserComments', 'categoryID|streamID|tag|senderUID|start|limit|sort|includeReplies|includeStreamInfo|includeUserHighlighting', true),
    new ServerApi_1.ServerApi('comments.getFriendsComments', 'categoryID|streamID|start|limit|includeUID|sort|includeReplies|includeStreamInfo', true),
    new ServerApi_1.ServerApi('comments.getThread', 'categoryID|streamID|commentID|start|includeUID|limit|threadDepth|sort'),
    new ServerApi_1.ServerApi('comments.deleteComment', 'categoryID|streamID|commentID', true),
    new ServerApi_1.ServerApi('comments.getRelatedUsers', 'categoryID|streamID|parentCommentID|usernamePrefix|limit'),
    new ServerApi_1.ServerApi('comments.analyzeMediaItem', 'categoryID|urls'),
    new ServerApi_1.ServerApi('comments.subscribe', 'categoryID|streamID|email|lang'),
    new ServerApi_1.ServerApi('comments.unsubscribe', 'categoryID|streamID|unsubscribeToken'),
    new ServerApi_1.ServerApi('comments.setUserOptions', 'replyNotifications|notificationsEmail|notificationsLanguage', true),
    new ServerApi_1.ServerApi('comments.getUserOptions', 'ServerApiKey', true),
    new ServerApi_1.ServerApi('gcs.getUserData', 'type|fields', true),
    new ServerApi_1.ServerApi('gcs.setUserData', 'data|type|updateBehavior', true),
    new ServerApi_1.ServerApi('gcs.search', 'expTime|querySig|query'),
    new ServerApi_1.ServerApi('gcs.getSchema', 'schemaType'),
    new ServerApi_1.ServerApi('accounts.b2b.registerOrganization', 'organization|requester', false, undefined, { forcePost: true }),
    new ServerApi_1.ServerApi('accounts.b2b.getOrganizationSchema', '', false, { preprocessor: noAuthPreProcessor }),
    new ServerApi_1.ServerApi('accounts.login', 'loginID|password|sessionExpiration|targetEnv|regToken|include|actionAttributes|profileAttributes|includeUserInfo|includeDynamicSchema|bp_channel_url|captchaToken|captchaText|loginMode|signKeys|lang', false, undefined, {
        clearSessionCondition: loginClearSessionCondition,
        forcePost: true
    }),
    new ServerApi_1.ServerApi('accounts.linkAccounts', 'loginID|password|sessionExpiration|targetEnv|include|regToken|includeUserInfo|bp_channel_url|signKeys', false, undefined, { forcePost: true }),
    new ServerApi_1.ServerApi('accounts.initRegistration', 'sdk|isLite|dataCenter', false, {
        preprocessor: globalAccountRegistrationPreProcessor,
    }, { clearSession: true }),
    new ServerApi_1.ServerApi('accounts.register', 'username|email|password|UID|regToken|siteUID|secretQuestion|secretAnswer|regSource|profile|preferences|displayedPreferences|data|captchaText|captchaToken|lang|hashedPassword|pwHashAlgorithm|skipVerification|finalizeRegistration|targetEnv|sessionExpiration|include|actionAttributes|profileAttributes|includeUserInfo|bp_channel_url|signKeys|subscriptions', false, undefined, { forcePost: true }),
    new ServerApi_1.ServerApi('accounts.finalizeRegistration', 'regToken|targetEnv|include|includeUserInfo|bp_channel_url|allowAccountsLinking|signKeys|subscriptions'),
    new ServerApi_1.ServerApi('accounts.captchaImage', 'regToken'),
    new ServerApi_1.ServerApi('accounts.importProfilePhoto', 'regToken|URL|publish'),
    new ServerApi_1.ServerApi('accounts.setProfilePhoto', 'regToken|publish|photoBytes'),
    new ServerApi_1.ServerApi('accounts.resetPassword', 'lang|loginID|passwordResetToken|secretAnswer|securityFields|newPassword|email', false, undefined, {
        forcePost: true,
    }),
    new ServerApi_1.ServerApi('accounts.isAvailableLoginID', 'loginID'),
    new ServerApi_1.ServerApi('accounts.resendVerificationCode', 'regToken|email'),
    new ServerApi_1.ServerApi('accounts.getCaptcha', ''),
    new ServerApi_1.ServerApi('accounts.getPolicies', 'sections'),
    new ServerApi_1.ServerApi('accounts.getSchema', 'sections|schemaType', false, {
        preprocessor: noAuthPreProcessor,
    }),
    new ServerApi_1.ServerApi('accounts.verifyLogin', 'include|extraProfileFields|targetEnv', true),
    new ServerApi_1.ServerApi('accounts.getAccountInfo', 'include|extraProfileFields|regToken', true, {}, {}, 'regToken'),
    new ServerApi_1.ServerApi('accounts.setAccountInfo', 'profile|preferences|displayedPreferences|data|regToken|oldPassword|password|newPassword|addLoginEmails|removeLoginEmails|username|secretQuestion|secretAnswer|requirePasswordChange|conflictHandling|tfaStatus|rba|subscriptions|preferences|lang', true, undefined, { forcePost: true }, 'regToken'),
    new ServerApi_1.ServerApi('accounts.logout', 'signIDs|samlContext|sustainLogoutURLs', true, { preprocessor: logoutPreProcessor, disableCache: true }, { requiresSession: logoutRequireSession }),
    new ServerApi_1.ServerApi('accounts.search', 'expTime|querySig|query'),
    new ServerApi_1.ServerApi('accounts.getScreenSets', 'screenSetIDs|include|lang|screenSetVersion', false, {
        preprocessor: noAuthPreProcessor,
    }, {}),
    new ServerApi_1.ServerApi('accounts.getConflictingAccount', 'regToken|loginID'),
    new ServerApi_1.ServerApi('accounts.incrementCounters', 'counters', true, {
        preprocessor: function (params, callback) {
            var defaultPath = params['actionCounterPath'];
            var counters = params['counters'];
            if (defaultPath && counters) {
                for (var i = 0; i < counters.length; i++) {
                    var counter = counters[i];
                    if (typeof counter == 'object' && !counter['path']) {
                        counter['path'] = defaultPath;
                    }
                }
            }
            callback();
        },
    }),
    new ServerApi_1.ServerApi('accounts.getCounters', 'counters', true),
    new ServerApi_1.ServerApi('accounts.getJWT', 'fields|expiration', true),
    new ServerApi_1.ServerApi('accounts.tfa.getProviders', 'regToken', true, {}, {}, 'regToken'),
    new ServerApi_1.ServerApi('accounts.tfa.initTFA', 'provider|mode|regToken', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.tfa.finalizeTFA', 'gigyaAssertion|providerAssertion|tempDevice|regToken', true, {}, {}, 'regToken'),
    new ServerApi_1.ServerApi('accounts.tfa.deactivateProvider', 'provider', true),
    new ServerApi_1.ServerApi('accounts.tfa.unregisterDevice', 'allDevices', true),
    new ServerApi_1.ServerApi('accounts.tfa.backupcodes.get', 'gigyaAssertion', true),
    new ServerApi_1.ServerApi('accounts.tfa.backupcodes.create', 'gigyaAssertion', true),
    new ServerApi_1.ServerApi('accounts.tfa.backupcodes.verify', 'gigyaAssertion|code|regToken', false),
    new ServerApi_1.ServerApi('accounts.tfa.phone.getRegisteredPhoneNumbers', 'gigyaAssertion', false, {
        preprocessor: noAuthPreProcessor,
    }, {}),
    new ServerApi_1.ServerApi('accounts.tfa.phone.removePhone', 'gigyaAssertion|phoneId', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.tfa.phone.sendVerificationCode', 'gigyaAssertion|lang|phoneID|phone|method|regToken', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.tfa.phone.completeVerification', 'gigyaAssertion|phvToken|code|regToken', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.tfa.email.getEmails', 'gigyaAssertion', false, {
        preprocessor: noAuthPreProcessor,
    }, {}),
    new ServerApi_1.ServerApi('accounts.tfa.email.sendVerificationCode', 'emailID|gigyaAssertion|lang|regToken', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.tfa.email.completeVerification', 'gigyaAssertion|phvToken|code|regToken', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.tfa.totp.register', 'gigyaAssertion', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.tfa.totp.verify', 'gigyaAssertion|sctToken|code|regToken', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.tfa.push.isVerified', 'gigyaAssertion|regToken', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.tfa.push.sendVerification', 'gigyaAssertion|regToken', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.b2b.delegatedAdminLogin', 'orgId', true, {}, {}),
    new ServerApi_1.ServerApi('accounts.b2b.setOrganizationContext', 'bpid', true, {}, {}),
    new ServerApi_1.ServerApi('accounts.b2b.getOrganizationContext', '', true, {}, {}),
    new ServerApi_1.ServerApi('accounts.otp.sendCode', 'regToken|phoneNumber|email|lang', false, {}, { forcePost: true }),
    new ServerApi_1.ServerApi('accounts.otp.login', 'vToken|code|targetEnv|includeUserInfo|include|regSource|sessionExpiration', false, {}, { forcePost: true }),
    new ServerApi_1.ServerApi('accounts.otp.update', 'vToken|code|regToken', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.auth.getMethods', 'identifier', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.auth.push.sendVerification', 'identifier', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.auth.push.isVerified', 'vToken', false, {}, {}),
    new ServerApi_1.ServerApi('accounts.auth.login', 'accessToken|sessionExpiration|targetEnv|include|includeUserInfo|loginMode|lang', false, undefined, {
        clearSessionCondition: loginClearSessionCondition,
        forcePost: true,
    }),
    new ServerApi_1.ServerApi('ds.store', 'type|data|oid|updateBehavior'),
    new ServerApi_1.ServerApi('ds.get', 'type|data|oid|fields'),
    new ServerApi_1.ServerApi('ds.search', 'expTime|querySig|query'),
    new ServerApi_1.ServerApi('ds.getSchema', ''),
    new ServerApi_1.ServerApi('ds.delete', 'type|oid|fields'),
    new ServerApi_1.ServerApi('ids.getAccountInfo', 'include|extraProfileFields', true),
    new ServerApi_1.ServerApi('ids.setAccountInfo', 'profile|preferences|data|oldPassword|password|newPassword|addLoginEmails|removeLoginEmails|username|secretQuestion|secretAnswer|requirePasswordChange|lang', false, undefined, { forcePost: true }),
    new ServerApi_1.ServerApi('ids.search', 'expTime|querySig|query'),
    new ServerApi_1.ServerApi('gscounters.sendReport', 'reports', false, undefined, { forceGigyaDomain: true }),
];
functions_1.createAlias('gigya.socialize.showCommentsUI', window.gigya.comments.showCommentsUI);
functions_1.createAlias('gigya.socialize.showRatingUI', window.gigya.comments.showRatingUI);
functions_1.createAlias('gigya.services.socialize', window.gigya.socialize);
functions_1.createAlias('gigya.services.gcs', window.gigya.gcs);
functions_1.createAlias('gigya.services.gm', window.gigya.gm);
functions_1.createAlias('gigya.services.comments', window.gigya.comments);
functions_1.createAlias('gigya.services.accounts', window.gigya.accounts);
functions_1.createAlias('gigya.socialize.connect', window.gigya.socialize.addConnection);
functions_1.createAlias('gigya.socialize.disconnect', window.gigya.socialize.removeConnection);
functions_1.createAlias('gigya.socialize.linkAccounts', window.gigya.socialize.setUID);
functions_1.createAlias('gigya.socialize.showConnectUI', window.gigya.socialize.showAddConnectionsUI);
functions_1.createAlias('gigya.showDebugUI', window.gigya.socialize.showDebugUI);


/***/ }),

/***/ "./src/core/Gigya.Js/app/API/BaseApi.ts":
/*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/API/BaseApi.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var functionsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/functions */ "./src/core/Gigya.Js/app/Utils/functions.ts");
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var queueUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/queue */ "./src/core/Gigya.Js/app/Utils/queue.ts");
if (!window.gigya.socialize) {
    window.gigya.socialize = {};
}
if (!window.gigya.gcs) {
    window.gigya.gcs = {};
}
if (!window.gigya.gm) {
    window.gigya.gm = {};
}
if (!window.gigya.comments) {
    window.gigya.comments = {};
}
if (!window.gigya.accounts) {
    window.gigya.accounts = {};
}
if (!window.gigya.gscounters) {
    window.gigya.gscounters = {};
}
var apis = {};
function getApi(name) {
    return apis[name];
}
exports.getApi = getApi;
var BaseApi = /** @class */ (function () {
    function BaseApi(methodName, settings) {
        this.methodName = methodName;
        this.settings = settings;
        this.addAlias();
        apis[methodName] = this;
    }
    BaseApi.prototype.preprocessRequest = function (params, callback) {
        if (this.settings.preprocessor) {
            this.settings.preprocessor(params, callback);
        }
        else {
            callback();
        }
    };
    BaseApi.prototype.addAlias = function () {
        var _this = this;
        functionsUtils.createAlias('gigya.' + this.methodName, function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            var argParams = objectUtils.merge([args]);
            var fnRun = function () {
                if (argParams.lang) {
                    argParams._explicitLang = true;
                }
                var params = objectUtils.merge([window.gigya.thisScript.globalConf, argParams]);
                _this.run(params, argParams);
            };
            if (!window.gigya.thisScript || !window.gigya.thisScript.globalConf) {
                queueUtils.queueForExecution('API', fnRun);
            }
            else {
                fnRun();
            }
        });
    };
    return BaseApi;
}());
exports.BaseApi = BaseApi;


/***/ }),

/***/ "./src/core/Gigya.Js/app/API/ServerApi.ts":
/*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/API/ServerApi.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var BaseApi_1 = __webpack_require__(/*! src/core/Gigya.Js/app/API/BaseApi */ "./src/core/Gigya.Js/app/API/BaseApi.ts");
var ServerApiRequest_1 = __webpack_require__(/*! src/core/Gigya.Js/app/API/ServerApiRequest */ "./src/core/Gigya.Js/app/API/ServerApiRequest.ts");
var queueUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/queue */ "./src/core/Gigya.Js/app/Utils/queue.ts");
var ServerApi = /** @class */ (function (_super) {
    tslib_1.__extends(ServerApi, _super);
    function ServerApi(apiMethod, schema, requiresSession, settings, adapterSettings, altSessionParams) {
        if (settings === void 0) { settings = {}; }
        if (adapterSettings === void 0) { adapterSettings = {}; }
        var _this = _super.call(this, apiMethod, settings) || this;
        _this.schema = schema;
        _this.requiresSession = requiresSession;
        _this.settings = settings;
        _this.adapterSettings = adapterSettings;
        _this.altSessionParams = altSessionParams;
        adapterSettings.forceHttps = true;
        if (typeof adapterSettings.requiresSession === 'undefined') {
            adapterSettings.requiresSession = function () { return requiresSession; };
        }
        return _this;
    }
    ServerApi.prototype.run = function (params, explicitParams) {
        var _this = this;
        var fnRun = function () {
            new ServerApiRequest_1.ServerApiRequest(_this, params).start();
        };
        if (params['ignoreApiQueue']) {
            fnRun();
        }
        else {
            queueUtils.queueForExecution('API', function () {
                fnRun();
            });
        }
    };
    return ServerApi;
}(BaseApi_1.BaseApi));
exports.ServerApi = ServerApi;


/***/ }),

/***/ "./src/core/Gigya.Js/app/API/ServerApiRequest.ts":
/*!*******************************************************!*\
  !*** ./src/core/Gigya.Js/app/API/ServerApiRequest.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var GSErrors_1 = __webpack_require__(/*! src/core/Gigya.Js/app/GSErrors */ "./src/core/Gigya.Js/app/GSErrors.ts");
var globalEvents = __webpack_require__(/*! src/core/Gigya.Js/app/GlobalEvents */ "./src/core/Gigya.Js/app/GlobalEvents.ts");
var ApisList_1 = __webpack_require__(/*! src/core/Gigya.Js/app/API/ApisList */ "./src/core/Gigya.Js/app/API/ApisList.ts");
var LegacyLogger_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LegacyLogger */ "./src/core/Gigya.Js/app/LegacyLogger.ts");
var facebookExternal = __webpack_require__(/*! src/core/Gigya.Js/app/ExternalIntegrations/Facebook */ "./src/core/Gigya.Js/app/ExternalIntegrations/Facebook.ts");
var BaseApi_1 = __webpack_require__(/*! src/core/Gigya.Js/app/API/BaseApi */ "./src/core/Gigya.Js/app/API/BaseApi.ts");
var JSONUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/JSON */ "./src/core/Gigya.Js/app/Utils/JSON.ts");
var InternalFlows_1 = __webpack_require__(/*! src/core/Gigya.Js/app/InternalFlows */ "./src/core/Gigya.Js/app/InternalFlows.ts");
var validationUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/validation */ "./src/core/Gigya.Js/app/Utils/validation.ts");
var URLUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/URL */ "./src/core/Gigya.Js/app/Utils/URL.ts");
var scriptUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/script */ "./src/core/Gigya.Js/app/Utils/script.ts");
var HTTPUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/HTTP */ "./src/core/Gigya.Js/app/Utils/HTTP.ts");
// Raw server API
function getUnauthorizedUserResponse() {
    return objectUtils.clone({
        status: 'FAIL',
        errorMessage: 'Unauthorized user',
        statusMessage: 'Unauthorized user',
        errorCode: GSErrors_1.GSErrors.UNAUTHORIZED_USER,
    });
}
function getDefaultOKResponse(originalResponse) {
    return {
        status: 'OK',
        statusMessage: '',
        errorCode: 0,
        statusCode: 0,
        errorMessage: '',
        errorDetails: '',
        statusReason: '',
        originalResponse: originalResponse,
    };
}
var _sentFbSessionParams;
globalEvents.add('onFBCRefreshed', function () {
    _sentFbSessionParams = false;
}, 'component');
var ProviderType;
(function (ProviderType) {
    ProviderType[ProviderType["_unknown"] = 0] = "_unknown";
    ProviderType[ProviderType["facebook"] = 1] = "facebook";
    ProviderType[ProviderType["linkedin"] = 2] = "linkedin";
    ProviderType[ProviderType["samlProvider"] = 3] = "samlProvider";
    ProviderType[ProviderType["samlSession"] = 4] = "samlSession";
})(ProviderType || (ProviderType = {}));
var ServerApiRequest = /** @class */ (function () {
    function ServerApiRequest(api, params) {
        this.api = api;
        this.params = objectUtils.merge([objectUtils.clone(params), api.settings.defaultParams]);
        this.originalParams = objectUtils.clone(params);
        this.callback = params['callback'];
    }
    ServerApiRequest.prototype.start = function () {
        var _this = this;
        window.gigya._.apiAdapter.isSessionValid(this.params, function (validSession) { return tslib_1.__awaiter(_this, void 0, gigya.Promise, function () {
            var hasSessionExtended, _a, res;
            return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!(this.api.adapterSettings.requiresSession() && (!validSession && !this.doesHaveAltSessionParam()))) return [3 /*break*/, 1];
                        window.gigya.logger.debug(this.api.methodName + ": missing required session");
                        this.afterServerApiResponse(getUnauthorizedUserResponse(), false);
                        return [3 /*break*/, 6];
                    case 1:
                        window.gigya.logger.debug("server request: " + this.api.methodName, this.params);
                        if (!this.api.adapterSettings.requiresSession()) return [3 /*break*/, 3];
                        return [4 /*yield*/, window.gigya._.apiAdapter.setGltexpFromSSO(this.params['APIKey'])];
                    case 2:
                        _a = _b.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        _a = false;
                        _b.label = 4;
                    case 4:
                        hasSessionExtended = _a;
                        return [4 /*yield*/, this.sendRequest(validSession)];
                    case 5:
                        res = _b.sent();
                        if (hasSessionExtended && res['errorCode'] !== GSErrors_1.GSErrors.UNAUTHORIZED_USER) {
                            this.dispatchAccountsLoginEvent(res);
                        }
                        _b.label = 6;
                    case 6: return [2 /*return*/];
                }
            });
        }); });
    };
    ServerApiRequest.prototype.sendRequest = function (validSession) {
        var _this = this;
        var requestAdapterSettings = objectUtils.merge([
            this.api.adapterSettings,
            {
                cacheTimeout: this.params['cacheTimeout'],
                forceGigyaDomain: !validSession && this.api.adapterSettings.forceGigyaDomain,
            },
        ]);
        return new gigya.Promise(function (resolve) {
            _this.beforeRequest(validSession, function (presetResponse) {
                if (presetResponse) {
                    _this.afterServerApiResponse(presetResponse, validSession, resolve);
                }
                else {
                    globalEvents.dispatch({ eventName: 'beforeRequest', methodName: _this.api.methodName, rawParams: _this.originalParams, params: _this.params }, _this.originalParams);
                    if (_this.api.settings.oauth) {
                        window.gigya._.apiAdapter.sendOauthRequest(_this.api.methodName, _this.params, function (response) {
                            _this.afterServerApiResponse(response, validSession, resolve);
                        }, requestAdapterSettings);
                    }
                    else {
                        window.gigya._.apiAdapter.sendRequest(_this.api.methodName, _this.params, function (response) {
                            _this.afterServerApiResponse(response, validSession, resolve);
                        }, requestAdapterSettings);
                    }
                }
            });
        });
    };
    ServerApiRequest.prototype.beforeRequest = function (validSession, callback) {
        var _this = this;
        if (ApisList_1.logoutMethods[this.api.methodName]) {
            // No need to invoke an actual logout call to the server if session is not valid or if it's the ssoLogoutUrl since user is logged out or about to be
            if ((!validSession && !this.params['regToken']) ||
                (window.gigya.partnerSettings.ssoLogoutUrl && document.location.href == window.gigya.partnerSettings.ssoLogoutUrl)) {
                callback(getDefaultOKResponse(null));
            }
        }
        this.handleDeprecatedParams();
        this.handleCollections();
        this.handleConnectWithoutLoginBehavior(validSession);
        var providerPermissions = this.params[this.params['provider'] + 'ExtraPermissions'];
        this.params['extraPermissions'] = providerPermissions || this.params['permissions'];
        this.api.preprocessRequest(this.params, function () {
            _this.setOverridableParams(function () {
                _this.setNonOverridableParams(validSession, function () {
                    _this.filterParams(_this.params);
                    LegacyLogger_1.logCall(_this.api.methodName, _this.originalParams, _this.originalParams['lastSource']);
                    callback();
                });
            });
        });
    };
    ServerApiRequest.prototype.setOverridableParams = function (callback) {
        var overridable = {};
        objectUtils.merge([overridable, this.params]);
        callback();
    };
    ServerApiRequest.prototype.doesHaveAltSessionParam = function () {
        if (!this.api.altSessionParams)
            return;
        var altParams = this.api.altSessionParams.split('|');
        for (var i = 0; i < altParams.length; i++) {
            if (this.params[altParams[i]])
                return true;
        }
        return false;
    };
    ServerApiRequest.prototype.setNonOverridableParams = function (validSession, callback) {
        if (this.params['APIKey'] != null) {
            var loginTokenExp = window.gigya._.apiAdapter.getStorage().getItem('gltexp_' + this.params['APIKey']);
            if (loginTokenExp != null) {
                this.params['loginTokenExp'] = loginTokenExp;
            }
        }
        var refUID = window.gigya._.apiAdapter.getStorage().getItem('_gigRefUid_' + this.params['APIKey']);
        if (refUID && (validSession || ApisList_1.loginMethods[this.api.methodName]))
            this.params['refUID'] = refUID;
        // For FB auto session renewal, we pass FB JS SDK session token so that it'll update the server side FB token
        if (window.gigya.providersConfig.facebook && !_sentFbSessionParams) {
            var oFbParams = facebookExternal.getParams();
            for (var fbParam in oFbParams) {
                this.params[fbParam] = oFbParams[fbParam];
            }
            _sentFbSessionParams = true;
        }
        if (this.api.methodName.indexOf('accounts.') === 0) {
            // we want to include userInfo for socialize.login event
            if (globalEvents._activeNamespaces['socialize'] && this.params['includeUserInfo'] == null) {
                this.params['includeUserInfo'] = true;
            }
            // if a pendingRegistration will occur, we'll need the user's data for complete registration screen
            this.params['include'] = this.params['include'] ? this.params['include'] + ',' : '' + 'profile,data';
        }
        if (this.api.methodName === 'accounts.getSchema') {
            this.params['includeDynamicSchema'] = 'clientOnly';
        }
        this.params['targetEnv'] = 'jssdk';
        callback();
    };
    ServerApiRequest.prototype.handleDeprecatedParams = function () {
        if (this.params['pendingRegistration']) {
            this.params['pending_registration'] = this.params['pendingRegistration'];
        }
        else if (this.params['newUsersPendingRegistration']) {
            this.params['pending_registration'] = this.params['newUsersPendingRegistration'];
        }
        if (this.params['alwaysForceAuthentication']) {
            this.params['forceAuthentication'] = true;
        }
        if (this.params['timestamp']) {
            this.params['UIDTimestamp'] = this.params['timestamp'];
            delete this.params['timestamp'];
        }
        if (this.params['signature'] && this.api.methodName.indexOf('socialize.') === 0) {
            this.params['UIDSig'] = this.params['signature'];
            delete this.params['signature'];
        }
        if (this.params['nonce']) {
            this.params['UIDNonce'] = this.params['nonce'];
            delete this.params['nonce'];
        }
        if (this.params['format'] && !this.params['dataFormat']) {
            this.params['dataFormat'] = this.params['format'];
            delete this.params['format'];
        }
    };
    ServerApiRequest.prototype.handleCollections = function () {
        if (this.params['recipients']) {
            this.params['recipients'] = this.extractListOfGIGUIDs(this.params['recipients']);
        }
        if (this.params['friends']) {
            var friendUIDs = this.extractListOfGIGUIDs(this.params['friends']);
            if (this.params['UIDs'].length > 0) {
                this.params['UIDs'] += ',';
            }
            this.params['UIDs'] += friendUIDs;
        }
    };
    ServerApiRequest.prototype.extractListOfGIGUIDs = function (source) {
        var _this = this;
        switch (typeof source) {
            case 'string':
                return source;
            case 'object':
                if (typeof source.UID !== 'undefined') {
                    return source.UID;
                }
                if (source instanceof window.gigya.socialize.Collection) {
                    var a = [];
                    source.each(function (o, i) {
                        var UID = _this.extractListOfGIGUIDs(o);
                        if (UID != null && UID != '') {
                            a.push(UID);
                        }
                    });
                    return a.join(',');
                }
        }
    };
    ServerApiRequest.prototype.handleConnectWithoutLoginBehavior = function (validSession) {
        if (this.api.methodName === 'socialize.addConnection') {
            var connectBehavior = this.params['connectWithoutLoginBehavior'];
            if (typeof connectBehavior === 'string') {
                connectBehavior = connectBehavior.toLowerCase();
            }
            if (connectBehavior === 'loginexistinguser') {
                this.params['loginIfExists'] = true;
            }
            // if the user was logged out we should call socialize.login with temporary_account=true
            if (!validSession) {
                this.api = BaseApi_1.getApi('socialize.login');
                if (connectBehavior !== 'alwayslogin') {
                    this.params['temporary_account'] = true;
                }
            }
        }
    };
    ServerApiRequest.prototype.filterParams = function (params) {
        this.params = objectUtils.extractProperties(params, {}, this.getFullSchema());
    };
    ServerApiRequest.prototype.getFullSchema = function () {
        if (this.api.schema == null)
            return '';
        var arSchema = (this.api.schema + '|' + ApisList_1.defaultApiSchema).split('|');
        for (var i = 0; i < arSchema.length; i++) {
            var fieldName = arSchema[i];
            if (fieldName.toLowerCase().indexOf('[providercapability=') !== -1) {
                var capability = fieldName
                    .toLowerCase()
                    .split('=')[1]
                    .split(']')[0];
                var subFieldName = fieldName.split(']')[1];
                var providers = window.gigya.socialize.getProvidersForRequiredCapabilities(window.gigya.socialize.getProvidersByName('*'), [capability]);
                var arParams = [];
                for (var iProvider = 0; iProvider < providers.length; iProvider++) {
                    arParams.push(providers[iProvider].name + subFieldName);
                }
                arSchema[i] = arParams.join('|');
            }
        }
        return arSchema.join('|');
    };
    ServerApiRequest.prototype.preprocessServerResponse = function (response) {
        if (response['userInfo'] && this.api.methodName.indexOf('accounts.') !== 0) {
            if (typeof response['userInfo'] === 'string') {
                response['userInfo'] = JSONUtils.parse(response['userInfo'], undefined);
            }
            if (response['userInfo']) {
                response = objectUtils.merge([response['userInfo'], response]);
                response['errorCode'] = response['userInfo']['errorCode'];
                delete response['userInfo'];
            }
        }
        if (response['accountInfo'] && typeof response['accountInfo'] === 'string') {
            response['accountInfo'] = JSONUtils.parse(response['accountInfo'], undefined);
            if (response['accountInfo']) {
                response = objectUtils.merge([response['accountInfo'], response]);
                delete response['accountInfo'];
            }
        }
        try {
            if (response['settings'] && typeof response['settings'] == 'string') {
                response['settings'] = JSONUtils.parse(response['settings']);
            }
        }
        catch (e) { }
        return response;
    };
    ServerApiRequest.prototype.getExpiredSessionResponse = function (response) {
        switch (this.api.methodName) {
            case 'socialize.setUserSettings':
                if (!this.originalParams['disableLocalSettings']) {
                    InternalFlows_1.setGigyaSettings(this.params['group'], this.params['settings']);
                    response = getDefaultOKResponse(response);
                }
                break;
            case 'socialize.delUserSettings':
                if (!this.originalParams['disableLocalSettings']) {
                    InternalFlows_1.delGigyaSettings(this.params['group']);
                    response = getDefaultOKResponse(response);
                }
                break;
            case 'socialize.getUserSettings':
                if (!this.originalParams['disableLocalSettings']) {
                    var settings = InternalFlows_1.getGigyaSettings(this.params['group']);
                    response = getDefaultOKResponse(response);
                    response['settings'] = settings;
                }
                break;
            case 'socialize.getUserInfo':
                response['status'] = 'OK';
                response['statusMessage'] = '';
                response['errorCode'] = 0;
                response['statusCode'] = 0;
                response['errorMessage'] = '';
                response['errorDetails'] = '';
                response['statusReason'] = '';
                break;
            case 'accounts.logout':
            case 'socialize.logout':
                response = getDefaultOKResponse(response);
                break;
        }
        return response;
    };
    ServerApiRequest.prototype.afterServerApiResponse = function (response, sentWithValidSession, callback) {
        var _this = this;
        if (!isNaN(Number(window.gigya.thisScript.globalConf['verifyLoginInterval'])) &&
            this.api.methodName === 'accounts.verifyLogin' &&
            response['errorCode'] !== GSErrors_1.GSErrors.OK) {
            window.gigya._.apiAdapter.clearSession({ APIKey: window.gigya.thisScript.APIKey });
        }
        InternalFlows_1.checkCompleteRegistration(response, this.originalParams, this.api.methodName, function (completeResponse, suppressEvents, retry) {
            response = completeResponse;
            response = _this.preprocessServerResponse(response);
            if (response['errorCode'] == GSErrors_1.GSErrors.UNAUTHORIZED_USER) {
                response = _this.getExpiredSessionResponse(response);
            }
            if (response['errorCode'] == GSErrors_1.GSErrors.OK && (sentWithValidSession || ApisList_1.loginMethods[_this.api.methodName])) {
                window.gigya._.apiAdapter.getStorage().removeItem('_gigRefUid_' + _this.originalParams['APIKey']);
            }
            _this.handleMethodResponse(response, function (newResponse) {
                response = newResponse;
                _this.addDefaultResponseProperties(response);
                InternalFlows_1.handleSpecialFields(response);
                _this.logoutFromProvidersIfNeeded(response, function (retryFromResponse) {
                    if (retryFromResponse) {
                        _this.sendRequest(sentWithValidSession).then(callback);
                        return;
                    }
                    if (!suppressEvents) {
                        _this.generateEventsFromResponse(response, sentWithValidSession);
                    }
                    if (retry) {
                        window.gigya.logger.info("retrying request");
                        _this.sendRequest(sentWithValidSession).then(callback);
                        return;
                    }
                    globalEvents.dispatch({ eventName: 'afterResponse', methodName: _this.api.methodName, filteredParams: _this.params, response: response }, _this.originalParams);
                    if (typeof _this.callback === 'function') {
                        LegacyLogger_1.addLog('Calling callback for ' + _this.api.methodName + ' with this response object', response);
                        try {
                            _this.callback(response);
                        }
                        catch (e) {
                            console.error(e);
                        }
                    }
                    if (_this.api.settings.postprocessor)
                        _this.api.settings.postprocessor(_this.originalParams, response);
                    if (callback)
                        callback(response);
                });
            });
        });
    };
    ServerApiRequest.prototype.addDefaultResponseProperties = function (response) {
        delete response['statusCode'];
        delete response['statusReason'];
        response['errorCode'] = response['errorCode'] || 0;
        response['status'] = response['status'] || (response['errorCode'] == 0 ? 'OK' : 'FAIL');
        response['errorMessage'] = response['errorMessage'] || '';
        response['statusMessage'] = response['statusMessage'] || response['errorMessage'];
        response['requestParams'] = this.originalParams;
        if (response['requestParams']['password'])
            delete response['requestParams']['password']; //we don't want passwords to return as cleartext to the callback
        response['context'] = this.originalParams['context'];
        var operationNamespace = this.api.methodName.split('.')[0];
        response['operation'] = operationNamespace == 'socialize' ? this.api.methodName.split('.')[1] : '/' + this.api.methodName; //for backwards compatibility
    };
    ServerApiRequest.prototype.handleMethodResponse = function (response, callback) {
        if (response['errorCode'] == GSErrors_1.GSErrors.OK) {
            switch (this.api.methodName) {
                case 'accounts.socialLogin':
                case 'socialize.login':
                    response['newUser'] = String(response['x_newUser']) == 'true';
                    delete response['x_newUser'];
                case 'socialize.notifyLogin':
                case 'socialize.addConnection':
                case 'accounts.linkAccounts':
                case 'accounts.finalizeRegistration':
                case 'accounts.login':
                case 'accounts.otp.login':
                case 'accounts.auth.login':
                case 'accounts.register':
                case 'socialize.getUserInfo':
                    delete response['login_token'];
                    delete response['expires_in'];
                    delete response['id'];
                    if (response['code']) {
                        response['authCode'] = response['code'];
                        delete response['code'];
                    }
                    if (!response['authCode'] && !(this.api.methodName == 'socialize.notifyLogin' && this.params['authCode'])) {
                        var user = response; // push the response down into the user field
                        if (response['userInfo']) {
                            user = response['userInfo'];
                            delete response['userInfo'];
                        }
                        if (this.api.methodName.indexOf('accounts.') == -1) {
                            response = { user: user };
                            objectUtils.extractProperties(user, response, 'status|statusMessage|callId|errorCode|errorMessage|errorDetails|settings|context|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data|newUser|signKeysUIDSignature|dataCenter|id_token');
                            if (response['user'].hasOwnProperty('UIDSig')) {
                                response['signature'] = response['user'].UIDSig;
                            } // support for Deprecated 'signature' property
                            if (user.profile)
                                delete user.profile;
                            if (user.data)
                                delete user.data;
                            delete user.status;
                            delete user.statusMessage;
                            delete user.callId;
                            delete user.errorCode;
                            delete user.errorMessage;
                            delete user.errorDetails;
                            delete user.settings;
                            delete user.context;
                        }
                        else {
                            if (response != user)
                                response['user'] = user;
                        }
                        if (user.age != '' && !isNaN(parseInt(user.age))) {
                            user.age = parseInt(user.age); //for backwards compatibility
                        }
                        if (user.suppressEvents)
                            response['suppressEvents'] = true;
                        if (typeof user.capabilities == 'string') {
                            var capabilitiesString = user.capabilities;
                            if (!capabilitiesString)
                                capabilitiesString = '';
                            if (typeof user.capabilities != 'object') {
                                user.capabilities = {};
                            }
                            capabilitiesString = capabilitiesString.toLowerCase();
                            user.capabilities = {
                                actions: capabilitiesString.indexOf('actions') > -1,
                                friends: capabilitiesString.indexOf('friends') > -1,
                                login: capabilitiesString.indexOf('login') > -1,
                                status: capabilitiesString.indexOf('status') > -1,
                                notifications: capabilitiesString.indexOf('notifications') > -1,
                                contacts: capabilitiesString.indexOf('contacts') > -1,
                                photos: capabilitiesString.indexOf('photos') > -1,
                            };
                        }
                        InternalFlows_1.convertIdentitiesArrayToObject(user);
                        if (typeof user.providers == 'string') {
                            user.providers = user.providers.split(',');
                        }
                        if (this.params['group'] && !response['settings']) {
                            var settings = InternalFlows_1.getGigyaSettings(this.params['group']);
                            response['settings'] = settings;
                        }
                    }
                    break;
                case 'socialize.getAvailableProviders':
                    var oAvailableProviders = {};
                    for (var i = 0; i < response['availableProviders'].length; i++) {
                        oAvailableProviders[response['availableProviders'][i].name] = response['availableProviders'][i];
                    }
                    response['availableProviders'] = oAvailableProviders;
                    break;
            }
        }
        if (this.api.methodName === 'socialize.removeConnection' && response['errorCode'] == GSErrors_1.GSErrors.OK) {
            window.gigya.socialize.getUserInfo(this.originalParams, {
                callback: function (userInfoResponse) {
                    callback(userInfoResponse);
                },
            });
        }
        else {
            callback(response);
        }
    };
    ServerApiRequest.prototype.logoutFromProvidersIfNeeded = function (response, callback) {
        var simpleProviderTimeout = 5000; // 5s
        var samlProviderTimeout = 10000; // 10s
        var errorCode = response['errorCode'];
        if (ApisList_1.logoutMethods[this.api.methodName] && errorCode == GSErrors_1.GSErrors.OK) {
            // logout active session if necesary
            if (response['logoutActiveSession']) {
                window.gigya._.apiAdapter.clearSession(this.params['APIKey']);
            }
            var arProviders = new Array();
            var providersTimeout = simpleProviderTimeout; // 5s to finish logout from all providers
            var waitAfterProviders = 0; // wait after all providers complete
            // list social providers that needs to be disconected
            var providers;
            if (response['connectedProviders']) {
                providers = response['connectedProviders'].toLowerCase();
            }
            else if (response['provider']) {
                providers = response['provider'].toLowerCase();
            }
            if (providers && !validationUtils.isExplicitFalse(this.originalParams['forceProvidersLogout'])) {
                var socialProviders = providers.split(',');
                for (var i = 0; i < socialProviders.length; ++i) {
                    var provider = socialProviders[i];
                    var providerType = ProviderType[provider];
                    var providerData = null;
                    var removeProviderAfter = simpleProviderTimeout;
                    if (provider.indexOf('saml-') === 0) {
                        providerType = ProviderType.samlProvider;
                        providerData = provider.substring('saml-'.length); // samlIDP
                        removeProviderAfter = false;
                        // for SAML logout increase the timeout to 15s
                        providersTimeout = samlProviderTimeout;
                        waitAfterProviders = simpleProviderTimeout;
                    }
                    arProviders.push({
                        type: providerType,
                        data: providerData,
                        removeAfter: removeProviderAfter,
                    });
                }
            }
            // list all saml sessions to disconnect
            if (response['samlContext'] && response['connectedSamlSessions']) {
                var samlContext = response['samlContext'];
                var connectedSessions = response['connectedSamlSessions'].split(',');
                for (var i = 0; i < connectedSessions.length; ++i) {
                    arProviders.push({
                        type: ProviderType.samlSession,
                        data: {
                            samlContext: samlContext,
                            samlSession: connectedSessions[i],
                        },
                        removeAfter: false,
                    });
                    // for SAML logout increase the timeout to 15s
                    providersTimeout = samlProviderTimeout;
                    waitAfterProviders = simpleProviderTimeout;
                }
            }
            // disconnect all found providers
            if (arProviders.length) {
                var loggedOutCount = 0;
                var callbackCalled = false;
                var onDone = function () {
                    if (!callbackCalled) {
                        callbackCalled = true;
                        callback(false);
                    }
                };
                window.setTimeout(onDone, providersTimeout); // 5s timeout
                var onProviderResourceComplete = function () {
                    loggedOutCount++;
                    if (loggedOutCount === arProviders.length) {
                        window.setTimeout(onDone, waitAfterProviders);
                    }
                };
                for (var i = 0; i < arProviders.length; i++) {
                    this.logoutFromProvider(arProviders[i], onProviderResourceComplete);
                }
            }
            else {
                // no providers in the array
                callback(false);
            }
        }
        else if (response['errorCode'] == GSErrors_1.GSErrors.UNVERIFIED_USER && this.api.methodName !== 'accounts.verifyLogin') {
            window.gigya.accounts.verifyLogin({
                callback: function (verifyResponse) {
                    if (verifyResponse.errorCode == GSErrors_1.GSErrors.OK) {
                        callback(true);
                    }
                    else {
                        callback(false);
                    }
                },
            });
        }
        else {
            // not a logout method
            callback(false);
        }
    };
    ServerApiRequest.prototype.logoutFromProvider = function (provider, callback) {
        var logoutURL = '';
        var useIframe = false;
        var useCacheBuster = true;
        var samlDomain = "" + window.gigya._.getApiDomain('fidm');
        switch (provider.type) {
            case ProviderType.facebook:
                if (window.gigya.providersConfig.facebook) {
                    window.gigya.socialize.waitForService({
                        service: 'facebook',
                        callback: function () {
                            if (facebookExternal.isLoggedIn && FB.logout) {
                                FB.logout(function () {
                                    facebookExternal.refreshSession();
                                    // The following code line is because of a Facebook bug which
                                    // prevents logging in after you have logged-out.
                                    //http://stackoverflow.com/questions/34725123/getloginstatus-returns-status-unknown-when-trying-to-logout-from-facebook-using
                                    window.gigya._.apiAdapter.getStorage().removeItem('fblo_' + window.gigya.providersConfig.facebook.appID);
                                    callback();
                                });
                            }
                            else {
                                callback();
                            }
                        },
                    });
                    return;
                }
                break;
            case ProviderType.samlProvider:
                logoutURL = URLUtils.addParamsToURL('https://' + samlDomain + '/saml/v2.0/' + this.params['APIKey'] + '/sp/jsslo', { name: provider.data });
                useIframe = true;
                useCacheBuster = false;
                break;
            case ProviderType.samlSession:
                logoutURL = URLUtils.addParamsToURL('https://' + samlDomain + '/saml/v2.0/' + this.params['APIKey'] + '/idp/slo/continue/', provider.data);
                useIframe = true;
                useCacheBuster = false;
                break;
        }
        if (logoutURL) {
            if (useCacheBuster)
                logoutURL += new Date().getTime();
            var resourceType = useIframe ? scriptUtils.ResourceTypes.iframe : scriptUtils.ResourceTypes.image;
            var removeAfter;
            //if (this.originalParams['sustainLogoutURLs'] !== undefined)
            //    removeAfter = !this.originalParams['sustainLogoutURLs']
            //else
            removeAfter = provider.removeAfter;
            scriptUtils.triggerResource(logoutURL, callback, resourceType, removeAfter);
        }
        else {
            callback();
        }
    };
    ServerApiRequest.prototype.generateEventsFromResponse = function (response, sentWithValidSession) {
        var _this = this;
        var oEvent;
        if (response['errorCode'] == 0) {
            switch (this.api.methodName) {
                case 'accounts.logout':
                case 'socialize.logout':
                case 'socialize.unlinkAccounts':
                case 'socialize.deleteAccount':
                    oEvent = { eventName: 'logout,accounts.logout' };
                    break;
                case 'socialize.linkAccounts':
                case 'socialize.setUID':
                    InternalFlows_1.addUserInfoToEvent(response, oEvent, true);
                    break;
                case 'socialize.removeConnection':
                    oEvent = {
                        eventName: 'connectionRemoved,disconnect',
                        provider: this.params['provider'] || '',
                    };
                    InternalFlows_1.addUserInfoToEvent(response, oEvent);
                    break;
                case 'socialize.addConnection':
                    if (!sentWithValidSession && response['user'].isLoggedIn) {
                        oEvent = {
                            eventName: 'login',
                            provider: this.params['provider'],
                        };
                        InternalFlows_1.addUserInfoToEvent(response, oEvent, true);
                    }
                    else {
                        oEvent = { eventName: 'connectionAdded,connect', provider: this.params['provider'] };
                        InternalFlows_1.addUserInfoToEvent(response, oEvent);
                    }
                    break;
                case 'accounts.linkAccounts':
                case 'accounts.finalizeRegistration':
                case 'accounts.login':
                case 'accounts.otp.login':
                case 'accounts.auth.login':
                case 'accounts.register':
                case 'accounts.socialLogin':
                    if (!this.originalParams['suppressLoginEvent']) {
                        this.dispatchAccountsLoginEvent(response);
                    }
                case 'socialize.finalizeRegistration':
                case 'socialize.register':
                case 'socialize.login':
                    if (!response['user'] && !response['authCode'])
                        break;
                    oEvent = { eventName: 'login' };
                    var provider = this.params['provider'];
                    if (!provider && response['providerSessions']) {
                        for (var p in response['providerSessions']) {
                            provider = p;
                            break;
                        }
                    }
                    oEvent['provider'] = provider || 'site';
                    oEvent['loginMode'] = this.originalParams['loginMode'] || 'standard';
                    oEvent['newUser'] = response['newUser'] || false;
                    if (response['authCode'])
                        oEvent['authCode'] = response['authCode'];
                    InternalFlows_1.addUserInfoToEvent(response, oEvent, true);
                    if (response['user'] && provider) {
                        provider = provider.toLowerCase();
                        window.gigya._.apiAdapter.getStorage().setItem('_gig_llp', provider);
                        window.gigya._.apiAdapter.getStorage().setItem('_gig_llu', response['user']['firstName'] || '');
                    }
                    break;
                case 'socialize.notifyLogin':
                    if (!this.params['authCode']) {
                        // authCode means it's GAC
                        if (!oEvent)
                            oEvent = { eventName: 'login' };
                        oEvent['provider'] = 'site';
                        InternalFlows_1.addUserInfoToEvent(response, oEvent, true);
                    }
                    break;
                case 'gm.notifyAction':
                    globalEvents.dispatch({ eventName: 'actionNotified', isInternal: true });
                    break;
            }
        }
        if (ApisList_1.loginMethods[this.api.methodName] && this.originalParams['redirectURL'] && oEvent && oEvent['user'] && response['errorCode'] == 0) {
            HTTPUtils.redirect(this.originalParams['redirectURL'], [oEvent, oEvent['user']], this.originalParams['redirectMethod']);
        }
        // login should be fired but we have no accounts fields. We need to call getAccountInfo for the accounts event.
        if (response['errorCode'] == GSErrors_1.GSErrors.OK &&
            oEvent &&
            oEvent['eventName'] === 'login' &&
            !response['profile'] &&
            globalEvents._activeNamespaces['accounts'] &&
            this.api.methodName.indexOf('accounts') === -1) {
            window.gigya.accounts.getAccountInfo(this.originalParams, {
                include: 'profile,data',
                includeUserInfo: false,
                callback: function (accountsResponse) {
                    if (!_this.originalParams['suppressLoginEvent']) {
                        _this.dispatchAccountsLoginEvent(accountsResponse);
                    }
                },
            });
        }
        if (oEvent && (oEvent['eventName'] !== 'login' || !this.originalParams['suppressLoginEvent'])) {
            oEvent['context'] = this.originalParams['context'];
            globalEvents.dispatch(oEvent, this.originalParams);
        }
    };
    ServerApiRequest.prototype.dispatchAccountsLoginEvent = function (response) {
        var oAccountsEvent = {
            eventName: 'accounts.login',
            remember: validationUtils.isExplicitTrue(this.originalParams['remember']),
            provider: this.originalParams['provider'] ? this.originalParams['provider'].toLowerCase() : '',
            loginMode: this.originalParams['loginMode'] || 'standard',
        };
        objectUtils.extractProperties(response, oAccountsEvent, 'newUser|signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data|signKeysUIDSignature|dataCenter|id_token');
        globalEvents.dispatch(oAccountsEvent, this.originalParams);
    };
    return ServerApiRequest;
}());
exports.ServerApiRequest = ServerApiRequest;


/***/ }),

/***/ "./src/core/Gigya.Js/app/API/UiApi.ts":
/*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/API/UiApi.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var BaseApi_1 = __webpack_require__(/*! src/core/Gigya.Js/app/API/BaseApi */ "./src/core/Gigya.Js/app/API/BaseApi.ts");
var VersionSelector_1 = __webpack_require__(/*! src/core/Gigya.Js/app/API/VersionSelector */ "./src/core/Gigya.Js/app/API/VersionSelector.ts");
var functionsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/functions */ "./src/core/Gigya.Js/app/Utils/functions.ts");
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var LegacyLogger_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LegacyLogger */ "./src/core/Gigya.Js/app/LegacyLogger.ts");
var UiApiHelpers_1 = __webpack_require__(/*! src/core/Gigya.Js/app/API/UiApiHelpers */ "./src/core/Gigya.Js/app/API/UiApiHelpers.ts");
var arrayUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/array */ "./src/core/Gigya.Js/app/Utils/array.ts");
var queueUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/queue */ "./src/core/Gigya.Js/app/Utils/queue.ts");
var globalEvents = __webpack_require__(/*! src/core/Gigya.Js/app/GlobalEvents */ "./src/core/Gigya.Js/app/GlobalEvents.ts");
var reports = __webpack_require__(/*! src/core/Gigya.Js/app/Reports */ "./src/core/Gigya.Js/app/Reports.ts");
var cdn_1 = __webpack_require__(/*! src/core/Gigya.Js/app/cdn */ "./src/core/Gigya.Js/app/cdn.ts");
var scriptUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/script */ "./src/core/Gigya.Js/app/Utils/script.ts");
var events = __webpack_require__(/*! src/core/Gigya.Js/app/Events */ "./src/core/Gigya.Js/app/Events.ts");
var Providers_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Providers */ "./src/core/Gigya.Js/app/Providers.ts");
var DOMUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/DOM */ "./src/core/Gigya.Js/app/Utils/DOM.ts");
exports.__pluginsCoreLoaded = false;
var sourceDataParams = {
    showReactionsBarUI: ['barID'],
    showCommentsUI: ['categoryID', 'streamID'],
};
var UiApi = /** @class */ (function (_super) {
    tslib_1.__extends(UiApi, _super);
    function UiApi(methodName, jsName, defaultParams, defaultPopupParams, requiredParams, settings) {
        if (defaultParams === void 0) { defaultParams = {}; }
        if (defaultPopupParams === void 0) { defaultPopupParams = {}; }
        if (requiredParams === void 0) { requiredParams = ''; }
        if (settings === void 0) { settings = {}; }
        var _this = _super.call(this, UiApi.getApiName(jsName, methodName, settings), settings) || this;
        _this.methodName = methodName;
        _this.jsName = jsName;
        _this.settings = settings;
        settings.defaultParams = defaultParams || {};
        settings.defaultPopupParams = defaultPopupParams || {};
        settings.requiredParams = requiredParams || '';
        return _this;
    }
    UiApi.getApiName = function (jsName, methodName, settings) {
        if (settings === void 0) { settings = {}; }
        return settings.apiName || jsName.split('.')[0] + '.' + methodName;
    };
    UiApi.versionSelector = function (methodName, namespace, defaultVersion, versions, versionField) {
        if (versionField === void 0) { versionField = 'version'; }
        var selector = new VersionSelector_1.VersionSelector(methodName, versions, defaultVersion);
        functionsUtils.createAlias('gigya.' + namespace + '.' + methodName, function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            var config = args[0];
            var params = args[1];
            if (!params) {
                params = config;
                config = null;
            }
            if (!params) {
                params = {};
                args.push(params);
            }
            var callConfig = objectUtils.merge([{}, config, params]);
            selector.callVersion('' + callConfig[versionField], params, args);
        });
        return selector;
    };
    // For new plugins using BasePlugin
    UiApi.createApi = function (methodName, namespace, className, jsName, settings, instanceMethods) {
        if (settings === void 0) { settings = {}; }
        settings.useBasePlugin = true;
        var api = new UiApi(methodName, jsName, null, null, null, settings);
        api.namespace = namespace;
        api.className = className;
        api.instanceMethods = instanceMethods || [];
        api.addInstanceMethodsAliases();
        return api;
    };
    UiApi.prototype.addInstanceMethodsAliases = function () {
        // Add the instance methods aliases
        for (var i = 0; i < this.instanceMethods.length; i++) {
            this.createInstanceMethodAlias(this.instanceMethods[i]);
        }
    };
    UiApi.prototype.createInstanceMethodAlias = function (methodName) {
        var _this = this;
        functionsUtils.createAlias('gigya.' + this.namespace + '.' + methodName, function (params) {
            /// Note that this method should only be called after the plugin js was loaded.
            if (!_this.injectionInfo) {
                LegacyLogger_1.addLog('invalid injection info', _this, false);
                return;
            }
            var publicMethod = _this.getPublicMethod(methodName);
            var instance = UiApiHelpers_1.getPluginInstance(params, _this.injectionInfo);
            if (!instance) {
                LegacyLogger_1.addLog("couldn't find instance", _this, false);
                /// for future implementation.
                //if (params.onError)
                //    params.onError();
            }
            else {
                // prepare arguments from params object.
                var args = [];
                arrayUtils.forEach(publicMethod.argNames, function (argName) {
                    if (argName && params[argName] !== undefined)
                        args.push(params[argName]);
                });
                instance[publicMethod.instanceMethod].apply(instance, args);
            }
        });
    };
    UiApi.prototype.getPublicMethod = function (methodName) {
        var publicMethod;
        if (this.injectionInfo.publicMethods) {
            publicMethod = this.injectionInfo.publicMethods[methodName];
        }
        if (!publicMethod) {
            throw new Error('public method ' + methodName + ' is not configured for ' + this.injectionInfo.name);
        }
        return publicMethod;
    };
    // Override
    UiApi.prototype.preprocessRequest = function (params, callback) {
        var _this = this;
        _super.prototype.preprocessRequest.call(this, params, function () {
            if (!params['source'])
                _this.setSourceData(params);
            if (callback)
                callback();
        });
    };
    UiApi.prototype.run = function (params, explicitParams) {
        var _this = this;
        if (!this.settings.waitForAPIQueue || params['ignoreApiQueue']) {
            this.startUI(params, explicitParams);
        }
        else {
            queueUtils.queueForExecution('API', function () {
                _this.startUI(params, explicitParams);
            });
        }
    };
    UiApi.prototype.startUI = function (params, explicitParams) {
        var _this = this;
        params = objectUtils.clone(params);
        this.prepareParameters(params);
        this.preprocessRequest(params, function () {
            // Legacy
            if (!_this.settings.useBasePlugin) {
                window.gigya.logger.info("loading legacy plugin");
                _this.legacyStartUI(params, explicitParams);
                // BasePlugin
            }
            else {
                window.gigya.logger.info("loading modern plugin");
                _this.loadPluginJS(params, explicitParams, function (loadedFromServer) {
                    queueUtils.queueForExecution('UI', function () {
                        if (loadedFromServer && _this.className) {
                            _this.pluginType = _this.getPluginType();
                            _this.injectionInfo = _this.pluginType.injectionInfo(_this);
                        }
                        var fnStart = function () {
                            _this.startPlugin(params, explicitParams);
                        };
                        if (params['waitForDebug'] == false) {
                            fnStart();
                        }
                        else {
                            queueUtils.queueForExecution('debug', fnStart);
                        }
                    });
                });
            }
        });
    };
    UiApi.prototype.startPlugin = function (params, explicitParams) {
        var _this = this;
        globalEvents.dispatch({
            eventName: 'beforePluginRequest',
            methodName: this.methodName,
            params: params,
            explicitParams: explicitParams,
        }, params);
        var methodName = params['originalMethodName'] || this.methodName;
        LegacyLogger_1.logCall(methodName, params);
        reports.reportLoad(methodName, params);
        // BasePlugin
        if (this.pluginType) {
            if (params) {
                var previous = UiApiHelpers_1.getPluginInstance(params, this.injectionInfo);
                if (previous && previous.dispose && !params['_allowMultipleInstances'] && !params['newModal']) {
                    previous.dispose();
                }
            }
            var instance = new this.pluginType(params, explicitParams, this.injectionInfo);
            /// TODO: condition this to a global attribute.
            UiApiHelpers_1.setPluginInstance(params, this.injectionInfo, instance);
            instance.onDisposedEvent().add(function () { return UiApiHelpers_1.removePluginInstance(params, _this.injectionInfo); });
            window.gigya.logger.info("starting plugin " + this.injectionInfo.name + " with params", instance.params);
            instance.start();
            if (instance.containerID) {
                var container = document.getElementById(instance.containerID);
                if (container) {
                    container['gigyaPluginInstance'] = instance;
                }
            }
            if (params['getInstance']) {
                params['getInstance'](instance);
            }
            // Legacy
        }
        else {
            functionsUtils.callFunction('gigya.' + this.jsName + '.' + this.methodName, [params, params, params]);
        }
    };
    UiApi.prototype.loadPluginJS = function (params, explicitParams, callback) {
        if (this.wasPluginJSLoaded(params)) {
            window.gigya.logger.info("plugin was already loaded");
            if (callback)
                callback(false);
        }
        else {
            var pluginBase = false;
            var cdnPrefix = cdn_1.getCdnResource('/js/');
            var jsServiceName = 'gigya.services.' + this.jsName;
            var pluginUrl = cdnPrefix + jsServiceName + '.min.js' + (params['lang'] ? '?lang=' + params['lang'] : '');
            var pluginWithBaseUrl = cdnPrefix + 'gigya.services.plugins.base.min.js?services=' + jsServiceName + (params['lang'] ? '&lang=' + params['lang'] : '');
            var loadUrl;
            if (!exports.__pluginsCoreLoaded) {
                window.gigya.logger.debug("locking queue to fetch basePlugin");
                loadUrl = pluginWithBaseUrl;
                exports.__pluginsCoreLoaded = true;
                pluginBase = true;
                queueUtils.hold('pluginsJS', 'UI');
            }
            else {
                loadUrl = pluginUrl;
            }
            window.gigya.logger.info("loading " + jsServiceName);
            globalEvents.dispatch({
                eventName: 'beforePluginLoad',
                methodName: this.methodName,
                explicitParams: explicitParams,
                params: params,
            }, params);
            scriptUtils.load(loadUrl, null, function () {
                if (pluginBase)
                    queueUtils.release('pluginsJS', 'UI');
                if (callback)
                    callback(true);
            }, true, undefined, [pluginUrl, pluginWithBaseUrl]);
        }
    };
    UiApi.prototype.wasPluginJSLoaded = function (params) {
        var funcName = 'gigya.' + this.jsName + '.' + this.methodName;
        var fullJSName = 'gigya.services.' + this.jsName + '.js';
        try {
            var func = this.getPluginType();
            var langObj = window.gigya['i18n'][fullJSName][params['lang']];
        }
        catch (ex) {
            return false;
        }
        return typeof func !== 'undefined' && typeof langObj !== 'undefined';
    };
    UiApi.prototype.getPluginType = function () {
        var pathAccessor = objectUtils.expressionHelper(window.gigya);
        var paths = [
            "_.plugins." + this.className,
            this.jsName + "." + this.methodName,
        ];
        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {
            var path = paths_1[_i];
            var type = pathAccessor.getField(path);
            if (type)
                return type;
        }
        return undefined;
    };
    UiApi.prototype.setSourceData = function (params) {
        if (this.methodName == 'socialize.showSimpleShareUI') {
            params['source'] = 'socialize.showShareUI';
        }
        else {
            params['source'] = params['originalMethodName'] || this.methodName;
        }
        if (!params['sourceData'] && sourceDataParams[this.methodName]) {
            var sourceData = {};
            var addedSourceData;
            for (var i = 0; i < sourceDataParams[this.methodName].length; i++) {
                var paramName = sourceDataParams[this.methodName][i];
                if (params[paramName] != null) {
                    addedSourceData = true;
                    sourceData[paramName] = params[paramName];
                }
            }
            if (addedSourceData)
                params['sourceData'] = sourceData;
        }
        if (!params['pluginsStack'])
            params['pluginsStack'] = [];
        params['pluginsStack'].push({ source: this.methodName }); //for debugging
        params['lastSource'] = this.methodName;
    };
    UiApi.prototype.validateRequiredParams = function (params) {
        var arRequiredParams = this.settings.requiredParams.split('|');
        for (var i = 0; i < arRequiredParams.length; i++) {
            var requiredParam = arRequiredParams[i];
            if (requiredParam != '' && (params[requiredParam] == null || params[requiredParam] == '')) {
                events.dispatchInvalidParamError(params, requiredParam);
                return false;
            }
        }
        return true;
    };
    UiApi.prototype.setDefaultParams = function (params) {
        var isPopup = !params['containerID'] || params['isPopup'];
        for (var paramName in this.settings.defaultParams) {
            if (params[paramName] == null) {
                if (isPopup && this.settings.defaultPopupParams[paramName]) {
                    params[paramName] = this.settings.defaultPopupParams[paramName];
                }
                else {
                    params[paramName] = this.settings.defaultParams[paramName];
                }
            }
        }
        if (isPopup) {
            for (var paramName in this.settings.defaultPopupParams) {
                if (!params[paramName])
                    params[paramName] = this.settings.defaultParams[paramName];
            }
        }
    };
    UiApi.prototype.prepareParameters = function (params) {
        for (var key in params) {
            // Replace provider aliases with provider names
            if (key.toLowerCase().indexOf('provider') != -1 && typeof params[key] == 'string') {
                params[key] = Providers_1.replaceProviderAliases(params[key]);
            }
        }
        // Set english as default language
        if (!params['lang']) {
            params['lang'] = window.gigya.thisScript.lang.langCode;
        }
        if (!params['source']) {
            this.setSourceData(params);
        }
        else {
            params['isPopup'] = false; //to avoid params.isPopup being passed from UI widgets
        }
    };
    // For plugins that do not support BasePlugin
    UiApi.prototype.legacyStartUI = function (params, explicitParams) {
        var _this = this;
        var containerID = params['containerID'];
        if (this.settings.ignoreContainerId) {
            params['containerID'] = '';
            containerID = '';
        }
        else if ((params['containerID'] == null && !this.settings.allowPopup) || (params['containerID'] && !document.getElementById(params['containerID']))) {
            events.dispatchInvalidParamError(params, 'containerID');
            return;
        }
        var isPopup = this.settings.allowPopup && (!containerID || params['isPopup']);
        if (isPopup && this.settings.useNewModal)
            params['useNewModal'] = true;
        this.setDefaultParams(params);
        if (!this.settings.allowPopup && !isPopup) {
            DOMUtils.clearByID(containerID);
        }
        if (!this.validateRequiredParams(params)) {
            return;
        }
        this.loadPluginJS(params, explicitParams, function () {
            var fnStart = function () {
                _this.prepareContainer(params, isPopup, function () {
                    _this.startPlugin(params, explicitParams);
                });
            };
            queueUtils.queueForExecution('UI', function () {
                if (params['waitForDebug'] == false) {
                    fnStart();
                }
                else {
                    queueUtils.queueForExecution('debug', fnStart);
                }
            });
        });
    };
    UiApi.prototype.prepareContainer = function (params, isPopup, callback) {
        var _this = this;
        if (!document.body) {
            window.setTimeout(function () {
                _this.prepareContainer(params, isPopup, callback);
            }, 200);
        }
        else {
            var containerID = params['containerID'];
            var container;
            if (isPopup) {
                containerID = DOMUtils.getCenteredDivID(this.methodName);
                if (params['newModal'])
                    containerID += new Date().getTime();
                params['containerID'] = containerID;
                params['isPopup'] = true;
                if (!document.getElementById(containerID)) {
                    container = DOMUtils.createTopLevelDiv(containerID);
                    container.style.position = 'absolute';
                }
            }
            container = container || document.getElementById(containerID);
            if (!container) {
                events.dispatchInvalidParamError(params, 'containerID');
                callback();
                return;
            }
            //  var jsUrl = this.getPluginJsUrl(params);
            var Reqs = container['Reqs'] ? container['Reqs'] : (container['Reqs'] = []);
            var rid = Reqs.length + '@' + 0 + '@' + containerID;
            params['rid'] = rid;
            var req = (Reqs[Reqs.length] = {
                rid: rid,
                container: container,
                method: this.methodName,
                context: params['context'],
                c: params,
                p: params,
                i: params,
                operation: this.methodName,
                isHTML: true,
            });
            if (container && container.style) {
                container.style.display = '';
                container.style.visibility = '';
                var ifrel = document.getElementById('gigya_ifr_' + containerID);
                if (ifrel) {
                    ifrel.style.display = '';
                    ifrel.style.visibility = '';
                }
                var fncFixPosition = function () {
                    if (ifrel != null) {
                        // if is new modal, measure the new modal dialog size and sen it to the mask options.
                        DOMUtils.setSize(ifrel, params['width'], params['height'], isPopup);
                        /*if (gigya.localInfo.isIE) {*/ ifrel.style.visibility = 'visible'; /*}*/
                    }
                    DOMUtils.setSize(container, params['width'], params['height'], isPopup);
                };
                fncFixPosition();
            }
            var localMethodName = this.methodName.split('.').pop();
            if (container.setAttribute) {
                container.setAttribute('gigid', (params['source'] && params['source'] != localMethodName ? params['source'] + '_' : '') + localMethodName);
            }
            callback();
        }
    };
    return UiApi;
}(BaseApi_1.BaseApi));
exports.UiApi = UiApi;


/***/ }),

/***/ "./src/core/Gigya.Js/app/API/UiApiHelpers.ts":
/*!***************************************************!*\
  !*** ./src/core/Gigya.Js/app/API/UiApiHelpers.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
exports.instances = {};
function getInstanceId(params, injectionInfo) {
    if (params['instanceID'])
        return params['instanceID'];
    else if (params['isPopup'])
        return 'gigya-modal-plugin-container-' + injectionInfo.methodName;
    else if (params['containerID'])
        return params['containerID'];
    else
        return injectionInfo.name;
}
function getPluginInstance(params, injectionInfo) {
    var pluginID = getInstanceId(params, injectionInfo);
    return exports.instances[pluginID];
}
exports.getPluginInstance = getPluginInstance;
function setPluginInstance(params, injectionInfo, instance, override) {
    if (override === void 0) { override = false; }
    var pluginID = getInstanceId(params, injectionInfo);
    if (!override) {
        var originID = pluginID;
        for (var numSuffix = 2; exports.instances[pluginID]; numSuffix++) {
            pluginID = originID + numSuffix.toString();
        }
    }
    params['instanceID'] = pluginID;
    exports.instances[pluginID] = instance;
}
exports.setPluginInstance = setPluginInstance;
function removePluginInstance(params, injectionInfo) {
    delete exports.instances[getInstanceId(params, injectionInfo)];
    delete params['instanceID'];
}
exports.removePluginInstance = removePluginInstance;


/***/ }),

/***/ "./src/core/Gigya.Js/app/API/UiApiRegistry.ts":
/*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/API/UiApiRegistry.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var queueUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/queue */ "./src/core/Gigya.Js/app/Utils/queue.ts");
var functionsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/functions */ "./src/core/Gigya.Js/app/Utils/functions.ts");
function registerPlugin(pluginInit) {
    queueUtils.queueForExecution('UI', pluginInit);
}
exports.registerPlugin = registerPlugin;
function attachPlugin(pluginClass, namespace, pluginName, publicMethodName) {
    if (!namespace)
        namespace = 'socialize';
    if (!window.gigya[namespace])
        window.gigya[namespace] = {};
    if (!window.gigya[namespace].plugins)
        window.gigya[namespace].plugins = {};
    if (!window.gigya[namespace].plugins[pluginName])
        window.gigya[namespace].plugins[pluginName] = { instances: [] };
    var ns = window.gigya[namespace].plugins[pluginName];
    if (!ns[publicMethodName]) {
        ns[publicMethodName] = function (params) {
            var refString = 'gigya.' + namespace + '.plugins.' + pluginName + '.instances[' + ns.instances.length + ']';
            var plugin = new pluginClass(params, refString);
            ns.instances.push(plugin);
        };
    }
    if (pluginClass.StaticApi) {
        for (var name in pluginClass.StaticApi) {
            var funcName = pluginClass.StaticApi[name];
            var func = pluginClass[funcName];
            functionsUtils.createAlias('gigya.' + namespace + '.plugins.' + pluginName + '.' + name, func);
        }
    }
}
exports.attachPlugin = attachPlugin;


/***/ }),

/***/ "./src/core/Gigya.Js/app/API/VersionSelector.ts":
/*!******************************************************!*\
  !*** ./src/core/Gigya.Js/app/API/VersionSelector.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var arrayUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/array */ "./src/core/Gigya.Js/app/Utils/array.ts");
var VersionSelector = /** @class */ (function () {
    function VersionSelector(methodName, _versions, defaultVersionName) {
        this.methodName = methodName;
        this._versions = _versions;
        if (!this._versions || this._versions.length < 1)
            throw new Error(this.methodName + ': required at least one valid version');
        if (!defaultVersionName) {
            this._defaultVersionIndex = 0;
        }
        else {
            this._defaultVersionIndex = this.findVersionIndexOrDefault(defaultVersionName);
            if (this._defaultVersionIndex == -1)
                throw new Error(this.methodName + ': default version is not defined as a version');
        }
    }
    VersionSelector.prototype.callVersion = function (versionName, params, args) {
        if (params === void 0) { params = {}; }
        if (args === void 0) { args = [params]; }
        var wantedVersionIndex = this.findVersionIndexOrDefault(versionName);
        if (wantedVersionIndex == -1)
            throw Error("gigya plugin version doesn't exist");
        var supportedVersion = this.findSupportedVersion(wantedVersionIndex);
        if (!supportedVersion)
            throw new Error(versionName + ': could not find supported version for this browser');
        else {
            this.invokeVersionMethod(supportedVersion, params, args);
        }
    };
    VersionSelector.prototype.findSupportedVersion = function (startIndex) {
        var versionsNum = this._versions.length;
        for (var i = 0; i < versionsNum; ++i) {
            // go cyclicly through versions from start index
            var version = this._versions[(startIndex - i + versionsNum) % versionsNum];
            if (!version.isSupported || version.isSupported({ directCall: i == 0 })) {
                return version;
            }
        }
        return undefined;
    };
    VersionSelector.prototype.findVersionIndexOrDefault = function (versionName) {
        var result = -1;
        if (versionName) {
            result = arrayUtils.firstIndex(this._versions, function (version) { return version.versionName == versionName; });
        }
        // If version name isn't given or doesn't exist
        if (result == -1) {
            result = this._defaultVersionIndex !== undefined ? this._defaultVersionIndex : -1;
        }
        return result;
    };
    VersionSelector.prototype.invokeVersionMethod = function (version, params, args) {
        if (params === void 0) { params = {}; }
        if (args === void 0) { args = [params]; }
        var versionMethod;
        switch (typeof version.method) {
            case 'function':
                versionMethod = version.method;
                break;
            case 'string':
                versionMethod = eval(version.method);
                params['selectedMethodName'] = version.method; // debug legacy
                break;
            default:
                throw Error(this.methodName + ' ' + version.versionName + ': unsupported gigya-version method');
        }
        // Copy additional params.
        for (var field in version.additionalParams)
            params[field] = version.additionalParams[field];
        // Legacy.
        params['originalMethodName'] = this.methodName;
        // Go
        versionMethod.apply(this, args);
    };
    return VersionSelector;
}());
exports.VersionSelector = VersionSelector;


/***/ }),

/***/ "./src/core/Gigya.Js/app/BaseObject/BaseObject.ts":
/*!********************************************************!*\
  !*** ./src/core/Gigya.Js/app/BaseObject/BaseObject.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var events = __webpack_require__(/*! src/core/Gigya.Js/app/Events */ "./src/core/Gigya.Js/app/Events.ts");
var arrayUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/array */ "./src/core/Gigya.Js/app/Utils/array.ts");
var EventWrapper_1 = __webpack_require__(/*! src/core/Gigya.Js/app/BaseObject/EventWrapper */ "./src/core/Gigya.Js/app/BaseObject/EventWrapper.ts");
var globalEvents = __webpack_require__(/*! src/core/Gigya.Js/app/GlobalEvents */ "./src/core/Gigya.Js/app/GlobalEvents.ts");
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var GSErrors_1 = __webpack_require__(/*! src/core/Gigya.Js/app/GSErrors */ "./src/core/Gigya.Js/app/GSErrors.ts");
var BaseObject = /** @class */ (function () {
    /// Methods
    function BaseObject(params, explicitParams, validateParams) {
        if (validateParams === void 0) { validateParams = true; }
        this.params = params;
        this.explicitParams = explicitParams;
        /// Providers
        this._logger = window.gigya.logger;
        this._eventDispatcher = function (args, widget) { return events.dispatchForWidget(args, widget); };
        this._errorDispatcher = window.gigya.events;
        this._globalEventsManager = window.gigya.events.global;
        this._isDisposed = false;
        /// Members
        this._eventWrappers = {};
        this._globalEventHandlers = {};
        this._id = ++BaseObject.instanceCounter;
        // Clone params to avoid modifying originals.
        this.params = params ? objectUtils.clone(params) : {};
        this.explicitParams = explicitParams ? objectUtils.clone(explicitParams) : {};
        // Validate required params.
        if (validateParams) {
            this.validateParams();
        }
        // Copy properties to object itself.
        for (var name in params) {
            if (BaseObject[name]) {
                BaseObject[name] = params[name];
            }
        }
    }
    /// Events
    BaseObject.prototype.onErrorEvent = function () {
        return this.getEvent('onError');
    };
    BaseObject.prototype.onDisposedEvent = function () {
        return this.getEvent('onDisposed');
    };
    BaseObject.prototype.getType = function () {
        return this.constructor['name'] || this.getFunctionName(this.constructor);
    };
    BaseObject.prototype.getFunctionName = function (fun) {
        var ret = fun.toString();
        ret = ret.substr('function '.length);
        ret = ret.substr(0, ret.indexOf('('));
        return ret;
    };
    /// Abstract methods
    BaseObject.prototype.getConfig = function () {
        this.error(BaseObject.NOT_IMPLEMENTED_ERROR, GSErrors_1.GSErrors.NOT_SUPPORTED);
        return {};
    };
    /// Virtual methods
    BaseObject.prototype.toString = function () {
        return this.getType() + ' ' + this.id();
    };
    BaseObject.prototype.id = function () {
        return this._id;
    };
    BaseObject.prototype.warn = function (msg, e) {
        var warnMsg = this.id() + ' ' + this.getType() + ' - ' + msg;
        this._logger.info(warnMsg, e); // add message to gigya debug log
    };
    BaseObject.prototype.error = function (msg, errorCode, e) {
        if (errorCode === void 0) { errorCode = GSErrors_1.GSErrors.CLIENT_LOG; }
        var errorInfo = {
            errorMessage: msg,
            errorCode: errorCode,
            errorDetails: this.id(),
            info: e,
        };
        this.warn(msg, errorInfo);
        this.dispatchEvent('error', errorInfo);
    };
    BaseObject.prototype.validateParams = function (reqParams) {
        if (!reqParams)
            reqParams = this.getConfig().requiredParams || [];
        // Complete params with default.
        if (this.getConfig().defaultParams) {
            this.params = objectUtils.merge([this.getConfig().defaultParams, this.params]);
        }
        var missingParams = [];
        // Check existence of required params
        if (reqParams.length > 0) {
            for (var i in reqParams) {
                if (reqParams.hasOwnProperty(i)) {
                    var param = reqParams[i];
                    if (!this.params[param])
                        missingParams.push(param);
                }
            }
        }
        if (missingParams.length > 0) {
            this.dispatchInvalidParamError(missingParams[0]);
            return false;
        }
        else
            return true;
    };
    /// Events methods
    BaseObject.prototype.dispatchEvent = function (eventName, args) {
        if (args === void 0) { args = {}; }
        args.eventName = eventName;
        //args.sender = this; // TODO memory leak due to sender containing refrences to dom
        return this._eventDispatcher(args, this.params);
    };
    BaseObject.prototype.dispatchErrorFromResponse = function (response) {
        events.dispatchErrorFromResponse(this.params, response);
    };
    BaseObject.prototype.dispatchInvalidParamError = function (paramName) {
        events.dispatchInvalidParamError(this.params, paramName);
    };
    BaseObject.prototype.getEvent = function (eventName) {
        if (!this._eventWrappers[eventName]) {
            if (!this.params[eventName]) {
                this.params[eventName] = [];
            }
            else if (!(this.params[eventName] instanceof Array)) {
                this.params[eventName] = [this.params[eventName]];
            }
            this._eventWrappers[eventName] = new EventWrapper_1.EventWrapper(this.params[eventName]);
        }
        return this._eventWrappers[eventName];
    };
    BaseObject.prototype.addGlobalEventHandlers = function (handlers) {
        for (var name in handlers) {
            if (handlers.hasOwnProperty(name))
                this.addGlobalEventHandler(name, handlers[name]);
        }
    };
    BaseObject.prototype.addGlobalEventHandler = function (name, handler, context, namespace) {
        if (context === void 0) { context = null; }
        if (namespace === void 0) { namespace = 'socialize'; }
        if (!this._globalEventHandlers[name])
            this._globalEventHandlers[name] = [];
        var registeredHandler = globalEvents.add(name, handler, 'component', context, namespace, this.params);
        this._globalEventHandlers[name].push(registeredHandler);
    };
    BaseObject.prototype.removeGlobalEventHandlers = function (handlers) {
        for (var name in handlers) {
            if (handlers.hasOwnProperty(name))
                this.removeGlobalEventHandler(name, handlers[name]);
        }
    };
    /// Except 'name', all arguments are for base plugin support... really needed?
    BaseObject.prototype.removeGlobalEventHandler = function (name, handler, context, namespace) {
        if (context === void 0) { context = null; }
        if (namespace === void 0) { namespace = 'socialize'; }
        var arr = this._globalEventHandlers[name];
        if (arr) {
            var handlerInfoIndex = arrayUtils.firstIndex(arr, function (i) { return i.handler == handler; });
            if (handlerInfoIndex > -1) {
                var handlerInfo = arr[handlerInfoIndex];
                globalEvents.remove(handlerInfo.fullEventName, handlerInfo);
                arr.splice(handlerInfoIndex, 1);
            }
        }
    };
    BaseObject.prototype.prepareCallback = function (callback) {
        var instance = this;
        return function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            if (!instance._isDisposed)
                return callback.apply(this, args);
        };
    };
    /// IDisposable implementation
    BaseObject.prototype.dispose = function () {
        for (var name in this._globalEventHandlers) {
            if (this._globalEventHandlers.hasOwnProperty(name)) {
                for (var i in this._globalEventHandlers[name]) {
                    var eventHandlerInfo = this._globalEventHandlers[name][i];
                    globalEvents.remove(eventHandlerInfo.fullEventName, eventHandlerInfo);
                }
            }
        }
        this._globalEventHandlers = {};
        this._eventWrappers = {};
        this.params = {};
        this._isDisposed = true;
        // this.dispatchEvent("onDisposed"); // TODO fix memory leak from it
    };
    /// Static
    BaseObject.instanceCounter = 0;
    BaseObject.NOT_IMPLEMENTED_ERROR = 'Abstract method not implemented';
    return BaseObject;
}());
exports.BaseObject = BaseObject;


/***/ }),

/***/ "./src/core/Gigya.Js/app/BaseObject/EventWrapper.ts":
/*!**********************************************************!*\
  !*** ./src/core/Gigya.Js/app/BaseObject/EventWrapper.ts ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
var EventWrapper = /** @class */ (function () {
    function EventWrapper(_handlers) {
        if (_handlers === void 0) { _handlers = []; }
        this._handlers = _handlers;
    }
    EventWrapper.prototype.add = function (handler) {
        this._handlers.push(handler);
    };
    EventWrapper.prototype.remove = function (handler) {
        var index = this._handlers.indexOf(handler);
        if (index > -1) {
            this._handlers.splice(index, 1);
        }
    };
    return EventWrapper;
}());
exports.EventWrapper = EventWrapper;


/***/ }),

/***/ "./src/core/Gigya.Js/app/BaseObject/IBaseObjectConfig.ts":
/*!***************************************************************!*\
  !*** ./src/core/Gigya.Js/app/BaseObject/IBaseObjectConfig.ts ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
var DeviceTypes;
(function (DeviceTypes) {
    DeviceTypes[DeviceTypes["_undefined"] = 0] = "_undefined";
    DeviceTypes[DeviceTypes["desktop"] = 1] = "desktop";
    DeviceTypes[DeviceTypes["mobile"] = 2] = "mobile";
    DeviceTypes[DeviceTypes["auto"] = 3] = "auto";
})(DeviceTypes = exports.DeviceTypes || (exports.DeviceTypes = {}));


/***/ }),

/***/ "./src/core/Gigya.Js/app/Bootstrap.ts":
/*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Bootstrap.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var queueUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/queue */ "./src/core/Gigya.Js/app/Utils/queue.ts");
var reports = __webpack_require__(/*! src/core/Gigya.Js/app/Reports */ "./src/core/Gigya.Js/app/Reports.ts");
var events = __webpack_require__(/*! src/core/Gigya.Js/app/Events */ "./src/core/Gigya.Js/app/Events.ts");
var functionsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/functions */ "./src/core/Gigya.Js/app/Utils/functions.ts");
var scriptUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/script */ "./src/core/Gigya.Js/app/Utils/script.ts");
var cdn_1 = __webpack_require__(/*! src/core/Gigya.Js/app/cdn */ "./src/core/Gigya.Js/app/cdn.ts");
var gigyaScriptEl_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/gigyaScriptEl */ "./src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts");
var URLUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/URL */ "./src/core/Gigya.Js/app/Utils/URL.ts");
var JSONUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/JSON */ "./src/core/Gigya.Js/app/Utils/JSON.ts");
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var facebookExternal = __webpack_require__(/*! src/core/Gigya.Js/app/ExternalIntegrations/Facebook */ "./src/core/Gigya.Js/app/ExternalIntegrations/Facebook.ts");
var googlePlusExternal = __webpack_require__(/*! src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus */ "./src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus.ts");
var InternalFlows_1 = __webpack_require__(/*! src/core/Gigya.Js/app/InternalFlows */ "./src/core/Gigya.Js/app/InternalFlows.ts");
var LocalInfo_1 = __webpack_require__(/*! ./LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
exports.parseScriptRetries = 0;
function init() {
    window.gigya.logger.group('websdk root');
    window.gigya.logger.info("partner settings:", window.gigya.partnerSettings);
    window.gigya.logger.info("local info:", LocalInfo_1.localInfo);
    var bootstrapLog = window.gigya.logger.group('bootstrap websdk');
    queueUtils.hold('bootstrap', 'API');
    // detecting unsupported browsers
    if ((LocalInfo_1.localInfo.isIE6 || LocalInfo_1.localInfo.isIE7 || LocalInfo_1.localInfo.isIE8 || LocalInfo_1.localInfo.isIE9 || LocalInfo_1.localInfo.isIE10) &&
        typeof console != 'undefined' &&
        typeof console.log != 'undefined')
        console.log("Gigya: It looks like you're using an old version of Internet Explorer. This browser is not supported. Please upgrade to a newer version of IE.");
    // gigya.gigya.logger.warn with force param?
    reports.init();
    parseScriptElement(function () {
        setMessagingMethod();
        var customEventMap = window.gigya.thisScript.globalConf['customEventMap'];
        if (customEventMap) {
            window.gigya.logger.info("adding custom event map"); //, customEventMap);
            events.addMap(customEventMap);
        }
        window.gigya.logger.group('init api adapter');
        initApiAdapter(function () {
            window.gigya.logger.groupEnd('init api adapter');
            window.gigya.isReady = true; // indicate bootstrap process has finish - gigya is ready
            // Trigger onGigyaServiceReady bound to window scope.
            if (typeof onGigyaServiceReady === 'function') {
                window.gigya.logger.info('invoke local onGigyaServiceReady event');
                try {
                    onGigyaServiceReady('socialize');
                }
                catch (e) {
                    window.gigya.logger.warn("gigya: error while invoking onGigyaServiceReady", e);
                }
            }
            // Trigger onGigyaServiceReady bound to global configuration.
            // This is commonly used when clients want to execute code from within the server-side global conf.
            if (typeof window.gigya.thisScript.globalConf['onGigyaServiceReady'] === 'function') {
                window.gigya.logger.info("invoke globalconf's onGigyaServiceReady event");
                try {
                    window.gigya.thisScript.globalConf['onGigyaServiceReady']('socialize');
                }
                catch (e) {
                    window.gigya.logger.warn("gigya: error while invoking onGigyaServiceReady injected from server", e);
                }
            }
            checkReturnFromRedirect(function () {
                queueUtils.release('bootstrap', 'API');
                if (!LocalInfo_1.localInfo.isNativeMobileApp) {
                    injectExternalSdks();
                    autoLogin();
                    reports.trackAddressBarShares();
                    functionsUtils.invokeOnPageLoad(function () {
                        return window.setTimeout(window.gigya.socialize.trackReferrals, 1000);
                    });
                }
                bootstrapLog.end();
            });
        });
        warnOnUnsupportedBrowser();
        loadOmniture();
        loadABTesting();
        var reportData = { sref: document.referrer };
        if (window.gigya.thisScript.globalConf['actionCounterPath'])
            reportData['actionCounterPath'] = window.gigya.thisScript.globalConf['actionCounterPath'];
        reports.report('loadc', window.gigya.thisScript.APIKey, null, null, null, reportData);
    });
}
exports.init = init;
function warnOnUnsupportedBrowser() {
    /*if (localInfo.isAndroidBrowser) {
                gigya._.showMessageUI({
                    captionText: 'Unsupported Browser',
                    message: 'The android browser contains a security vulnerability and is not supported, Switch to google chrom or firefox to get the full version of the site.'
                });
            }*/
}
exports.warnOnUnsupportedBrowser = warnOnUnsupportedBrowser;
function loadABTesting() {
    if (window.gigya.abTesting) {
        for (var abTestServiceKey in window.gigya.abTesting) {
            if (abTestServiceKey === 'optimizely') {
                var abTestItem = window.gigya.abTesting[abTestServiceKey];
                if (abTestItem.serviceParams && abTestItem.serviceParams.hasOwnProperty('apiKey')) {
                    // check for the path
                    var curPath = window.location.pathname;
                    var isEnabled = false;
                    var isDisabled = false;
                    // Checking if the path is disabled.
                    if (abTestItem.disabledPaths) {
                        for (var i = 0; i < abTestItem.disabledPaths.length; i++) {
                            if (abTestItem.disabledPaths[i].indexOf(curPath) > -1) {
                                isDisabled = true;
                                break;
                            }
                        }
                    }
                    // check if we have a match on the path to load the service.
                    if (!isDisabled) {
                        for (var i = 0; i < abTestItem.enabledPaths.length; i++) {
                            if (curPath.indexOf(abTestItem.enabledPaths[i]) > -1) {
                                scriptUtils.load('//cdn.optimizely.com/js/' + abTestItem.serviceParams['apiKey'] + '.js');
                            }
                        }
                    }
                }
            }
        }
    }
}
exports.loadABTesting = loadABTesting;
function startDebugIfNeeded(callback) {
    if (!LocalInfo_1.localInfo.isNativeMobileApp && window.gigya._.apiAdapter.getStorage().getItem('gig_debug') == '1') {
        window.gigya.socialize.showDebugUI({
            ignoreApiQueue: true,
            waitForDebug: false,
            onLoad: callback,
        });
    }
    else {
        callback();
    }
}
exports.startDebugIfNeeded = startDebugIfNeeded;
function loadOmniture() {
    functionsUtils.invokeOnPageLoad(function () {
        if (typeof window['gigya_omniture_conf'] != 'undefined')
            scriptUtils.load(cdn_1.getCdnResource('/js/GenesisExchange_Gigya.min.js'));
    });
}
exports.loadOmniture = loadOmniture;
var defaultLang = 'en-US';
function parseLang(lang) {
    if (lang === void 0) { lang = defaultLang; }
    var originalLang = lang.replace('en-US', 'en');
    lang = lang.replace('_', '-').toLowerCase();
    var segments = lang.split('-');
    var langCode = segments[0];
    var countryCode;
    if (segments.length > 1) {
        countryCode = segments[1];
    }
    else {
        countryCode = langCode;
    }
    countryCode = countryCode.toUpperCase();
    var shortLang;
    switch (lang) {
        case 'es-mx':
            shortLang = lang;
            countryCode = 'ES'; // FB doesn't support es-mx but we do
            break;
        case 'pt-br':
        case 'zh-cn':
        case 'zh-hk':
        case 'zh-tw':
        case 'te-st':
        case 'fr-inf':
        case 'de-inf':
        case 'es-inf':
        case 'nl-inf':
        case 'lt-lt':
        case 'lv-lv':
        case 'et-ee':
            shortLang = lang;
            break;
        default:
            shortLang = langCode;
    }
    return {
        full: langCode + '-' + countryCode,
        langCode: shortLang,
        countryCode: countryCode,
        originalLang: originalLang
    };
}
exports.parseLang = parseLang;
function parseScriptElement(callback) {
    var scriptElement = gigyaScriptEl_1.getGigyaScriptElement();
    if (scriptElement && !window['__gig_hidescript']) {
        window.gigya.logger.info("parsing gigya script");
        var URLParams = URLUtils.getParamsFromURL(scriptElement.src, true) || {};
        // Look for site group configuration, injected into partnerSettings.
        var siteGroupGlobalConf = JSONUtils.deserialize(window.gigya.partnerSettings.siteGroupGlobalConf) || {};
        // Look for site configuration, injected into partnerSettings.
        var siteGlobalConf = JSONUtils.deserialize(window.gigya.partnerSettings.globalConf, {}, { siteGroupGlobalConf: siteGroupGlobalConf }) || {};
        // Parse script configuration from JSON object inside the Gigya SDK script tag.
        // JSON.deserialize will never throw an exception and can parse JavaScript objects,
        // including unquoted keys, functions, and variable references.
        var scriptConf = JSONUtils.deserialize(scriptElement.innerHTML) || {};
        // Look for __gigyaConf, a global object that can set before gigya.js is loaded.
        var __gigyaConf = window['__gigyaConf'] || {};
        window.gigya.thisScript = {
            scriptElement: scriptElement,
            protocol: scriptElement.src.indexOf('https:') === 0 ? 'https' : 'http',
            baseDomain: scriptElement.src.split('/')[2],
            APIKey: URLParams['apikey'],
            lang: parseLang(URLParams['lang'] || __gigyaConf['lang'] || scriptConf['lang'] || siteGlobalConf['lang'] || siteGroupGlobalConf['lang']),
            globalConf: objectUtils.merge([window.gigya.partnerSettings.plugins || {}, siteGroupGlobalConf, siteGlobalConf, scriptConf, __gigyaConf], false),
            URLParams: URLParams,
        };
        window.gigya.thisScript.globalConf['lang'] = window.gigya.thisScript.lang.langCode;
        // Warn if API key wasn't passed in URL params.
        // IE9 support - check for console.warn.
        if (!window.gigya.thisScript.APIKey && typeof console === 'object' && console.warn) {
            console.warn('**** WARNING - Loading socialize.js without an APIKey parameter is unsupported and may result in an unexpected behavior.  ****');
        }
        else {
            window.gigya.thisScript.globalConf['APIKey'] = window.gigya.thisScript.APIKey;
        }
        callback();
    }
    else if (exports.parseScriptRetries < 10) {
        // In some rare cases, IE fails to find the script element. Retry script parsing every 200ms.
        // No script element will cause us to not know what the apikey is and retrieve the login token.
        exports.parseScriptRetries++;
        window.setTimeout(function () {
            parseScriptElement(callback);
        }, 200);
    }
    else {
        window.gigya.thisScript = {
            scriptElement: null,
            protocol: LocalInfo_1.localInfo.protocol,
            baseDomain: 'https://cdns.gigya.com',
            APIKey: '',
            lang: parseLang(''),
            globalConf: {},
            URLParams: {},
        };
        callback();
    }
}
exports.parseScriptElement = parseScriptElement;
function initApiAdapter(callback) {
    var adapterSettings = window['__gigAPIAdapterSettings'];
    var adapterName = getAdapterType(adapterSettings);
    LocalInfo_1.localInfo.isNativeMobileApp = adapterName === 'mobile';
    window.gigya.logger.info("selecting api adapter: " + adapterName);
    window.gigya._.apiAdapter = window.gigya._.apiAdapters[adapterName].newApiAdapter(adapterSettings);
    functionsUtils.createAlias('gigya.auth.loginToken.getTokenParam', window.gigya._.apiAdapter.getTokenParam);
    startDebugIfNeeded(function () {
        window.gigya._.apiAdapter.init(callback, 3);
    });
}
exports.initApiAdapter = initApiAdapter;
function getAdapterType(adapterSettings) {
    if (adapterSettings === void 0) { adapterSettings = window['__gigAPIAdapterSettings']; }
    var adapterName;
    if (adapterSettings
        && adapterSettings.getAPIKey() === window.gigya.thisScript.APIKey) {
        adapterName = adapterSettings.getAdapterName();
    }
    return adapterName || 'web';
}
function autoLogin() {
    if (window.gigya.thisScript.globalConf['autoLogin']) {
        window.gigya.logger.info('triggering auto-login');
        facebookExternal.autoLogin();
        googlePlusExternal.autoLogin();
    }
}
exports.autoLogin = autoLogin;
function checkReturnFromRedirect(callback) {
    // Check if coming back from authflow redirect with pending error
    var oURLParams = URLUtils.getParamsFromURL(document.location.href);
    if (oURLParams['errorCode'] && oURLParams['regToken']) {
        window.gigya.logger.info("returned from redirect with regToken (errorCode: " + oURLParams['errorCode'] + ")");
        InternalFlows_1.checkCompleteRegistration(oURLParams, window.gigya.thisScript.globalConf, '', function () { return callback(); });
    }
    else {
        callback();
    }
}
exports.checkReturnFromRedirect = checkReturnFromRedirect;
function setMessagingMethod() {
    /// IMPORTANT: changing the messaging method should also affect the one in
    /// bootstrap.ts/setMessagingMethod
    /// LocalInfo.ts
    var browser = LocalInfo_1.localInfo;
    var method;
    if (browser.isIE11 && !window.indexedDB) {
        //IE11 inprivate browsing
        method = InternalFlows_1.MessagingMethod.Flash;
        window.gigya.thisScript.globalConf['legacyCrossSiteMethod'] = 'localConnection';
    }
    else if (browser.supportsPostMessage)
        method = InternalFlows_1.MessagingMethod.PostMessage;
    else
        method = InternalFlows_1.MessagingMethod.Flash;
    browser.messagingMethod = method;
    window.gigya.logger.info("selected messaging method is: " + InternalFlows_1.MessagingMethod[method]);
}
exports.setMessagingMethod = setMessagingMethod;
function injectExternalSdks() {
    queueUtils.queueForExecution('API', function () {
        functionsUtils.invokeOnPageLoad(function () {
            if (window.gigya.providersConfig.facebook) {
                window.gigya.logger.info('loading facebook sdk');
                facebookExternal.load(false);
            }
            if (window.gigya.providersConfig.googlePlus) {
                window.gigya.logger.info('loading google plus sdk');
                googlePlusExternal.load();
            }
        });
    });
}
exports.injectExternalSdks = injectExternalSdks;


/***/ }),

/***/ "./src/core/Gigya.Js/app/ClientAPI/CustomApis.ts":
/*!*******************************************************!*\
  !*** ./src/core/Gigya.Js/app/ClientAPI/CustomApis.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var globalEvents = __webpack_require__(/*! src/core/Gigya.Js/app/GlobalEvents */ "./src/core/Gigya.Js/app/GlobalEvents.ts");
var validationUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/validation */ "./src/core/Gigya.Js/app/Utils/validation.ts");
var facebookExternal = __webpack_require__(/*! src/core/Gigya.Js/app/ExternalIntegrations/Facebook */ "./src/core/Gigya.Js/app/ExternalIntegrations/Facebook.ts");
var googlePlusExternal = __webpack_require__(/*! src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus */ "./src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus.ts");
var ApisList_1 = __webpack_require__(/*! src/core/Gigya.Js/app/API/ApisList */ "./src/core/Gigya.Js/app/API/ApisList.ts");
var Opengraph = __webpack_require__(/*! src/core/Gigya.Js/app/ExternalIntegrations/Opengraph */ "./src/core/Gigya.Js/app/ExternalIntegrations/Opengraph.ts");
var winUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/win */ "./src/core/Gigya.Js/app/Utils/win.ts");
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
var stringUtilsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/stringUtils */ "./src/core/Gigya.Js/app/Utils/stringUtils.ts");
var keyValueUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/keyValue */ "./src/core/Gigya.Js/app/Utils/keyValue.ts");
var reports = __webpack_require__(/*! src/core/Gigya.Js/app/Reports */ "./src/core/Gigya.Js/app/Reports.ts");
var LegacyLogger_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LegacyLogger */ "./src/core/Gigya.Js/app/LegacyLogger.ts");
var InternalFlows_1 = __webpack_require__(/*! src/core/Gigya.Js/app/InternalFlows */ "./src/core/Gigya.Js/app/InternalFlows.ts");
var cookieUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/cookie */ "./src/core/Gigya.Js/app/Utils/cookie.ts");
var scriptUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/script */ "./src/core/Gigya.Js/app/Utils/script.ts");
var cdn_1 = __webpack_require__(/*! src/core/Gigya.Js/app/cdn */ "./src/core/Gigya.Js/app/cdn.ts");
var GSErrors_1 = __webpack_require__(/*! src/core/Gigya.Js/app/GSErrors */ "./src/core/Gigya.Js/app/GSErrors.ts");
var HTTPUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/HTTP */ "./src/core/Gigya.Js/app/Utils/HTTP.ts");
var functionsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/functions */ "./src/core/Gigya.Js/app/Utils/functions.ts");
// client side only APIs
exports.bookmarkSize = {
    facebook: { w: 640, h: 370 },
    twitter: { w: 880, h: 530 + 55 },
    messenger: { w: 710, h: 850 + 55 },
    linkedin: { w: 560, h: 500 },
    yahoobookmarks: { w: 840, h: 920 + 55 },
    digg: { w: 1010, h: 990 + 55 },
    googlebookmarks: { w: 710, h: 850 + 55 },
    mixi: { w: 640, h: 470 },
    googleplus: { w: 496, h: 420 },
};
function socializeAddEventHandlers() {
    var rest = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        rest[_i] = arguments[_i];
    }
    var params = objectUtils.merge([window.gigya.thisScript.globalConf, rest]);
    var namespace = params['namespace'] ? params['namespace'] : 'socialize';
    for (var eventName in params) {
        if (eventName.indexOf('on') == 0)
            globalEvents.add(eventName, params[eventName], params['listenerType'], params['context'], namespace, params);
    }
    if (typeof params['callback'] == 'function') {
        params['callback']({
            status: 'OK',
            statusMessage: '',
            errorCode: 0,
            errorMessage: '',
            operation: 'addEventHandlers',
            context: params['context'],
        });
    }
}
exports.socializeAddEventHandlers = socializeAddEventHandlers;
function accountsAddEventHandlers() {
    var rest = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        rest[_i] = arguments[_i];
    }
    socializeAddEventHandlers(objectUtils.merge([rest, { namespace: 'accounts' }]));
}
exports.accountsAddEventHandlers = accountsAddEventHandlers;
function isLoggedIn() {
    var params = objectUtils.merge([window.gigya.thisScript.globalConf, arguments]);
    window.gigya.socialize.getUserInfo(params, {
        callback: function (userInfoResponse) {
            var user = userInfoResponse['user'];
            var response = { loggedIn: user ? validationUtils.isExplicitTrue(user['isLoggedIn']) : false };
            objectUtils.extractProperties(userInfoResponse, response, 'status|statusMessage|callId|errorCode|errorMessage|errorDetails|context');
            if (params['callback'])
                params['callback'](response);
        },
    });
}
exports.isLoggedIn = isLoggedIn;
function waitForService() {
    var params = objectUtils.merge([window.gigya.thisScript.globalConf, arguments]);
    var service = params['service'];
    if (!service)
        return;
    service = service.toLowerCase();
    var callback = params['callback'];
    if (service == 'fbconnect' || service == 'facebook') {
        if (!facebookExternal.isLoaded()) {
            window.gigya.socialize.addEventHandlers({ listenerType: 'component' }, {
                onFacebookLoaded: callback,
                context: params['context'],
            });
        }
        else {
            callback({ context: params['context'] });
        }
    }
    if (service == 'googleplus') {
        if (!googlePlusExternal.isLoaded()) {
            window.gigya.socialize.addEventHandlers({ listenerType: 'component' }, {
                onGooglePlusLoaded: callback,
                context: params['context'],
            });
        }
        else {
            callback({ context: params['context'] });
        }
    }
}
exports.waitForService = waitForService;
function postBookmark() {
    var rest = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        rest[_i] = arguments[_i];
    }
    // Merge params with global params.
    var params = objectUtils.merge([window.gigya.thisScript.globalConf, rest]);
    if (!params['APIKey']) {
        params['APIKey'] = window.gigya.thisScript.APIKey;
    }
    // Extract whitelisted params.
    var requestParams = {};
    objectUtils.extractProperties([params], requestParams, ApisList_1.postBookmarkSchema);
    // Accept URL or url as parameter, but standardize to "url" as documented.
    if (!requestParams['url'] && requestParams['URL']) {
        requestParams['url'] = requestParams['URL'];
        delete requestParams['URL'];
    }
    // Pass JS SDK version as param.
    requestParams['sdk'] = 'js_' + window.gigya.build.version;
    // Default url to og:url if not passed as param and userAction passed.
    if (!requestParams['url'] && requestParams['userAction'] && !requestParams['userAction']['linkBack']) {
        var metas = document.getElementsByTagName('meta');
        for (var i = 0; i < metas.length; i++) {
            if (metas[i].getAttribute('property') === 'og:url' && metas[i].getAttribute('content')) {
                requestParams['url'] = metas[i].getAttribute('content');
                break;
            }
        }
    }
    // Default url to current page if userAction passed.
    if (!requestParams['url'] && (requestParams['userAction'] && !requestParams['userAction']['linkBack'])) {
        requestParams['url'] = document.location.href;
    }
    // Provider name always lowercase.
    requestParams['provider'] = requestParams['provider'] ? (requestParams['provider'] + '').toLowerCase() : '';
    // Default providerKey to fb:app_id meta tag.
    if (requestParams['provider'] === 'facebook') {
        requestParams['providerKey'] = Opengraph.getMetaTag('fb:app_id');
    }
    var gmidTicket = window.gigya._.apiAdapter.getGmidTicket();
    // gmidTicket is needed if 3rd party cookies are blocked.
    if (gmidTicket) {
        requestParams['gmidTicket'] = gmidTicket;
    }
    // Find provider-specific window size (does not always exist).
    var defaultSize = window.gigya._.bookmarkSize[requestParams['provider']] || {};
    // Look for user-provided popup dimensions and position.
    var windowOptions = {
        width: params['popupWidth'] || defaultSize.w,
        height: params['popupHeight'] || defaultSize.h,
        top: params['popupPositionY'],
        left: params['popupPositionX'],
        menubar: 0,
        resizable: 1,
        scrollbars: 1,
    };
    // Allow location/toolbar to be toggled on.
    if (params['enablePopupLocation']) {
        windowOptions.location = 1;
        windowOptions.toolbar = 1;
    }
    else {
        windowOptions.toolbar = 0;
    }
    //Add login_token to request
    var tokenStore = window.gigya._.apiAdapters['web'] ? window.gigya._.apiAdapters['web'].tokenStore : undefined;
    if (tokenStore) {
        requestParams['login_token'] = window.gigya._.apiAdapters.web.tokenStore.get();
    }
    // Respect custom API domain prefix.
    var finalURL;
    if (requestParams['provider'] === 'twitter' && LocalInfo_1.localInfo.isIOS) {
        var userAction = requestParams['userAction'] || {};
        // Direct link to Twitter to prevent blank page on Safari iOS - see #42020.
        var qs = {
            url: userAction['linkBack'] || requestParams['url'],
            text: userAction['title'] || requestParams['title'],
        };
        var urlTemplate = 'https://twitter.com/intent/tweet?{0}';
        finalURL = stringUtilsUtils.format(urlTemplate, keyValueUtils.serialize(qs));
        var sourceData = params['sourceData'] ? objectUtils.clone(params['sourceData']) : {};
        sourceData.provider = requestParams['provider'];
        sourceData.url = qs.url;
        reports.report('share', params['APIKey'], params['cid'], params['source'], sourceData, { tags: params['tags'] });
    }
    else {
        var qs = keyValueUtils.serialize(requestParams);
        var urlTemplate = "https://" + window.gigya._.getApiDomain('socialize') + "/gs/bookmark.aspx?{0}";
        finalURL = stringUtilsUtils.format(urlTemplate, qs);
    }
    // Dispatch and log event.
    LegacyLogger_1.logCall('postBookmark', requestParams);
    globalEvents.dispatch({
        eventName: 'beforeRequest',
        methodName: 'socialize.postBookmark',
        rawParams: params,
        params: requestParams,
    });
    var windowName = requestParams['provider'] === 'whatsapp' ? '_self' : 'gs_bookmark_' + requestParams['provider'];
    // Open window.
    winUtils.open(finalURL, windowName, windowOptions);
}
exports.postBookmark = postBookmark;
function refreshUI() {
    var rest = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        rest[_i] = arguments[_i];
    }
    var params = objectUtils.merge([window.gigya.thisScript.globalConf, rest]);
    var originalCallback = params['callback'];
    window.gigya.socialize.getUserInfo(params, {
        callback: function (res) {
            var oEvent = {
                eventName: 'login',
                isInternal: true,
            };
            if (params['provider'])
                oEvent['provider'] = params['provider'];
            InternalFlows_1.addUserInfoToEvent(res, oEvent, true);
            if (params['context'])
                oEvent['context'] = params['context'];
            globalEvents.dispatch(oEvent);
            if (typeof originalCallback == 'function')
                originalCallback(res);
        },
    });
}
exports.refreshUI = refreshUI;
function trackReferrals() {
    var rest = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        rest[_i] = arguments[_i];
    }
    var oReferrers = {
        //domain:provider
        'digg.com': 'digg',
        'stumbleupon.com': 'stumbleupon',
        'technorati.com': 'technorati',
        't.co': 'twitter',
        'plus.url.google.com': 'googlePlus',
        'facebook.com': 'facebook',
        'linkedin.com': 'linkedIn',
        'pinterest.com': 'pinterest',
        'mixi.jp': 'mixi',
        'b.hatena.ne.jp': 'hatena',
        'line.me': 'line',
    };
    var reportedReferrals;
    var params = objectUtils.merge([window.gigya.thisScript.globalConf, rest]);
    var linkBackEvent = {
        eventName: 'linkback',
        CID: params['cid'],
    };
    var URLParams = {};
    var fargmentParams = {};
    if (document.location.href.indexOf('#') != -1) {
        fargmentParams = keyValueUtils.deserialize(document.location.href.split('#')[1]);
    }
    if (document.location.href.indexOf('?') != -1) {
        URLParams = keyValueUtils.deserialize(document.location.href.split('?')[1].split('#')[0]);
    }
    window.gigya.socialize.updateRefUID(params['APIKey'], fargmentParams, URLParams);
    var gus = fargmentParams['_gus'] != null || URLParams['_gus'] != null; // _gus means it's reported by soc.li (Gigya Url Shortner) so we don't need to report it again
    if (gus) {
        linkBackEvent.CID = fargmentParams['_gucid'] || URLParams['_gucid'];
        linkBackEvent.shortCode = fargmentParams['_gsc'] || URLParams['_gsc'];
        linkBackEvent.provider = fargmentParams['_gup'] || URLParams['_gup'];
    }
    if (!reportedReferrals) {
        var source;
        var reportParams = {
            url: document.location.href,
            ref: document.referrer,
        };
        if (URLParams['fb_ref']) {
            // from sharebarUI facebook-like and facebook-send buttons
            var fbParams = keyValueUtils.deserialize(URLParams['fb_ref'], ':');
            reportParams['uuid'] = fbParams['uu'];
            reportParams['sn'] = fbParams['p'];
            source = fbParams['s'];
        }
        else if (document.referrer && document.referrer.indexOf('://') != -1) {
            var referringDomain = document.referrer.split('://')[1].split('/')[0];
            if (referringDomain.indexOf('www.') == 0) {
                referringDomain = referringDomain.split('www.')[1];
            }
            if (oReferrers[referringDomain]) {
                linkBackEvent.provider = reportParams['sn'] = oReferrers[referringDomain];
            }
        }
        // AddressBarShares (with hash parameters)
        if (!reportParams['sn'] &&
            (!document.referrer || (document.referrer.indexOf('http://soc.li') == -1 && document.referrer.indexOf('https://shr.gs') == -1))) {
            var arHashSegs = document.location.href.split('#guid=');
            if (arHashSegs.length > 1) {
                var hashUUID = arHashSegs[1].split('#')[0].split('&')[0];
                if (hashUUID != window.gigya._.apiAdapter.getTokenParam(params['APIKey'], 'UUID')) {
                    reportParams['sn'] = 'AddressBarShares';
                    reportParams['uuid'] = hashUUID;
                    if (hashUUID == '_')
                        delete reportParams['uuid'];
                    document.location.replace('#');
                    reports.trackAddressBarShares();
                    reportParams.url = document.location.href.split('#')[0];
                }
            }
        }
        // _gigRefUid_<APIKey> cookie is used to report the referring uuid when the next request of a logged in user will go out (for gm points)
        if (reportParams['uuid'])
            cookieUtils.set('_gigRefUid_' + params['APIKey'], reportParams['uuid']);
        if (reportParams['sn'] && !gus)
            reports.report('linkback', params['APIKey'], params['cid'], source, null, reportParams);
        if (reportParams['sn'] || gus)
            globalEvents.dispatch(objectUtils.removeUndefined(linkBackEvent));
        reportedReferrals = true;
    }
    if (typeof params['callback'] == 'function')
        params['callback']({
            status: 'OK',
            statusMessage: '',
            operation: 'trackReferrals',
            context: params['context'],
            errorMessage: '',
            errorCode: 0,
        });
}
exports.trackReferrals = trackReferrals;
function updateRefUID(apiKey, fragmentParams, URLParams) {
    if (!apiKey)
        apiKey = window.gigya.thisScript.globalConf['APIKey'];
    if (!fragmentParams) {
        fragmentParams = {};
        if (document.location.href.indexOf('#') != -1) {
            fragmentParams = keyValueUtils.deserialize(document.location.href.split('#')[1]);
        }
    }
    if (!URLParams) {
        URLParams = {};
        if (document.location.href.indexOf('?') != -1) {
            URLParams = keyValueUtils.deserialize(document.location.href.split('?')[1].split('#')[0]);
        }
    }
    if (fragmentParams['guid'] && fragmentParams['guid'] != '_')
        cookieUtils.set('_gigRefUid_' + apiKey, fragmentParams['guid']);
    var refUuid = fragmentParams['_giguuid'] || URLParams['_giguuid'];
    if (refUuid) {
        cookieUtils.set('_gigRefUid_' + apiKey, refUuid);
    }
}
exports.updateRefUID = updateRefUID;
function hideUI() {
    var rest = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        rest[_i] = arguments[_i];
    }
    var params = objectUtils.merge([window.gigya.thisScript.globalConf, rest]);
    if (typeof params['callback'] == 'function') {
        var oResponse = {
            status: 'OK',
            statusMessage: '',
            operation: 'hideUI',
            context: params['context'],
            errorMessage: '',
            errorCode: 0,
        };
        params['callback'](oResponse);
    }
}
exports.hideUI = hideUI;
function submitUserForm() {
    var rest = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        rest[_i] = arguments[_i];
    }
    var oUserData = {};
    var params = objectUtils.merge([window.gigya.thisScript.globalConf, rest]);
    var form = document.getElementById(params['form']);
    if (!form) {
        var arForms = document.getElementsByName(params['form']);
        if (arForms && arForms.length > 0)
            params['form'] = arForms[0];
    }
    for (var i = 0; i < form['elements'].length; i++) {
        var el = form['elements'][i];
        if (el.name) {
            var arNameSegments = el.name.split('.');
            var oCurrentSegment = oUserData;
            for (var iSegment = 0; iSegment < arNameSegments.length - 1; iSegment++) {
                var sSegment = arNameSegments[iSegment];
                if (!oCurrentSegment[sSegment])
                    oCurrentSegment[sSegment] = {};
                oCurrentSegment = oCurrentSegment[sSegment];
            }
            oCurrentSegment[arNameSegments[arNameSegments.length - 1]] = el.value;
        }
    }
    params['data'] = oUserData;
    window.gigya.gcs.setUserData(params);
}
exports.submitUserForm = submitUserForm;
function getProviderShareCounts() {
    var rest = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        rest[_i] = arguments[_i];
    }
    var params = objectUtils.merge([window.gigya.thisScript.globalConf, rest]);
    scriptUtils.load(cdn_1.getCdnResource('/js/gigya.services.socialize.plugins.shareCounts.min.js'), null, function () {
        window.gigya.socialize.plugins.shareCounts.getProviderShareCounts(params);
    }, true);
}
exports.getProviderShareCounts = getProviderShareCounts;
function openDelegateAdminHandler(params) {
    if (!params || !params.orgId) {
        window.gigya.logger.warn("gigya.accounts.b2b.openDelegatedAdminLogin - missing orgId parameter.");
    }
    else {
        var myWindow_1 = window.open('', '_blank');
        window.gigya.accounts.b2b.delegatedAdminLogin({
            orgId: params.orgId,
            callback: function (res) {
                if (res.errorCode !== GSErrors_1.GSErrors.OK) {
                    myWindow_1.close();
                    if (typeof params.onError === 'function') {
                        params.onError(res);
                    }
                }
                else if (!res.targetUrl || !res.id_token) {
                    myWindow_1.close();
                    window.gigya.logger.error("accounts.b2b.delegatedAdminLogin - missing required params", { targetURL: res.targetUrl, id_token: res.id_token });
                }
                else {
                    HTTPUtils.redirect(res.targetUrl, [{ id_token: res.id_token }], 'POST', undefined, myWindow_1.document);
                }
            },
        });
    }
}
exports.openDelegateAdminHandler = openDelegateAdminHandler;
window.gigya.socialize.updateRefUID = updateRefUID;
window.gigya.socialize.hideUI = hideUI;
window.gigya.gcs.submitUserForm = submitUserForm;
window.gigya.socialize.getProviderShareCounts = getProviderShareCounts;
window.gigya.socialize.addEventHandlers = socializeAddEventHandlers;
window.gigya.accounts.addEventHandlers = accountsAddEventHandlers;
window.gigya.socialize.isLoggedIn = isLoggedIn;
window.gigya.socialize.waitForService = waitForService;
window.gigya.socialize.postBookmark = postBookmark;
window.gigya.socialize.refreshUI = refreshUI;
window.gigya.socialize.trackReferrals = trackReferrals;
functionsUtils.createAlias('gigya.accounts.b2b.openDelegatedAdminLogin', openDelegateAdminHandler);
functionsUtils.createAlias('gigya.accounts.setSSOToken', window.gigya.setSSOToken);


/***/ }),

/***/ "./src/core/Gigya.Js/app/ClientAPI/ISamlConfig.ts":
/*!********************************************************!*\
  !*** ./src/core/Gigya.Js/app/ClientAPI/ISamlConfig.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });


/***/ }),

/***/ "./src/core/Gigya.Js/app/ClientAPI/SamlApi.ts":
/*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/ClientAPI/SamlApi.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var URLUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/URL */ "./src/core/Gigya.Js/app/Utils/URL.ts");
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
function getProxyUrl() {
    var url = window.gigya.samlConfig && window.gigya.samlConfig.proxyPageURL;
    if (!url) {
        window.gigya.logger.warn('missing proxy page url');
    }
    return url;
}
function initSSO(params) {
    var proxyPage = getProxyUrl();
    var url = URLUtils.addParamsToURL(proxyPage, objectUtils.merge([
        {
            mode: 'initSSO',
        },
        params,
    ]));
    window.location.href = url;
}
exports.initSSO = initSSO;
function continueSSO() {
    var proxyPage = getProxyUrl();
    var args = URLUtils.getParamsFromURL(location.href);
    var url = URLUtils.addParamsToURL(proxyPage, {
        mode: 'afterLogin',
        samlContext: args['samlContext'],
    });
    window.location.href = url;
}
exports.continueSSO = continueSSO;


/***/ }),

/***/ "./src/core/Gigya.Js/app/DefaultEventsMap.ts":
/*!***************************************************!*\
  !*** ./src/core/Gigya.Js/app/DefaultEventsMap.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// Global and widget events handling
Object.defineProperty(exports, "__esModule", { value: true });
exports.defaultEventMaps = window.gigya.defaultEventMaps || [];


/***/ }),

/***/ "./src/core/Gigya.Js/app/Events.ts":
/*!*****************************************!*\
  !*** ./src/core/Gigya.Js/app/Events.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var GSErrors_1 = __webpack_require__(/*! src/core/Gigya.Js/app/GSErrors */ "./src/core/Gigya.Js/app/GSErrors.ts");
var LegacyLogger_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LegacyLogger */ "./src/core/Gigya.Js/app/LegacyLogger.ts");
var InternalFlows_1 = __webpack_require__(/*! src/core/Gigya.Js/app/InternalFlows */ "./src/core/Gigya.Js/app/InternalFlows.ts");
var arrayUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/array */ "./src/core/Gigya.Js/app/Utils/array.ts");
var templatesUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/templates */ "./src/core/Gigya.Js/app/Utils/templates.ts");
function getEventHandlerName(eventName) {
    if (eventName.substring(0, 2) === 'on') {
        return eventName;
    }
    else {
        return 'on' + eventName.substring(0, 1).toUpperCase() + eventName.substring(1);
    }
}
function addMap(map) {
    window.gigya.defaultEventMaps.splice(0, 0, map);
}
exports.addMap = addMap;
function dispatchErrorFromResponse(widgetParams, response, additionalProperties) {
    if (!response) {
        response = {};
    }
    var r = response;
    if (r.response) {
        r = r.response;
    }
    var eventObj = {
        eventName: 'error',
        status: r.status ? r.status : 'FAIL',
        statusMessage: r.statusMessage ? r.statusMessage : 'General Server Error',
        errorMessage: r.errorMessage ? r.errorMessage : 'General Server Error',
        errorDetails: r.errorDetails ? r.errorDetails : '',
        errorCode: r.errorCode ? r.errorCode : 500001,
        response: response,
    };
    objectUtils.add(eventObj, additionalProperties);
    dispatchForWidget(eventObj, widgetParams);
}
exports.dispatchErrorFromResponse = dispatchErrorFromResponse;
function dispatchInvalidParamError(widgetParams, paramName) {
    var evt = { eventName: 'error' };
    if (typeof widgetParams[paramName] == 'undefined' || widgetParams[paramName] == null) {
        evt.errorCode = GSErrors_1.GSErrors.MISSING_REQUIRED_PARAMETER;
        evt.errorMessage = 'Missing_required_parameter (' + paramName + ')';
    }
    else {
        evt.errorCode = GSErrors_1.GSErrors.INVALID_PARAMETER_VALUE;
        evt.errorMessage = 'Invalid_parameter_value (' + paramName + ')';
    }
    evt.status = evt.errorCode;
    evt.statusMessage = evt.errorMessage;
    dispatchForWidget(evt, widgetParams);
}
exports.dispatchInvalidParamError = dispatchInvalidParamError;
function dispatchForWidget(e, widgetParams) {
    if (!e || !e.eventName)
        return;
    var eventName = e.eventName;
    LegacyLogger_1.addLog('Dispatching widget event "' + eventName + '" for ' + widgetParams.lastSource + ' with this event object', e);
    //gigya.socialize._AdjustResponseStatus(eventObj);
    InternalFlows_1.handleSpecialFields(e);
    var arEvents = eventName.split(',');
    var result;
    for (var i = 0; i < arEvents.length; i++) {
        var eventName_1 = arEvents[i];
        var eventHandlerName = getEventHandlerName(eventName_1);
        if (widgetParams) {
            if (widgetParams.context) {
                e.context = widgetParams.context;
            }
            if (widgetParams.source) {
                e.source = widgetParams.source;
            }
            if (widgetParams.sourceData) {
                e.sourceData = widgetParams.sourceData;
            }
            if (widgetParams.containerID) {
                e.sourceContainerID = widgetParams.containerID;
            }
            if (widgetParams.instanceID) {
                e.instanceID = widgetParams.instanceID;
            }
        }
        if (widgetParams[eventHandlerName]) {
            result = dispatchEventObject(widgetParams[eventHandlerName], e);
        }
        if (typeof result === 'undefined') {
            result = true;
        }
        if (eventName_1.indexOf('login') == -1 && eventName_1.indexOf('logout') == -1 && eventName_1 != 'connectionRemoved' && eventName_1 != 'connectionAdded') {
            _dispatchFromMaps(e);
            var GenesisExchange_Gigya = window['GenesisExchange_Gigya'];
            var gigya_omniture_conf = window['gigya_omniture_conf'];
            var myOmnitureIntegrationFunc = window['myOmnitureIntegrationFunc'];
            if (typeof GenesisExchange_Gigya != 'undefined' && typeof gigya_omniture_conf != 'undefined') {
                var ge = new GenesisExchange_Gigya(gigya_omniture_conf);
                ge.processAction(e);
                if (typeof myOmnitureIntegrationFunc != 'undefined') {
                    myOmnitureIntegrationFunc(gigya_omniture_conf, e);
                }
            }
        }
    }
    return result;
}
exports.dispatchForWidget = dispatchForWidget;
function dispatchEventObject(handlers, e) {
    var result;
    try {
        if (typeof handlers == 'function') {
            result = handlers(e);
        }
        else if (!(handlers instanceof Array)) {
            LegacyLogger_1.addLog('Not a function or function array registered to event', handlers);
        }
        else {
            arrayUtils.forEach(handlers, function (handler) {
                if (typeof handler == 'function') {
                    handler(e);
                }
                else {
                    LegacyLogger_1.addLog('Not a function registered to event: ' + handler, handler);
                }
            });
            /// TODO: not collecting results.. should it?
        }
    }
    catch (ex) {
        LegacyLogger_1.addLog('Error invoking function registered to event', handlers);
    }
    return result;
}
exports.dispatchEventObject = dispatchEventObject;
function _dispatchFromMaps(evt, isGlobal) {
    if (isGlobal === void 0) { isGlobal = false; }
    var arDispatch = [];
    var stop = false;
    for (var i = 0; i < window.gigya.defaultEventMaps.length; i++) {
        var map = window.gigya.defaultEventMaps[i].eventMap;
        var defaultMethod = window.gigya.defaultEventMaps[i].defaultMethod;
        for (var u = 0; u < map.length; u++) {
            var oField = map[u];
            var processedArgs = [];
            if (!oField.args)
                oField.args = [];
            for (var iArg = 0; iArg < oField.args.length; iArg++) {
                if (oField.args[iArg] == '$event') {
                    processedArgs.push(evt);
                }
                else {
                    processedArgs.push(templatesUtils.fill(oField.args[iArg], evt));
                }
            }
            var sEvents = ',' + oField.events.toLowerCase() + ',';
            if (sEvents.indexOf(',*,') != -1 ||
                ((sEvents.indexOf(',' + 'on' + evt.eventName.toLowerCase() + ',') != -1 || sEvents.indexOf(',' + evt.eventName.toLowerCase() + ',') != -1) &&
                    ((!evt.source && !oField.sources) || !oField.sources || oField.sources.indexOf(evt.source) != -1))) {
                arDispatch.push(oField);
                var method = oField.method ? oField.method : defaultMethod;
                try {
                    method.apply(this, processedArgs);
                }
                catch (e) {
                    LegacyLogger_1.addLog("Error invoking function registered to events map's method", method);
                }
                if (oField.override) {
                    stop = true;
                }
            }
        }
        if (stop)
            break;
    }
}
exports._dispatchFromMaps = _dispatchFromMaps;


/***/ }),

/***/ "./src/core/Gigya.Js/app/ExternalIntegrations/Facebook.ts":
/*!****************************************************************!*\
  !*** ./src/core/Gigya.Js/app/ExternalIntegrations/Facebook.ts ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var globalEvents = __webpack_require__(/*! src/core/Gigya.Js/app/GlobalEvents */ "./src/core/Gigya.Js/app/GlobalEvents.ts");
var DOMUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/DOM */ "./src/core/Gigya.Js/app/Utils/DOM.ts");
var scriptUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/script */ "./src/core/Gigya.Js/app/Utils/script.ts");
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
var _waitingForService = [];
exports.isLoggedIn = false;
exports.isConnected = false;
function isLoaded() {
    return exports.initializedTime != null;
}
exports.isLoaded = isLoaded;
function load(noAppID) {
    if (exports.initializedTime)
        return;
    exports.initializedTime = null;
    window.setInterval(function () {
        refreshSession();
    }, 45 * 60 * 1000);
    window['fbAsyncInit'] = function () {
        var oInit = objectUtils.clone(window.gigya.thisScript.globalConf['facebookInitParams']);
        if (!oInit)
            oInit = {};
        if (window.gigya.providersConfig.facebook) {
            oInit.appId = window.gigya.providersConfig.facebook.appID;
            oInit.version = window.gigya.providersConfig.facebook.version;
        }
        else {
            oInit.version = 'v1.0'; // only v1.0 allows init without an appId
        }
        oInit.status = false; // It's better to get login status manually so that we could dispatch the facebookLoaded event only after we have the FB session params.
        oInit.cookie = true;
        oInit.xfbml = true;
        oInit.oauth = true;
        FB.init(oInit);
        if (noAppID != true) {
            FB.getLoginStatus(function (response) {
                exports.initializedTime = new Date();
                exports.isConnected = response.status == 'connected';
                exports.isLoggedIn = response.status != 'unknown';
                globalEvents.dispatch({
                    eventName: 'facebookLoaded',
                    isLoggedIn: exports.isLoggedIn,
                    isConnected: exports.isConnected,
                });
                window.gigya.socialize.addEventHandlers({ listenerType: 'component' }, {
                    listenerDescription: 'listener for updating Facebook Connect session',
                    onLogin: function () {
                        refreshSession();
                    },
                    onConnect: function () {
                        refreshSession();
                    },
                    onLogout: function () {
                        refreshSession();
                    },
                });
            }, true);
        }
        else {
            exports.initializedTime = new Date();
            globalEvents.dispatch({
                eventName: 'facebookLoaded',
                isLoggedIn: exports.isLoggedIn,
                isConnected: exports.isConnected,
            });
        }
    };
    var divFbRoot = document.createElement('div');
    divFbRoot.id = 'fb-root';
    DOMUtils.appendToBody(divFbRoot);
    scriptUtils.load(LocalInfo_1.localInfo.protocol + '://connect.facebook.net/' + window.gigya.thisScript.lang.full.replace('-', '_') + '/sdk.js', null, function () {
        if (document.documentElement.style.display == 'none') {
            // facebook bug (when theres a fb_xd_fragment in the page URL) - Facebook will not load in this scenario.
            document.documentElement.style.display = '';
        }
    }, true);
}
exports.load = load;
function refreshSession() {
    if (typeof FB == 'undefined')
        return;
    var fncCallback = function (response) {
        exports.initializedTime = new Date();
        exports.isConnected = response.status == 'connected';
        exports.isLoggedIn = response.status != 'unknown';
        globalEvents.dispatch({ eventName: 'FBCRefreshed' });
    };
    if (window.gigya.providersConfig.facebook && window.gigya.providersConfig.facebook.appID && FB && FB.getLoginStatus) {
        FB.getLoginStatus(fncCallback, true);
    }
}
exports.refreshSession = refreshSession;
function retryPending() {
    var callbacks = _waitingForService;
    for (var i = 0; i < callbacks.length; i++) {
        callbacks[i]();
    }
    _waitingForService = [];
}
exports.retryPending = retryPending;
function runWhenLoaded(callback) {
    _waitingForService.push(callback);
}
exports.runWhenLoaded = runWhenLoaded;
function getParams() {
    var oTarget = {};
    if (typeof FB != 'undefined' && FB.getAuthResponse) {
        try {
            //FB poor oauth implementation fails sometimes
            var authResponse = FB.getAuthResponse();
            if (authResponse) {
                if (authResponse.userID != null)
                    oTarget['fb_UID'] = authResponse.userID;
                if (authResponse.accessToken != null)
                    oTarget['fb_at'] = authResponse.accessToken;
                if (authResponse.expiresIn != null)
                    oTarget['fb_exp'] = authResponse.expiresIn;
            }
        }
        catch (ex) { }
    }
    return oTarget;
}
exports.getParams = getParams;
function autoLogin() {
    window.gigya.socialize.waitForService({
        service: 'facebook',
        callback: function () {
            window.gigya._.apiAdapter.isSessionValid(window.gigya.thisScript.globalConf, function (isValid) {
                var fbSession = getParams();
                if (!isValid && fbSession && fbSession['fb_at'] && !window.gigya._.autoLoginInProgress) {
                    window.gigya._.autoLoginInProgress = true;
                    window.gigya.socialize.notifyLogin({
                        providerSessions: {
                            facebook: {
                                authToken: fbSession['fb_at'],
                                tokenExpiresIn: fbSession['fb_exp'],
                            },
                        },
                    });
                }
            });
        },
    });
}
exports.autoLogin = autoLogin;


/***/ }),

/***/ "./src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus.ts":
/*!******************************************************************!*\
  !*** ./src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var globalEvents = __webpack_require__(/*! src/core/Gigya.Js/app/GlobalEvents */ "./src/core/Gigya.Js/app/GlobalEvents.ts");
function isLoaded() {
    return exports.initializedTime != null;
}
exports.isLoaded = isLoaded;
function load() {
    var _this = this;
    if (exports.initializedTime)
        return;
    if (!window.gigya.providersConfig.googlePlus)
        return;
    exports.initializedTime = null;
    var po = document.createElement('script');
    po.type = 'text/javascript';
    po.async = true;
    window['__gigya_handleClientLoad'] = function () { return _this.handleClientLoad(); };
    po.src = 'https://apis.google.com/js/client.js?onload=__gigya_handleClientLoad';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(po, s);
}
exports.load = load;
function handleClientLoad() {
    try {
        delete window['__gigya_handleClientLoad'];
    }
    catch (e) {
        window['__gigya_handleClientLoad'] = undefined;
    }
    exports.initializedTime = new Date();
    globalEvents.dispatch({
        eventName: 'googlePlusLoaded',
    });
}
exports.handleClientLoad = handleClientLoad;
function refreshSession() {
    if (typeof gapi == 'undefined')
        return;
}
exports.refreshSession = refreshSession;
function autoLogin() {
    window.gigya.socialize.waitForService({
        service: 'googlePlus',
        callback: function () {
            window.gigya._.apiAdapter.isSessionValid(window.gigya.thisScript.globalConf, function (isValid) {
                if (!isValid) {
                    gapi.auth.authorize({
                        client_id: window.gigya.providersConfig.googlePlus.clientId,
                        scope: window.gigya.providersConfig.googlePlus.scopes,
                        immediate: true,
                        response_type: 'token',
                    }, function (authResult) {
                        if (authResult && authResult.access_token && !window.gigya._.autoLoginInProgress) {
                            window.gigya._.autoLoginInProgress = true;
                            window.gigya.socialize.notifyLogin({
                                providerSessions: {
                                    googlePlus: {
                                        authToken: authResult.access_token,
                                    },
                                },
                            });
                        }
                    });
                }
            });
        },
    });
}
exports.autoLogin = autoLogin;


/***/ }),

/***/ "./src/core/Gigya.Js/app/ExternalIntegrations/Opengraph.ts":
/*!*****************************************************************!*\
  !*** ./src/core/Gigya.Js/app/ExternalIntegrations/Opengraph.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// Opengraph utils
Object.defineProperty(exports, "__esModule", { value: true });
function getMetaTag(ogTagName) {
    var metas = document.getElementsByTagName('meta');
    for (var i = 0; i < metas.length; i++) {
        if (metas[i].getAttribute('property') == ogTagName && metas[i].getAttribute('content')) {
            return metas[i].getAttribute('content');
        }
    }
}
exports.getMetaTag = getMetaTag;


/***/ }),

/***/ "./src/core/Gigya.Js/app/GSErrors.ts":
/*!*******************************************!*\
  !*** ./src/core/Gigya.Js/app/GSErrors.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
var GSErrors;
(function (GSErrors) {
    GSErrors[GSErrors["OK"] = 0] = "OK";
    GSErrors[GSErrors["Data_Pending"] = 100001] = "Data_Pending";
    GSErrors[GSErrors["NETWORK_ERROR"] = 500026] = "NETWORK_ERROR";
    GSErrors[GSErrors["DATA_PENDING"] = 100001] = "DATA_PENDING";
    GSErrors[GSErrors["OPERATION_CANCELED"] = 200001] = "OPERATION_CANCELED";
    GSErrors[GSErrors["PERMISSION_GRANTED"] = 200002] = "PERMISSION_GRANTED";
    GSErrors[GSErrors["PERMISSION_NOT_GRANTED"] = 200003] = "PERMISSION_NOT_GRANTED";
    GSErrors[GSErrors["REDIRECT"] = 200004] = "REDIRECT";
    GSErrors[GSErrors["NEW_USER"] = 200005] = "NEW_USER";
    GSErrors[GSErrors["OPERATION_DONE"] = 200006] = "OPERATION_DONE";
    GSErrors[GSErrors["UPDATE_USER"] = 200007] = "UPDATE_USER";
    GSErrors[GSErrors["OK_WITH_ERRORS"] = 200008] = "OK_WITH_ERRORS";
    GSErrors[GSErrors["ACCOUNTS_LINKED"] = 200009] = "ACCOUNTS_LINKED";
    GSErrors[GSErrors["OK_WITH_ERROR_LOGIN_IDENTIFIER_EXISTS"] = 200010] = "OK_WITH_ERROR_LOGIN_IDENTIFIER_EXISTS";
    GSErrors[GSErrors["ACCOUNT_PENDING_REGISTRATION"] = 206001] = "ACCOUNT_PENDING_REGISTRATION";
    GSErrors[GSErrors["ACCOUNT_PENDING_VERIFICATION"] = 206002] = "ACCOUNT_PENDING_VERIFICATION";
    GSErrors[GSErrors["ACCOUNT_MISSING_LOGINID"] = 206003] = "ACCOUNT_MISSING_LOGINID";
    GSErrors[GSErrors["IDENTITY_ALREADY_ASSIGNED"] = 206004] = "IDENTITY_ALREADY_ASSIGNED";
    GSErrors[GSErrors["AFTER_EMAIL_VERIFICATION"] = 206005] = "AFTER_EMAIL_VERIFICATION";
    GSErrors[GSErrors["PENDING_CODE_VERIFICATION"] = 206006] = "PENDING_CODE_VERIFICATION";
    GSErrors[GSErrors["CLIENT_LOG"] = 300001] = "CLIENT_LOG";
    GSErrors[GSErrors["INVALID_DATA_CENTER"] = 301001] = "INVALID_DATA_CENTER";
    GSErrors[GSErrors["INVALID_REQUEST_FORMAT"] = 400001] = "INVALID_REQUEST_FORMAT";
    GSErrors[GSErrors["MISSING_REQUIRED_PARAMETER"] = 400002] = "MISSING_REQUIRED_PARAMETER";
    GSErrors[GSErrors["UNIQUE_IDENTIFIER_EXISTS"] = 400003] = "UNIQUE_IDENTIFIER_EXISTS";
    GSErrors[GSErrors["INVALID_PARAMETER_FORMAT"] = 400004] = "INVALID_PARAMETER_FORMAT";
    GSErrors[GSErrors["INVALID_PARAMETER_VALUE"] = 400006] = "INVALID_PARAMETER_VALUE";
    GSErrors[GSErrors["DUPLICATE_VALUE"] = 400007] = "DUPLICATE_VALUE";
    GSErrors[GSErrors["INVALID_AUTHENTICATION_HEADER"] = 400008] = "INVALID_AUTHENTICATION_HEADER";
    GSErrors[GSErrors["VALIDATION_ERROR"] = 400009] = "VALIDATION_ERROR";
    GSErrors[GSErrors["INVALID_REDIRECT_URI"] = 400011] = "INVALID_REDIRECT_URI";
    GSErrors[GSErrors["INVALID_RESPONSE_TYPE"] = 400012] = "INVALID_RESPONSE_TYPE";
    GSErrors[GSErrors["UNSUPPORTED_GRANT_TYPE"] = 400013] = "UNSUPPORTED_GRANT_TYPE";
    GSErrors[GSErrors["INVALID_GRANT"] = 400014] = "INVALID_GRANT";
    GSErrors[GSErrors["CODE_EXPIRED"] = 400015] = "CODE_EXPIRED";
    GSErrors[GSErrors["SCHEMA_VALIDATION_FAILED"] = 400020] = "SCHEMA_VALIDATION_FAILED";
    GSErrors[GSErrors["CAPTCHA_VERIFICATION_FAILED"] = 400021] = "CAPTCHA_VERIFICATION_FAILED";
    GSErrors[GSErrors["UNIQUE_INDEX_VALIDATION_ERROR"] = 400022] = "UNIQUE_INDEX_VALIDATION_ERROR";
    GSErrors[GSErrors["INVALID_TYPE_VALIDATION_ERROR"] = 400023] = "INVALID_TYPE_VALIDATION_ERROR";
    GSErrors[GSErrors["DYNAMIC_FIELDS_VALIDATION_ERROR"] = 400024] = "DYNAMIC_FIELDS_VALIDATION_ERROR";
    GSErrors[GSErrors["WRITE_ACCESS_VALIDATION_ERROR"] = 400025] = "WRITE_ACCESS_VALIDATION_ERROR";
    GSErrors[GSErrors["INVALID_FORMAT_VALIDATION_ERROR"] = 400026] = "INVALID_FORMAT_VALIDATION_ERROR";
    GSErrors[GSErrors["REQUIRED_VALUE_VALIDATION_ERROR"] = 400027] = "REQUIRED_VALUE_VALIDATION_ERROR";
    GSErrors[GSErrors["EMAIL_NOT_VERIFIED"] = 400028] = "EMAIL_NOT_VERIFIED";
    GSErrors[GSErrors["SCHEMA_CONFLICT_ERROR"] = 400029] = "SCHEMA_CONFLICT_ERROR";
    GSErrors[GSErrors["OPERATION_NOT_ALLOWED"] = 400030] = "OPERATION_NOT_ALLOWED";
    GSErrors[GSErrors["SECURITY_VERIFICATION_FAILED"] = 400050] = "SECURITY_VERIFICATION_FAILED";
    GSErrors[GSErrors["INVALID_APIKEY_PARAMETER"] = 400093] = "INVALID_APIKEY_PARAMETER";
    GSErrors[GSErrors["NOT_SUPPORTED"] = 400096] = "NOT_SUPPORTED";
    GSErrors[GSErrors["UNSUPPORTED_USER_AGENT"] = 400097] = "UNSUPPORTED_USER_AGENT";
    GSErrors[GSErrors["NO_PROVIDERS"] = 400100] = "NO_PROVIDERS";
    GSErrors[GSErrors["POPUP_BLOCKED"] = 400101] = "POPUP_BLOCKED";
    GSErrors[GSErrors["INVALID_EVENT_HANDLER"] = 400102] = "INVALID_EVENT_HANDLER";
    GSErrors[GSErrors["INVALID_CONTAINERID"] = 400103] = "INVALID_CONTAINERID";
    GSErrors[GSErrors["NOT_CONNECTED"] = 400106] = "NOT_CONNECTED";
    GSErrors[GSErrors["INVALID_SITE_DOMAIN"] = 400120] = "INVALID_SITE_DOMAIN";
    GSErrors[GSErrors["PROVIDER_CONFIGURATION_ERROR"] = 400122] = "PROVIDER_CONFIGURATION_ERROR";
    GSErrors[GSErrors["LIMIT_REACHED"] = 400124] = "LIMIT_REACHED";
    GSErrors[GSErrors["FREQUENCY_LIMIT_REACHED"] = 400125] = "FREQUENCY_LIMIT_REACHED";
    GSErrors[GSErrors["INVALID_ACTION"] = 400126] = "INVALID_ACTION";
    GSErrors[GSErrors["INSUFFICIENT_POINTS_TO_REDEEM"] = 400127] = "INSUFFICIENT_POINTS_TO_REDEEM";
    GSErrors[GSErrors["SIGNATURE_TIMESTAMP_EXPIRED"] = 400128] = "SIGNATURE_TIMESTAMP_EXPIRED";
    GSErrors[GSErrors["INVALID_POLICY_CONFIGURATION"] = 401000] = "INVALID_POLICY_CONFIGURATION";
    GSErrors[GSErrors["SUSPECTED_SPAM"] = 401010] = "SUSPECTED_SPAM";
    GSErrors[GSErrors["LOGIN_FAILED_CAPTCHA_REQUIRED"] = 401020] = "LOGIN_FAILED_CAPTCHA_REQUIRED";
    GSErrors[GSErrors["LOGIN_FAILED_WRONG_CAPTCHA"] = 401021] = "LOGIN_FAILED_WRONG_CAPTCHA";
    GSErrors[GSErrors["OLD_PASSWORD_USED"] = 401030] = "OLD_PASSWORD_USED";
    GSErrors[GSErrors["FORBIDDEN"] = 403000] = "FORBIDDEN";
    GSErrors[GSErrors["INVALID_SESSION_TOKEN"] = 403001] = "INVALID_SESSION_TOKEN";
    GSErrors[GSErrors["REQUEST_HAS_EXPIRED"] = 403002] = "REQUEST_HAS_EXPIRED";
    GSErrors[GSErrors["INVALID_REQUEST_SIGNATURE"] = 403003] = "INVALID_REQUEST_SIGNATURE";
    GSErrors[GSErrors["DUPLICATE_NONCE"] = 403004] = "DUPLICATE_NONCE";
    GSErrors[GSErrors["UNAUTHORIZED_USER"] = 403005] = "UNAUTHORIZED_USER";
    GSErrors[GSErrors["SENSITIVE_DATA_SENT_OVER_HTTP"] = 403006] = "SENSITIVE_DATA_SENT_OVER_HTTP";
    GSErrors[GSErrors["PERMISSION_DENIED"] = 403007] = "PERMISSION_DENIED";
    GSErrors[GSErrors["INVALID_OPENID_URL"] = 403008] = "INVALID_OPENID_URL";
    GSErrors[GSErrors["PROVIDER_SESSION_EXPIRED"] = 403009] = "PROVIDER_SESSION_EXPIRED";
    GSErrors[GSErrors["INVALID_SECRET"] = 403010] = "INVALID_SECRET";
    GSErrors[GSErrors["SESSION_HAS_EXPIRED"] = 403011] = "SESSION_HAS_EXPIRED";
    GSErrors[GSErrors["NO_VALID_SESSION"] = 403012] = "NO_VALID_SESSION";
    GSErrors[GSErrors["UNVERIFIED_USER"] = 403013] = "UNVERIFIED_USER";
    GSErrors[GSErrors["MISSING_REQUEST_REFERRER"] = 403015] = "MISSING_REQUEST_REFERRER";
    GSErrors[GSErrors["UNEXPECTED_PROVIDER_USER"] = 403017] = "UNEXPECTED_PROVIDER_USER";
    GSErrors[GSErrors["PERMISSION_NOT_REQUESTED"] = 403022] = "PERMISSION_NOT_REQUESTED";
    GSErrors[GSErrors["NO_USER_PERMISSION"] = 403023] = "NO_USER_PERMISSION";
    GSErrors[GSErrors["PROVIDER_LIMIT_REACHED"] = 403024] = "PROVIDER_LIMIT_REACHED";
    GSErrors[GSErrors["INVALID_TOKEN"] = 403025] = "INVALID_TOKEN";
    GSErrors[GSErrors["UNAUTHORIZED_ACCESS_ERROR"] = 403026] = "UNAUTHORIZED_ACCESS_ERROR";
    GSErrors[GSErrors["DIFFERENT_USER_FOR_REAUTH"] = 403027] = "DIFFERENT_USER_FOR_REAUTH";
    GSErrors[GSErrors["SESSION_EXPIRED_RETRY"] = 403030] = "SESSION_EXPIRED_RETRY";
    GSErrors[GSErrors["APPROVED_BY_MODERATOR"] = 403031] = "APPROVED_BY_MODERATOR";
    GSErrors[GSErrors["TOKEN_HAS_RENEWED"] = 403032] = "TOKEN_HAS_RENEWED";
    GSErrors[GSErrors["NO_USER_COOKIE"] = 403035] = "NO_USER_COOKIE";
    GSErrors[GSErrors["UNAUTHORIZED_PARTNER"] = 403036] = "UNAUTHORIZED_PARTNER";
    GSErrors[GSErrors["POST_DENIED"] = 403037] = "POST_DENIED";
    GSErrors[GSErrors["NO_LOGIN_TICKET"] = 403040] = "NO_LOGIN_TICKET";
    GSErrors[GSErrors["ACCOUNT_DISABLED"] = 403041] = "ACCOUNT_DISABLED";
    GSErrors[GSErrors["INVALID_LOGINID"] = 403042] = "INVALID_LOGINID";
    GSErrors[GSErrors["LOGIN_IDENTIFIER_EXISTS"] = 403043] = "LOGIN_IDENTIFIER_EXISTS";
    GSErrors[GSErrors["UNDERAGE_USER"] = 403044] = "UNDERAGE_USER";
    GSErrors[GSErrors["INVALID_SITE_CONFIGURATION_ERROR"] = 403045] = "INVALID_SITE_CONFIGURATION_ERROR";
    GSErrors[GSErrors["LOGINID_DOES_NOT_EXIST"] = 403047] = "LOGINID_DOES_NOT_EXIST";
    GSErrors[GSErrors["API_RATE_LIMIT_EXCEEDED"] = 403048] = "API_RATE_LIMIT_EXCEEDED";
    GSErrors[GSErrors["PENDING_PASSWORD_CHANGE"] = 403100] = "PENDING_PASSWORD_CHANGE";
    GSErrors[GSErrors["ACCOUNT_PENDING_TFA_VERIFICATION"] = 403101] = "ACCOUNT_PENDING_TFA_VERIFICATION";
    GSErrors[GSErrors["ACCOUNT_PENDING_TFA_REGISTRATION"] = 403102] = "ACCOUNT_PENDING_TFA_REGISTRATION";
    GSErrors[GSErrors["ACCOUNT_PENDING_RECENT_LOGIN"] = 403110] = "ACCOUNT_PENDING_RECENT_LOGIN";
    GSErrors[GSErrors["ACCOUNT_TEMPORARILY_LOCKED_OUT"] = 403120] = "ACCOUNT_TEMPORARILY_LOCKED_OUT";
    GSErrors[GSErrors["REDUNDANT_OPERATION"] = 403200] = "REDUNDANT_OPERATION";
    GSErrors[GSErrors["INVALID_APPLICATION_ID"] = 403201] = "INVALID_APPLICATION_ID";
    GSErrors[GSErrors["NOT_FOUND"] = 404000] = "NOT_FOUND";
    GSErrors[GSErrors["FRIEND_NOT_FOUND"] = 404001] = "FRIEND_NOT_FOUND";
    GSErrors[GSErrors["CATEGORY_NOT_FOUND"] = 404002] = "CATEGORY_NOT_FOUND";
    GSErrors[GSErrors["UID_NOT_FOUND"] = 404003] = "UID_NOT_FOUND";
    GSErrors[GSErrors["RESOURCE_NOT_FOUND"] = 404004] = "RESOURCE_NOT_FOUND";
    GSErrors[GSErrors["INVALID_API_METHOD"] = 405001] = "INVALID_API_METHOD";
    GSErrors[GSErrors["IDENTITY_EXISTS"] = 409001] = "IDENTITY_EXISTS";
    GSErrors[GSErrors["GONE"] = 410000] = "GONE";
    GSErrors[GSErrors["REQUEST_ENTITY_TOO_LARGE"] = 413001] = "REQUEST_ENTITY_TOO_LARGE";
    GSErrors[GSErrors["COMMENT_TEXT_TOO_LARGE"] = 413002] = "COMMENT_TEXT_TOO_LARGE";
    GSErrors[GSErrors["OBJECT_TOO_LARGE"] = 413003] = "OBJECT_TOO_LARGE";
    GSErrors[GSErrors["PROFILE_PHOTO_TOO_LARGE"] = 413004] = "PROFILE_PHOTO_TOO_LARGE";
    GSErrors[GSErrors["REQUEST_URI_TOO_LONG"] = 414000] = "REQUEST_URI_TOO_LONG";
    GSErrors[GSErrors["MISSING_USER_PHOTO"] = 409010] = "MISSING_USER_PHOTO";
    GSErrors[GSErrors["COUNTER_NOT_REGISTERED"] = 409011] = "COUNTER_NOT_REGISTERED";
    GSErrors[GSErrors["INVALID_GMID_TICKET"] = 409012] = "INVALID_GMID_TICKET";
    GSErrors[GSErrors["SAML_MAPPED_ATTRIBUTE_NOT_FOUND"] = 409013] = "SAML_MAPPED_ATTRIBUTE_NOT_FOUND";
    GSErrors[GSErrors["SAML_CERTIFICATE_NOT_FOUND"] = 409014] = "SAML_CERTIFICATE_NOT_FOUND";
    GSErrors[GSErrors["SAML_MESSAGE_NOT_FOUND"] = 409015] = "SAML_MESSAGE_NOT_FOUND";
    GSErrors[GSErrors["GENERAL_SERVER_ERROR"] = 500001] = "GENERAL_SERVER_ERROR";
    GSErrors[GSErrors["SERVER_LOGIN_ERROR"] = 500002] = "SERVER_LOGIN_ERROR";
    GSErrors[GSErrors["DEFAULT_APPLICATION_CONFIGURATION_ERROR"] = 500003] = "DEFAULT_APPLICATION_CONFIGURATION_ERROR";
    GSErrors[GSErrors["SESSION_MIGRATION_ERROR"] = 500014] = "SESSION_MIGRATION_ERROR";
    GSErrors[GSErrors["PROVIDER_ERROR"] = 500023] = "PROVIDER_ERROR";
    GSErrors[GSErrors["DATABASE_ERROR"] = 500028] = "DATABASE_ERROR";
    GSErrors[GSErrors["USERNAME_REQUIRED"] = 500029] = "USERNAME_REQUIRED";
    GSErrors[GSErrors["NO_PROVIDER_APPLICATION"] = 500031] = "NO_PROVIDER_APPLICATION";
    GSErrors[GSErrors["LOAD_FAILED"] = 500032] = "LOAD_FAILED";
    GSErrors[GSErrors["INVALID_ENVIRONMENT_CONFIG"] = 500033] = "INVALID_ENVIRONMENT_CONFIG";
    GSErrors[GSErrors["ERROR_DURING_BACKEND_OPERATION"] = 500034] = "ERROR_DURING_BACKEND_OPERATION";
    GSErrors[GSErrors["TIMEOUT"] = 504001] = "TIMEOUT";
    GSErrors[GSErrors["CLIENTTIMEOUT"] = 504002] = "CLIENTTIMEOUT";
    GSErrors[GSErrors["INVALID_URL"] = 404004] = "INVALID_URL";
    GSErrors[GSErrors["MEDIA_ITEMS_NOT_SUPPORTED"] = 401001] = "MEDIA_ITEMS_NOT_SUPPORTED";
    GSErrors[GSErrors["MISSING_ERROR_CODE"] = 599999] = "MISSING_ERROR_CODE";
})(GSErrors = exports.GSErrors || (exports.GSErrors = {}));
var GSErrorDetails;
(function (GSErrorDetails) {
    GSErrorDetails[GSErrorDetails["None"] = 0] = "None";
    GSErrorDetails[GSErrorDetails["Same_password"] = 100001] = "Same_password";
    GSErrorDetails[GSErrorDetails["Invalid_password"] = 100002] = "Invalid_password";
    GSErrorDetails[GSErrorDetails["Invalid_counters_query_with_cursor"] = 100003] = "Invalid_counters_query_with_cursor";
})(GSErrorDetails = exports.GSErrorDetails || (exports.GSErrorDetails = {}));


/***/ }),

/***/ "./src/core/Gigya.Js/app/GigyaGlobals.ts":
/*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/GigyaGlobals.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(__webpack_provided_Object_dot_assign) {Object.defineProperty(exports, "__esModule", { value: true });
var ES6Promise = __webpack_require__(/*! es6-promise */ "./node_modules/es6-promise/dist/es6-promise.js");
__webpack_provided_Object_dot_assign(window.gigya, { Promise: ES6Promise });

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js")["__assign"]))

/***/ }),

/***/ "./src/core/Gigya.Js/app/GlobalEvents.ts":
/*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/GlobalEvents.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var arrayUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/array */ "./src/core/Gigya.Js/app/Utils/array.ts");
var LegacyLogger_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LegacyLogger */ "./src/core/Gigya.Js/app/LegacyLogger.ts");
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var InternalFlows_1 = __webpack_require__(/*! src/core/Gigya.Js/app/InternalFlows */ "./src/core/Gigya.Js/app/InternalFlows.ts");
var events = __webpack_require__(/*! src/core/Gigya.Js/app/Events */ "./src/core/Gigya.Js/app/Events.ts");
function getEventHandlerName(eventName) {
    if (eventName.substring(0, 2) === 'on') {
        return eventName;
    }
    else {
        return 'on' + eventName.substring(0, 1).toUpperCase() + eventName.substring(1);
    }
}
var _eventHandlers = {};
var _pendingEvents = {};
exports._activeNamespaces = {};
function add(eventName, eventHandler, type, context, namespace, params) {
    if (type === void 0) { type = 'other'; }
    if (namespace === void 0) { namespace = 'socialize'; }
    var fullEventName = namespace + '_' + getEventHandlerName(eventName);
    if (!_eventHandlers[fullEventName]) {
        _eventHandlers[fullEventName] = [];
    }
    var registeredHandler = {
        handler: eventHandler,
        type: type,
        context: context,
        params: params,
        fullEventName: fullEventName,
    };
    _eventHandlers[fullEventName].push(registeredHandler);
    if (!this._activeNamespaces[namespace] && window.gigya._.apiAdapter) {
        window.gigya._.apiAdapter.registerForNamespaceEvents(namespace);
    }
    this._activeNamespaces[namespace] = 1;
    var pendingEvents = _pendingEvents[fullEventName];
    if (pendingEvents && type == 'other') {
        _pendingEvents[fullEventName] = [];
        for (var i = 0; i < pendingEvents.length; i++) {
            var e = pendingEvents[i];
            dispatchRegisteredHandlers(e.eventObj, e.params, e.preProcess);
        }
    }
    return registeredHandler;
}
exports.add = add;
function remove(fullEventName, registeredHandler) {
    if (_eventHandlers[fullEventName]) {
        arrayUtils.removeByValue(_eventHandlers[fullEventName], registeredHandler);
    }
}
exports.remove = remove;
function dispatch(eventObj, params) {
    var dispatched = 0;
    var isInternal = eventObj.isInternal; //internal event should be dispatched to widgets/components only.
    var eventNameArr = eventObj['eventName'].split(',');
    LegacyLogger_1.addLog('Dispatching global event "' + eventObj['eventName'] + '" with this event object', eventObj);
    for (var i = 0; i < eventNameArr.length; i++) {
        var eventNameSegs = eventNameArr[i].split('.');
        var namespace = eventNameSegs.length > 1 ? eventNameSegs.shift() : 'socialize';
        var eventName = eventNameSegs[0];
        var eventHandlerName = getEventHandlerName(eventName);
        var fullEventName = namespace + '_' + eventHandlerName;
        var eventHandlers = objectUtils.clone(_eventHandlers[fullEventName]) || [];
        var baseEventObj = objectUtils.clone(eventObj);
        baseEventObj['isGlobal'] = true;
        baseEventObj.eventName = eventName;
        baseEventObj.fullEventName = eventNameArr[i];
        if (params) {
            if (params.source)
                baseEventObj.source = params.source;
            if (params.sourceData)
                baseEventObj.sourceData = params.sourceData;
            if (params.context)
                baseEventObj.context = params.context;
        }
        var ListenerTypes = ['component'];
        if (!isInternal)
            ListenerTypes.push('other');
        for (var iListenerType = 0; iListenerType < ListenerTypes.length; iListenerType++) {
            var listenerType = ListenerTypes[iListenerType];
            for (var iHandler = 0; iHandler < eventHandlers.length; iHandler++) {
                var oHandler = eventHandlers[iHandler]; //{type: 'other', handler:function, context: object}
                if (oHandler.type == listenerType) {
                    var eventObjCopy = objectUtils.clone(baseEventObj);
                    if (!eventObjCopy['context'] && oHandler.context) {
                        eventObjCopy['context'] = oHandler['context'];
                    }
                    if (!eventObjCopy['context']) {
                        delete eventObjCopy['context'];
                    }
                    //context is now taken from the call that dispatched the event
                    if (listenerType !== 'component') {
                        dispatched++;
                        InternalFlows_1.handleSpecialFields(eventObjCopy); // Make sure returned fields such as friends are returned as collections.
                    }
                    // Feature #34522
                    if (oHandler.params && oHandler.params['signKey']) {
                        eventObjCopy['UIDSignature'] = eventObj['signKeysUIDSignature'][oHandler.params['signKey']];
                        delete eventObjCopy['signKeysUIDSignature'];
                    }
                    try {
                        oHandler.handler(eventObjCopy);
                    }
                    catch (ex) {
                        LegacyLogger_1.addLog('Error while trying to invoke "' + eventObj['eventName'] + '" global event handler', ex);
                    }
                }
            }
        }
        if (!isInternal) {
            events._dispatchFromMaps(baseEventObj, true);
        }
        var GenesisExchange_Gigya = window['GenesisExchange_Gigya'];
        var gigya_omniture_conf = window['gigya_omniture_conf'];
        var myOmnitureIntegrationFunc = window['myOmnitureIntegrationFunc'];
        if (!isInternal && typeof GenesisExchange_Gigya != 'undefined' && typeof gigya_omniture_conf != 'undefined' && namespace == 'socialize') {
            var ge = new GenesisExchange_Gigya(gigya_omniture_conf);
            ge.processAction(baseEventObj);
            if (typeof myOmnitureIntegrationFunc != 'undefined') {
                myOmnitureIntegrationFunc(gigya_omniture_conf, baseEventObj);
            }
        }
    }
    return dispatched;
}
exports.dispatch = dispatch;
function dispatchWhenHandlerAdded(eventObj, params, preProcess) {
    if (params === void 0) { params = {}; }
    var eventNameSegs = eventObj['eventName'].split('.');
    var namespace = eventNameSegs.length > 1 ? eventNameSegs.shift() : 'socialize';
    var eventName = eventNameSegs[0];
    dispatchRegisteredHandlers(eventObj, params, preProcess, function (dispatched) {
        // If no handlers were dispatched, we need to wait for the handler to be added
        if (dispatched == 0) {
            var eventHandlerName = 'on' + eventName.substring(0, 1).toUpperCase() + eventName.substring(1);
            var fullEventName = namespace + '_' + eventHandlerName;
            if (!_pendingEvents[fullEventName])
                _pendingEvents[fullEventName] = [];
            _pendingEvents[fullEventName].push({ eventObj: eventObj, params: params, preProcess: preProcess });
        }
    });
}
exports.dispatchWhenHandlerAdded = dispatchWhenHandlerAdded;
function dispatchRegisteredHandlers(eventObj, params, preProcess, callback) {
    var fnDispatch = function (e) {
        var dispatched = 0;
        if (!e['cancel']) {
            dispatched = dispatch(e, params);
        }
        if (callback) {
            callback(dispatched);
        }
    };
    if (preProcess) {
        preProcess(eventObj, fnDispatch);
    }
    else {
        fnDispatch(eventObj);
    }
}
function getEventsForOperation(operation) {
    var activeLoginEvents = [];
    if (operation.toLowerCase().indexOf('login') != -1) {
        if (this._activeNamespaces.socialize)
            activeLoginEvents.push('socialize.login');
        if (this._activeNamespaces.accounts)
            activeLoginEvents.push('accounts.login');
    }
    else if (operation.toLowerCase().indexOf('addconnection') != -1) {
        if (this._activeNamespaces.socialize)
            activeLoginEvents.push('socialize.connectionAdded');
    }
    return activeLoginEvents.join(',');
}
exports.getEventsForOperation = getEventsForOperation;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Interfaces.ts":
/*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/Interfaces.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });


/***/ }),

/***/ "./src/core/Gigya.Js/app/InternalFlows.ts":
/*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/InternalFlows.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var GSErrors_1 = __webpack_require__(/*! src/core/Gigya.Js/app/GSErrors */ "./src/core/Gigya.Js/app/GSErrors.ts");
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
var localStorageUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/localStorage */ "./src/core/Gigya.Js/app/Utils/localStorage.ts");
var JSONUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/JSON */ "./src/core/Gigya.Js/app/Utils/JSON.ts");
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var URLUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/URL */ "./src/core/Gigya.Js/app/Utils/URL.ts");
var MessagingMethod;
(function (MessagingMethod) {
    MessagingMethod[MessagingMethod["LocalStorageListener"] = 0] = "LocalStorageListener";
    MessagingMethod[MessagingMethod["PostMessage"] = 1] = "PostMessage";
    MessagingMethod[MessagingMethod["Flash"] = 2] = "Flash";
})(MessagingMethod = exports.MessagingMethod || (exports.MessagingMethod = {}));
function checkCompleteRegistration(res, params, methodName, callback) {
    var screenSet;
    var retry;
    var pending = false;
    if (res['errorCode'] == GSErrors_1.GSErrors.AFTER_EMAIL_VERIFICATION) {
        // Handle autoLogin from registration link
        window.gigya.logger.info('finalizing registration after email verification');
        pending = true;
        window.gigya.accounts.finalizeRegistration({
            regToken: res['regToken'],
            ignoreApiQueue: true,
            callback: callback,
        });
    }
    else if (!params['ignoreInterruptions'] &&
        !params['dontHandleScreenSet'] &&
        (((res['regToken'] || params['regToken']) && // has regToken
            (res['errorCode'] == GSErrors_1.GSErrors.OK_WITH_ERROR_LOGIN_IDENTIFIER_EXISTS || // socialLogin/setAccountInfo saved with loginID exist error
                res['errorCode'] == GSErrors_1.GSErrors.LOGIN_IDENTIFIER_EXISTS)) || // loginID exists
            res['errorCode'] == GSErrors_1.GSErrors.ACCOUNT_PENDING_REGISTRATION || // pending registration
            res['errorCode'] == GSErrors_1.GSErrors.ACCOUNT_PENDING_VERIFICATION || // pending email verification
            res['errorCode'] == GSErrors_1.GSErrors.ACCOUNT_MISSING_LOGINID || // pending LoginID
            res['errorCode'] == GSErrors_1.GSErrors.ACCOUNT_PENDING_TFA_VERIFICATION || // pending TFA verification
            res['errorCode'] == GSErrors_1.GSErrors.ACCOUNT_PENDING_TFA_REGISTRATION || // pending TFA registration
            res['errorCode'] == GSErrors_1.GSErrors.ACCOUNT_PENDING_RECENT_LOGIN || // pending recent login
            res['errorCode'] == GSErrors_1.GSErrors.PENDING_PASSWORD_CHANGE) // pending password change
    ) {
        var newModal;
        if (res['errorCode'] == GSErrors_1.GSErrors.ACCOUNT_PENDING_RECENT_LOGIN) {
            retry = true;
            newModal = true;
        }
        if (params['defaultMobileRegScreenSet'] && LocalInfo_1.localInfo.isMobile) {
            screenSet = params['defaultMobileRegScreenSet'];
        }
        else if (params['defaultRegScreenSet']) {
            screenSet = params['defaultRegScreenSet'];
        }
    }
    if (screenSet) {
        window.gigya.logger.info("showing screenset '" + screenSet + "' for errorCode " + res['errorCode']);
        window.gigya.logger.group(screenSet);
        window.gigya.accounts.showScreenSet({
            ignoreApiQueue: true,
            newModal: newModal,
            screenSet: screenSet,
            initialMethod: methodName,
            initialResponse: res,
            suppressLoginEvent: params['suppressLoginEvent'],
            onError: function (e) {
                callback(res);
            },
            onHide: function (e) {
                window.gigya.logger.groupEnd(screenSet);
                if (e.reason === 'finished' && e.user) {
                    var successResponse = {
                        errorCode: 0,
                        userInfo: e.user,
                        source: e.source
                    };
                    callback(successResponse, true, retry);
                }
                else {
                    callback(res);
                }
            },
        });
    }
    else if (!pending) {
        callback(res);
    }
}
exports.checkCompleteRegistration = checkCompleteRegistration;
function getGigyaSettings(group) {
    var gigyaSettings = localStorageUtils.getObject('gigyaSettings');
    return JSONUtils.serialize(gigyaSettings[group]);
}
exports.getGigyaSettings = getGigyaSettings;
function setGigyaSettings(group, settings) {
    var _a;
    var gigyaSettings = localStorageUtils.getObject('gigyaSettings', (_a = {}, _a[group] = {}, _a));
    for (var p in settings) {
        gigyaSettings[group][p] = settings[p];
    }
    localStorageUtils.setItem('gigyaSettings', JSONUtils.serialize(gigyaSettings));
}
exports.setGigyaSettings = setGigyaSettings;
function delGigyaSettings(group) {
    if (!group) {
        localStorageUtils.removeItem('gigyaSettings');
    }
    else {
        var gigyaSettings = localStorageUtils.getObject('gigyaSettings');
        if (gigyaSettings) {
            delete gigyaSettings[group];
            localStorageUtils.setItem('gigyaSettings', JSONUtils.serialize(gigyaSettings));
        }
    }
}
exports.delGigyaSettings = delGigyaSettings;
function handleSpecialFields(o) {
    var collection = window.gigya.socialize.Collection;
    var toTyped = function (arr, ctor) {
        var oarr = [];
        var i = 0;
        var el = arr[i];
        while (el) {
            oarr.push(new ctor(el));
            if (oarr[i].identities) {
                convertIdentitiesArrayToObject(oarr[i]);
            }
            el = arr[++i];
        }
        return oarr;
    };
    if (o.photos)
        o.photos = new collection(o.photos, 'photoID');
    if (o.albums)
        o.albums = new collection(o.albums, 'albumID');
    if (o.contacts)
        o.contacts = new collection(toTyped(o.contacts, window.gigya.socialize.Contact), 'email');
    if (o.friend)
        o.friend = new collection(toTyped(o.friend, window.gigya.socialize.Friend), 'UID');
    if (o.user)
        o.user = new window.gigya.socialize.User(o.user);
    if (o.friends && o.friends instanceof Array) {
        var arUIDs = [];
        for (var i = 0; i < o.friends.length; i++) {
            arUIDs.push(o.friends[i].UID);
        }
        o.UIDs = arUIDs.join(',');
        o.friends = new collection(toTyped(o.friends, window.gigya.socialize.Friend), 'UID');
    }
}
exports.handleSpecialFields = handleSpecialFields;
function convertIdentitiesArrayToObject(o) {
    if (o.identities == null) {
        o.identities = {};
        return;
    }
    if (o.identities.constructor != Array) {
        return;
    }
    var identitiesArray = o.identities;
    o.identities = {};
    for (var i = 0; i < identitiesArray.length; i++) {
        o.identities[identitiesArray[i].provider] = new window.gigya.socialize.Identity(identitiesArray[i]);
    }
}
exports.convertIdentitiesArrayToObject = convertIdentitiesArrayToObject;
function addUserInfoToEvent(response, targetObject, addLoginProperties, useBasePhotoURL) {
    var oUser = response['user'] || response['userInfo'];
    if (targetObject == null)
        targetObject = {};
    if (oUser != null) {
        targetObject['user'] = objectUtils.clone(oUser);
        if (response['isLoggedIn'] != null)
            targetObject['user']['isLoggedIn'] = response['isLoggedIn'];
        if (response['isSiteUID'] != null)
            targetObject['user']['isSiteUID'] = response['isSiteUID'];
        if (response['iRank'] != null)
            targetObject['user']['iRank'] = response['iRank'];
    }
    if (addLoginProperties) {
        objectUtils.extractProperties(response, targetObject, 'signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|signKeysUIDSignature|dataCenter|id_token');
        if (targetObject['user'] != null) {
            targetObject['UID'] = oUser.UID;
            targetObject['isSiteUID'] = oUser.isSiteUID;
            // isSiteUID is temporary for https://gigya.my.salesforce.com/5004000000T3qcZ
        }
    }
    return targetObject;
}
exports.addUserInfoToEvent = addUserInfoToEvent;
function sendEmailNative(params) {
    var userAction = params['userAction'] || {};
    var subject = userAction['title'] || '';
    var body = userAction['linkBack'] || '';
    document.location.href = 'mailto:?to=&subject=' + URLUtils.URLEncode(subject) + '&body=' + URLUtils.URLEncode(body);
    window.gigya.socialize.sendEmail(params, { dontSendEmail: true }); // To report that send without sending it
}
exports.sendEmailNative = sendEmailNative;


/***/ }),

/***/ "./src/core/Gigya.Js/app/LegacyLogger.ts":
/*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/LegacyLogger.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var cookieUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/cookie */ "./src/core/Gigya.Js/app/Utils/cookie.ts");
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var JSONUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/JSON */ "./src/core/Gigya.Js/app/Utils/JSON.ts");
var arrayUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/array */ "./src/core/Gigya.Js/app/Utils/array.ts");
var scriptUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/script */ "./src/core/Gigya.Js/app/Utils/script.ts");
var cdn_1 = __webpack_require__(/*! src/core/Gigya.Js/app/cdn */ "./src/core/Gigya.Js/app/cdn.ts");
var functionsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/functions */ "./src/core/Gigya.Js/app/Utils/functions.ts");
var LocalInfo_1 = __webpack_require__(/*! ./LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
exports.CONSOLE_LOG_LEVELS = ['debug', 'info', 'log', 'warn', 'error'];
exports.selectedConsoleLogLevels = [];
exports._log = [];
function enable() {
    cookieUtils.set('_gig_dbgConsole_log', '1', null);
}
exports.enable = enable;
function disable() {
    cookieUtils.set('_gig_dbgConsole_log', '0', null);
}
exports.disable = disable;
function _isEnabled() {
    var isManuallyEnabled = !LocalInfo_1.localInfo.isNativeMobileApp && cookieUtils.get('_gig_dbgConsole_log');
    if (typeof isManuallyEnabled !== 'undefined' && isManuallyEnabled != null) {
        return isManuallyEnabled === '1';
    }
    return exports.selectedConsoleLogLevels.length > 0;
}
exports._isEnabled = _isEnabled;
function addLog(title, obj, writeToConsole) {
    if (writeToConsole === void 0) { writeToConsole = false; }
    if (_isEnabled() || writeToConsole) {
        var sLog = title;
        obj = objectUtils.clone(obj, true, false, 4, null, true);
        if (obj != null)
            sLog += ':' + (typeof obj == 'object' ? '\n' : '') + JSONUtils.serialize(obj, true, true);
        if (writeToConsole && (typeof console == 'object' && console.log))
            console.log(sLog);
        if (_isEnabled()) {
            exports._log.push(sLog);
            if (document.getElementById('gigya_log') != null && show)
                show();
            var logType;
            if (arrayUtils.indexOf(exports.CONSOLE_LOG_LEVELS, title) != -1)
                logType = title;
            else
                logType = 'log';
            window.gigya._.apiAdapter.onJSLog(logType, sLog);
        }
    }
}
exports.addLog = addLog;
function logCall(name, params, lastSource) {
    if (!lastSource)
        lastSource = params.lastSource;
    addLog('Calling ' +
        name +
        (lastSource && lastSource != name ? ' for ' + lastSource : '') +
        (params.source && lastSource != params.source ? ' initiated from ' + params.source : '') +
        ' with these params', params);
}
exports.logCall = logCall;
function debug() {
    scriptUtils.load(cdn_1.getCdnResource('/js/gigya.services.socialize.plugins.log.min.js'), null, function () {
        showConfig();
    }, true);
}
exports.debug = debug;
function showLog() {
    scriptUtils.load(cdn_1.getCdnResource('/js/gigya.services.socialize.plugins.log.min.js'), null, function () {
        show();
    }, true);
}
exports.showLog = showLog;
function show() { }
exports.show = show;
function showConfig() { }
exports.showConfig = showConfig;
functionsUtils.createAlias('gigya.debug', debug);


/***/ }),

/***/ "./src/core/Gigya.Js/app/LocalInfo.ts":
/*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/LocalInfo.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var _a, _b;
Object.defineProperty(exports, "__esModule", { value: true });
var domains_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/domains */ "./src/core/Gigya.Js/app/Utils/domains.ts");
var userAgent = navigator.userAgent.toLowerCase();
exports.localInfo = {
    baseDomain: '',
    isBrowserSupportsFilesAPI: (function () {
        return typeof FileReader === 'function' || typeof FileReader === 'object';
    })(),
    initTime: new Date(),
    version: 0,
    pageDomain: document.location.hostname,
    protocol: document.location.protocol == 'http:' ? 'http' : 'https',
    userAgent: userAgent,
    isWin: userAgent.indexOf('win') != -1,
    isIE: userAgent.indexOf('msie') != -1 || (userAgent.indexOf('mozilla') != -1 && userAgent.indexOf('trident') != -1),
    isIE6: userAgent.indexOf('msie 6.') != -1,
    isIE7: userAgent.indexOf('msie 7.') != -1,
    isIE8: userAgent.indexOf('msie 8.') != -1,
    isIE9: userAgent.indexOf('msie 9.') != -1,
    isIE10: userAgent.indexOf('msie 10.') != -1,
    isIE11: userAgent.indexOf('mozilla') != -1 && userAgent.indexOf('trident/7.0') != -1,
    isEdge: userAgent.indexOf('edge') != -1,
    isIOS: userAgent.indexOf('iphone') != -1 || userAgent.indexOf('ipad') != -1 || userAgent.indexOf('ipod') != -1,
    isSafari534: userAgent.indexOf('safari/534') != -1,
    isWeChat: userAgent.indexOf('micromessenger') != -1,
    iosVersion: (function () {
        if (userAgent.indexOf('applewebkit') != -1 && userAgent.indexOf('version/') != -1) {
            return parseInt(userAgent.split('version/')[1].split(' ')[0]);
        }
        else
            return 0;
    })(),
    isAndroid: userAgent.indexOf('android') != -1,
    isAndroidBrowser: (function (userAgent) {
        if (userAgent.indexOf('mozilla/5.0') === -1)
            return false;
        if (userAgent.indexOf('android 4') === -1)
            return false;
        if (userAgent.indexOf('applewebkit') === -1)
            return false;
        if (userAgent.indexOf('windows phone') !== -1)
            return false;
        // Special user agents found so far that violate the existance of chrome rule
        // Bug 38367 Android Browser: Mozilla/5.0 (Linux; Android 4.2.2; en-us; SAMSUNG GT-I9500 Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Version/1.0 Chrome/18.0.1025.308 Mobile Safari/535.19
        // Bug 40209 Chrome Browser: Mozilla/5.0 (Linux; Android 4.2.2; SAMSUNG SGT-I747 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.93 Mobile Safari/537.36
        // Windows Phone Browser: Mozilla/5.0 (Mobile; Windows Phone 8.1; Android 4.0; ARM; Trident/7.0; Touch; rv:11.0; IEMobile/11.0; NOKIA; Lumia 920) like iPhone OS 7_0_3 Mac OS X AppleWebKit/537 (KHTML, like Gecko) Mobile Safari/537
        // Chrome Browser: Mozilla/5.0 (Linux; Android 4.2.2; en-gb; SAMSUNG GT-I9500 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Version/1.5 Chrome/28.0.1500.94 Mobile Safari/537.36
        var chromeInfo = /chrome\/(\d+)/.exec(userAgent);
        if (!chromeInfo)
            return true;
        var chromeVersion = parseInt(chromeInfo[1]);
        return chromeVersion < 20;
    })(userAgent),
    currentBrowser: '',
    androidVersion: (function () {
        if (userAgent.indexOf('android') != -1) {
            return parseFloat(userAgent.slice(userAgent.indexOf('android') + 8));
        }
        else
            return 0;
    })(),
    isChrome: userAgent.indexOf('chrome') != -1 && userAgent.indexOf('edge') == -1,
    isGoogleBot: userAgent.indexOf('googlebot') != -1,
    isFF: userAgent.indexOf('firefox') != -1,
    isOpera: userAgent.indexOf('opera') != -1,
    isSafari: navigator.appVersion &&
        navigator.appVersion.toLowerCase().indexOf('safari') != -1 &&
        navigator.appVersion.toLowerCase().indexOf('chrome') == -1 &&
        userAgent.indexOf('android') == -1,
    isIOSWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),
    isIOSChrome: userAgent.indexOf('crios') != -1,
    isMAC: navigator.appVersion && navigator.appVersion.toLowerCase().indexOf('mac') != -1,
    isWindowsPhone: userAgent.indexOf('windows phone') != -1,
    isFacebookBrowser: userAgent.indexOf('fban') != -1 || userAgent.indexOf('fbav') != -1,
    supportsPostMessage: window.postMessage != null && (userAgent.indexOf('msie') == -1 || userAgent.indexOf('iemobile') != -1),
    supportsLocalStorage: false,
    supportsSessionStorage: false,
    supportsFlash: (function () {
        // http://stackoverflow.com/questions/998245/how-can-i-detect-if-flash-is-installed-and-if-not-display-a-hidden-div-that-inf
        var supportsFlash = false;
        try {
            if (navigator.mimeTypes &&
                navigator.mimeTypes['application/x-shockwave-flash'] != undefined &&
                navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin) {
                supportsFlash = true;
            }
            else {
                var fo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');
                if (fo) {
                    supportsFlash = true;
                }
            }
        }
        catch (e) { }
        return supportsFlash;
    })(),
    quirksMode: document.compatMode == 'BackCompat' && userAgent.indexOf('msie') != -1,
    backCompat: document.compatMode == 'BackCompat',
    // TODO: Add isTablet function for devices non-Mobile
    isMobile: (function () {
        var mobileClients = [
            'iphone',
            'ipod',
            'android',
            'midp',
            '240x320',
            'blackberry',
            'netfront',
            'nokia',
            'panasonic',
            'portalmmm',
            'sharp',
            'sie-',
            'sonyericsson',
            'symbian',
            'windows ce',
            'benq',
            'mda',
            'mot-',
            'opera mini',
            'philips',
            'pocket pc',
            'sagem',
            'samsung',
            'htc',
        ];
        for (var i in mobileClients) {
            if (userAgent.indexOf(mobileClients[i]) != -1) {
                return true;
            }
        }
        return false;
    })(),
    isMobileApp: (function () {
        if (!document.getElementsByTagName)
            // for old IE
            return false;
        var metaTags = document.getElementsByTagName('meta');
        for (var i = 0; i < metaTags.length; i++) {
            if (metaTags[i].getAttribute('name') == 'viewport') {
                var content = metaTags[i].getAttribute('content');
                if (content && content.indexOf('width=device-width') !== -1)
                    return true;
            }
        }
        return false;
    })(),
    isNativeMobileApp: false,
    isTouch: (function () {
        if ('ontouchstart' in window)
            // works on most browsers
            return true;
        if ('onmsgesturechange' in window) {
            // works on ie10
            // Try to determine if IE is open in metro mode. Metro doesn't allow activeX, that's the best test available as of IE11.
            try {
                new ActiveXObject('htmlfile');
                return false;
            }
            catch (e) {
                return true;
            }
        }
        return false;
    })(),
    isOnLine: function () { return navigator.onLine; },
    messagingMethod: 0
};
var isStorageEnabled = function (storageName) {
    try {
        var storage = window[storageName];
        if (!storage) {
            return false;
        }
        var testName = '_gig_localStorage_test';
        var testValue = 'just checking for localStorage';
        storage.setItem(testName, testValue);
        var result = storage.getItem(testName) === testValue;
        storage.removeItem(testName);
        return result;
    }
    catch (ex) {
        // Reasons:
        // - Inside 3rd party API proxy iFrame.
        // - Safari in incognito mode will error with "quota exceeded".
        // - Chrome with 3rd party cookies disabled will throw an error if you access the window.localStorage object in ANY way.
        return false;
    }
};
exports.localInfo.supportsLocalStorage = isStorageEnabled('localStorage');
exports.localInfo.supportsSessionStorage = isStorageEnabled('sessionStorage');
if (exports.localInfo.isIE11 && !window.indexedDB)
    // IE10-11 support postMessage between iframes but not inPrivate mode
    exports.localInfo.supportsPostMessage = false;
exports.localInfo.isMAC = exports.localInfo.isMAC && !exports.localInfo.isIOS;
var os = exports.localInfo.isWin
    ? 'windows'
    : exports.localInfo.isWindowsPhone
        ? 'winphone'
        : exports.localInfo.isIOS
            ? 'ios-v' + exports.localInfo.iosVersion
            : exports.localInfo.isMAC
                ? 'mac'
                : exports.localInfo.isAndroid
                    ? 'android'
                    : '';
if (os)
    os += ' ';
var browser = exports.localInfo.isChrome
    ? 'chrome'
    : exports.localInfo.isFF
        ? 'firefox'
        : exports.localInfo.isSafari
            ? 'safari'
            : exports.localInfo.isEdge
                ? 'edge'
                : exports.localInfo.isIE11
                    ? 'ie11'
                    : exports.localInfo.isIE10
                        ? 'ie10'
                        : exports.localInfo.isIE9
                            ? 'ie9'
                            : exports.localInfo.isIE8
                                ? 'ie8'
                                : '';
exports.localInfo.currentBrowser = os + browser;
var baseDomains;
if ((_b = (_a = window.gigya.partnerSettings) === null || _a === void 0 ? void 0 : _a.baseDomains) === null || _b === void 0 ? void 0 : _b.length) {
    baseDomains = window.gigya.partnerSettings.baseDomains;
}
else {
    if (window.self === window.top) {
        // only in the top frame
        window.gigya.logger.warn('gigya: missing base domains for site');
    }
    baseDomains = [document.location.hostname];
}
exports.localInfo.baseDomain = domains_1.getBaseDomain(baseDomains);


/***/ }),

/***/ "./src/core/Gigya.Js/app/Logger/baseLogger.ts":
/*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/baseLogger.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var _a;
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var interfaces_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Logger/interfaces */ "./src/core/Gigya.Js/app/Logger/interfaces.ts");
var stringParams_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/stringParams */ "./src/core/Gigya.Js/app/Utils/stringParams.ts");
exports.gigErrorReport = 'gigErrorReport';
var defaultLoggerConfig = {
    logLevel: interfaces_1.LogLevel.disabled,
    clientMuteLevel: interfaces_1.ClientMuteLevel.none,
    logTheme: interfaces_1.LogTheme.dark,
};
var themes = (_a = {},
    _a[interfaces_1.LogTheme.none] = [''],
    _a[interfaces_1.LogTheme.dark] = [
        '38f689',
        '009FD4',
        'b381b3',
        '71b6ef',
        '64c162',
        '977bd8',
        'd168a4',
        '4c71d2',
        '84b466',
        '7d638a',
        '799fb7',
        '8fdf98',
        'dc7767',
        '0a70f5',
        '38b159',
        'af721b',
        'bfaf6f',
    ],
    _a[interfaces_1.LogTheme.light] = [
        '40806A',
        '003636',
        '9B59B6',
        'DB0A5B',
        '7928A1',
        '522032',
        '0000E0',
        '00202A',
        '000036',
        '005555',
        '1D781D',
        '4F5A65',
        '765AB0',
        '000000',
        '3C1362',
        '000060',
        '591D77',
    ],
    _a);
var selfLogsCss = 'color: #b0b0b0b0;';
var noCss = '';
var severityThreshold = interfaces_1.LogLevel.warn;
var defaultGroupBehavior = interfaces_1.GroupBehavior.collapsed;
var noopLoggerFn = function (message) {
    var optionalParams = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        optionalParams[_i - 1] = arguments[_i];
    }
};
var BaseLogger = /** @class */ (function () {
    function BaseLogger(_global) {
        this._global = _global;
        this._groupsStack = [];
        this._currColorIdx = 0;
        this.configKey = 'gig_loggerConfig';
        this._console = this._global.console;
        if (this.isEnabled) {
            this.overrideClientLogs();
        }
    }
    BaseLogger.prototype.getConfig = function () {
        if (!this._config) {
            this._config =
                this.readLoggerConfigFromHash() || // inner frames reads config from hash
                    this.readLoggerConfigFromCookie() || // top frames reads config from cookie
                    defaultLoggerConfig;
        }
        return this._config;
    };
    Object.defineProperty(BaseLogger.prototype, "isEnabled", {
        get: function () {
            return this.getConfig().logLevel > interfaces_1.LogLevel.disabled;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(BaseLogger.prototype, "logLevel", {
        get: function () {
            return this.getConfig().logLevel;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(BaseLogger.prototype, "palette", {
        get: function () {
            return themes[this.getConfig().logTheme];
        },
        enumerable: true,
        configurable: true
    });
    BaseLogger.prototype.getNextColor = function () {
        if (this.getConfig().logTheme === interfaces_1.LogTheme.none) {
            return '';
        }
        if (this._currColorIdx >= this.palette.length) {
            this._currColorIdx = 0;
        }
        return "#" + this.palette[this._currColorIdx++];
    };
    Object.defineProperty(BaseLogger.prototype, "currentGroup", {
        get: function () {
            return this._groupsStack[this._groupsStack.length - 1];
        },
        enumerable: true,
        configurable: true
    });
    BaseLogger.prototype.readLoggerConfigFromHash = function () {
        var res = null;
        var loggerConfigStr = stringParams_1.getReqParamValue(location.hash, this.configKey);
        if (loggerConfigStr) {
            try {
                res = JSON.parse(decodeURIComponent(loggerConfigStr));
            }
            catch (e) {
                console.error("[Gigya]: exception while trying to parse logger config from hash", e);
            }
        }
        return res;
    };
    BaseLogger.prototype.readLoggerConfigFromCookie = function () {
        try {
            var res = null;
            var cookie = stringParams_1.getParamValue(document.cookie, this.configKey, ';');
            if (cookie) {
                try {
                    res = JSON.parse(cookie);
                }
                catch (e) {
                    console.error("[Gigya]: exception while trying to parse logger config from cookie", e);
                }
            }
            return res;
        }
        catch (e) {
            // iOS 10 webview throws in some scenarios
            return undefined;
        }
    };
    BaseLogger.prototype.setLoggerConfigCookie = function (loggerConfig) {
        document.cookie = this.configKey + "=" + JSON.stringify(loggerConfig);
    };
    BaseLogger.prototype.overrideClientLogs = function () {
        var _this = this;
        var Proxy = this._global['Proxy'];
        if (!Proxy) {
            return;
        }
        switch (this.getConfig().clientMuteLevel) {
            // do nothing
            case interfaces_1.ClientMuteLevel.none:
                break;
            // replace native console with a dummy
            case interfaces_1.ClientMuteLevel.all:
                this._global.console = new Proxy(this._global.console, {
                    get: function () { return noopLoggerFn; },
                });
                break;
            // override the group api and output a prefixed client log
            case interfaces_1.ClientMuteLevel.normal:
            default:
                this._global.console = new Proxy(this._global.console, {
                    get: function (target, property) {
                        return ['group', 'groupCollapsed', 'groupEnd'].indexOf(property) !== -1
                            ? function () {
                                var _a;
                                var args = [];
                                for (var _i = 0; _i < arguments.length; _i++) {
                                    args[_i] = arguments[_i];
                                }
                                return (_a = _this._console).log.apply(_a, tslib_1.__spreadArrays(["client has called console." + property], args));
                            }
                            : target[property];
                    },
                });
                break;
        }
    };
    BaseLogger.prototype.getFormattedLogArgs = function (text, logGroup) {
        if (text === void 0) { text = ''; }
        if (logGroup === void 0) { logGroup = this.currentGroup; }
        return {
            text: logGroup ? "%c\u2588" + text : "%c" + text,
            css: logGroup ? "color: " + logGroup.color + ";" : '',
        };
    };
    BaseLogger.prototype.restoreHangingGroups = function (hangingGroups) {
        // restore groups stack after a parent group has ended
        while (hangingGroups.length) {
            // restore the groups stack
            var group = hangingGroups.shift();
            this._groupsStack.push(group);
            // indicate group has been restored
            var logArgs = this.getFormattedLogArgs(" %c[RESTORED - " + group.groupTitle + "]");
            this._console.groupCollapsed(logArgs.text, logArgs.css, selfLogsCss);
        }
    };
    BaseLogger.prototype.endGroup = function (group) {
        var logArgs = this.getFormattedLogArgs(" [END - " + group.groupTitle + "]", group);
        this._console.log(logArgs.text, logArgs.css);
        this._console.groupEnd();
    };
    BaseLogger.prototype.log = function (severity) {
        // log if one of the following
        // [1] logging is enabled and the log's severity is greater or equal to the configured logLevel
        // [2] severity is greater than the threshold but the configured logLevel is not greater than the threshold
        if ((this.isEnabled && severity >= this.logLevel) || // log
            (severity >= severityThreshold && this.logLevel < severityThreshold)) {
            // normalize log level
            var originalLogLevel = interfaces_1.LogLevel[severity];
            var normalizedLogLevel = severity === interfaces_1.LogLevel.debug
                ? interfaces_1.LogLevel[interfaces_1.LogLevel.info] // using console.info for debug level
                : originalLogLevel;
            // get formatted args and return the bound log function
            var logArgs = this.getFormattedLogArgs(" %c[" + originalLogLevel + "]");
            return this._console[normalizedLogLevel].bind(this._console, logArgs.text, logArgs.css, severity <= interfaces_1.LogLevel.info ? selfLogsCss : noCss);
        }
        return noopLoggerFn;
    };
    BaseLogger.prototype.getJsonFromError = function (err) {
        return {
            name: err.name,
            message: err.message,
            stack: err.stack,
        };
    };
    BaseLogger.prototype.errorParser = function (details) {
        var _this = this;
        var formatter = function (k, v) { return v instanceof Error ? _this.getJsonFromError(v) : v; };
        return JSON.parse(JSON.stringify(details, formatter));
    };
    Object.defineProperty(BaseLogger.prototype, "debug", {
        get: function () {
            return this.log(interfaces_1.LogLevel.debug);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(BaseLogger.prototype, "info", {
        get: function () {
            return this.log(interfaces_1.LogLevel.info);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(BaseLogger.prototype, "warn", {
        get: function () {
            return this.log(interfaces_1.LogLevel.warn);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(BaseLogger.prototype, "error", {
        get: function () {
            var _this = this;
            return function (message, details) {
                if (details && typeof details === 'object') {
                    details = _this.errorParser(details);
                }
                _this.log(interfaces_1.LogLevel.error).apply(_this, [message].concat([details]));
                _this.report(message, details);
            };
        },
        enumerable: true,
        configurable: true
    });
    BaseLogger.prototype.group = function (groupTitle, collapsed) {
        var _this = this;
        if (collapsed === void 0) { collapsed = defaultGroupBehavior === interfaces_1.GroupBehavior.collapsed; }
        if (this.isEnabled) {
            var color = this.getNextColor();
            var groupLog = function () {
                var _a, _b;
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return (collapsed ? (_a = _this._console).groupCollapsed.apply(_a, args) : (_b = _this._console).group.apply(_b, args));
            };
            this._groupsStack.push({ groupTitle: groupTitle, color: color });
            var logArgs = this.getFormattedLogArgs(" [START - " + groupTitle + "]");
            groupLog(logArgs.text, logArgs.css);
        }
        return {
            end: function () { return _this.groupEnd(groupTitle); },
            endWhen: function (done) {
                if (typeof done == 'function') {
                    done = done();
                }
                if (done && done.then) {
                    done.then(function () { return _this.groupEnd(groupTitle); });
                }
                else {
                    // sync
                    _this.groupEnd(groupTitle);
                }
            },
        };
    };
    BaseLogger.prototype.groupEnd = function (groupTitle) {
        if (this.isEnabled) {
            var hangingGroups = [];
            var currGroup = this._groupsStack.pop(); // get the current active group
            // while the current group is not the same as the one that we want to end and we have other groups in the stack
            while (currGroup.groupTitle !== groupTitle && this._groupsStack.length) {
                hangingGroups.unshift(currGroup); // [1] push it the current group into the temp 'hanging groups' stack
                currGroup = this._groupsStack.pop(); // [2] get the next group in stack
                this._console.groupEnd(); // [3] groupEnd for each group that is not the current group
            }
            // end the group
            this.endGroup(currGroup);
            // resume child groups
            if (hangingGroups.length) {
                this.restoreHangingGroups(hangingGroups);
            }
        }
    };
    BaseLogger.prototype.enable = function (logLevel, clientMuteLevel, logTheme) {
        if (logLevel === void 0) { logLevel = interfaces_1.LogLevel.info; }
        if (clientMuteLevel === void 0) { clientMuteLevel = interfaces_1.ClientMuteLevel.normal; }
        if (logTheme === void 0) { logTheme = interfaces_1.LogTheme.dark; }
        this.setLoggerConfigCookie({ logLevel: logLevel, clientMuteLevel: clientMuteLevel, logTheme: logTheme });
    };
    BaseLogger.prototype.disable = function () {
        this.setLoggerConfigCookie({
            logLevel: interfaces_1.LogLevel.disabled,
            clientMuteLevel: defaultLoggerConfig.clientMuteLevel,
            logTheme: defaultLoggerConfig.logTheme,
        });
    };
    return BaseLogger;
}());
exports.BaseLogger = BaseLogger;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Logger/iFrameLogger.ts":
/*!******************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/iFrameLogger.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var baseLogger_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Logger/baseLogger */ "./src/core/Gigya.Js/app/Logger/baseLogger.ts");
var stringParams_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/stringParams */ "./src/core/Gigya.Js/app/Utils/stringParams.ts");
var IFrameLogger = /** @class */ (function (_super) {
    tslib_1.__extends(IFrameLogger, _super);
    function IFrameLogger(_global) {
        if (_global === void 0) { _global = window; }
        var _this = _super.call(this, _global) || this;
        _this._global = _global;
        return _this;
    }
    IFrameLogger.prototype.report = function (message, details, includeStack) {
        if (includeStack === void 0) { includeStack = true; }
        // send the report from the top frame
        try {
            // calculate the top frame origin
            var a = document.createElement('a');
            a.href = stringParams_1.getReqParamValue(location.hash, 'origin') || stringParams_1.getReqParamValue(location.hash, 'd');
            var targetOrigin = a.protocol + "//" + a.hostname + (a.port ? ":" + a.port : '');
            // post message
            this._global.top.postMessage(JSON.stringify({ type: baseLogger_1.gigErrorReport, message: message, details: details, includeStack: includeStack }), targetOrigin);
        }
        catch (e) {
            console.error(e);
        }
    };
    return IFrameLogger;
}(baseLogger_1.BaseLogger));
exports.IFrameLogger = IFrameLogger;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Logger/interfaces.ts":
/*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/interfaces.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
var LogLevel;
(function (LogLevel) {
    LogLevel[LogLevel["disabled"] = 0] = "disabled";
    LogLevel[LogLevel["debug"] = 1] = "debug";
    LogLevel[LogLevel["info"] = 2] = "info";
    LogLevel[LogLevel["warn"] = 3] = "warn";
    LogLevel[LogLevel["error"] = 4] = "error";
})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));
var ClientMuteLevel;
(function (ClientMuteLevel) {
    ClientMuteLevel[ClientMuteLevel["none"] = 0] = "none";
    ClientMuteLevel[ClientMuteLevel["normal"] = 1] = "normal";
    ClientMuteLevel[ClientMuteLevel["all"] = 2] = "all";
})(ClientMuteLevel = exports.ClientMuteLevel || (exports.ClientMuteLevel = {}));
var LogTheme;
(function (LogTheme) {
    LogTheme[LogTheme["none"] = 0] = "none";
    LogTheme[LogTheme["dark"] = 1] = "dark";
    LogTheme[LogTheme["light"] = 2] = "light";
})(LogTheme = exports.LogTheme || (exports.LogTheme = {}));
var GroupBehavior;
(function (GroupBehavior) {
    GroupBehavior[GroupBehavior["expanded"] = 0] = "expanded";
    GroupBehavior[GroupBehavior["collapsed"] = 1] = "collapsed";
})(GroupBehavior = exports.GroupBehavior || (exports.GroupBehavior = {}));


/***/ }),

/***/ "./src/core/Gigya.Js/app/Logger/loggerJsonp.ts":
/*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/loggerJsonp.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
function loggerJsonp(endpoint, params) {
    var script = document.createElement('script');
    script.src = endpoint + "?" + params;
    script.type = 'text/javascript';
    script.onload = function () {
        document.getElementsByTagName('head')[0].removeChild(script);
    };
    document.getElementsByTagName('head')[0].appendChild(script);
}
exports.loggerJsonp = loggerJsonp;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Logger/main.ts":
/*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/main.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(__webpack_provided_Object_dot_assign) {Object.defineProperty(exports, "__esModule", { value: true });
var parentLogger_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Logger/parentLogger */ "./src/core/Gigya.Js/app/Logger/parentLogger.ts");
var iFrameLogger_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Logger/iFrameLogger */ "./src/core/Gigya.Js/app/Logger/iFrameLogger.ts");
if (!window.gigya.logger) {
    __webpack_provided_Object_dot_assign(window.gigya, { logger: window === window.top ? new parentLogger_1.ParentLogger() : new iFrameLogger_1.IFrameLogger() });
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js")["__assign"]))

/***/ }),

/***/ "./src/core/Gigya.Js/app/Logger/parentLogger.ts":
/*!******************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/parentLogger.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var baseLogger_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Logger/baseLogger */ "./src/core/Gigya.Js/app/Logger/baseLogger.ts");
var loggerJsonp_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Logger/loggerJsonp */ "./src/core/Gigya.Js/app/Logger/loggerJsonp.ts");
var gigyaScriptEl_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/gigyaScriptEl */ "./src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts");
var URLUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/URL */ "./src/core/Gigya.Js/app/Utils/URL.ts");
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
var ParentLogger = /** @class */ (function (_super) {
    tslib_1.__extends(ParentLogger, _super);
    function ParentLogger(_global, _errorReportConfig, _canaryConfig, _random, _jsonp) {
        if (_global === void 0) { _global = window; }
        if (_errorReportConfig === void 0) { _errorReportConfig = window.gigya.errorReport; }
        if (_canaryConfig === void 0) { _canaryConfig = window.gigya.canary; }
        if (_random === void 0) { _random = function () { return Math.random() * 100; }; }
        if (_jsonp === void 0) { _jsonp = loggerJsonp_1.loggerJsonp; }
        var _this = _super.call(this, _global) || this;
        _this._global = _global;
        _this._errorReportConfig = _errorReportConfig;
        _this._canaryConfig = _canaryConfig;
        _this._random = _random;
        _this._jsonp = _jsonp;
        var errorReportEnabled = _this._errorReportConfig && _this._errorReportConfig.enabled;
        var runningAsCanary = _this._canaryConfig && _this._canaryConfig.isActive;
        var enrolledToReportErrors = _this.enrollErrorReporting();
        if (errorReportEnabled && (runningAsCanary || enrolledToReportErrors)) {
            _this._isErrorReporter = true;
            _this.setupMessageListener();
            _this._guid = _this.generateGUID();
        }
        return _this;
    }
    ParentLogger.prototype.enrollErrorReporting = function () {
        return (this._errorReportConfig && this._errorReportConfig.probability) >= this._random();
    };
    ParentLogger.prototype.setupMessageListener = function () {
        var _this = this;
        var errorReportMessageListener = function (event) {
            var dc = window.gigya.dataCenter;
            var gigyaDomain = window.gigya.defaultApiDomain.replace(/\./g, '.'); // replace all '.' with '\.'
            var allowedOriginRegex = new RegExp("cdns?." + dc + "." + gigyaDomain + "$");
            if (!event.origin.match(allowedOriginRegex)) {
                return;
            }
            try {
                var data = JSON.parse(event.data);
                if (data.type === baseLogger_1.gigErrorReport) {
                    _this.report(data.message, data.details, data.includeStack);
                }
            }
            catch (e) { } // unexpected event.data
        };
        this._global.addEventListener('message', errorReportMessageListener, false);
    };
    ParentLogger.prototype.getApiKey = function () {
        var apiKey = window.gigya['thisScript'] && window.gigya['thisScript'].APIKey;
        if (!apiKey) {
            var scriptElement = gigyaScriptEl_1.getGigyaScriptElement();
            var URLParams = URLUtils.getParamsFromURL(scriptElement && scriptElement.src, true) || {};
            apiKey = URLParams['apikey'];
        }
        return apiKey;
    };
    ParentLogger.prototype.createReportParams = function (message, details, includeStack) {
        if (details === void 0) { details = {}; }
        if (includeStack === void 0) { includeStack = true; }
        var params = {
            message: message,
            apiKey: this.getApiKey(),
            stack: includeStack ? new Error().stack : '',
            page: LocalInfo_1.localInfo && LocalInfo_1.localInfo.pageDomain,
            browser: LocalInfo_1.localInfo && LocalInfo_1.localInfo.currentBrowser,
            buildVersion: window.gigya.build.version,
            buildNumber: window.gigya.build.number,
            callback: 'gigya.callback',
            format: 'jsonp',
            sdk: 'web',
        };
        if (typeof details == 'string') {
            details = { message: details };
        }
        details['guid'] = this._guid;
        params['details'] = JSON.stringify(details);
        return Object.keys(params)
            .map(function (k) { return k + "=" + encodeURIComponent(params[k]); })
            .join('&');
    };
    ParentLogger.prototype.report = function (message, details, includeStack) {
        if (includeStack === void 0) { includeStack = true; }
        if (!this._isErrorReporter) {
            // don't continue if we don't need to report
            return;
        }
        try {
            var reportParams = this.createReportParams(message, details, includeStack);
            var sdkErrorReportEndpoint = location.protocol + "//accounts." + window.gigya.dataCenter + "." + window.gigya.defaultApiDomain + "/sdk.errorReport";
            this._jsonp(sdkErrorReportEndpoint, reportParams);
        }
        catch (e) { }
    };
    ParentLogger.prototype.generateGUID = function () {
        try { // https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
                var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }
        catch (e) {
            return '';
        }
    };
    return ParentLogger;
}(baseLogger_1.BaseLogger));
exports.ParentLogger = ParentLogger;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Prototypes.ts":
/*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/Prototypes.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var JSONUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/JSON */ "./src/core/Gigya.Js/app/Utils/JSON.ts");
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
// Custom public prototypes (Friends, UserAction, etc)
var defaultObjects = {};
var defaultObjectsDef = {
    //name|defaultValue. if default not specified use empty string
    User: 'personwithuid+isLoggedIn|false,isConnected|false,isSiteUser|false,identities|{},providers|[],timestamp,UIDSig,UIDSignature,signatureTimestamp,loginProvider,loginProviderUID,capabilities|{}',
    Friend: 'personwithuid+timestamp,friendshipSig,friendshipSignature,signatureTimestamp,timestamp,isSiteUser|false,identities|{}',
    Identity: 'person+isExpiredSession|false,allowsLogin|false,providerUID,provider,isLoginIdentity|false,missingPermissions',
    Contact: 'provider,firstName,lastName,nickname,email,photoURL',
    person: 'nickname,photoURL,thumbnailURL,birthDay|0,birthMonth|0,birthYear|0,gender,email,proxiedEmail,country,state,city,zip,firstName,lastName,profileURL,age|0',
    personwithuid: 'person+UID,isSiteUID|false',
    UserAction: 'actorUID,actorNickname,actionName,date|new Date(),targets|[],images|[],actionData1,actionData2,iconURL,title,linkBack,userMessage,description,actionLinks|[],mediaItems|[],subtitle',
};
var createDefaultObject = function (type) {
    var o = {};
    var objectDef = defaultObjectsDef[type];
    if (objectDef.indexOf('+') != -1) {
        o = createDefaultObject(objectDef.split('+')[0]);
        objectDef = objectDef.split('+')[1];
    }
    var arFields = objectDef.split(',');
    for (var i = 0; i < arFields.length; i++) {
        var defaultValue = '';
        var arField = arFields[i].split('|');
        if (arField.length > 1) {
            try {
                defaultValue = JSONUtils.deserialize(arField[1], '');
            }
            catch (ex) { }
        }
        o[arField[0]] = defaultValue || '';
    }
    return o;
};
var _createConstructor = function (name) {
    return function (o) {
        var defaultObject = defaultObjects[name];
        for (var p in defaultObject) {
            this[p] = objectUtils.clone(defaultObject[p]);
        }
        if (typeof o == 'object') {
            for (var p in o) {
                if (typeof o[p] != 'function') {
                    this[p] = objectUtils.clone(o[p]);
                }
            }
        }
    };
};
for (var def in defaultObjectsDef) {
    defaultObjects[def] = createDefaultObject(def);
    window.gigya.socialize[def] = _createConstructor(def);
}
window.gigya.socialize.Collection = function (arr, k) {
    this.arr = arr;
    this._key = k ? k : '';
};
window.gigya.socialize.Collection.prototype = {
    asArray: function () {
        return this.arr;
    },
    each: function (f) {
        var i = 0;
        var el = this.arr[i];
        while (el) {
            f(el, i);
            i++;
            el = this.arr[i];
        }
    },
    getById: function (id) {
        if (typeof this._hash == 'undefined') {
            this._buildHash();
        }
        return (this._hash ? this._hash : this.arr)[id];
    },
    getSize: function () {
        return this.arr.length;
    },
    _buildHash: function () {
        var h = (this._hash = {});
        var k = this._key;
        this.each(function (o, i) {
            h[typeof o[k] == 'function' ? o[k]() : o[k]] = o;
        });
    },
};
window.gigya.socialize.UserAction.prototype = {
    clone: function () {
        return new window.gigya.socialize.UserAction(window.gigya.utils.object.clone(this, true, true));
    },
    getTemplate: function () {
        return this.titleTemplate;
    },
    setTemplate: function (a) {
        this.titleTemplate = a;
    },
    getActor: function (a) {
        return { UID: this.actorUID, nickname: this.actorNickname };
    },
    setActionName: function (a) {
        this.actionName = a;
        return this;
    },
    getActionName: function (a) {
        return this.actionName;
    },
    getTemplateFields: function () {
        var fieldsArray = [];
        for (var fn in this.templateFields) {
            fieldsArray.push(this.templateFields[fn]);
        }
        return new window.gigya.socialize.Collection(fieldsArray, 'fieldName');
    },
    setTemplateField: function (n, t, h) {
        this.templateFields[n] = { fieldName: n, text: t, href: h };
        return this;
    },
    getTemplateField: function (n) {
        return this.templateFields[n] ? this.templateFields[n] : null;
    },
    addTarget: function (t) {
        if (typeof t == 'object') {
            this.targets.push({ UID: t.UID, nickname: t.nickname ? t.nickname : '' });
            return this;
        }
        else if (typeof t == 'string') {
            this.targets.push({ UID: t, nickname: '' });
            return this;
        }
    },
    addActionLink: function (title, href) {
        this.actionLinks.push({ text: title, href: href ? href : '' });
        return this;
    },
    addMediaItem: function (obj) {
        this.mediaItems.push(obj);
        return this;
    },
    setTitle: function (text) {
        if (text)
            this.title = text;
        return this;
    },
    setLinkBack: function (href) {
        if (href && href.toString)
            href = href.toString();
        if (href)
            this.linkBack = href;
        return this;
    },
    setUserMessage: function (text) {
        this.userMessage = text ? text : '';
        return this;
    },
    setDescription: function (text) {
        this.description = text ? text : '';
        return this;
    },
    addImage: function (s, h) {
        this.addMediaItem({ type: 'image', src: s, href: h });
    },
    getImages: function () {
        return new window.gigya.socialize.Collection(this.images, '');
    },
    getTargets: function () {
        return new window.gigya.socialize.Collection(this.targets, 'UID');
    },
    setIconURL: function (url) {
        this.iconURL = url;
        return this;
    },
    getIconURL: function () {
        return this.iconURL;
    },
    getDate: function () {
        return this.date;
    },
    setActionData1: function (ad) {
        this.actionData1 = ad;
        return this;
    },
    getActionData1: function (ad) {
        return this.actionData1;
    },
    setActionData2: function (ad) {
        this.actionData2 = ad;
        return this;
    },
    getActionData2: function (ad) {
        return this.actionData2;
    },
    setSubtitle: function (s) {
        this.subtitle = s;
        return this;
    },
    getSubtitle: function () {
        return this.subtitle;
    },
};


/***/ }),

/***/ "./src/core/Gigya.Js/app/Providers.ts":
/*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Providers.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var arrayUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/array */ "./src/core/Gigya.Js/app/Utils/array.ts");
var functionsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/functions */ "./src/core/Gigya.Js/app/Utils/functions.ts");
// Providers enum
exports._aliases = {};
var Provider = /** @class */ (function () {
    function Provider(ID, displayName, width, height, defaultCapabilities, explicitOnly, aliases) {
        this.ID = ID;
        this.displayName = displayName;
        this.width = width;
        this.height = height;
        this.explicitOnly = explicitOnly;
        this.aliases = aliases;
        this.arDefaultCapabilities = defaultCapabilities.split(',');
        this.name = displayName
            .toLowerCase()
            .split(' ')
            .join('')
            .split('!')
            .join('')
            .split('.')
            .join('')
            .split('+')
            .join('plus');
        if (aliases) {
            // Creating the aliases map
            if (!exports._aliases) {
                exports._aliases = {};
            }
            // Mapping the aliases: Alias -> Real name (in order to make the search for aliases more effective)
            var arAliases = aliases.split('|');
            for (var i = 0; i < arAliases.length; i++) {
                exports._aliases[arAliases[i]] = this.name;
            }
        }
        switch (this.name) {
            case 'messenger':
                // Rebranding - issue #22411.
                this.displayName = 'Microsoft';
                break;
            case 'googleplus':
                this.displayName = 'Google';
                break;
            case 'customopenid':
                // Custom Open ID is a different network on the server but should behave the same in most of our plugins.
                this.displayName = 'OpenID';
                break;
            case 'paypaloauth':
                this.displayName = 'PayPal';
                break;
            default:
            // No override.
        }
    }
    Provider.prototype.toString = function () {
        return this.name;
    };
    return Provider;
}());
exports.Provider = Provider;
exports.arProviders = [
    new Provider(64, 'Facebook', 650, 400, 'login,friends,places,status,actions,photos'),
    new Provider(9012, 'Twitter', 800, 440, 'login,friends,notifications,actions,status,places,checkins'),
    new Provider(72, 'Google+', 560, 600, 'login,contacts', false, 'google|googleplus'),
    new Provider(9042, 'LinkedIn', 865, 450, 'login,friends,status,actions,notifications,contacts'),
    new Provider(9058, 'Amazon', 785, 510, 'login'),
    new Provider(9803, 'Yahoo', 500, 567, 'login,friends,contacts,notifications'),
    new Provider(1047, 'Messenger', 380, 540, 'login, friends', false, 'messenger|microsoft'),
    new Provider(9832, 'Instagram', 440, 420, 'login,photos'),
    new Provider(9222, 'Odnoklassniki', 888, 425, 'login'),
    new Provider(9007, 'FourSquare', 1000, 650, 'login,friends,places,checkins'),
    new Provider(8191, 'Renren', 450, 350, 'login,friends,status,actions'),
    new Provider(8203, 'QQ', 570, 460, 'login,actions'),
    new Provider(9821, 'Sina', 640, 380, 'login,status,actions'),
    new Provider(4228, 'Mixi', 1000, 720, 'login,friends,actions,photos', true),
    new Provider(9830, 'Yahoo! JAPAN', 980, 700, 'login', true),
    new Provider(8205, 'Spiceworks', 640, 380, 'login', true),
    new Provider(9041, 'VKontakte', 610, 510, 'login,friends,photos,status,actions'),
    new Provider(9800, 'AOL', 530, 720, 'login'),
    new Provider(4096, 'WordPress', 700, 540, 'login'),
    new Provider(256, 'Blogger', 760, 400, 'login'),
    new Provider(4218, 'Netlog', 730, 590, 'login', true),
    new Provider(4224, 'Orange France', 730, 590, 'login', true),
    new Provider(5002, 'Livedoor', 970, 700, 'login', true),
    new Provider(5004, 'Fox News', 730, 590, 'login', true),
    new Provider(1051, 'PayPal', 400, 550, 'login', true),
    new Provider(9219, 'Xing', 785, 510, 'login,friends', true),
    new Provider(8206, 'WeChat', 730, 590, 'login', false, 'wechat|weixin'),
    new Provider(4121, 'Custom OpenID', 730, 590, 'login', true),
    new Provider(4122, 'Custom SAML', 730, 590, 'login', true),
    new Provider(10001, 'OpenID Connect', 730, 590, 'login', true),
    new Provider(6002, 'Site', 730, 590, '', true),
    new Provider(1052, 'PayPalOAuth', 730, 590, 'login', true),
    new Provider(8207, 'Line', 730, 590, 'login'),
    new Provider(20001, 'Kakao', 500, 600, 'login', true),
    new Provider(20002, 'Naver', 780, 555, 'login', true),
    new Provider(20003, 'DocCheck', 874, 844, 'login', true),
    new Provider(20004, 'Apple', 874, 844, 'login', true)
];
function getProviderByName(provider, providersEnum) {
    if (providersEnum === void 0) { providersEnum = exports.arProviders; }
    for (var i = 0; i < providersEnum.length; i++) {
        if (providersEnum[i].name.toLowerCase() === provider.toLowerCase()) {
            return providersEnum[i];
        }
    }
}
exports.getProviderByName = getProviderByName;
function replaceProviderAliases(providers) {
    if (providers == null) {
        return;
    }
    var arrProviders = providers.split(',');
    for (var i = 0; i < arrProviders.length; i++) {
        var currProvider = arrProviders[i].replace(/^\s+|\s+$/g, '');
        if (exports._aliases[currProvider]) {
            arrProviders[i] = exports._aliases[currProvider];
        }
    }
    return arrProviders.join(',');
}
exports.replaceProviderAliases = replaceProviderAliases;
function getProviderById(providerID, providersEnum) {
    if (providersEnum === void 0) { providersEnum = exports.arProviders; }
    for (var i = 0; i < providersEnum.length; i++) {
        if (providersEnum[i].ID === providerID) {
            return providersEnum[i];
        }
    }
}
exports.getProviderById = getProviderById;
function hideProvidersByName(providers, providersToHide, providersEnum) {
    if (providersToHide === void 0) { providersToHide = ''; }
    if (providersEnum === void 0) { providersEnum = exports.arProviders; }
    providersToHide = providersToHide.toLowerCase();
    var arProvidersToHide = providersToHide
        .split(' ')
        .join('')
        .split('.')
        .join('')
        .toLowerCase()
        .split(',');
    arProvidersToHide = replaceWildcard(arProvidersToHide, providersEnum);
    for (var i = 0; i < arProvidersToHide.length; i++) {
        for (var u = 0; u < providers.length; u++) {
            var provider = providers[u];
            var sProvider = provider.name || provider.toString();
            if (sProvider) {
                sProvider = sProvider.toLowerCase();
            }
            if (sProvider === arProvidersToHide[i]) {
                providers.splice(u, 1);
            }
        }
    }
    return providers;
}
exports.hideProvidersByName = hideProvidersByName;
function getProvidersForRequiredCapabilities(providers, capabilities) {
    if (capabilities == null) {
        capabilities = [];
    }
    var arProvidersResult = [];
    for (var i = 0; i < providers.length; i++) {
        var provider = providers[i];
        var validNet = true;
        for (var u = 0; u < capabilities.length; u++) {
            var found = false;
            for (var a = 0; a < provider.arDefaultCapabilities.length; a++) {
                if (provider.arDefaultCapabilities[a].toLowerCase() == capabilities[u].toLowerCase()) {
                    found = true;
                    break;
                }
            }
            if (!found) {
                validNet = false;
                break;
            }
        }
        if (validNet) {
            arProvidersResult.push(provider);
        }
    }
    return arProvidersResult;
}
exports.getProvidersForRequiredCapabilities = getProvidersForRequiredCapabilities;
function getAllProviders() {
    return exports.arProviders.concat();
}
exports.getAllProviders = getAllProviders;
function getProvidersByName(providers, providersEnum) {
    if (providersEnum === void 0) { providersEnum = exports.arProviders; }
    // Casting providers to string to overcome bug #10392.
    providers = ('' + providers)
        .split(' ')
        .join('')
        .split('.')
        .join('')
        .toLowerCase();
    providers = replaceProviderAliases(providers);
    var arAllProviders = ('' + providers).split(',');
    arAllProviders = replaceWildcard(arAllProviders, providersEnum);
    var arProvidersResult = [];
    for (var i = 0; i < arAllProviders.length; i++) {
        var providerObject = getProviderByName(arAllProviders[i], providersEnum);
        if (providerObject != null && arrayUtils.indexOf(arProvidersResult, providerObject) == -1) {
            arProvidersResult.push(providerObject);
        }
    }
    return arProvidersResult;
}
exports.getProvidersByName = getProvidersByName;
function replaceWildcard(providersToReplace, providersEnum) {
    if (!providersEnum) {
        providersEnum = exports.arProviders;
    }
    var arProvidersNew = [];
    for (var i = 0; i < providersToReplace.length; i++) {
        if (providersToReplace[i] == '*') {
            for (var iProvider = 0; iProvider < providersEnum.length; iProvider++) {
                var found = false;
                for (var u = 0; u < providersToReplace.length; u++) {
                    if (providersToReplace[u].toLowerCase() === providersEnum[iProvider].name.toLowerCase()) {
                        found = true;
                    }
                }
                if (!found && !providersEnum[iProvider].explicitOnly) {
                    arProvidersNew.push(providersEnum[iProvider].name);
                }
            }
        }
        else {
            arProvidersNew.push(providersToReplace[i]);
        }
    }
    return arProvidersNew;
}
exports.replaceWildcard = replaceWildcard;
functionsUtils.createAlias('gigya.socialize.getAllProviders', getAllProviders);
functionsUtils.createAlias('gigya.socialize.replaceProviderAliases', replaceProviderAliases);
functionsUtils.createAlias('gigya.socialize.getProvidersByName', getProvidersByName);
functionsUtils.createAlias('gigya.socialize._getProviderByName', getProviderByName);
functionsUtils.createAlias('gigya.socialize.hideProvidersByName', hideProvidersByName);
functionsUtils.createAlias('gigya.socialize._getProviderByID', getProviderById);
functionsUtils.createAlias('gigya.socialize.getProvidersForRequiredCapabilities', getProvidersForRequiredCapabilities);


/***/ }),

/***/ "./src/core/Gigya.Js/app/Reports.ts":
/*!******************************************!*\
  !*** ./src/core/Gigya.Js/app/Reports.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
function trackAddressBarShares() {
    if (window.gigya.thisScript.globalConf['trackAddressBarShares']) {
        var uuid = window.gigya._.apiAdapter.getTokenParam(window.gigya.thisScript.APIKey, 'UUID');
        var arFragment = document.location.href.split('#');
        if (arFragment.length == 1 || arFragment[1] == '' || arFragment[1] == 'guid=_') {
            document.location.replace('#guid=' + (uuid ? uuid : '_'));
        }
    }
}
exports.trackAddressBarShares = trackAddressBarShares;
function report(event, APIKey, cid, source, sourceData, params, ignoreQueue) {
    if (params === void 0) { params = {}; }
    if (ignoreQueue === void 0) { ignoreQueue = false; }
    var report = objectUtils.removeUndefined({
        name: event,
        time: new Date().getTime().toString(),
        source: source,
        sourceData: sourceData,
        reportData: params,
        cid: cid,
    });
    if (!ignoreQueue) {
        if (!exports.queue)
            exports.queue = [];
        exports.queue.push(report);
    }
    else {
        var array = [report];
        window.gigya.gscounters.sendReport({
            reports: array,
            noAuth: !isAuthDataRequired(array),
        });
    }
}
exports.report = report;
function init() {
    setInterval(sendReports, 5000);
}
exports.init = init;
function sendReports() {
    while (exports.queue && exports.queue.length > 0) {
        var batch = objectUtils.clone(exports.queue.splice(0, 5), true, true);
        window.gigya.gscounters.sendReport({
            reports: batch,
            noAuth: !isAuthDataRequired(batch),
        });
    }
}
function isAuthDataRequired(reports) {
    for (var i = 0; i < reports.length; i++) {
        var report = reports[i];
        if ((report.name !== 'loadc' && report.name !== 'load') || (report.name === 'loadc' && report.reportData && report.reportData['actionCounterPath'])) {
            return true;
        }
    }
    return false;
}
function reportLoad(methodName, params) {
    if (!params._reportedLoad) {
        params._reportedLoad = true;
        var event = 'load';
        if (methodName == 'gigya.socialize.plugins.reactions.showReactionsBarUI')
            return; //reactionsBarUI reports load with getReactionsCount
        if (methodName == 'gigya.socialize.plugins.simpleshare.showSimpleShareUI') {
            event = 'loadSimple';
        }
        report(event, params.APIKey, params.cid, params.source, params.sourceData);
    }
}
exports.reportLoad = reportLoad;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Services/AccountService.ts":
/*!**********************************************************!*\
  !*** ./src/core/Gigya.Js/app/Services/AccountService.ts ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var dateUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/date */ "./src/core/Gigya.Js/app/Utils/date.ts");
var GSErrors_1 = __webpack_require__(/*! src/core/Gigya.Js/app/GSErrors */ "./src/core/Gigya.Js/app/GSErrors.ts");
var cookieUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/cookie */ "./src/core/Gigya.Js/app/Utils/cookie.ts");
var AccountService = /** @class */ (function () {
    function AccountService() {
    }
    AccountService.prototype.verifyLogin = function () {
        return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            var verifyLoginIntervalConf, verifyLoginIntervalInMillis;
            return tslib_1.__generator(this, function (_a) {
                verifyLoginIntervalConf = Number(window.gigya.thisScript.globalConf['verifyLoginInterval']);
                if (isNaN(verifyLoginIntervalConf))
                    return [2 /*return*/, true];
                if (verifyLoginIntervalConf <= 0)
                    verifyLoginIntervalConf = 1; // Avoid setting zero interval to minimize requests
                verifyLoginIntervalInMillis = Math.ceil(verifyLoginIntervalConf) * 3600 * 1000;
                if (dateUtils.now() < this.lastVerification + verifyLoginIntervalInMillis)
                    return [2 /*return*/, true];
                this.lastVerification = dateUtils.now();
                return [2 /*return*/, new gigya.Promise(function (resolve) {
                        window.gigya.accounts.verifyLogin({
                            ignoreApiQueue: true,
                            callback: function (res) {
                                resolve(res['errorCode'] === GSErrors_1.GSErrors.OK);
                            },
                        });
                    })];
            });
        });
    };
    Object.defineProperty(AccountService.prototype, "lastVerification", {
        get: function () {
            return Number(cookieUtils.get('gig_last_ver_' + window.gigya.thisScript.APIKey));
        },
        set: function (timestamp) {
            cookieUtils.set('gig_last_ver_' + window.gigya.thisScript.APIKey, String(timestamp));
        },
        enumerable: true,
        configurable: true
    });
    return AccountService;
}());
exports.AccountService = AccountService;
exports.accountService = new AccountService();


/***/ }),

/***/ "./src/core/Gigya.Js/app/ThisScript.ts":
/*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/ThisScript.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
exports.isReady = false;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/DOM.ts":
/*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/DOM.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
var viewportUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/viewport */ "./src/core/Gigya.Js/app/Utils/viewport.ts");
var functionsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/functions */ "./src/core/Gigya.Js/app/Utils/functions.ts");
exports._popupContainers = [];
exports._pseudoContainers = [];
var _nextZIndex = 999999999;
var backListener = null;
function getNextZIndex() {
    _nextZIndex++;
    return _nextZIndex;
}
exports.getNextZIndex = getNextZIndex;
function getGigyaScriptElement(fileNames) {
    var scripts = document.getElementsByTagName('script');
    var scriptElement;
    var gigyaCdnRegex = /\/\/cdn(s)?\.(ru1\.)?gigya.com/;
    for (var i = scripts.length - 1; i >= 0; i--) {
        var script = scripts[i];
        var src = script.src.toLowerCase();
        if (src !== '') {
            if (gigyaCdnRegex.test(src) || src.indexOf('?apikey=') > -1) {
                var isFileNameExistInSrc = fileNames.length === 0 || fileNames.some(function (fileName) { return src.indexOf(fileName) > -1; });
                if (isFileNameExistInSrc) {
                    scriptElement = script;
                    break;
                }
            }
        }
    }
    return scriptElement;
}
exports.getGigyaScriptElement = getGigyaScriptElement;
function dispatch(el, eventName) {
    var event;
    try {
        event = new Event(eventName);
    }
    catch (e) {
        // IE10 and below support
        event = document.createEvent('CustomEvent');
        event.initCustomEvent(eventName, true, true, {});
    }
    el.dispatchEvent(event);
}
exports.dispatch = dispatch;
function addButtonSubmitListener(el, handler, event, debugName) {
    if (event === void 0) { event = 'click'; }
    // Just in case the element does not exist.
    if (!el) {
        return;
    }
    el.setAttribute('role', 'button');
    if (el.getAttribute('tabindex') != '-1') {
        el.setAttribute('tabindex', '0');
    }
    addEventListener(el, event, function (e) { return handler(e); });
    addEventListener(el, 'keydown', function (e) {
        if ((e.which || e.keyCode) == 13) {
            e.preventDefault();
            handler(e);
        }
    });
}
exports.addButtonSubmitListener = addButtonSubmitListener;
function addEventListener(el, eventName, handler) {
    if (!el || !handler)
        return;
    if (el.addEventListener) {
        el.addEventListener(eventName, handler, true);
    }
    else {
        el.attachEvent('on' + eventName, handler);
    }
}
exports.addEventListener = addEventListener;
function removeEventListener(el, eventName, handler) {
    if (!handler)
        return;
    if (el.removeEventListener) {
        el.removeEventListener(eventName, handler, true);
    }
    else {
        el.detachEvent('on' + eventName, handler);
    }
}
exports.removeEventListener = removeEventListener;
function disableDefaultEventHandling(event) {
    if (event.preventDefault) {
        event.preventDefault();
    }
    else if (window.event) {
        window.event.returnValue = false;
    }
}
exports.disableDefaultEventHandling = disableDefaultEventHandling;
function addDialogBackListener(handler) {
    _removeDialogBackListener();
    // This should fire when back is clicked
    backListener = function (e) {
        if (e && e.newURL && e.newURL.indexOf('|gigyaMobileDialog') == -1) {
            handler(e);
            _removeDialogBackListener();
        }
    };
    // hash could change right after the call if it was initiated from a link that didn't return false
    window.setTimeout(function () {
        if (window.location.hash.indexOf('|gigyaMobileDialog') == -1) {
            window.location.hash = window.location.hash + '|gigyaMobileDialog';
        }
        addEventListener(window, 'hashchange', backListener);
    }, 50);
}
exports.addDialogBackListener = addDialogBackListener;
function _removeDialogBackListener() {
    if (!backListener)
        return;
    removeEventListener(window, 'hashchange', backListener);
    backListener = null;
    //restore previous hash
    window.location.hash = window.location.hash.replace('|gigyaMobileDialog', '');
}
exports._removeDialogBackListener = _removeDialogBackListener;
function appendToBody(el, document) {
    if (document === void 0) { document = window.document; }
    if (!document.body)
        return;
    if (document.body.insertBefore && document.body.firstChild) {
        document.body.insertBefore(el, document.body.firstChild);
    }
    else {
        document.body.appendChild(el);
    }
}
exports.appendToBody = appendToBody;
function removeElement(el) {
    if (el && el.parentElement) {
        el.parentElement.removeChild(el);
    }
}
exports.removeElement = removeElement;
function isChildOf(child, parent) {
    var directParent = child.parentNode;
    while (directParent) {
        if (parent == directParent) {
            return true;
        }
        directParent = directParent.parentNode;
    }
    return false;
}
exports.isChildOf = isChildOf;
function isVisible(el) {
    while (el) {
        var computedStyle = getComputedStyle(el);
        if (computedStyle.display === 'none' || computedStyle.visibility === 'hidden') {
            return false;
        }
        else {
            el = el.parentElement;
        }
    }
    return true;
}
exports.isVisible = isVisible;
function getCenteredDivID(name) {
    return 'gig_' + LocalInfo_1.localInfo.initTime.getTime().toString() + '_' + name;
}
exports.getCenteredDivID = getCenteredDivID;
function createElementWithAttributes(domElemName, domElemAttrs) {
    var newDomElem = document.createElement(domElemName);
    if (domElemAttrs) {
        for (var elemAttr in domElemAttrs) {
            newDomElem[elemAttr] = domElemAttrs[elemAttr];
        }
    }
    return newDomElem;
}
exports.createElementWithAttributes = createElementWithAttributes;
function createTopLevelDiv(id) {
    var el = document.createElement('div');
    if (el.style.zIndex != null) {
        el.style.zIndex = '' + getNextZIndex();
    }
    el.innerHTML = '';
    if (id) {
        el.id = id;
    }
    if (document.body) {
        if (document.body.insertBefore && document.body.firstChild) {
            document.body.insertBefore(el, document.body.firstChild);
        }
        else if (document.body.appendChild) {
            document.body.appendChild(el);
        }
    }
    return el;
}
exports.createTopLevelDiv = createTopLevelDiv;
function hideByID(id) {
    var el = document.getElementById(id);
    if (el) {
        el.style.display = 'none';
    }
}
exports.hideByID = hideByID;
function showByID(id) {
    var el = document.getElementById(id);
    if (el) {
        el.style.display = LocalInfo_1.localInfo.isIE6 ? (el.tagName == 'TD' ? 'table-cell' : el.tagName == 'TR' ? '' : el.tagName == 'TABLE' ? '' : 'block') : '';
    }
}
exports.showByID = showByID;
function clearByID(id) {
    try {
        var c = document.getElementById(id);
        if (c != null) {
            c.innerHTML = '';
        }
    }
    catch (e) { }
}
exports.clearByID = clearByID;
function getHTMLSize(html, container) {
    var divMeasure = document.createElement('div');
    divMeasure.style.position = 'absolute';
    divMeasure.style.left = '-1000px';
    divMeasure.innerHTML = html;
    container.appendChild(divMeasure);
    var w = divMeasure.offsetWidth;
    var h = divMeasure.offsetHeight;
    divMeasure.parentNode.removeChild(divMeasure);
    return { w: w, h: h };
}
exports.getHTMLSize = getHTMLSize;
function getElementsByClass(parentElement, className, includeParent) {
    if (!parentElement) {
        return [];
    }
    var arEls = [];
    if (includeParent && isElementClass(parentElement, className)) {
        arEls.push(parentElement);
    }
    var els = parentElement.getElementsByTagName('*');
    for (var i = 0; i < els.length; i++) {
        if (isElementClass(els[i], className)) {
            arEls.push(els[i]);
        }
    }
    return arEls || [];
}
exports.getElementsByClass = getElementsByClass;
function getElementsByAttribute(parentElement, tagName, attributeName, attributeValue) {
    var arEls = [];
    var els = parentElement.getElementsByTagName(tagName);
    for (var i = 0; i < els.length; i++) {
        if (els[i].getAttribute(attributeName) == attributeValue) {
            arEls.push(els[i]);
        }
    }
    return arEls;
}
exports.getElementsByAttribute = getElementsByAttribute;
function getElementPosition(el) {
    if (!el) {
        return { left: 0, top: 0, bottom: 0, right: 0 };
    }
    var rect = el.getBoundingClientRect();
    var scroll = viewportUtils.getScroll();
    var left = rect.left + scroll.left;
    var top = rect.top + scroll.top;
    return {
        left: left,
        top: top,
        right: left + rect.width,
        bottom: top + rect.height,
    };
}
exports.getElementPosition = getElementPosition;
function addClassToElement(el, className) {
    if (!el) {
        return;
    }
    var existingClasses = el.className ? getClassNames(el) : [];
    var existingOriginalLength = existingClasses.length;
    var newClasses = className.split(' ');
    for (var j in newClasses) {
        var exists = false;
        if (!newClasses[j]) {
            break;
        }
        for (var i in existingClasses) {
            if (existingClasses[i] === newClasses[j]) {
                exists = true;
                break;
            }
        }
        if (!exists) {
            existingClasses.push(newClasses[j]);
        }
    }
    if (existingClasses.length !== existingOriginalLength) {
        el.className = existingClasses.join(' ');
    }
}
exports.addClassToElement = addClassToElement;
function removeClassFromElement(el, className, substring) {
    if (substring === void 0) { substring = false; }
    if (!el) {
        return;
    }
    var arClass = getClassNames(el);
    for (var i = arClass.length - 1; i >= 0; i--) {
        if (arClass[i] === className || (substring && arClass[i].indexOf(className) !== -1)) {
            arClass.splice(i, 1);
        }
    }
    el.className = arClass.join(' ');
}
exports.removeClassFromElement = removeClassFromElement;
function getClassNames(el) {
    var classes = [];
    if (typeof el.className === 'string') {
        classes = el.className.split(' ');
    }
    return classes;
}
exports.getClassNames = getClassNames;
function isElementClass(el, className) {
    if (!el)
        return false;
    else if (!className)
        return true;
    else if (!el.className)
        return false;
    var exists = false;
    var arClass = getClassNames(el);
    for (var i = 0; i < arClass.length; i++) {
        if (arClass[i] === className) {
            exists = true;
            break;
        }
    }
    return exists;
}
exports.isElementClass = isElementClass;
function cancelEvent(event) {
    if (!event)
        return;
    if ('cancelable' in event)
        // All browsers except <IE9
        event.preventDefault();
    else
        event.returnValue = false;
}
exports.cancelEvent = cancelEvent;
function createElement(type, name) {
    var divContainer = document.createElement('div');
    name = name || '';
    divContainer.innerHTML = '<' + type + ' name="' + name + '" id="' + name + '"></' + type + '>';
    return divContainer.firstChild;
}
exports.createElement = createElement;
function setSize(container, w, h, center) {
    if (container == null || container.style == null) {
        return;
    }
    if (w) {
        w = '' + w;
        var isWidthPrecentage = w.indexOf('%') > 0;
        if (!isNaN(w) || isWidthPrecentage) {
            var widthValue = '' + (isWidthPrecentage ? w : w + 'px');
            if (container.style.width != widthValue) {
                container.style.width = widthValue;
            }
        }
    }
    if (h) {
        h = '' + h;
        var isHeightPrecentage = h.indexOf('%') > 0;
        if (!isNaN(w) || isHeightPrecentage) {
            var heightValue = '' + (isHeightPrecentage ? h : h + 'px');
            if (container.style.height !== heightValue) {
                container.style.height = heightValue;
            }
        }
    }
    if (center && w && h) {
        if (container.style.zIndex == null || center) {
            container.style.zIndex = '' + getNextZIndex();
        }
        var vp = viewportUtils.getInnerSize();
        var scrl = viewportUtils.getScroll();
        var vpt = scrl.top;
        var vpl = scrl.left;
        container.style.top = '' + Math.max(0, vpt + Math.floor((vp.h - h) / 2)) + 'px';
        container.style.left = '' + Math.max(0, vpl + Math.floor((vp.w - w) / 2)) + 'px';
        container.style.visibility = '';
    }
}
exports.setSize = setSize;
function createHiddenIframe(src) {
    var ifr = document.createElement('iframe');
    ifr.src = src;
    ifr.style.width = '30px';
    ifr.style.height = '10px';
    ifr.style.position = 'absolute';
    ifr.style.top = '-1000px';
    ifr.style.left = '-1000px';
    if (document.body) {
        appendToBody(ifr);
    }
    else {
        functionsUtils.invokeOnPageLoad(function () {
            appendToBody(ifr);
        });
    }
    return ifr;
}
exports.createHiddenIframe = createHiddenIframe;
function attributeEncode(value) {
    return value
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/\"/g, '&quot;')
        .replace(/\'/g, '&#39;'); // IE8 doesn't support &apos;
}
exports.attributeEncode = attributeEncode;
function manipulateAttributes(elements, matcher, replacePredicate, criteria) {
    if (criteria === void 0) { criteria = function () { return true; }; }
    elements.forEach(function (el) {
        if (!el.attributes)
            return;
        Array.prototype.slice.call(el.attributes).forEach(function (attr) {
            if (criteria(attr)) {
                attr.value = attr.value.replace(matcher, replacePredicate);
            }
        });
    });
}
exports.manipulateAttributes = manipulateAttributes;
function textNodesUnder(el) {
    var n;
    var textNodes = [];
    var treeWalker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, null, false);
    while ((n = treeWalker.nextNode())) {
        textNodes.push(n);
    }
    return textNodes;
}
exports.textNodesUnder = textNodesUnder;
function isHTMLBooleanAttribute(attrName) {
    return ['autocomplete', 'autofocus', 'checked', 'disabled', 'hidden', 'readonly', 'required', 'selected'].indexOf(attrName) > -1;
}
exports.isHTMLBooleanAttribute = isHTMLBooleanAttribute;
function isBelongToGigyaFieldset(el) {
    if (!el || el instanceof HTMLFormElement) {
        return false; // end of recursion - element is not a child of a fieldset
    }
    if (isElementClass(el.parentElement, 'gigya-fieldset')) {
        return true;
    }
    return isBelongToGigyaFieldset(el.parentElement);
}
exports.isBelongToGigyaFieldset = isBelongToGigyaFieldset;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/HTTP.ts":
/*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/HTTP.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var DOMUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/DOM */ "./src/core/Gigya.Js/app/Utils/DOM.ts");
var Uri_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/Uri */ "./src/core/Gigya.Js/app/Utils/Uri.ts");
function redirect(url, arParams, method, target, workDocument) {
    if (workDocument === void 0) { workDocument = window.document; }
    if (method && method.toLowerCase() == 'post') {
        var form = workDocument.createElement('form');
        var arFieldsHTML = [];
        form.setAttribute('accept-charset', 'UTF-8');
        form.setAttribute('method', 'POST');
        form.setAttribute('action', url);
        if (target)
            form.setAttribute('target', target);
        var params = objectUtils.merge(arParams);
        for (var p in params) {
            if ((typeof params[p] == 'number' || typeof params[p] == 'boolean' || typeof params[p] == 'string') && p != 'eventName') {
                arFieldsHTML.push('<textarea name="' + encodeURIComponent(p) + '">' + params[p].toString().replace(/\&/g, '&amp;') + '</textarea>');
            }
        }
        form.innerHTML = arFieldsHTML.join('');
        form.style.display = 'none';
        DOMUtils.appendToBody(form, workDocument);
        form.submit();
    }
    else {
        var uri = new Uri_1.Uri(url);
        var query = {};
        for (var i = 0; i < arParams.length; i++) {
            var params_1 = arParams[i];
            for (var name in params_1) {
                if (params_1.hasOwnProperty(name)) {
                    var val = params_1[name];
                    query[name] = val;
                }
            }
        }
        uri.addToSearch(query);
        workDocument.location.href = uri.toString();
    }
}
exports.redirect = redirect;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/JSON.ts":
/*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/JSON.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
function serialize(obj, includeFunctions, prettyPrint, l, maxLevel) {
    if (includeFunctions === void 0) { includeFunctions = false; }
    if (prettyPrint === void 0) { prettyPrint = false; }
    if (l === void 0) { l = 0; }
    if (maxLevel === void 0) { maxLevel = 20; }
    if (!LocalInfo_1.localInfo.isIE8) {
        return window['JSON'].stringify(obj);
    }
    else {
        if (!l)
            l = 0;
        if (l > maxLevel)
            return '[Too deep]';
        var prefix = '';
        var newline = '';
        var tab = '';
        if (prettyPrint) {
            tab = '\t';
            newline = '\n';
            for (var i = 0; i < l + 1; i++) {
                prefix += tab;
            }
        }
        var t = typeof obj;
        if (t == 'function') {
            return t.toString();
        }
        if (t != 'object' || obj === null) {
            // simple data type
            if (t == 'string')
                obj = '"' + obj.replace(/(\"|\\)/g, '\\$1').replace(/\r\n|\r|\n/g, '\\n') + '"';
            return String(obj);
        }
        else {
            var n, v, json = [], arr = obj && obj.constructor == Array;
            if (arr) {
                for (var i = 0; i < obj.length; i++) {
                    v = obj[i];
                    t = typeof v;
                    if (v == null || t == 'undefined')
                        v = '';
                    else if (t == 'string')
                        v = '"' + v.replace(/(\"|\\)/g, '\\$1').replace(/\r\n|\r|\n/g, '\\n') + '"';
                    else if (t == 'function') {
                        if (includeFunctions)
                            v = 'Function';
                        else
                            v = '';
                    }
                    else if (v.parentNode && v.innerHTML)
                        v = 'HTMLElement';
                    else if (v.constructor == Date)
                        v = '';
                    else if (t == 'object' && v !== null)
                        v = serialize(v, includeFunctions, prettyPrint, l + 1);
                    if (String(v) != '')
                        json.push(prefix + tab + String(v));
                }
            }
            else {
                for (n in obj) {
                    v = obj[n];
                    t = typeof v;
                    if (v == null || t == 'undefined')
                        v = String(v);
                    else if (t == 'string')
                        v = '"' + v.replace(/(\"|\\)/g, '\\$1').replace(/\r\n|\r|\n/g, '\\n') + '"';
                    else if (t == 'function') {
                        if (includeFunctions) {
                            v = 'Function';
                        }
                        else {
                            v = '';
                        }
                    }
                    else if (v.parentNode && v.innerHTML)
                        v = 'HTMLElement';
                    else if (v.constructor == Date)
                        v = '';
                    else if (t == 'object' && v !== null)
                        v = newline + serialize(v, includeFunctions, prettyPrint, l + 1);
                    if (String(v) != '')
                        json.push(prefix + tab + '"' + n.replace(/(\"|\\)/g, '\\$1').replace(/\r\n|\r|\n/g, '\\n') + '":' + String(v));
                }
            }
            return newline + prefix + (arr ? '[' : '{') + newline + json.join(',' + newline) + newline + prefix + (arr ? ']' : '}');
        }
    }
}
exports.serialize = serialize;
function deserialize(json, defaultValue, scope) {
    // Return default value if is empty string (or similar).
    if (!json || !json.replace(/^\s+|\s+$/g, '')) {
        return defaultValue || {};
    }
    // Attempt to parse. On error, warn in console and return default value.
    try {
        var keys = [];
        var values = [];
        if (scope) {
            for (var key in scope) {
                keys.push(key);
                values.push(scope[key]);
            }
        }
        var fn = eval("(function(" + keys.join(',') + ") { return " + json.trim() + "; })");
        return fn.apply(undefined, values);
    }
    catch (e) {
        console.warn('Error deserializing JavaScript', e);
        return defaultValue || {};
    }
}
exports.deserialize = deserialize;
function parse(json, defaultValue) {
    if (LocalInfo_1.localInfo.isIE8) {
        return deserialize(json, defaultValue);
    }
    else {
        try {
            return window['JSON'].parse(json);
        }
        catch (e) {
            return defaultValue || {};
        }
    }
}
exports.parse = parse;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/URL.ts":
/*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/URL.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var keyValueUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/keyValue */ "./src/core/Gigya.Js/app/Utils/keyValue.ts");
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
function URLEncode(value) {
    return encodeURIComponent(value);
}
exports.URLEncode = URLEncode;
function URLDecode(value) {
    return decodeURIComponent(value.replace(/\+/g, ' '));
}
exports.URLDecode = URLDecode;
function URLDecodeRecursive(value) {
    var prevDecodingRes = '';
    var currDecodingRes = value;
    // keep decoding until we can't decode anymore
    while (currDecodingRes != prevDecodingRes) {
        // store the last decoding result
        prevDecodingRes = currDecodingRes;
        // decode the string once again
        currDecodingRes = URLDecode(prevDecodingRes);
    }
    return currDecodingRes;
}
exports.URLDecodeRecursive = URLDecodeRecursive;
function getParamsFromURL(url, keysToLower) {
    if (!url || url.indexOf('?') === -1) {
        return {};
    }
    return keyValueUtils.deserialize(url.split('#')[0].split('?')[1], '&', keysToLower);
}
exports.getParamsFromURL = getParamsFromURL;
function getParamValueFromURL(param, url, defaultValue) {
    if (null == url || '' == url) {
        return defaultValue;
    }
    var iqm = url.indexOf('?');
    if (iqm === -1) {
        return defaultValue;
    }
    var qs = '&' + url.substr(iqm + 1);
    var idx = qs.toLowerCase().indexOf('&' + param.toLowerCase() + '=');
    if (idx === -1) {
        return defaultValue;
    }
    var valAndMore = qs.substr(idx + (1 + param.length + 1)) + '&';
    idx = valAndMore.indexOf('&');
    return valAndMore.substr(0, idx);
}
exports.getParamValueFromURL = getParamValueFromURL;
function addParamsToURL(url, oParams) {
    var params = getParamsFromURL(url);
    objectUtils.add(params, oParams);
    var urlHashSplit = url.split('#');
    var finalUrl = urlHashSplit[0].split('?')[0] + '?' + keyValueUtils.serialize(params, '&');
    if (urlHashSplit.length > 1) {
        finalUrl += '#' + urlHashSplit[1];
    }
    return finalUrl;
}
exports.addParamsToURL = addParamsToURL;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/Uri.ts":
/*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/Uri.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var stringUtilsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/stringUtils */ "./src/core/Gigya.Js/app/Utils/stringUtils.ts");
var Uri = /** @class */ (function () {
    function Uri(url, isAbsolute) {
        if (isAbsolute === void 0) { isAbsolute = true; }
        this._anchor = document.createElement('a');
        var protocol = document.location.protocol == 'http:' ? 'http' : 'https';
        if (isAbsolute && url.indexOf('://') === -1 && url.charAt(0) !== '/')
            url = protocol + "://" + url;
        this._anchor.href = url;
    }
    Object.defineProperty(Uri.prototype, "domain", {
        get: function () {
            return this._anchor.hostname;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Uri.prototype, "path", {
        get: function () {
            return this._anchor.pathname;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Uri.prototype, "href", {
        get: function () {
            return this._anchor.href;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Uri.prototype, "search", {
        get: function () {
            return this._anchor.search.slice(1);
        } // dropping '?'
        ,
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Uri.prototype, "hash", {
        get: function () {
            return this._anchor.hash.slice(1);
        } // dropping '#'
        ,
        enumerable: true,
        configurable: true
    });
    Uri.prototype.toString = function () {
        return this._anchor.href;
    };
    Uri.prototype.addToSearch = function (params) {
        for (var name in params) {
            var val = params[name];
            if ((typeof val == 'boolean' || typeof val == 'number' || typeof val == 'string') && name != 'eventName') {
                var addition = this._anchor.search ? '&' : '';
                this._anchor.search += "" + addition + name + "=" + encodeURIComponent(params[name]);
            }
        }
        return this;
    };
    Uri.prototype.fetch = function (retries) {
        if (retries === void 0) { retries = 0; }
        return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            var _a, e_1;
            return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _b.trys.push([0, 5, , 8]);
                        if (!window.fetch) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.browserFetch()];
                    case 1:
                        _a = _b.sent();
                        return [3 /*break*/, 4];
                    case 2: return [4 /*yield*/, this.xhr()];
                    case 3:
                        _a = _b.sent();
                        _b.label = 4;
                    case 4: return [2 /*return*/, _a];
                    case 5:
                        e_1 = _b.sent();
                        if (retries <= 0)
                            throw new Error("fetch failed: " + e_1);
                        return [4 /*yield*/, this.delay(1)];
                    case 6:
                        _b.sent();
                        return [4 /*yield*/, this.fetch(retries - 1)];
                    case 7: return [2 /*return*/, _b.sent()];
                    case 8: return [2 /*return*/];
                }
            });
        });
    };
    Uri.prototype.isBaseOf = function (url) {
        return Uri.parse(url).isIn(this);
    };
    Uri.prototype.isIn = function (base) {
        if (typeof base === 'string') {
            base = Uri.parse(base);
        }
        return ((this.domain == base.domain || // page is the base domain
            this.isSubDomainOf(base)) && // or sub-domain of it
            (!base.path || this.path.indexOf(base.path) == 0)); // page is also in base's defined path;
    };
    Uri.prototype.isForSubDomains = function () {
        return this.domain.indexOf('.') == 0;
    };
    Uri.prototype.isSubDomainOf = function (base) {
        var domain = '';
        if (!base.isForSubDomains())
            domain = '.';
        domain += base.domain;
        return stringUtilsUtils.endsWith(this.domain, domain);
    };
    Uri.parse = function (url, isAbsolute) {
        if (isAbsolute === void 0) { isAbsolute = true; }
        if (!url)
            return undefined;
        return new Uri(url, isAbsolute);
    };
    Uri.prototype.browserFetch = function () {
        return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            var url, response;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        url = this.toString();
                        return [4 /*yield*/, window.fetch(url)];
                    case 1:
                        response = _a.sent();
                        if (!response.ok)
                            throw new Error("fetch failed");
                        return [2 /*return*/, response.json()];
                }
            });
        });
    };
    Uri.prototype.xhr = function () {
        var url = this.toString();
        return new gigya.Promise(function (resolve, reject) {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', url);
            xhr.send();
            xhr.onerror = reject;
            xhr.onload = function () {
                if (xhr.readyState !== 4 || xhr.status !== 200) {
                    return reject("xhr failed - " + xhr.status + " - " + xhr.statusText);
                }
                try {
                    var jsonResponse = JSON.parse(xhr.responseText);
                    return resolve(jsonResponse);
                }
                catch (e) {
                    return reject(e);
                }
            };
        });
    };
    Uri.prototype.delay = function (ms) {
        return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            return tslib_1.__generator(this, function (_a) {
                return [2 /*return*/, new gigya.Promise(function (r) { return setTimeout(r, ms); })];
            });
        });
    };
    return Uri;
}());
exports.Uri = Uri;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/array.ts":
/*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/array.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
function indexOf(ar, o) {
    for (var i = 0; i < ar.length; i++) {
        if (ar[i] == o)
            return i;
    }
    return -1;
}
exports.indexOf = indexOf;
function clone(ar) {
    var ar2 = [];
    for (var i = 0; i < ar.length; i++) {
        ar2[i] = ar[i];
    }
    return ar2;
}
exports.clone = clone;
function removeByValue(ar, value) {
    if (!ar)
        return;
    for (var i = ar.length - 1; i >= 0; i--) {
        if (ar[i] == value) {
            ar.splice(i, 1);
        }
    }
}
exports.removeByValue = removeByValue;
function removeByProperty(ar, property, value) {
    if (!ar)
        return;
    for (var i = ar.length - 1; i >= 0; i--) {
        if (ar[i][property] == value) {
            ar.splice(i, 1);
        }
    }
}
exports.removeByProperty = removeByProperty;
function getArrayFromString(str, delimiter, lowerCase) {
    // check for string type in the input and not empty.
    if (!str || typeof str != 'string')
        return [];
    // lowercase if demended
    if (lowerCase)
        str = str.toLowerCase();
    // clean the string:
    str = str.replace(/[ ]/g, '').replace(/,,/g, ',');
    // if string empty
    if (!str)
        return [];
    // return array from string
    return str.split(delimiter);
}
exports.getArrayFromString = getArrayFromString;
function intersect(array) {
    var args = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        args[_i - 1] = arguments[_i];
    }
    if (array == null)
        return [];
    var result = [];
    var argsLength = arguments.length;
    for (var i = 0, length = array.length; i < length; i++) {
        var item = array[i];
        if (this.indexOf(result, item) != -1)
            continue;
        for (var j = 1; j < argsLength; j++) {
            var arr = arguments[j];
            if (arr == null || this.indexOf(arr, item) == -1)
                break;
        }
        if (j === argsLength)
            result.push(item);
    }
    return result;
}
exports.intersect = intersect;
function lastIndexOf(arr, val, fromIndex) {
    if (fromIndex === void 0) { fromIndex = 0; }
    for (var i = arr.length; --i >= fromIndex;) {
        if (arr[i] === val)
            return i;
    }
    return -1;
}
exports.lastIndexOf = lastIndexOf;
function forEach(arr, action) {
    for (var i = 0; i < arr.length; ++i)
        action(arr[i], i, arr);
}
exports.forEach = forEach;
function forEachProp(obj, action) {
    for (var name in obj) {
        if (obj.hasOwnProperty(name))
            action(obj[name], name, obj);
    }
}
exports.forEachProp = forEachProp;
function some(arr, condition) {
    for (var i = 0; i < arr.length; ++i) {
        if (condition(arr[i], i, arr))
            return true;
    }
    return false;
}
exports.some = some;
function every(arr, condition) {
    for (var i = 0; i < arr.length; ++i) {
        if (!condition(arr[i], i, arr))
            return false;
    }
    return true;
}
exports.every = every;
function everyProp(obj, condition) {
    for (var name in obj) {
        if (obj.hasOwnProperty(name) && !condition(obj[name], name, obj))
            return false;
    }
    return true;
}
exports.everyProp = everyProp;
function map(arr, action) {
    var result = new Array();
    forEach(arr, function (item, idx, arr) { return result.push(action(item, idx, arr)); });
    return result;
}
exports.map = map;
function firstIndex(arr, condition) {
    var result = -1;
    some(arr, function (item, index, arr) {
        if (condition(item, index, arr)) {
            result = index;
            return true;
        }
        return false;
    });
    return result;
}
exports.firstIndex = firstIndex;
function first(arr, condition) {
    return arr[firstIndex(arr, condition)];
}
exports.first = first;
function getAllEnumValues(enumType) {
    var results = [];
    for (var i in enumType)
        if (typeof enumType[i] == 'number')
            results.push(enumType[i]);
    return results;
}
exports.getAllEnumValues = getAllEnumValues;
function getUniqueValues(arr) {
    for (var i = 0; i < arr.length; ++i) {
        for (var j = i + 1; j < arr.length; j++)
            if (arr[i] === arr[j]) {
                arr.splice(j, 1);
            }
    }
    return arr;
}
exports.getUniqueValues = getUniqueValues;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/browser.ts":
/*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/browser.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
var userAgent = navigator.userAgent.toLowerCase();
var _cache = {
    version: null,
};
function isModern() {
    return (LocalInfo_1.localInfo.isChrome ||
        LocalInfo_1.localInfo.isFF ||
        LocalInfo_1.localInfo.isOpera ||
        LocalInfo_1.localInfo.isIOSWebView ||
        (LocalInfo_1.localInfo.isIE && getVersion() >= 9) ||
        LocalInfo_1.localInfo.isEdge ||
        (LocalInfo_1.localInfo.isSafari && getVersion() >= 4) ||
        LocalInfo_1.localInfo.isGoogleBot);
}
exports.isModern = isModern;
function getVersion() {
    if (_cache.version)
        return _cache.version;
    try {
        var versionArray = userAgent.match(/(opera|chrome|safari|firefox|msie|trident.*rv:)\/?\s*(\.?\d+(\.\d+)*)/i);
        if (versionArray[2]) {
            var majorVer = versionArray[2].split('.')[0];
            if (!isNaN(parseInt(majorVer))) {
                return (_cache.version = parseInt(majorVer));
            }
        }
    }
    catch (err) { }
    return 0;
}
exports.getVersion = getVersion;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/cookie.ts":
/*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/cookie.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
function _getBaseDomain() {
    return LocalInfo_1.localInfo.baseDomain || '';
}
exports._getBaseDomain = _getBaseDomain;
function getDefaultDomain(pageDomain, baseDomain) {
    if (pageDomain === void 0) { pageDomain = LocalInfo_1.localInfo.pageDomain; }
    if (baseDomain === void 0) { baseDomain = _getBaseDomain(); }
    var cookieDomain;
    cookieDomain =
        baseDomain.length > 0 && pageDomain.length >= baseDomain.length && pageDomain.lastIndexOf(baseDomain) === pageDomain.length - baseDomain.length
            ? baseDomain
            : pageDomain;
    return cookieDomain;
}
exports.getDefaultDomain = getDefaultDomain;
function get(name) {
    name = name.replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1').replace(/^[ \t]+|[ \t]+$/g, '');
    var regex = new RegExp('(?:^|;)\\s?' + name + '=(.*?)(?:;|$)');
    var match = document.cookie.match(regex);
    return match && unescape(match[1]);
}
exports.get = get;
function set(name, value, expires_in, cookieDomain, dontUseRootPath) {
    var pageDomain = LocalInfo_1.localInfo.pageDomain;
    if (cookieDomain == null) {
        cookieDomain = getDefaultDomain();
    }
    var expireMs;
    if (expires_in == null || expires_in === '' || isNaN(expires_in)) {
        expireMs = 1000 * getInfiniteExpirationTimeInSeconds();
    }
    else if (expires_in == 0) {
        // 0 means Session
        expireMs = null;
    }
    else {
        // Any other value is number of seconds (A negative value would mean expire now!)
        expireMs = expires_in * 1000;
    }
    var exdate = new Date();
    exdate.setTime(exdate.getTime() + expireMs);
    var cookieString = name +
        '=' +
        escape(value) +
        (dontUseRootPath ? '' : '; path=/') +
        (expireMs == null ? '' : '; expires=' + exdate.toUTCString()) +
        (cookieDomain && cookieDomain != '' && cookieDomain.indexOf('.') != -1 ? '; domain=' + cookieDomain : '');
    document.cookie = cookieString;
    // Some browsers like IE8 don't like some domains (e.g. domains of the form xx.yy)
    // http://stackoverflow.com/questions/1189638/internet-explorer-xx-yy-website-issue
    if ((!expireMs || expireMs > 0) && !get(name)) {
        cookieString =
            name +
                '=' +
                escape(value) +
                (dontUseRootPath ? '' : '; path=/') +
                (expireMs == null ? '' : '; expires=' + exdate.toUTCString()) +
                (pageDomain && pageDomain != '' && pageDomain.indexOf('.') != -1 ? '; domain=' + pageDomain : '');
        document.cookie = cookieString;
    }
}
exports.set = set;
function remove(name) {
    var pageDomain = LocalInfo_1.localInfo.pageDomain;
    var baseDomain = _getBaseDomain();
    if (baseDomain.length > 0 && pageDomain.length >= baseDomain.length && pageDomain.lastIndexOf(baseDomain) === pageDomain.length - baseDomain.length) {
        set(name, '', -1, baseDomain); // remove also from the subDomain.
        set(name, '', -1, baseDomain, true);
    }
    set(name, '', -1, LocalInfo_1.localInfo.pageDomain);
    set(name, '', -1, LocalInfo_1.localInfo.pageDomain, true);
    set(name, '', -1, '');
    set(name, '', -1, '', true);
}
exports.remove = remove;
function getInfiniteExpirationTimeInSeconds() {
    // Set expiration time to 1 years
    return 60 * 60 * 24 * 365;
}
exports.getInfiniteExpirationTimeInSeconds = getInfiniteExpirationTimeInSeconds;
function canSaveCookie(doc) {
    if (doc === void 0) { doc = document; }
    var d = new Date(new Date().getTime() + 1000); // 1 second expiration.
    try {
        doc.cookie = 'gig3pctest=true;expires=' + d['toGMTString']();
        return doc.cookie.indexOf('gig3pctest') !== -1;
    }
    catch (e) {
        // iOS 10 webview throws in some scenarios
        return false;
    }
}
exports.canSaveCookie = canSaveCookie;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/date.ts":
/*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/date.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
function now() {
    return Date.now();
}
exports.now = now;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/delegate.ts":
/*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/delegate.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
function create(scope, method) {
    return function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return method.apply(scope, args);
    };
}
exports.create = create;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/domains.ts":
/*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/domains.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var Uri_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/Uri */ "./src/core/Gigya.Js/app/Utils/Uri.ts");
var stringUtilsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/stringUtils */ "./src/core/Gigya.Js/app/Utils/stringUtils.ts");
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
var gigyaDomainNamespaces = ['socialize', 'accounts', 'fidm', 'gm', 'comments', 'gcs', 'ids', 'ds', 'gscounters'];
function apiDomainFactory(apiDomain, defaultApiDomain) {
    if (apiDomain === void 0) { apiDomain = resolveApiDomain(); }
    if (defaultApiDomain === void 0) { defaultApiDomain = window.gigya.defaultApiDomain; }
    var shouldAddNamespace = Uri_1.Uri.parse(apiDomain).isIn(Uri_1.Uri.parse(defaultApiDomain));
    return function (namespace) {
        if (namespace && shouldAddNamespace) {
            var subDomain = namespace.split('.')[0];
            if (gigyaDomainNamespaces.indexOf(subDomain) == -1) {
                window.gigya.logger.error("trying to send request to an invalid domain");
                subDomain = gigyaDomainNamespaces[0];
            }
            return subDomain + "." + apiDomain;
        }
        else {
            return apiDomain;
        }
    };
}
exports.apiDomainFactory = apiDomainFactory;
function getGigyaDomain(namespace, dataCenter, defaultDomain) {
    if (dataCenter === void 0) { dataCenter = window.gigya.dataCenter; }
    if (defaultDomain === void 0) { defaultDomain = window.gigya.defaultApiDomain; }
    var domain = dataCenter + "." + defaultDomain;
    if (namespace)
        return namespace + "." + domain;
    else
        return domain;
}
exports.getGigyaDomain = getGigyaDomain;
function getBaseDomain(baseDomains, currentDomain, defaultDomains) {
    if (baseDomains === void 0) { baseDomains = window.gigya.partnerSettings.baseDomains; }
    if (currentDomain === void 0) { currentDomain = location.hostname; }
    if (defaultDomains === void 0) { defaultDomains = ['gigya.com', 'gigya-api.cn', window.gigya.defaultApiDomain]; }
    // #49786 - Support webview without hostname.
    if (!currentDomain) {
        return '';
    }
    if (typeof baseDomains == 'string') {
        baseDomains = baseDomains.split(',');
    }
    var originURI = Uri_1.Uri.parse(currentDomain);
    if (defaultDomains) {
        baseDomains = baseDomains.concat(defaultDomains);
    }
    for (var _i = 0, baseDomains_1 = baseDomains; _i < baseDomains_1.length; _i++) {
        var rawDomain = baseDomains_1[_i];
        // This does not take care of wildcards in the middle of string.
        var baseDomain = stringUtilsUtils.replaceAll(rawDomain, '*', '');
        var baseUri = Uri_1.Uri.parse(baseDomain);
        if (baseUri && originURI.isIn(baseUri)) {
            if (baseUri.isForSubDomains()) {
                return originURI.domain;
            }
            else {
                return baseUri.domain;
            }
        }
    }
    // fallback to the parent's window domain (for backward compatibility).
    return originURI.domain;
}
exports.getBaseDomain = getBaseDomain;
function resolveApiDomain(customApiDomainPrefix, baseDomain, dataCenter, defaultApiDomain) {
    if (customApiDomainPrefix === void 0) { customApiDomainPrefix = window.gigya.partnerSettings && window.gigya.partnerSettings.customAPIDomainPrefix; }
    if (baseDomain === void 0) { baseDomain = LocalInfo_1.localInfo.baseDomain; }
    if (dataCenter === void 0) { dataCenter = window.gigya.dataCenter; }
    if (defaultApiDomain === void 0) { defaultApiDomain = window.gigya.defaultApiDomain; }
    if (customApiDomainPrefix && baseDomain && baseDomain !== defaultApiDomain) {
        return customApiDomainPrefix + "." + baseDomain;
    }
    else {
        return getGigyaDomain(undefined, dataCenter, defaultApiDomain);
    }
}
exports.resolveApiDomain = resolveApiDomain;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/functions.ts":
/*!**************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/functions.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var DOMUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/DOM */ "./src/core/Gigya.Js/app/Utils/DOM.ts");
var cdn_1 = __webpack_require__(/*! src/core/Gigya.Js/app/cdn */ "./src/core/Gigya.Js/app/cdn.ts");
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
function callFunction(name, arParams) {
    var fn = eval(name);
    var arParts = name.split('.');
    arParts.splice(arParts.length - 1, 1);
    var scope = eval(arParts.join('.'));
    fn.apply(scope, arParams);
}
exports.callFunction = callFunction;
function invokeOnPageLoad(func, completeOnly) {
    if ((!document.readyState && document.body) ||
        document.readyState === 'complete' ||
        (!completeOnly && document.readyState === 'interactive' && document.body)) {
        func();
    }
    else {
        var called_1 = false;
        var fnOnLoad = function () {
            if (!called_1) {
                called_1 = true;
                func();
            }
        };
        window.setTimeout(fnOnLoad, 20000); // fallback - sometimes readystate stays stuck on interactive
        DOMUtils.addEventListener(window, 'load', fnOnLoad);
        DOMUtils.addEventListener(document, 'DOMContentLoaded', fnOnLoad);
    }
}
exports.invokeOnPageLoad = invokeOnPageLoad;
function createAlias(publicName, fnc) {
    var arNameSegments = publicName.split('.');
    var oCurrentSegment = window;
    for (var iSegment = 0; iSegment < arNameSegments.length - 1; iSegment++) {
        var sSegment = arNameSegments[iSegment];
        if (!oCurrentSegment[sSegment]) {
            oCurrentSegment[sSegment] = {};
        }
        oCurrentSegment = oCurrentSegment[sSegment];
    }
    oCurrentSegment[arNameSegments[arNameSegments.length - 1]] = fnc;
}
exports.createAlias = createAlias;
function debounce(fn, delayMilliseconds) {
    var timer = undefined;
    return function () {
        if (timer !== undefined) {
            clearTimeout(timer);
        }
        timer = setTimeout(function () {
            timer = undefined;
            fn();
        }, delayMilliseconds);
    };
}
exports.debounce = debounce;
function addSrcToIFrameIfNeeded(iframe, src) {
    if (src === void 0) { src = cdn_1.getCdnResource('/'); }
    if (LocalInfo_1.localInfo.isIOSWebView || (LocalInfo_1.localInfo.isIOS && LocalInfo_1.localInfo.isWeChat)) {
        iframe.setAttribute('src', src);
    }
}
exports.addSrcToIFrameIfNeeded = addSrcToIFrameIfNeeded;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts":
/*!******************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
var gigyaCdnRegex = /\/\/cdn(s)?\.(ru1\.)?gigya.com/;
var fileNames = ['gigya.js', 'socialize.js', 'socialize2.js', 'gsjssdk.js'];
function getGigyaScriptElement() {
    var scriptElement;
    var scripts = document.getElementsByTagName('script');
    var _loop_1 = function (i) {
        var script = scripts[i];
        var src = script.src.toLowerCase();
        if (src !== '') {
            if (gigyaCdnRegex.test(src) || src.indexOf('?apikey=') > -1) {
                var isFileNameExistInSrc = fileNames.length === 0 || fileNames.some(function (fileName) { return src.indexOf(fileName) > -1; });
                if (isFileNameExistInSrc) {
                    scriptElement = script;
                    return "break";
                }
            }
        }
    };
    for (var i = scripts.length - 1; i >= 0; i--) {
        var state_1 = _loop_1(i);
        if (state_1 === "break")
            break;
    }
    return scriptElement;
}
exports.getGigyaScriptElement = getGigyaScriptElement;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/gltexp.ts":
/*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/gltexp.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
function isValid(gltexp) {
    return getMillis(gltexp) > Date.now();
}
exports.isValid = isValid;
function getMax() {
    var gltexps = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        gltexps[_i] = arguments[_i];
    }
    if (!gltexps || !gltexps.length)
        return undefined;
    return gltexps.sort(function (gltexpA, gltexpB) { return getMillis(gltexpB) - getMillis(gltexpA); })[0];
}
exports.getMax = getMax;
function getMillis(gltExp) {
    return !gltExp ? 0 : Number(gltExp.substr(0, gltExp.indexOf('_'))) * 1000;
}
exports.getMillis = getMillis;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/index.ts":
/*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/index.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(__webpack_provided_Object_dot_assign) {Object.defineProperty(exports, "__esModule", { value: true });
var GigyaUtilsArray = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/array */ "./src/core/Gigya.Js/app/Utils/array.ts");
var GigyaUtilsBrowser = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/browser */ "./src/core/Gigya.Js/app/Utils/browser.ts");
var GigyaUtilsCookie = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/cookie */ "./src/core/Gigya.Js/app/Utils/cookie.ts");
var GigyaUtilsDate = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/date */ "./src/core/Gigya.Js/app/Utils/date.ts");
var GigyaUtilsDelegate = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/delegate */ "./src/core/Gigya.Js/app/Utils/delegate.ts");
var GigyaUtilsDOM = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/DOM */ "./src/core/Gigya.Js/app/Utils/DOM.ts");
var GigyaUtilsDomains = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/domains */ "./src/core/Gigya.Js/app/Utils/domains.ts");
var GigyaUtilsFunctions = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/functions */ "./src/core/Gigya.Js/app/Utils/functions.ts");
var GigyaUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/gigyaScriptEl */ "./src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts");
var GigyaUtilsGltexp = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/gltexp */ "./src/core/Gigya.Js/app/Utils/gltexp.ts");
var GigyaUtilsHTTP = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/HTTP */ "./src/core/Gigya.Js/app/Utils/HTTP.ts");
var GigyaUtilsJSON = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/JSON */ "./src/core/Gigya.Js/app/Utils/JSON.ts");
var GigyaUtilsKeyboard = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/keyboard */ "./src/core/Gigya.Js/app/Utils/keyboard.ts");
var GigyaUtilsKeyValue = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/keyValue */ "./src/core/Gigya.Js/app/Utils/keyValue.ts");
var GigyaUtilsLocalStorage = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/localStorage */ "./src/core/Gigya.Js/app/Utils/localStorage.ts");
var GigyaUtilsMouse = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/mouse */ "./src/core/Gigya.Js/app/Utils/mouse.ts");
var GigyaUtilsObject = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var GigyaUtilsQueue = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/queue */ "./src/core/Gigya.Js/app/Utils/queue.ts");
var GigyaUtilsSanitize = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/sanitize */ "./src/core/Gigya.Js/app/Utils/sanitize.ts");
var GigyaUtilsScript = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/script */ "./src/core/Gigya.Js/app/Utils/script.ts");
var GigyaUtilsSessionCache = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/sessionCache */ "./src/core/Gigya.Js/app/Utils/sessionCache.ts");
var GigyaUtils_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/stringParams */ "./src/core/Gigya.Js/app/Utils/stringParams.ts");
var GigyaUtilsStringUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/stringUtils */ "./src/core/Gigya.Js/app/Utils/stringUtils.ts");
var GigyaUtils_2 = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/tabbable */ "./src/core/Gigya.Js/app/Utils/tabbable.ts");
var GigyaUtilsTemplates = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/templates */ "./src/core/Gigya.Js/app/Utils/templates.ts");
var GigyaUtilsUri = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/Uri */ "./src/core/Gigya.Js/app/Utils/Uri.ts");
var GigyaUtilsURL = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/URL */ "./src/core/Gigya.Js/app/Utils/URL.ts");
var GigyaUtilsValidation = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/validation */ "./src/core/Gigya.Js/app/Utils/validation.ts");
var GigyaUtilsViewport = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/viewport */ "./src/core/Gigya.Js/app/Utils/viewport.ts");
var GigyaUtilsWin = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/win */ "./src/core/Gigya.Js/app/Utils/win.ts");
var GigyaUtilsXd = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/xd */ "./src/core/Gigya.Js/app/Utils/xd.ts");
if (!window.gigya._) {
    window.gigya._ = {};
}
if (!window.gigya.utils) {
    window.gigya.utils = {};
}
if (!window.gigya.utils.array) {
    window.gigya.utils.array = {};
}
if (!window.gigya.utils.browser) {
    window.gigya.utils.browser = {};
}
if (!window.gigya.utils.cookie) {
    window.gigya.utils.cookie = {};
}
if (!window.gigya.utils.date) {
    window.gigya.utils.date = {};
}
if (!window.gigya.utils.delegate) {
    window.gigya.utils.delegate = {};
}
if (!window.gigya.utils.DOM) {
    window.gigya.utils.DOM = {};
}
if (!window.gigya.utils.functions) {
    window.gigya.utils.functions = {};
}
if (!window.gigya.utils.gltexp) {
    window.gigya.utils.gltexp = {};
}
if (!window.gigya.utils.HTTP) {
    window.gigya.utils.HTTP = {};
}
if (!window.gigya.utils.JSON) {
    window.gigya.utils.JSON = {};
}
if (!window.gigya.utils.keyboard) {
    window.gigya.utils.keyboard = {};
}
if (!window.gigya.utils.keyValue) {
    window.gigya.utils.keyValue = {};
}
if (!window.gigya.utils.localStorage) {
    window.gigya.utils.localStorage = {};
}
if (!window.gigya.utils.mouse) {
    window.gigya.utils.mouse = {};
}
if (!window.gigya.utils.object) {
    window.gigya.utils.object = {};
}
if (!window.gigya.utils.queue) {
    window.gigya.utils.queue = {};
}
if (!window.gigya.utils.sanitize) {
    window.gigya.utils.sanitize = {};
}
if (!window.gigya.utils.script) {
    window.gigya.utils.script = {};
}
if (!window.gigya.utils.sessionCache) {
    window.gigya.utils.sessionCache = {};
}
if (!window.gigya.utils.stringUtils) {
    window.gigya.utils.stringUtils = {};
}
if (!window.gigya.utils.templates) {
    window.gigya.utils.templates = {};
}
if (!window.gigya.utils.URL) {
    window.gigya.utils.URL = {};
}
if (!window.gigya.utils.validation) {
    window.gigya.utils.validation = {};
}
if (!window.gigya.utils.viewport) {
    window.gigya.utils.viewport = {};
}
if (!window.gigya.utils.win) {
    window.gigya.utils.win = {};
}
if (!window.gigya.utils.xd) {
    window.gigya.utils.xd = {};
}
__webpack_provided_Object_dot_assign(window.gigya._, GigyaUtilsUri, GigyaUtilsDomains);
__webpack_provided_Object_dot_assign(window.gigya.utils.array, GigyaUtilsArray);
__webpack_provided_Object_dot_assign(window.gigya.utils.browser, GigyaUtilsBrowser);
__webpack_provided_Object_dot_assign(window.gigya.utils.cookie, GigyaUtilsCookie);
__webpack_provided_Object_dot_assign(window.gigya.utils.date, GigyaUtilsDate);
__webpack_provided_Object_dot_assign(window.gigya.utils.delegate, GigyaUtilsDelegate);
__webpack_provided_Object_dot_assign(window.gigya.utils.DOM, GigyaUtilsDOM);
__webpack_provided_Object_dot_assign(window.gigya.utils.functions, GigyaUtilsFunctions);
__webpack_provided_Object_dot_assign(window.gigya.utils, GigyaUtils, GigyaUtils_1, GigyaUtils_2);
__webpack_provided_Object_dot_assign(window.gigya.utils.gltexp, GigyaUtilsGltexp);
__webpack_provided_Object_dot_assign(window.gigya.utils.HTTP, GigyaUtilsHTTP);
__webpack_provided_Object_dot_assign(window.gigya.utils.JSON, GigyaUtilsJSON);
__webpack_provided_Object_dot_assign(window.gigya.utils.keyboard, GigyaUtilsKeyboard);
__webpack_provided_Object_dot_assign(window.gigya.utils.keyValue, GigyaUtilsKeyValue);
__webpack_provided_Object_dot_assign(window.gigya.utils.localStorage, GigyaUtilsLocalStorage);
__webpack_provided_Object_dot_assign(window.gigya.utils.mouse, GigyaUtilsMouse);
__webpack_provided_Object_dot_assign(window.gigya.utils.object, GigyaUtilsObject);
__webpack_provided_Object_dot_assign(window.gigya.utils.queue, GigyaUtilsQueue);
__webpack_provided_Object_dot_assign(window.gigya.utils.sanitize, GigyaUtilsSanitize);
__webpack_provided_Object_dot_assign(window.gigya.utils.script, GigyaUtilsScript);
__webpack_provided_Object_dot_assign(window.gigya.utils.sessionCache, GigyaUtilsSessionCache);
__webpack_provided_Object_dot_assign(window.gigya.utils.stringUtils, GigyaUtilsStringUtils);
__webpack_provided_Object_dot_assign(window.gigya.utils.templates, GigyaUtilsTemplates);
__webpack_provided_Object_dot_assign(window.gigya.utils.URL, GigyaUtilsURL);
__webpack_provided_Object_dot_assign(window.gigya.utils.validation, GigyaUtilsValidation);
__webpack_provided_Object_dot_assign(window.gigya.utils.viewport, GigyaUtilsViewport);
__webpack_provided_Object_dot_assign(window.gigya.utils.win, GigyaUtilsWin);
__webpack_provided_Object_dot_assign(window.gigya.utils.xd, GigyaUtilsXd);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js")["__assign"]))

/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/keyValue.ts":
/*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/keyValue.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var URLUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/URL */ "./src/core/Gigya.Js/app/Utils/URL.ts");
var JSONUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/JSON */ "./src/core/Gigya.Js/app/Utils/JSON.ts");
function serialize(oKeyValue, delimiter) {
    var a = [];
    if (!delimiter) {
        delimiter = '&';
    }
    for (var p in oKeyValue) {
        switch (typeof oKeyValue[p]) {
            case 'function':
                break;
            case 'object':
                if (oKeyValue[p] != null) {
                    a.push(p + '=' + URLUtils.URLEncode(JSONUtils.serialize(oKeyValue[p])));
                }
                break;
            case 'undefined':
                break;
            default:
                a.push(p + '=' + URLUtils.URLEncode(oKeyValue[p]));
        }
    }
    var s = a.join(delimiter);
    return s;
}
exports.serialize = serialize;
function deserialize(urlEncodedString, delimiter, keysToLower, useUnescape) {
    var o = {};
    if (!urlEncodedString) {
        return o;
    }
    if (!delimiter) {
        delimiter = '&';
    }
    var pairs = urlEncodedString.split(delimiter);
    for (var iPair = 0; iPair < pairs.length; iPair++) {
        var pair = pairs[iPair];
        var eqPos = pair.indexOf('=');
        if (eqPos === -1) {
            var key = keysToLower ? pair.toLowerCase() : pair;
            o[key] = '1';
        }
        else {
            var key = pair.substr(0, eqPos);
            if (keysToLower) {
                key = key.toLowerCase();
            }
            var serializedValue = pair.substr(eqPos + 1).replace(/\+/g, ' ');
            try {
                o[key] = useUnescape ? unescape(serializedValue) : URLUtils.URLDecode(serializedValue);
            }
            catch (ex) {
                o[key] = unescape(serializedValue);
            }
        }
    }
    return o;
}
exports.deserialize = deserialize;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/keyboard.ts":
/*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/keyboard.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var DOMUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/DOM */ "./src/core/Gigya.Js/app/Utils/DOM.ts");
var Keys;
(function (Keys) {
    Keys[Keys["escape"] = 27] = "escape";
    Keys[Keys["backspace"] = 8] = "backspace";
    Keys[Keys["enter"] = 13] = "enter";
})(Keys = exports.Keys || (exports.Keys = {}));
function onHotKeyClicked(hotKeyData, handler) {
    var htmlContext = hotKeyData.elementContext ? hotKeyData.elementContext : document.body;
    DOMUtils.addEventListener(htmlContext, 'keyup', function (event) {
        if (event.which == hotKeyData.key) {
            handler();
        }
    });
}
exports.onHotKeyClicked = onHotKeyClicked;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/localStorage.ts":
/*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/localStorage.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var JSONUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/JSON */ "./src/core/Gigya.Js/app/Utils/JSON.ts");
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
var scriptUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/script */ "./src/core/Gigya.Js/app/Utils/script.ts");
var cookieUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/cookie */ "./src/core/Gigya.Js/app/Utils/cookie.ts");
var AbstractLocalStorageAdapter = /** @class */ (function () {
    function AbstractLocalStorageAdapter() {
    }
    AbstractLocalStorageAdapter.getName = function () {
        return 'AbstractAdapter';
    };
    /**
     * Set object to storage.
     */
    AbstractLocalStorageAdapter.prototype.setObject = function (key, o) {
        this.setItem(key, JSONUtils.serialize(o));
    };
    /**
     * Get object from local storage.
     */
    AbstractLocalStorageAdapter.prototype.getObject = function (key, defaultValue) {
        return JSONUtils.deserialize(this.getItem(key), defaultValue);
    };
    /**
     * Is persistent storage. Returns false when data is not persisted.
     */
    AbstractLocalStorageAdapter.prototype.isPersistent = function () {
        return true;
    };
    return AbstractLocalStorageAdapter;
}());
exports.AbstractLocalStorageAdapter = AbstractLocalStorageAdapter;
var AbstractAsyncLocalStorageAdapter = /** @class */ (function (_super) {
    tslib_1.__extends(AbstractAsyncLocalStorageAdapter, _super);
    function AbstractAsyncLocalStorageAdapter() {
        var _this = _super.call(this) || this;
        _this.isLoaded = false;
        return _this;
    }
    AbstractAsyncLocalStorageAdapter.prototype.isReady = function () {
        return this.isLoaded;
    };
    /**
     * Used when there is initialization time on the local storage adapter.
     */
    AbstractAsyncLocalStorageAdapter.prototype.waitForService = function (callback) {
        var _this = this;
        if (this.isReady()) {
            callback();
            return;
        }
        else {
            setTimeout(function () { return _this.waitForService(callback); }, 50);
        }
    };
    return AbstractAsyncLocalStorageAdapter;
}(AbstractLocalStorageAdapter));
exports.AbstractAsyncLocalStorageAdapter = AbstractAsyncLocalStorageAdapter;
var StorageAdapter = /** @class */ (function (_super) {
    tslib_1.__extends(StorageAdapter, _super);
    function StorageAdapter() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    StorageAdapter.prototype.getItem = function (key) {
        return this.storage[key];
    };
    StorageAdapter.prototype.setItem = function (key, value, expiresIn) {
        try {
            this.storage[key] = value;
        }
        catch (ex) { }
    };
    StorageAdapter.prototype.removeItem = function (key) {
        this.storage.removeItem(key);
    };
    return StorageAdapter;
}(AbstractLocalStorageAdapter));
var LocalStorageAdapter = /** @class */ (function (_super) {
    tslib_1.__extends(LocalStorageAdapter, _super);
    function LocalStorageAdapter() {
        var _this = _super.call(this) || this;
        _this.storage = window.localStorage;
        return _this;
    }
    LocalStorageAdapter.getName = function () {
        return 'LocalStorageAdapter';
    };
    LocalStorageAdapter.isAvailable = function () {
        return LocalInfo_1.localInfo.supportsLocalStorage;
    };
    return LocalStorageAdapter;
}(StorageAdapter));
var SessionStorageAdapter = /** @class */ (function (_super) {
    tslib_1.__extends(SessionStorageAdapter, _super);
    function SessionStorageAdapter() {
        var _this = _super.call(this) || this;
        _this.storage = window.sessionStorage;
        return _this;
    }
    SessionStorageAdapter.getName = function () {
        return 'SessionStorageAdapter';
    };
    SessionStorageAdapter.isAvailable = function () {
        return LocalInfo_1.localInfo.supportsSessionStorage;
    };
    return SessionStorageAdapter;
}(StorageAdapter));
var FirefoxStorageAdapter = /** @class */ (function (_super) {
    tslib_1.__extends(FirefoxStorageAdapter, _super);
    function FirefoxStorageAdapter() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FirefoxStorageAdapter.isAvailable = function () {
        return LocalInfo_1.localInfo.isFF && window['globalStorage'];
    };
    FirefoxStorageAdapter.getName = function () {
        return 'FirefoxStorageAdapter';
    };
    FirefoxStorageAdapter.prototype.getItem = function (key) {
        return window['globalStorage'][location.hostname][key];
    };
    FirefoxStorageAdapter.prototype.setItem = function (key, value, expiresIn) {
        try {
            window['globalStorage'][location.hostname][key] = value;
        }
        catch (ex) { }
    };
    FirefoxStorageAdapter.prototype.removeItem = function (key) {
        delete window['globalStorage'][location.hostname][key];
    };
    return FirefoxStorageAdapter;
}(AbstractLocalStorageAdapter));
var FlashAsyncStorageAdapter = /** @class */ (function (_super) {
    tslib_1.__extends(FlashAsyncStorageAdapter, _super);
    function FlashAsyncStorageAdapter() {
        var _this = _super.call(this) || this;
        // Load SWF store library.
        _this.loadSwfStore(function (isSuccess) {
            _this.isLoaded = true;
        });
        return _this;
    }
    FlashAsyncStorageAdapter.isAvailable = function () {
        // There is no current scenario where using Flash Storage is helpful outside of IE.
        return LocalInfo_1.localInfo.supportsFlash && (LocalInfo_1.localInfo.isIE || LocalInfo_1.localInfo.isEdge);
    };
    FlashAsyncStorageAdapter.getName = function () {
        return 'FlashAsyncStorageAdapter';
    };
    /**
     * First, load the JavaScript swfstore SDK.
     */
    FlashAsyncStorageAdapter.prototype.loadSwfStore = function (callback) {
        var _this = this;
        // Load SwfStore if necessary.
        if (window['SwfStore']) {
            this.initializeSwfStore(function () { return _this.loadSwfStore(callback); });
            return;
        }
        scriptUtils.load('https://cdns.gigya.com/gs/js/swfstore.min.js', function () {
            // Error handler.
            console.log('Failed to load Gigya SwfStore.');
            callback(false);
        }, function () {
            // Success handler.
            _this.initializeSwfStore(callback);
        }, true);
    };
    /**
     * Iniitalize the SwfStore class.
     */
    FlashAsyncStorageAdapter.prototype.initializeSwfStore = function (callback) {
        this.swfStore = new SwfStore({
            namespace: 'gigSSO',
            swf_url: 'https://cdns.gigya.com/gs/swf/swfstore.swf',
            onready: function () {
                callback(true);
            },
            onerror: function () {
                console.log('Failed to initialize Gigya SwfStore.');
                callback(false);
            },
        });
    };
    FlashAsyncStorageAdapter.prototype.getItem = function (key) {
        return this.swfStore.get(key);
    };
    FlashAsyncStorageAdapter.prototype.setItem = function (key, value, expiresIn) {
        this.swfStore.set(key, value);
    };
    FlashAsyncStorageAdapter.prototype.removeItem = function (key) {
        this.swfStore.clear(key);
    };
    return FlashAsyncStorageAdapter;
}(AbstractAsyncLocalStorageAdapter));
var CookieStorageAdapter = /** @class */ (function (_super) {
    tslib_1.__extends(CookieStorageAdapter, _super);
    function CookieStorageAdapter() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CookieStorageAdapter.isAvailable = function () {
        return cookieUtils.canSaveCookie();
    };
    CookieStorageAdapter.getName = function () {
        return 'CookieStorageAdapter';
    };
    CookieStorageAdapter.prototype.getItem = function (key) {
        return cookieUtils.get(key);
    };
    CookieStorageAdapter.prototype.setItem = function (key, value, expiresIn, domain) {
        cookieUtils.set(key, value, expiresIn, domain);
    };
    CookieStorageAdapter.prototype.removeItem = function (key) {
        cookieUtils.remove(key);
    };
    return CookieStorageAdapter;
}(AbstractLocalStorageAdapter));
exports.CookieStorageAdapter = CookieStorageAdapter;
var MemoryStorageAdapter = /** @class */ (function (_super) {
    tslib_1.__extends(MemoryStorageAdapter, _super);
    function MemoryStorageAdapter() {
        var _this = _super.call(this) || this;
        _this.memory = {};
        return _this;
    }
    MemoryStorageAdapter.isAvailable = function () {
        return true;
    };
    MemoryStorageAdapter.getName = function () {
        return 'MemoryStorageAdapter';
    };
    MemoryStorageAdapter.prototype.getItem = function (key) {
        return this.memory[key];
    };
    MemoryStorageAdapter.prototype.setItem = function (key, value, expiresIn) {
        this.memory[key] = value;
    };
    MemoryStorageAdapter.prototype.removeItem = function (key) {
        delete this.memory[key];
    };
    /**
     * Is persistent storage. Returns false when data is not persisted.
     */
    MemoryStorageAdapter.prototype.isPersistent = function () {
        return false;
    };
    return MemoryStorageAdapter;
}(AbstractLocalStorageAdapter));
exports.MemoryStorageAdapter = MemoryStorageAdapter;
exports.adapters = [
    LocalStorageAdapter,
    SessionStorageAdapter,
    FirefoxStorageAdapter,
    FlashAsyncStorageAdapter,
    CookieStorageAdapter,
    MemoryStorageAdapter,
];
exports.instances = {};
function initializeAdapter(adapter) {
    var adapterName = adapter.getName() || adapter.name;
    if (!exports.instances[adapterName]) {
        exports.instances[adapterName] = new adapter();
    }
    return exports.instances[adapterName];
}
exports.initializeAdapter = initializeAdapter;
function waitForService(callback) {
    // Select compatible adapter.
    var storage;
    for (var _i = 0, adapters_1 = exports.adapters; _i < adapters_1.length; _i++) {
        var adapter_1 = adapters_1[_i];
        if (adapter_1.isAvailable()) {
            // Don't select adapter if it's async and a callback wasn't provided.
            if (adapter_1.prototype instanceof AbstractAsyncLocalStorageAdapter && !callback) {
                continue;
            }
            storage = initializeAdapter(adapter_1);
            break;
        }
    }
    // Fallback to memory-based non-persistent storage.
    if (!storage) {
        storage = initializeAdapter(MemoryStorageAdapter);
    }
    // Trigger callback when adapter finishes loading (or instantly, if not required to wait).
    if (callback) {
        if (storage instanceof AbstractAsyncLocalStorageAdapter) {
            storage.waitForService(function () {
                callback(storage);
            });
        }
        else {
            callback(storage);
        }
    }
    return storage;
}
exports.waitForService = waitForService;
var adapter = waitForService();
function getItem(key) {
    return adapter.getItem(key);
}
exports.getItem = getItem;
function setItem(key, value, expiresIn) {
    return adapter.setItem(key, value, expiresIn);
}
exports.setItem = setItem;
function removeItem(key) {
    return adapter.removeItem(key);
}
exports.removeItem = removeItem;
function setObject(key, o) {
    return adapter.setObject(key, o);
}
exports.setObject = setObject;
function getObject(key, defaultValue) {
    return adapter.getObject(key, defaultValue);
}
exports.getObject = getObject;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/mouse.ts":
/*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/mouse.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
var mouseEventObject = null;
function getPosition() {
    var posx = 0;
    var posy = 0;
    if (document.body) {
        var e = mouseEventObject;
        if (!e)
            e = { clientX: 0, clientY: 0 };
        if (e.pageX || e.pageY) {
            posx = e.pageX;
            posy = e.pageY;
        }
        else if (e.clientX || e.clientY) {
            posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
            posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
        }
        return { x: posx, y: posy };
    }
}
exports.getPosition = getPosition;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/object.ts":
/*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/object.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var JSONUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/JSON */ "./src/core/Gigya.Js/app/Utils/JSON.ts");
function removeUndefined(o) {
    var o2 = {};
    for (var p in o) {
        if (o[p] != null && o[p] != undefined) {
            o2[p] = o[p];
        }
    }
    return o2;
}
exports.removeUndefined = removeUndefined;
function expressionHelper(context) {
    context = context || {};
    return {
        getField: function (path) {
            if (!path)
                return undefined;
            var paths = path.split('.'), current = context, i;
            for (i = 0; i < paths.length; ++i) {
                if (current[paths[i]] == undefined) {
                    return undefined;
                }
                else {
                    current = current[paths[i]];
                }
            }
            return current;
        },
    };
}
exports.expressionHelper = expressionHelper;
function getPropertyBySerializedName(o, name, createMissingObjects) {
    if (!name)
        return o;
    var oResult = o;
    var arNameSegments = name.split('.');
    for (var iSegment = 0; iSegment < arNameSegments.length; iSegment++) {
        var sSegment = arNameSegments[iSegment];
        var sIndex = null;
        //Support for array access. i.e. "obj.prop1[0].prop2"
        if (sSegment.match(/\[[0-9]]/)) {
            sIndex = Number(sSegment.match(/\[[0-9]]/)[0].replace(/[\[\]]/g, ''));
        }
        sSegment = sSegment.split(/\[[0-9]]/).join('');
        var res = (sIndex || sIndex === 0) && oResult[sSegment] ? oResult[sSegment][sIndex] : oResult[sSegment];
        if (createMissingObjects && !oResult[sSegment]) {
            oResult[sSegment] = {};
        }
        else if (createMissingObjects && !res && res !== false) {
            oResult[sSegment] = [];
        }
        if (res || res === false) {
            oResult = res;
        }
        else {
            return null;
        }
    }
    return oResult;
}
exports.getPropertyBySerializedName = getPropertyBySerializedName;
function setPropertyBySerializedName(o, name, value) {
    var arNameSegments = name.split('.');
    var propertyName = arNameSegments.pop();
    getPropertyBySerializedName(o, arNameSegments.join('.'), true)[propertyName] = value;
}
exports.setPropertyBySerializedName = setPropertyBySerializedName;
function add(oTarget, o, dontOverride) {
    for (var p in o) {
        if (!dontOverride || typeof oTarget[p] === 'undefined') {
            oTarget[p] = o[p];
        }
    }
}
exports.add = add;
function getHash(o) {
    var ar = [];
    for (var p in o) {
        var s;
        if (typeof o[p] == 'object')
            s = JSONUtils.serialize(o[p], false);
        else if (o[p])
            s = o[p].toString();
        ar.push(p + '=' + s);
    }
    return ar.sort().join('&');
}
exports.getHash = getHash;
function getMurmurHash(key, seed) {
    if (!seed)
        seed = 0;
    var remainder, bytes, h1, h1b, c1, c1b, c2, c2b, k1, i;
    remainder = key.length & 3; // key.length % 4
    bytes = key.length - remainder;
    h1 = seed;
    c1 = 0xcc9e2d51;
    c2 = 0x1b873593;
    i = 0;
    while (i < bytes) {
        k1 = (key.charCodeAt(i) & 0xff) | ((key.charCodeAt(++i) & 0xff) << 8) | ((key.charCodeAt(++i) & 0xff) << 16) | ((key.charCodeAt(++i) & 0xff) << 24);
        ++i;
        k1 = ((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) & 0xffffffff;
        k1 = (k1 << 15) | (k1 >>> 17);
        k1 = ((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) & 0xffffffff;
        h1 ^= k1;
        h1 = (h1 << 13) | (h1 >>> 19);
        h1b = ((h1 & 0xffff) * 5 + ((((h1 >>> 16) * 5) & 0xffff) << 16)) & 0xffffffff;
        h1 = (h1b & 0xffff) + 0x6b64 + ((((h1b >>> 16) + 0xe654) & 0xffff) << 16);
    }
    k1 = 0;
    switch (remainder) {
        case 3:
            k1 ^= (key.charCodeAt(i + 2) & 0xff) << 16;
        case 2:
            k1 ^= (key.charCodeAt(i + 1) & 0xff) << 8;
        case 1:
            k1 ^= key.charCodeAt(i) & 0xff;
            k1 = ((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) & 0xffffffff;
            k1 = (k1 << 15) | (k1 >>> 17);
            k1 = ((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) & 0xffffffff;
            h1 ^= k1;
    }
    h1 ^= key.length;
    h1 ^= h1 >>> 16;
    h1 = ((h1 & 0xffff) * 0x85ebca6b + ((((h1 >>> 16) * 0x85ebca6b) & 0xffff) << 16)) & 0xffffffff;
    h1 ^= h1 >>> 13;
    h1 = ((h1 & 0xffff) * 0xc2b2ae35 + ((((h1 >>> 16) * 0xc2b2ae35) & 0xffff) << 16)) & 0xffffffff;
    h1 ^= h1 >>> 16;
    return h1 >>> 0;
}
exports.getMurmurHash = getMurmurHash;
function clone(obj, deepCopy, ignoreFunctions, maxLevel, level, ignoreContext) {
    if (maxLevel === void 0) { maxLevel = 20; }
    if (level === void 0) { level = 0; }
    if (level > maxLevel)
        return null; // Too deep
    if (typeof obj == 'undefined' || obj == null) {
        return null;
    }
    else if (typeof obj == 'function' && ignoreFunctions) {
        return null;
    }
    else if (obj.constructor == Array) {
        var ar = [];
        for (var i = 0; i < obj.length; i++) {
            if (!ignoreFunctions || typeof obj[i] != 'function') {
                if (deepCopy) {
                    ar[i] = clone(obj[i], deepCopy, ignoreFunctions, maxLevel, level + 1, ignoreContext);
                }
                else {
                    ar[i] = obj[i];
                }
            }
        }
        return ar;
    }
    else if (typeof obj == 'object') {
        var o = {};
        for (var p in obj) {
            if (ignoreContext && p == 'context')
                continue;
            if (!ignoreFunctions || typeof obj[p] != 'function') {
                if (deepCopy) {
                    o[p] = clone(obj[p], deepCopy, ignoreFunctions, maxLevel, level + 1, ignoreContext);
                }
                else {
                    o[p] = obj[p];
                }
            }
        }
        return o;
    }
    else {
        return obj;
    }
}
exports.clone = clone;
function merge(args, isDeepMerge) {
    var o = {};
    for (var i = 0; i < args.length; i++) {
        if (args[i] && args[i].length) {
            for (var u = 0; u < args[i].length; u++) {
                for (var p in args[i][u]) {
                    o[p] = args[i][u][p];
                }
            }
        }
        else {
            // Merge objects.
            if (!isDeepMerge) {
                // Flat merge.
                for (var p in args[i]) {
                    o[p] = args[i][p];
                }
            }
            else {
                // Deep merge.
                for (var p in args[i]) {
                    //we override primitive / array
                    if (typeof o[p] !== 'object' || o[p] instanceof Array) {
                        o[p] = args[i][p];
                    }
                    else {
                        o[p] = merge([o[p], args[i][p]], true);
                    }
                }
            }
        }
    }
    return o;
}
exports.merge = merge;
function unflatten(data) {
    if (Object(data) !== data || Array.isArray(data)) {
        return data;
    }
    var result = {};
    for (var p in data) {
        var cur = result;
        var prop = '';
        var parts = p.split('.');
        for (var i = 0; i < parts.length; i++) {
            var idx = !isNaN(Number(parts[i]));
            cur = cur[prop] || (cur[prop] = idx ? [] : {});
            prop = parts[i];
        }
        cur[prop] = data[p];
    }
    return result[''] || {};
}
exports.unflatten = unflatten;
function flatten(data, withBracket) {
    if (withBracket === void 0) { withBracket = false; }
    var result = {};
    function recurse(cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        }
        else if (Array.isArray(cur)) {
            var l = cur.length;
            for (var i = 0; i < l; i++) {
                var nestedProperty = withBracket ? prop + "[" + i + "]" : prop + "." + i;
                recurse(cur[i], prop ? nestedProperty : String(i));
            }
            if (l === 0) {
                result[prop] = [];
            }
        }
        else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop + "." + p : p);
            }
            if (isEmpty && prop !== '') {
                result[prop] = {};
            }
        }
    }
    recurse(data, '');
    return result;
}
exports.flatten = flatten;
function extractProperties(src, dest, schema) {
    if (src == null)
        return;
    if (dest == null)
        dest = {};
    if (src.constructor == Array) {
        for (var iSrc = 0; iSrc < src.length; iSrc++) {
            extractProperties(src[iSrc], dest, schema);
        }
    }
    else if (schema) {
        var arSchema = schema.split('|');
        var srcLCase = {};
        for (var fieldName in src) {
            srcLCase[fieldName.toLowerCase()] = 1;
        }
        for (var i = 0; i < arSchema.length; i++) {
            var fieldName2 = arSchema[i];
            if (srcLCase[fieldName2.toLowerCase()])
                dest[fieldName2] = src[fieldName2];
        }
    }
    else {
        dest = clone(src, false);
    }
    return dest;
}
exports.extractProperties = extractProperties;
function extractProperty(src, paramName) {
    var params;
    return extractProperties(src, params, paramName)[paramName];
}
exports.extractProperty = extractProperty;
function parseToObject(str) {
    try {
        var parsedVal = window['JSON'].parse(str);
        if (typeof parsedVal == 'object') {
            return parsedVal;
        }
    }
    catch (e) { }
    return undefined;
}
exports.parseToObject = parseToObject;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/queue.ts":
/*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/queue.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
var _q = {};
function _servicesStatus() {
    var services = {};
    for (var service in _q) {
        var active = isActive(service);
        if (active) {
            services[service] = {
                active: true,
                waitingFor: _q[service].ids,
                queuedCount: _q[service].q.length,
            };
        }
        else {
            services[service] = {
                active: false,
            };
        }
    }
    return services;
}
exports._servicesStatus = _servicesStatus;
function isActive(service) {
    if (!_q[service])
        return false;
    for (var id in _q[service].ids)
        return true;
    return false;
}
exports.isActive = isActive;
function release(id, service) {
    window.gigya.logger.debug("releasing " + service + " queue by " + id);
    if (!_q[service])
        return;
    delete _q[service].ids[id];
    if (!isActive(service)) {
        var q = _q[service].q;
        _q[service].q = [];
        while (q.length > 0) {
            var o = q.splice(0, 1)[0];
            try {
                o.func.apply(this, o.args);
            }
            catch (ex) {
                if (typeof console == 'object' && console.log) {
                    console.log('Gigya: Exception while invoking queued method (' + service + ': ' + id + ')');
                }
            }
            if (isActive(service)) {
                //queue became inactive
                _q[service].q = q;
                break;
            }
        }
    }
}
exports.release = release;
function hold(id, service) {
    window.gigya.logger.debug("locking queue " + service + " by " + id);
    if (!_q[service])
        _q[service] = { q: [], ids: {} };
    _q[service].ids[id] = true;
}
exports.hold = hold;
function waitFor(service, fnc, args) {
    if (!_q[service])
        _q[service] = { q: [], ids: {} };
    _q[service].q.push({ func: fnc, args: args });
}
exports.waitFor = waitFor;
function queueForExecution(service, func, args) {
    args = args || [];
    if (isActive(service)) {
        waitFor(service, func, args);
    }
    else {
        func.apply(this, args);
    }
}
exports.queueForExecution = queueForExecution;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/sanitize.ts":
/*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/sanitize.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
function sanitizeHTML(html) {
    if (html == null || typeof html == 'undefined')
        return html;
    return html
        .replace(/&/g, '&#38;')
        .replace(/</g, '&#60;')
        .replace(/>/g, '&#62;')
        .replace(/\"/g, '&#34;')
        .replace(/'/g, '&#39;')
        .replace(/&#38;#173;/g, '&#173;');
}
exports.sanitizeHTML = sanitizeHTML;
function sanitizeAttribute(attributeValue) {
    if (attributeValue == null || typeof attributeValue == 'undefined')
        return attributeValue;
    return attributeValue
        .replace(/&/g, '&#38;')
        .replace(/</g, '&#60;')
        .replace(/>/g, '&#62;')
        .replace(/\"/g, '&#34;')
        .replace(/\=/g, '&#61;');
}
exports.sanitizeAttribute = sanitizeAttribute;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/script.ts":
/*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/script.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var Uri_1 = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/Uri */ "./src/core/Gigya.Js/app/Utils/Uri.ts");
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
var arrayUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/array */ "./src/core/Gigya.Js/app/Utils/array.ts");
var functionsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/functions */ "./src/core/Gigya.Js/app/Utils/functions.ts");
var DOMUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/DOM */ "./src/core/Gigya.Js/app/Utils/DOM.ts");
var cdn_1 = __webpack_require__(/*! src/core/Gigya.Js/app/cdn */ "./src/core/Gigya.Js/app/cdn.ts");
var pending = {};
function addSdkVersion(url) {
    var scriptUrl = Uri_1.Uri.parse(url);
    scriptUrl.addToSearch({ version: window.gigya.build.version });
    return scriptUrl.toString();
}
function formatSrcUrl(src) {
    // remove cdn domain number
    return src.replace(/^http(s?):\/\/cdn(s?)[0-9]*.gigya.com\//, 'http$1://cdn$2.gigya.com/');
}
function isLoaded(src) {
    var pendingSrc = formatSrcUrl(src);
    return Boolean(pending[pendingSrc] && pending[pendingSrc].loaded);
}
exports.isLoaded = isLoaded;
function load(src, fnOnError, fnOnLoad, loadOnce, removeAfter, treatTogether) {
    if (removeAfter === void 0) { removeAfter = 5000; }
    var oScript;
    if (src.indexOf('//') === 0) {
        src = LocalInfo_1.localInfo.protocol + ':' + src;
    }
    if (loadOnce) {
        var pendingSrc = formatSrcUrl(src);
        if (pending[pendingSrc]) {
            if (pending[pendingSrc].loaded) {
                window.gigya.logger.debug("script was already loaded:", { src: src });
                if (fnOnLoad) {
                    fnOnLoad();
                }
            }
            else {
                pending[pendingSrc].onLoad.push(fnOnLoad);
                pending[pendingSrc].onError.push(fnOnError);
            }
            return;
        }
        oScript = pending[pendingSrc] = { loaded: false, onLoad: [fnOnLoad], onError: [fnOnError] };
        if (treatTogether && treatTogether.length > 0) {
            arrayUtils.forEach(treatTogether, function (url) {
                pending[url] = oScript;
            });
        }
    }
    else {
        // multiple loads
        oScript = { loaded: false, onLoad: [fnOnLoad], onError: [fnOnError] };
    }
    var scriptLoader = function () {
        var script = document.createElement('script');
        script.async = true;
        script.type = 'text/javascript';
        script.charset = 'UTF-8';
        var done = false;
        var fnOnScriptLoad = function () {
            if (!done) {
                if (oScript.onLoad && oScript.onLoad.length) {
                    for (var i = 0; i < oScript.onLoad.length; i++) {
                        if (typeof oScript.onLoad[i] === 'function') {
                            oScript.onLoad[i]();
                        }
                    }
                }
                oScript.loaded = true;
                oScript.onError = oScript.onLoad = null; // remove memory leak
                done = true;
                if (removeAfter === true) {
                    removeAfter = 0;
                }
                if (removeAfter !== false) {
                    setTimeout(function () {
                        if (script.parentNode) {
                            script.parentNode.removeChild(script);
                        }
                    }, removeAfter);
                }
            }
        };
        script.onload = fnOnScriptLoad;
        script['onreadystatechange'] = function () {
            if (this.readyState === 'loaded') {
                fnOnScriptLoad();
            }
        };
        script.onerror = function () {
            for (var i = 0; i < oScript.onError.length; i++) {
                if (typeof oScript.onError[i] === 'function') {
                    oScript.onError[i]();
                }
            }
            delete pending[src];
        };
        var head = document.getElementsByTagName('head');
        if (head && head.length > 0) {
            head[0].appendChild(script);
        }
        var fnSetScriptSrc = function () {
            var webSdkResourcesDomain = new RegExp("^https?://cdns?.*" + window.gigya.defaultApiDomain);
            var scriptSrc = webSdkResourcesDomain.test(src) ? addSdkVersion(src) : src;
            script.src = scriptSrc;
        };
        if (LocalInfo_1.localInfo.iosVersion >= 6) {
            // iOS 6 breaks setTimeout when animation is active (switching tabs back from a login sequence)
            fnSetScriptSrc();
        }
        else {
            setTimeout(fnSetScriptSrc, 1); // Doing this async gives better performance in older browsers
        }
    };
    if (LocalInfo_1.localInfo.isIE) {
        functionsUtils.invokeOnPageLoad(scriptLoader);
    }
    else {
        scriptLoader();
    }
}
exports.load = load;
var ResourceTypes;
(function (ResourceTypes) {
    ResourceTypes[ResourceTypes["script"] = 0] = "script";
    ResourceTypes[ResourceTypes["image"] = 1] = "image";
    ResourceTypes[ResourceTypes["iframe"] = 2] = "iframe";
})(ResourceTypes = exports.ResourceTypes || (exports.ResourceTypes = {}));
function triggerResource(url, callback, resourceType, removeAfter) {
    if (resourceType === void 0) { resourceType = ResourceTypes.image; }
    if (removeAfter === void 0) { removeAfter = 5000; }
    switch (resourceType) {
        case ResourceTypes.script:
            load(url, callback, callback, false, removeAfter);
            break;
        case ResourceTypes.image:
            loadImage(url, callback);
            break;
        case ResourceTypes.iframe:
            loadIframe(url, callback, removeAfter);
            break;
        default:
            throw new Error('Unsupported resource type');
    }
}
exports.triggerResource = triggerResource;
function loadImage(url, callback) {
    var img = new Image();
    var loaded = false;
    var fnOnLoad = function () {
        if (!loaded) {
            loaded = true;
            callback();
        }
    };
    img.onload = img.onerror = fnOnLoad;
    img.src = url;
}
function loadIframe(url, callback, removeAfter) {
    if (removeAfter === void 0) { removeAfter = 5000; }
    var ifr = document.createElement('iframe');
    ifr.style.width = '30px';
    ifr.style.height = '10px';
    ifr.style.position = 'absolute';
    ifr.style.top = '-1000px';
    ifr.style.left = '-1000px';
    if (removeAfter === true) {
        removeAfter = 0;
    }
    var fnOnLoad = function (e) {
        var el;
        if (e && e.srcElement) {
            el = e.srcElement;
        }
        else if (e && e.target) {
            el = e.target;
        }
        else {
            el = this;
        }
        if (!el.loaded && el.parentNode) {
            el.loaded = true;
            callback();
            if (removeAfter !== false) {
                window.setTimeout(function () {
                    try {
                        document.body.removeChild(el);
                    }
                    catch (ex) { }
                }, removeAfter);
            }
        }
    };
    DOMUtils.addEventListener(ifr, 'load', fnOnLoad);
    DOMUtils.addEventListener(ifr, 'error', fnOnLoad);
    ifr.onload = function (e) {
        fnOnLoad(e);
    };
    ifr.onerror = fnOnLoad;
    ifr.src = url;
    DOMUtils.appendToBody(ifr);
}
function loadService(serviceName, fnOnError, fnOnLoad) {
    var url = cdn_1.getCdnResource() + '/js/gigya.services.' + serviceName + '.js';
    load(url, function () {
        if (typeof console === 'object' && console.error) {
            console.error('error loading gigya service ' + serviceName + ' from url: ' + url);
            if (fnOnError) {
                fnOnError();
            }
        }
    }, fnOnLoad, true);
}
exports.loadService = loadService;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/sessionCache.ts":
/*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/sessionCache.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var JSONUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/JSON */ "./src/core/Gigya.Js/app/Utils/JSON.ts");
var queueUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/queue */ "./src/core/Gigya.Js/app/Utils/queue.ts");
var sessionStorageEnabled;
try {
    sessionStorageEnabled = Boolean(window.sessionStorage); // when 3pc blocked, chrome throws when trying to access session storage.
}
catch (ex) {
    sessionStorageEnabled = false;
}
function set(key, response) {
    if (!sessionStorageEnabled)
        return;
    var oGigya;
    try {
        oGigya = JSONUtils.deserialize(window.sessionStorage.getItem('gigyaCache'));
        if (response == null && oGigya[key]) {
            delete oGigya[key];
        }
        else {
            oGigya[key] = { response: response, time: new Date().getTime() };
        }
        window.sessionStorage.setItem('gigyaCache', JSONUtils.serialize(oGigya));
    }
    catch (ex) { }
    queueUtils.release('cache', 'cache_' + key);
}
exports.set = set;
function get(key, cacheTimeout, callback) {
    if (!sessionStorageEnabled) {
        if (typeof callback == 'function')
            callback(null);
        return;
    }
    var ret;
    try {
        if (!queueUtils.isActive('cache_' + key)) {
            var sGigyaCache = window.sessionStorage.getItem('gigyaCache');
            var oGigya = JSONUtils.deserialize(sGigyaCache);
            var cached = oGigya[key];
            if (cached) {
                if (cacheTimeout && cacheTimeout + cached.time > new Date().getTime()) {
                    //cached
                    callback(cached.response);
                    return;
                }
                else {
                    //expired
                    remove(key);
                    cached = null;
                }
            }
            if (!cached) {
                //not cached (first time)
                queueUtils.hold('cache', 'cache_' + key); //so that future requests will wait for the first one's response.
                callback(null);
                return;
            }
        }
        if (queueUtils.isActive('cache_' + key)) {
            //wait for first response
            queueUtils.waitFor('cache_' + key, get, arguments);
            return;
        }
    }
    catch (ex) {
        callback(null);
    }
}
exports.get = get;
function remove(key) {
    set(key, null);
}
exports.remove = remove;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/stringParams.ts":
/*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/stringParams.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
function getParamValue(str, key, del) {
    if (del === void 0) { del = '&'; }
    // http://stackoverflow.com/questions/11920697/how-to-get-hash-value-in-a-url-in-js
    var matches = str.match(new RegExp(key + "=([^" + del + "]*)"));
    return matches ? matches[1] : null;
}
exports.getParamValue = getParamValue;
function getReqParamValue(str, key) {
    var val = getParamValue(str, key);
    return val ? decodeURIComponent(val) : null;
}
exports.getReqParamValue = getReqParamValue;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/stringUtils.ts":
/*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/stringUtils.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
function trim(s) {
    return s.replace(/^\s*(\S*(.*\S)?)\s*$/, '$1');
}
exports.trim = trim;
function format(s) {
    var rest = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        rest[_i - 1] = arguments[_i];
    }
    for (var i = 0; i < arguments.length - 1; i++) {
        if (arguments[i + 1] != null) {
            s = s.split('{' + i + '}').join(arguments[i + 1]);
        }
    }
    return s;
}
exports.format = format;
function capitalize(s) {
    return s.substring(0, 1).toUpperCase() + s.substring(1);
}
exports.capitalize = capitalize;
function endsWith(s, suffix) {
    return s.indexOf(suffix, s.length - suffix.length) !== -1;
}
exports.endsWith = endsWith;
function escapeRegExp(str) {
    return str.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, '\\$1');
}
exports.escapeRegExp = escapeRegExp;
function replaceAll(str, find, replace) {
    if (!find)
        return str;
    return str.replace(new RegExp(escapeRegExp(find), 'g'), replace);
}
exports.replaceAll = replaceAll;
function mergeCommaSeparatedValues(str1, str2) {
    if (str1 === void 0) { str1 = ''; }
    if (str2 === void 0) { str2 = ''; }
    var arr = str1.concat(',', str2).split(',');
    return window.gigya.utils.array.getUniqueValues(arr).filter(function (x) { return x; }).join(',');
}
exports.mergeCommaSeparatedValues = mergeCommaSeparatedValues;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/tabbable.ts":
/*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/tabbable.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var DOMUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/DOM */ "./src/core/Gigya.Js/app/Utils/DOM.ts");
var Tabbable = /** @class */ (function () {
    /**
     * Do not use - access via `gigya.utils.tabbable`.
     */
    function Tabbable() {
        this.bindings = [];
    }
    /**
     * Do not use - access via `gigya.utils.tabbable`.
     */
    Tabbable.getInstance = function () {
        if (!Tabbable.self) {
            Tabbable.self = new Tabbable();
        }
        return Tabbable.self;
    };
    /**
     * When bound, the user will have their tab focused locked into the container while their focus is on an element in the container.
     *
     * - Hitting tab while focused on the last tabbable element will set focus to the first tabbable element.
     * - Hitting shift+tab while focused on the first element will set focus to the last tabbable element.
     */
    Tabbable.prototype.bindTabLooping = function (container, filterSelector) {
        // Don't bind twice when screen-sets move between screens.
        if (this.getListenerByContainer(container)) {
            return;
        }
        var listener = this.createListener(container, filterSelector);
        window.addEventListener('keydown', listener, true);
    };
    /**
     * Restore natural tabbing behavior.
     */
    Tabbable.prototype.unbindTabLooping = function (container) {
        var listener = this.getListenerByContainer(container);
        if (listener) {
            window.removeEventListener('keydown', listener, true);
        }
    };
    /**
     * Get sorted list of tabbable elements.
     */
    Tabbable.prototype.getSortedTabbableElements = function (container, filterSelector) {
        var _this = this;
        var tabIndex = 0;
        var els = container.querySelectorAll(Tabbable.selector);
        var tabbable = [];
        for (var i = 0; i < els.length; ++i) {
            var element = els[i];
            if (this.isTabbable(element, filterSelector)) {
                // Necessary to track natural sort order for stable sort implementation.
                element.setAttribute(Tabbable.naturalTabOrder, String(tabIndex));
                tabIndex++;
                tabbable.push(element);
            }
        }
        tabbable.sort(function (a, b) { return _this.sort(a, b); });
        return tabbable;
    };
    /**
     * Create and track listener function.
     */
    Tabbable.prototype.createListener = function (container, filterSelector) {
        var _this = this;
        var listener = function (e) {
            // Tab key hit and the currently focused element is in the container we care about.
            var activeElement = document.activeElement;
            if (e.keyCode === 9 && container.contains(activeElement)) {
                // Attempt to key the next element. Shift key reverses tab order.
                var el = !e.shiftKey
                    ? _this.getNextTabbableElement(container, activeElement, filterSelector)
                    : _this.getPreviousTabbableElement(container, activeElement, filterSelector);
                if (el) {
                    el.focus();
                    // Cancel default submit event only if next element in line could be found.
                    // If focus is set on an untabbable elements, the tab keypress will always be handled natively.
                    DOMUtils.cancelEvent(e);
                }
            }
        };
        this.bindings.push({ container: container, listener: listener });
        return listener;
    };
    /**
     * Filter out elements that aren't tabbable.
     */
    Tabbable.prototype.isTabbable = function (element, filterSelector) {
        var matches = element.matches || element['msMatchesSelector'];
        return (element.tabIndex !== -1 && // Excluded from tab order.
            (element.offsetWidth > 0 || element.offsetHeight > 0) && // Is visible.
            (!filterSelector || matches.call(element, filterSelector))); // Is in filtered set of elements.
    };
    /**
     * Get next tabbable element, looping if necessary. Returns undefined if the current element isn't in the list of tabbable elements.
     */
    Tabbable.prototype.getNextTabbableElement = function (container, currentElement, filterSelector) {
        var els = this.getSortedTabbableElements(container, filterSelector);
        var currentIndex = els.indexOf(currentElement);
        if (currentIndex === -1) {
            // The current element wasn't found in the list of tabbable elements.
            return undefined;
        }
        else if (currentIndex !== els.length - 1) {
            // Next element in list.
            return els[currentIndex + 1];
        }
        else {
            // Last element reached, loop back to first.
            return els[0];
        }
    };
    /**
     * Get previous tabbable element, looping if necessary. Returns undefined if the current element isn't in the list of tabbable elements.
     */
    Tabbable.prototype.getPreviousTabbableElement = function (container, currentElement, filterSelector) {
        var els = this.getSortedTabbableElements(container, filterSelector);
        var currentIndex = els.indexOf(currentElement);
        if (currentIndex === -1) {
            // The current element wasn't found in the list of tabbable elements.
            return undefined;
        }
        else if (currentIndex !== 0) {
            // Previous element in list.
            return els[currentIndex - 1];
        }
        else {
            // First element reached, loop back to last.
            return els[els.length - 1];
        }
    };
    /**
     * Sort algorithm that takes into account the tab index and natural sort order for each element.
     *
     * NOTE:
     * Not all browsers implement stable sorting. Specifically Chrome's sort is NOT stable.
     * A sorting algorithm is "stable" when two objects with equal keys appear in the same order after being sorted.
     */
    Tabbable.prototype.sort = function (a, b) {
        var tabIndexDiff = this.getTabIndex(a) - this.getTabIndex(b);
        if (tabIndexDiff !== 0) {
            return tabIndexDiff;
        }
        return Number(a.getAttribute(Tabbable.naturalTabOrder)) - Number(b.getAttribute(Tabbable.naturalTabOrder));
    };
    /**
     * Elements with a tab index of 0 should appear after all elements with a tab index.
     */
    Tabbable.prototype.getTabIndex = function (el) {
        return el.tabIndex === 0 ? 99999999 : el.tabIndex;
    };
    /**
     * Find event listener function by container element.
     */
    Tabbable.prototype.getListenerByContainer = function (container) {
        for (var _i = 0, _a = this.bindings; _i < _a.length; _i++) {
            var binding = _a[_i];
            if (binding.container === container) {
                return binding.listener;
            }
        }
    };
    Tabbable.naturalTabOrder = 'data-natural-tab-order';
    Tabbable.selector = ['a:not([disabled])', 'button:not([disabled])', 'input:not([disabled])', '[tabindex]:not([disabled])'].join(',');
    return Tabbable;
}());
exports.Tabbable = Tabbable;
exports.tabbable = Tabbable.getInstance();


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/templates.ts":
/*!**************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/templates.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
function fill(template, o) {
    if (typeof template == 'function') {
        template = template(o);
    }
    if (template instanceof Array) {
        template = template.join('');
    }
    var p = /(\$)(!?)([a-z_][a-z_.\d]*)([(][^()]*[)])?|(\$)(!?)\{([a-z_][a-z_.\d]*)([(][^()]*[)])?\}/gi;
    p.lastIndex = 0;
    var res = template;
    var matches = p.exec(res);
    var offset;
    while (matches != null) {
        if (matches[1] == '$') {
            offset = 0;
        }
        else {
            offset = 4;
        }
        var blnDontInject = matches[2 + offset] == '!';
        var identifier = matches[3 + offset]; // 0 is the entire expr and 1/5=$ 2/6=! 3/7=identifier 4/8=()'s
        var para = matches[4 + offset];
        if (para == null)
            para = '';
        var dbg = 0;
        if (identifier.substring(0, 1) == '.') {
            identifier = identifier.substring(1);
        }
        if (identifier.substring(0, 3) == 'DBG') {
            identifier = identifier.substring(3);
            dbg = 1;
        }
        var preTemp = '';
        var postTemp = identifier + para;
        while (postTemp != preTemp) {
            preTemp = postTemp;
            var lastIndex = p.lastIndex;
            postTemp = fill(preTemp, o);
            p.lastIndex = lastIndex;
        }
        var v = '';
        var skipChars = 0;
        if (o[identifier.split('.')[0]] != null) {
            try {
                v = new Function('o', 'p', 'return eval("o." + p)')(o, postTemp);
            }
            catch (e) { }
        }
        else {
            v = '$' + (blnDontInject ? '!' : '') + postTemp;
            skipChars = 1;
        }
        if (blnDontInject) {
            res = res.replace(matches[0], '');
        }
        else {
            res = res.substr(0, matches.index) + v + res.substr(matches.index + matches[0].length);
            //res=res.split(matches[0]).join(v);
        }
        p.lastIndex = matches.index + skipChars; // to allow recursive changes in templates that contain templates.
        matches = p.exec(res);
    }
    return res;
}
exports.fill = fill;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/validation.ts":
/*!***************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/validation.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
function isExplicitTrue(val) {
    var lc = ('' + val).toLowerCase();
    return lc == 'true' || lc == '1';
}
exports.isExplicitTrue = isExplicitTrue;
function isExplicitFalse(val) {
    var lc = ('' + val).toLowerCase();
    return lc == 'false' || lc == '0';
}
exports.isExplicitFalse = isExplicitFalse;
function isLaterThanNow(expirationTime) {
    return expirationTime > new Date().getTime();
}
exports.isLaterThanNow = isLaterThanNow;
function allDefinedOrAllUndefined() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    var anyUndefined = args.some(function (x) { return typeof x === 'undefined'; });
    var anyDefined = args.some(function (x) { return typeof x !== 'undefined'; });
    return (anyDefined && !anyUndefined) || (!anyDefined && anyUndefined);
}
exports.allDefinedOrAllUndefined = allDefinedOrAllUndefined;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/viewport.ts":
/*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/viewport.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
function getScroll() {
    var scrOfX = 0, scrOfY = 0;
    if (typeof window.pageYOffset == 'number') {
        scrOfY = window.pageYOffset;
        scrOfX = window.pageXOffset;
    }
    else if (document.body && (document.body.scrollLeft || document.body.scrollTop)) {
        scrOfY = document.body.scrollTop;
        scrOfX = document.body.scrollLeft;
    }
    else if (document.documentElement && (document.documentElement.scrollLeft || document.documentElement.scrollTop)) {
        scrOfY = document.documentElement.scrollTop;
        scrOfX = document.documentElement.scrollLeft;
    }
    return { left: scrOfX, top: scrOfY };
}
exports.getScroll = getScroll;
function getFullSize() {
    var de = document.documentElement;
    var db = document.body;
    var h = de.clientHeight;
    if (h == 0)
        h = db.clientHeight;
    var w = de.clientWidth;
    if (w == 0)
        w = db.clientWidth;
    return { w: w, h: h };
}
exports.getFullSize = getFullSize;
function getOrientation() {
    var orientation = parseInt(window['orientation'] || '0');
    if (orientation < 0)
        orientation += 360;
    return orientation;
}
exports.getOrientation = getOrientation;
function getInnerSize() {
    var h;
    var w;
    var de = document.documentElement;
    var db = document.body;
    if (window.innerHeight) {
        h = window.innerHeight;
        w = window.innerWidth;
    }
    else {
        h = de.clientHeight;
        if (h == 0)
            h = db.clientHeight;
        w = de.clientWidth;
        if (w == 0)
            w = db.clientWidth;
    }
    return { w: w, h: h };
}
exports.getInnerSize = getInnerSize;
function getMiddleCenter() {
    var scroll = getScroll();
    var size = getInnerSize();
    return {
        top: scroll.top + Math.floor(size.h / 2),
        left: scroll.left + Math.floor(size.w / 2),
    };
}
exports.getMiddleCenter = getMiddleCenter;
function isRectHorizontallyVisible(rect) {
    var scroll = getScroll();
    var size = getInnerSize();
    return rect.left >= scroll.left && rect.right <= scroll.left + size.w;
}
exports.isRectHorizontallyVisible = isRectHorizontallyVisible;
function isRectFullyVisible(rect) {
    var scroll = getScroll();
    var size = getInnerSize();
    return rect.top >= scroll.top && rect.bottom <= scroll.top + size.h && rect.left >= scroll.left && rect.right <= scroll.left + size.w;
}
exports.isRectFullyVisible = isRectFullyVisible;
function scrollIntoView(element) {
    if (element && element.scrollIntoView) {
        element.scrollIntoView();
    }
}
exports.scrollIntoView = scrollIntoView;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/win.ts":
/*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/win.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var LocalInfo_1 = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
var URLUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/URL */ "./src/core/Gigya.Js/app/Utils/URL.ts");
var HTTPUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/HTTP */ "./src/core/Gigya.Js/app/Utils/HTTP.ts");
var globalEvents = __webpack_require__(/*! src/core/Gigya.Js/app/GlobalEvents */ "./src/core/Gigya.Js/app/GlobalEvents.ts");
exports._openedWindows = {};
exports._uniqueWindowCounter = 0;
function _calcPixels(value, max, def, positionAdjustment) {
    var pixels;
    // Handle string as argument.
    if (typeof value === 'string') {
        // Typecast string to number. May be percentage.
        pixels = parseInt(value);
        // Convert percentage width and height to number.
        if (value.indexOf('%') !== -1) {
            pixels = parseInt(value) * 0.01 * max;
            // When positioning (as opposed to dimension), need to place window in center.
            if (positionAdjustment) {
                pixels -= positionAdjustment / 2;
            }
        }
    }
    else {
        pixels = value;
    }
    // Round to whole value.
    pixels = Math.round(pixels);
    // Typecast to number and fallback to default if necessary.
    if (isNaN(pixels) && def !== undefined) {
        pixels = _calcPixels(def, max, undefined, positionAdjustment);
    }
    return pixels;
}
exports._calcPixels = _calcPixels;
function open(url, windowName, windowOptions) {
    if (!windowOptions) {
        windowOptions = {
            menubar: 0,
            toolbar: 0,
            resizable: 1,
            scrollbars: 1,
        };
    }
    // Calculate dimensions and positioning, including defaults.
    windowOptions.width = _calcPixels(windowOptions.width, screen.width, 960);
    windowOptions.height = _calcPixels(windowOptions.height, screen.height, 680);
    windowOptions.left = _calcPixels(windowOptions.left, screen.width, '50%', windowOptions.width);
    windowOptions.top = _calcPixels(windowOptions.top, screen.height, '50%', windowOptions.height);
    // Convert window options object to string.
    // Example: menubar=0,toolbar=0,...
    var windowOptionsString = '';
    for (var key in windowOptions) {
        windowOptionsString += ',' + key + '=' + windowOptions[key];
    }
    windowOptionsString = windowOptionsString.substr(1);
    // 4k is our qs length limit. Anything more will trigger POST.
    var postToWindow = (LocalInfo_1.localInfo.isIE && url.length > 2048) || url.length > 4096;
    var windowUrl = url;
    if (postToWindow) {
        windowUrl = '';
        if (LocalInfo_1.localInfo.isIE) {
            windowUrl = 'about:blank';
        }
    }
    // Dynamically assign window name if necessary.
    if (!windowName) {
        windowName = '_gigWindow_' + new Date().getTime() + '_' + ++exports._uniqueWindowCounter;
    }
    // Open and focus window.
    var newWin = window.open(windowUrl, windowName, windowOptionsString);
    if (newWin && newWin.focus) {
        newWin.focus();
    }
    exports._openedWindows[windowName] = newWin;
    // Post to window if necessary.
    var params = URLUtils.getParamsFromURL(url);
    if (postToWindow) {
        HTTPUtils.redirect(url.split('?')[0], [params], 'POST', windowName);
    }
    // Dispatch windowOpened event.
    globalEvents.dispatch({
        eventName: 'windowOpened',
        url: url,
        params: params,
    });
    return exports._openedWindows[windowName] != null;
}
exports.open = open;
function close(windowName) {
    if (exports._openedWindows[windowName] != null) {
        var fnClose = function () {
            try {
                if (exports._openedWindows[windowName] != null)
                    exports._openedWindows[windowName].close();
                delete exports._openedWindows[windowName];
            }
            catch (e) { }
        };
        if (LocalInfo_1.localInfo.iosVersion >= 6) {
            fnClose();
        }
        else {
            window.setTimeout(fnClose, 10); //timeout because of iPad bug (crashes sometimes)
        }
    }
}
exports.close = close;


/***/ }),

/***/ "./src/core/Gigya.Js/app/Utils/xd.ts":
/*!*******************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/xd.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var keyValueUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/keyValue */ "./src/core/Gigya.Js/app/Utils/keyValue.ts");
var objectUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/object */ "./src/core/Gigya.Js/app/Utils/object.ts");
var DOMUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/DOM */ "./src/core/Gigya.Js/app/Utils/DOM.ts");
var InternalFlows_1 = __webpack_require__(/*! src/core/Gigya.Js/app/InternalFlows */ "./src/core/Gigya.Js/app/InternalFlows.ts");
var functionsUtils = __webpack_require__(/*! src/core/Gigya.Js/app/Utils/functions */ "./src/core/Gigya.Js/app/Utils/functions.ts");
var _listeners = {};
exports._flashListenerID = 'flid' + new Date().getTime();
var _added = false;
var _addedLegacyMethods = {};
function _onFlashMessage(serializedEvent) {
    var oEvent = keyValueUtils.deserialize(serializedEvent, null, null, true);
    var eventKey = oEvent['id'];
    var handler = _listeners[eventKey];
    if (handler != null) {
        if (typeof handler.callback == 'function') {
            var context = handler.context;
            handler.callback(oEvent, context);
        }
        removeMessageListener(eventKey);
    }
}
exports._onFlashMessage = _onFlashMessage;
function _onMessage(evt) {
    evt = objectUtils.clone(evt);
    var __fnOnMessage = function () {
        var keyVal = evt.data.split('=');
        var handler = _listeners[keyVal[0]];
        if (handler != null) {
            if (typeof handler.callback == 'function') {
                var encodedEventObj = unescape(keyVal[1]);
                var eventObj = keyValueUtils.deserialize(encodedEventObj, null, null, true);
                var context = handler.context;
                handler.callback(eventObj, context);
            }
            removeMessageListener(keyVal[0]);
            var iframe = document.getElementById(keyVal[0]); // If messagingMethod == local storage listener
            if (iframe && iframe.parentElement) {
                iframe.parentElement.removeChild(iframe);
            }
        }
    };
    if (evt && evt.data && evt.data.split) {
        if (window.gigya.localInfo.iosVersion >= 6) {
            __fnOnMessage();
        }
        else {
            window.setTimeout(__fnOnMessage, 100);
        }
    }
}
function _createLocalStorageListenerIFrame(messageName) {
    var iframe = document.createElement('iframe');
    iframe.style.width = '30px';
    iframe.style.height = '10px';
    iframe.style.position = 'absolute';
    iframe.style.top = '-1000px';
    iframe.style.left = '-1000px';
    iframe.id = messageName;
    iframe.src = 'https://cdns.gigya.com/gs/LocalStorageListener.htm?mode=receive&id=' + encodeURIComponent(messageName);
    DOMUtils.appendToBody(iframe);
    return iframe;
}
function addMessageListener(messageName, params, isPopup, callback, messagingMethod) {
    _listeners[messageName] = { callback: callback, context: params, t: new Date().getTime() };
    if (!messagingMethod) {
        messagingMethod = window.gigya.localInfo.messagingMethod;
        if (window.gigya.localInfo.isIE11 && isPopup && window.indexedDB)
            messagingMethod = InternalFlows_1.MessagingMethod.LocalStorageListener;
        // [#67641] - https://gigya.tpondemand.com/entity/67641-loccitane-social-login-to-line-hangs
        // if provider is Line, use LocalStorageListener because if Line's native app is installed on the device
        // it may "hijack" (deep-link) the OAuth request and prevent the PostMessage mechanism from working.
        if (window.gigya.localInfo.isAndroid && params && params['provider'] && params['provider'].toLowerCase() == 'line') {
            messagingMethod = InternalFlows_1.MessagingMethod.LocalStorageListener;
        }
    }
    if (messagingMethod == InternalFlows_1.MessagingMethod.LocalStorageListener || messagingMethod == InternalFlows_1.MessagingMethod.PostMessage) {
        if (messagingMethod == InternalFlows_1.MessagingMethod.LocalStorageListener && isPopup) {
            var iframe = _createLocalStorageListenerIFrame(messageName);
        }
        if (!_added) {
            var fnOnMessage = function (e) {
                if (e && e.data && typeof e.data === 'string') {
                    var id = e.data.split('=')[0];
                    if (_listeners[id]) {
                        _onMessage(e);
                    }
                }
            };
            if (window.addEventListener) {
                window.addEventListener('message', fnOnMessage, false);
            }
            else if (window['attachEvent']) {
                window['attachEvent']('onmessage', fnOnMessage);
            }
            _added = true;
        }
    }
    else {
        //legacy
        var legacyCrossSiteMethod = 'localstorage';
        if (window.gigya.thisScript.globalConf['legacyCrossSiteMethod'] && window.gigya.thisScript.globalConf['legacyCrossSiteMethod'].toLowerCase() != 'localstorage') {
            legacyCrossSiteMethod = window.gigya.thisScript.globalConf['legacyCrossSiteMethod'];
        }
        if (!_addedLegacyMethods[legacyCrossSiteMethod]) {
            window.setTimeout(function () {
                var div = document.createElement('div');
                div.style.width = '1px';
                div.style.height = '1px';
                div.style.overflow = 'hidden';
                div.style.position = 'absolute';
                div.style.left = '-1000px';
                //div.style.display='none';
                var id = exports._flashListenerID;
                if (legacyCrossSiteMethod != 'localstorage') {
                    id = legacyCrossSiteMethod + ':' + exports._flashListenerID;
                }
                var domain = window.gigya.localInfo.protocol +
                    '://' +
                    document.location.href
                        .split('?')[0]
                        .split('#')[0]
                        .split('/')[2];
                var now = new Date().getTime();
                var swf = document.createElement('object');
                var src = 'https://cdns.gigya.com/GS/swf/eventsBroadcaster2.swf';
                swf.setAttribute('id', 'eventsBroadcaster' + now);
                //swf.setAttribute('name', 'eventsBroadcaster_' + now);
                swf.setAttribute('codebase', 'https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0');
                swf.setAttribute('width', '50');
                swf.setAttribute('height', '50');
                swf.setAttribute('src', src);
                swf.setAttribute('data', src);
                swf.setAttribute('style', 'display:inline');
                var param;
                param = document.createElement('param');
                param.name = 'movie';
                param.setAttribute('value', src);
                swf.appendChild(param);
                param = document.createElement('param');
                param.setAttribute('name', 'allowScriptAccess');
                param.setAttribute('value', 'always');
                swf.appendChild(param);
                param = document.createElement('param');
                param.setAttribute('name', 'FlashVars');
                param.setAttribute('value', 'action=listen&id=' + id + '&eventName=loginComplete&callback=gigya.utils.xd._onFlashMessage&domain=' + domain);
                swf.appendChild(param);
                div.appendChild(swf);
                functionsUtils.invokeOnPageLoad(function () {
                    DOMUtils.appendToBody(div);
                    swf.setAttribute('type', 'application/x-shockwave-flash');
                    swf.setAttribute('classid', 'clsid:d27cdb6e-ae6d-11cf-96b8-444553540000');
                });
                _addedLegacyMethods[legacyCrossSiteMethod] = true;
            }, 500);
        }
    }
}
exports.addMessageListener = addMessageListener;
function removeMessageListener(messageName) {
    delete _listeners[messageName];
}
exports.removeMessageListener = removeMessageListener;


/***/ }),

/***/ "./src/core/Gigya.Js/app/cdn.ts":
/*!**************************************!*\
  !*** ./src/core/Gigya.Js/app/cdn.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
var selectedCdnHostsIndex = 0;
exports.CDN_HOSTS = {
    http: ['cdn.gigya.com', 'cdn1.gigya.com', 'cdn2.gigya.com', 'cdn3.gigya.com'],
    https: ['cdns.gigya.com', 'cdns1.gigya.com', 'cdns2.gigya.com', 'cdns3.gigya.com'],
};
function getCdnResource(path) {
    var _a, _b, _c, _d;
    // gigya.thisScript may not exist if loaded for ssoOrig.
    var baseDomain = (_b = (_a = window.gigya.thisScript) === null || _a === void 0 ? void 0 : _a.baseDomain, (_b !== null && _b !== void 0 ? _b : ''));
    var protocol = (_d = (_c = window.gigya.thisScript) === null || _c === void 0 ? void 0 : _c.protocol, (_d !== null && _d !== void 0 ? _d : 'https'));
    // If no base domain or if base domain ends with .gigya.com, use Gigya CDN.
    // Otherwise use the base domain.
    if (!baseDomain || /cdns?\.gigya\.com$/.test(baseDomain)) {
        var selectedSchemaRepository = exports.CDN_HOSTS[protocol];
        if (selectedSchemaRepository.length <= selectedCdnHostsIndex) {
            selectedCdnHostsIndex = 0;
        }
        baseDomain = selectedSchemaRepository[selectedCdnHostsIndex++];
    }
    // Ensure the path starts with "/".
    if (path) {
        if (path.indexOf('/') !== 0) {
            path = '/' + path;
        }
    }
    return protocol + '://' + baseDomain + (path || '');
}
exports.getCdnResource = getCdnResource;
function getImgCdnResource() {
    return getCdnResource('/gs/i/');
}
exports.getImgCdnResource = getImgCdnResource;


/***/ }),

/***/ "./src/core/Gigya.Js/app/index.ts":
/*!****************************************!*\
  !*** ./src/core/Gigya.Js/app/index.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(__webpack_provided_Object_dot_assign) {Object.defineProperty(exports, "__esModule", { value: true });
__webpack_require__(/*! src/core/Gigya.Js/app/GigyaGlobals */ "./src/core/Gigya.Js/app/GigyaGlobals.ts");
var ThisScript = __webpack_require__(/*! src/core/Gigya.Js/app/ThisScript */ "./src/core/Gigya.Js/app/ThisScript.ts");
var CDN = __webpack_require__(/*! src/core/Gigya.Js/app/cdn */ "./src/core/Gigya.Js/app/cdn.ts");
var DefaultEventsMap = __webpack_require__(/*! src/core/Gigya.Js/app/DefaultEventsMap */ "./src/core/Gigya.Js/app/DefaultEventsMap.ts");
var Events = __webpack_require__(/*! src/core/Gigya.Js/app/Events */ "./src/core/Gigya.Js/app/Events.ts");
var GlobalEvents = __webpack_require__(/*! src/core/Gigya.Js/app/GlobalEvents */ "./src/core/Gigya.Js/app/GlobalEvents.ts");
var GSErrors = __webpack_require__(/*! src/core/Gigya.Js/app/GSErrors */ "./src/core/Gigya.Js/app/GSErrors.ts");
var Interfaces = __webpack_require__(/*! src/core/Gigya.Js/app/Interfaces */ "./src/core/Gigya.Js/app/Interfaces.ts");
var InternalFlows = __webpack_require__(/*! src/core/Gigya.Js/app/InternalFlows */ "./src/core/Gigya.Js/app/InternalFlows.ts");
var GigyaLog = __webpack_require__(/*! src/core/Gigya.Js/app/LegacyLogger */ "./src/core/Gigya.Js/app/LegacyLogger.ts");
var LocalInfo = __webpack_require__(/*! src/core/Gigya.Js/app/LocalInfo */ "./src/core/Gigya.Js/app/LocalInfo.ts");
var Gigya_Providers = __webpack_require__(/*! src/core/Gigya.Js/app/Providers */ "./src/core/Gigya.Js/app/Providers.ts");
var GigyaReports = __webpack_require__(/*! src/core/Gigya.Js/app/Reports */ "./src/core/Gigya.Js/app/Reports.ts");
var Gigya_ApiAdapters = __webpack_require__(/*! src/core/Gigya.Js/interfaces/IApiAdapter */ "./src/core/Gigya.Js/interfaces/IApiAdapter.ts");
var IDisposable = __webpack_require__(/*! src/core/Gigya.Js/interfaces/IDisposable */ "./src/core/Gigya.Js/interfaces/IDisposable.ts");
var BaseApi = __webpack_require__(/*! src/core/Gigya.Js/app/API/BaseApi */ "./src/core/Gigya.Js/app/API/BaseApi.ts");
var UiApi = __webpack_require__(/*! src/core/Gigya.Js/app/API/UiApi */ "./src/core/Gigya.Js/app/API/UiApi.ts");
var Gigya_Plugins = __webpack_require__(/*! src/core/Gigya.Js/app/API/UiApiHelpers */ "./src/core/Gigya.Js/app/API/UiApiHelpers.ts");
var Gigya_UI = __webpack_require__(/*! src/core/Gigya.Js/app/API/UiApiRegistry */ "./src/core/Gigya.Js/app/API/UiApiRegistry.ts");
var Gigya_Api = __webpack_require__(/*! src/core/Gigya.Js/app/API/VersionSelector */ "./src/core/Gigya.Js/app/API/VersionSelector.ts");
var BaseObject = __webpack_require__(/*! src/core/Gigya.Js/app/BaseObject/BaseObject */ "./src/core/Gigya.Js/app/BaseObject/BaseObject.ts");
var EventWrapper = __webpack_require__(/*! src/core/Gigya.Js/app/BaseObject/EventWrapper */ "./src/core/Gigya.Js/app/BaseObject/EventWrapper.ts");
var BaseObjectInterfaces = __webpack_require__(/*! src/core/Gigya.Js/app/BaseObject/IBaseObjectConfig */ "./src/core/Gigya.Js/app/BaseObject/IBaseObjectConfig.ts");
var CustomApis = __webpack_require__(/*! src/core/Gigya.Js/app/ClientAPI/CustomApis */ "./src/core/Gigya.Js/app/ClientAPI/CustomApis.ts");
var ISamlConfig = __webpack_require__(/*! src/core/Gigya.Js/app/ClientAPI/ISamlConfig */ "./src/core/Gigya.Js/app/ClientAPI/ISamlConfig.ts");
var SamlApi = __webpack_require__(/*! src/core/Gigya.Js/app/ClientAPI/SamlApi */ "./src/core/Gigya.Js/app/ClientAPI/SamlApi.ts");
var AccountService = __webpack_require__(/*! src/core/Gigya.Js/app/Services/AccountService */ "./src/core/Gigya.Js/app/Services/AccountService.ts");
__webpack_require__(/*! src/core/Gigya.Js/app/Utils */ "./src/core/Gigya.Js/app/Utils/index.ts");
__webpack_require__(/*! src/core/Gigya.Js/app/Bootstrap */ "./src/core/Gigya.Js/app/Bootstrap.ts");
__webpack_require__(/*! src/core/Gigya.Js/app/Prototypes */ "./src/core/Gigya.Js/app/Prototypes.ts");
__webpack_require__(/*! src/core/Gigya.Js/app/Logger/main */ "./src/core/Gigya.Js/app/Logger/main.ts");
if (!window.gigya._) {
    window.gigya._ = {};
}
if (!window.gigya.events) {
    window.gigya.events = {};
}
if (!window.gigya.events.global) {
    window.gigya.events.global = {};
}
if (!window.gigya.log) {
    window.gigya.log = {};
}
if (!window.gigya._.providers) {
    window.gigya._.providers = {};
}
if (!window.gigya.reports) {
    window.gigya.reports = {};
}
if (!window.gigya._.apiAdapters) {
    window.gigya._.apiAdapters = {};
}
if (!window.gigya._.plugins) {
    window.gigya._.plugins = Gigya_Plugins;
}
if (!window.gigya._.UI) {
    window.gigya._.UI = {};
}
if (!window.gigya._.api) {
    window.gigya._.api = {};
}
if (!window.gigya._.saml) {
    window.gigya._.saml = {};
}
if (!window.gigya.fidm) {
    window.gigya.fidm = {};
}
if (!window.gigya.fidm.saml) {
    window.gigya.fidm.saml = {};
}
if (!window.gigya.services) {
    window.gigya.services = {};
}
if (!window.gigya.globalAccount) {
    window.gigya.globalAccount = {};
}
__webpack_provided_Object_dot_assign(window.gigya, ThisScript, GSErrors, Interfaces, LocalInfo, IDisposable, DefaultEventsMap, { Promise: gigya.Promise });
__webpack_provided_Object_dot_assign(window.gigya._, CDN, InternalFlows, BaseApi, UiApi, BaseObject, EventWrapper, BaseObjectInterfaces, CustomApis);
__webpack_provided_Object_dot_assign(window.gigya.events, Events);
__webpack_provided_Object_dot_assign(window.gigya.events.global, GlobalEvents);
__webpack_provided_Object_dot_assign(window.gigya.log, GigyaLog);
__webpack_provided_Object_dot_assign(window.gigya._.providers, Gigya_Providers);
__webpack_provided_Object_dot_assign(window.gigya.reports, GigyaReports);
__webpack_provided_Object_dot_assign(window.gigya._.apiAdapters, Gigya_ApiAdapters);
__webpack_provided_Object_dot_assign(window.gigya._.UI, Gigya_UI);
__webpack_provided_Object_dot_assign(window.gigya._.api, Gigya_Api);
__webpack_provided_Object_dot_assign(window.gigya._.saml, ISamlConfig);
__webpack_provided_Object_dot_assign(window.gigya.fidm.saml, SamlApi);
__webpack_provided_Object_dot_assign(window.gigya.services, AccountService);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js")["__assign"]))

/***/ }),

/***/ "./src/core/Gigya.Js/app/main.ts":
/*!***************************************!*\
  !*** ./src/core/Gigya.Js/app/main.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(__webpack_provided_Object_dot_assign) {Object.defineProperty(exports, "__esModule", { value: true });
__webpack_require__(/*! src/core/Gigya.Js/app/index */ "./src/core/Gigya.Js/app/index.ts");
var GigyaExternalFacebook = __webpack_require__(/*! src/core/Gigya.Js/app/ExternalIntegrations/Facebook */ "./src/core/Gigya.Js/app/ExternalIntegrations/Facebook.ts");
var GigyaExternalGooglePlus = __webpack_require__(/*! src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus */ "./src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus.ts");
var GigyaExternalOpengraph = __webpack_require__(/*! src/core/Gigya.Js/app/ExternalIntegrations/Opengraph */ "./src/core/Gigya.Js/app/ExternalIntegrations/Opengraph.ts");
var Bootstrap = __webpack_require__(/*! ./Bootstrap */ "./src/core/Gigya.Js/app/Bootstrap.ts");
var ApisList = __webpack_require__(/*! src/core/Gigya.Js/app/API/ApisList */ "./src/core/Gigya.Js/app/API/ApisList.ts");
var ServerApi = __webpack_require__(/*! src/core/Gigya.Js/app/API/ServerApi */ "./src/core/Gigya.Js/app/API/ServerApi.ts");
var ServerApiRequest = __webpack_require__(/*! src/core/Gigya.Js/app/API/ServerApiRequest */ "./src/core/Gigya.Js/app/API/ServerApiRequest.ts");
if (!window.gigya._) {
    window.gigya._ = {};
}
if (!window.gigya._.bootstrap) {
    window.gigya._.bootstrap = {};
}
if (!window.gigya.external) {
    window.gigya.external = {};
}
if (!window.gigya.external.facebook) {
    window.gigya.external.facebook = {};
}
if (!window.gigya.external.googlePlus) {
    window.gigya.external.googlePlus = {};
}
if (!window.gigya.external.opengraph) {
    window.gigya.external.opengraph = {};
}
__webpack_provided_Object_dot_assign(window.gigya._, ApisList, ServerApi, ServerApiRequest);
__webpack_provided_Object_dot_assign(window.gigya._.bootstrap, Bootstrap);
__webpack_provided_Object_dot_assign(window.gigya.external.facebook, GigyaExternalFacebook);
__webpack_provided_Object_dot_assign(window.gigya.external.googlePlus, GigyaExternalGooglePlus);
__webpack_provided_Object_dot_assign(window.gigya.external.opengraph, GigyaExternalOpengraph);
if (!window.gigya.build)
    window.gigya.build = { version: '', number: 0 };
if (!window.gigya.providersConfig)
    window.gigya.providersConfig = {};
if (!window.gigya.isGigya)
    window.gigya.isGigya = true;
if (!window.gigya.partnerSettings) {
    window.gigya.partnerSettings = {
        authMode: 'cookie',
        baseDomains: '',
        captchaProvider: 'Google',
        plugins: { apiDomain: 'us1.gigya-api.com' },
        invisibleRecaptcha: {
            siteKey: '',
        },
        recaptchaV2: {
            siteKey: '',
        },
        funCaptcha: {
            siteKey: '',
        },
    };
}
Bootstrap.init();

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js")["__assign"]))

/***/ }),

/***/ "./src/core/Gigya.Js/interfaces/IApiAdapter.ts":
/*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/interfaces/IApiAdapter.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
exports.isSessionFromSso = false;


/***/ }),

/***/ "./src/core/Gigya.Js/interfaces/IDisposable.ts":
/*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/interfaces/IDisposable.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2NvbmZpZy92ZXJzaW9uVGVtcGxhdGUudHh0Iiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS9hc2FwLmpzIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvdGhlbi5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UvcmVzb2x2ZS5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlLy1pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL2VudW1lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS9wcm9taXNlL2FsbC5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UvcmFjZS5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UvcmVqZWN0LmpzIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3BvbHlmaWxsLmpzIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9BcGlzTGlzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL0Jhc2VBcGkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9TZXJ2ZXJBcGkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9TZXJ2ZXJBcGlSZXF1ZXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVWlBcGkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9VaUFwaUhlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9VaUFwaVJlZ2lzdHJ5LnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVmVyc2lvblNlbGVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9CYXNlT2JqZWN0L0Jhc2VPYmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Jhc2VPYmplY3QvRXZlbnRXcmFwcGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9CYXNlT2JqZWN0L0lCYXNlT2JqZWN0Q29uZmlnLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Cb290c3RyYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0NsaWVudEFQSS9DdXN0b21BcGlzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9DbGllbnRBUEkvU2FtbEFwaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvRGVmYXVsdEV2ZW50c01hcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXZlbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9FeHRlcm5hbEludGVncmF0aW9ucy9GYWNlYm9vay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXh0ZXJuYWxJbnRlZ3JhdGlvbnMvR29vZ2xlUGx1cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXh0ZXJuYWxJbnRlZ3JhdGlvbnMvT3BlbmdyYXBoLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HU0Vycm9ycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvR2lneWFHbG9iYWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HbG9iYWxFdmVudHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0ludGVybmFsRmxvd3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xlZ2FjeUxvZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9jYWxJbmZvLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvYmFzZUxvZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL2lGcmFtZUxvZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL2ludGVyZmFjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9sb2dnZXJKc29ucC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9wYXJlbnRMb2dnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Byb3RvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Byb3ZpZGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvUmVwb3J0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvU2VydmljZXMvQWNjb3VudFNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1RoaXNTY3JpcHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0RPTS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSFRUUC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSlNPTi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVVJMLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VcmkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2FycmF5LnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9icm93c2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9jb29raWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2RlbGVnYXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9kb21haW5zLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9mdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2dpZ3lhU2NyaXB0RWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2dsdGV4cC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2tleVZhbHVlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9rZXlib2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvbG9jYWxTdG9yYWdlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9tb3VzZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9xdWV1ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2FuaXRpemUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3NjcmlwdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2Vzc2lvbkNhY2hlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zdHJpbmdQYXJhbXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3N0cmluZ1V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy90YWJiYWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvdGVtcGxhdGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy92YWxpZGF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy92aWV3cG9ydC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvd2luLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy94ZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvY2RuLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9pbnRlcmZhY2VzL0lBcGlBZGFwdGVyLnRzIl0sIm5hbWVzIjpbInJlc29sdmUiLCJfcmVzb2x2ZSIsInRoZW4iLCJvcmlnaW5hbFRoZW4iLCJvcmlnaW5hbFJlc29sdmUiLCJQcm9taXNlIiwicmVqZWN0IiwiX3JlamVjdCIsIlJlc29sdmUiLCJSZWplY3QiXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7OztRQUdBO1FBQ0E7Ozs7Ozs7Ozs7OztBQ2xGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ05PLFNBQVMsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFO0VBQ2xDLElBQUksSUFB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LEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3BKLEVBQUUsQ0FBQyxDQUFDO1FBRUosRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO1FBQy9FLEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUM5QixFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUM7UUFFL0UsRUFBRSxJQUFJLEVBQUUsQ0FBQztRQUNULEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUM5QixHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUM7UUFDOUUsRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxHQUFHLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztLQUM3RTtJQUVELEVBQUUsR0FBRyxDQUFDLENBQUM7SUFFUCxRQUFRLFNBQVMsRUFBRTtRQUNmLEtBQUssQ0FBQztZQUNGLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUMvQyxLQUFLLENBQUM7WUFDRixFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsS0FBSyxDQUFDO1lBQ0YsRUFBRSxJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO1lBRS9CLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQztZQUMvRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDOUIsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO1lB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QUM5RCxvQ0FBYSxDQUFDLFlBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLHVCQUF1QixDQUFDLENBQUM7QUFDbEUsb0NBQWEsQ0FBQyxZQUFLLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO0FBRWhFLElBQUksQ0FBQyxZQUFLLENBQUMsS0FBSztJQUFFLFlBQUssQ0FBQyxLQUFLLEdBQUcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQztBQUMzRCxJQUFJLENBQUMsWUFBSyxDQUFDLGVBQWU7SUFBRSxZQUFLLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztBQUN2RCxJQUFJLENBQUMsWUFBSyxDQUFDLE9BQU87SUFBRSxZQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztBQUN6QyxJQUFJLENBQUMsWUFBSyxDQUFDLGVBQWUsRUFBRTtJQUN4QixZQUFLLENBQUMsZUFBZSxHQUFHO1FBQ3BCLFFBQVEsRUFBRSxRQUFRO1FBQ2xCLFdBQVcsRUFBRSxFQUFFO1FBQ2YsZUFBZSxFQUFFLFFBQVE7UUFDekIsT0FBTyxFQUFFLEVBQUUsU0FBUyxFQUFFLG1CQUFtQixFQUFFO1FBQzNDLGtCQUFrQixFQUFFO1lBQ2hCLE9BQU8sRUFBRSxFQUFFO1NBQ2Q7UUFDRCxXQUFXLEVBQUU7WUFDVCxPQUFPLEVBQUUsRUFBRTtTQUNkO1FBQ0QsVUFBVSxFQUFFO1lBQ1IsT0FBTyxFQUFFLEVBQUU7U0FDZDtLQUNKLENBQUM7Q0FDTDtBQUVELFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7QUNyRE4sd0JBQWdCLEdBQUcsS0FBSyxDQUFDIiwiZmlsZSI6ImdpZ3lhLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvbWFpbi50c1wiKTtcbiIsIi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zdGVmYW5wZW5uZXIvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgdjQuMi44KzFlNjhkY2U2XG4gKi9cbiIsImV4cG9ydCBmdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWF5YmVUaGVuYWJsZSh4KSB7XG4gIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cblxudmFyIF9pc0FycmF5ID0gdm9pZCAwO1xuaWYgKEFycmF5LmlzQXJyYXkpIHtcbiAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xufSBlbHNlIHtcbiAgX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaXNBcnJheSA9IF9pc0FycmF5OyIsInZhciBsZW4gPSAwO1xudmFyIHZlcnR4TmV4dCA9IHZvaWQgMDtcbnZhciBjdXN0b21TY2hlZHVsZXJGbiA9IHZvaWQgMDtcblxuZXhwb3J0IHZhciBhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlW2xlbl0gPSBjYWxsYmFjaztcbiAgcXVldWVbbGVuICsgMV0gPSBhcmc7XG4gIGxlbiArPSAyO1xuICBpZiAobGVuID09PSAyKSB7XG4gICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgIGlmIChjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgY3VzdG9tU2NoZWR1bGVyRm4oZmx1c2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUZsdXNoKCk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXNhcChhc2FwRm4pIHtcbiAgYXNhcCA9IGFzYXBGbjtcbn1cblxudmFyIGJyb3dzZXJXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbnZhciBicm93c2VyR2xvYmFsID0gYnJvd3NlcldpbmRvdyB8fCB7fTtcbnZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgaXNOb2RlID0gdHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbi8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG52YXIgaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBub2RlXG5mdW5jdGlvbiB1c2VOZXh0VGljaygpIHtcbiAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgfTtcbn1cblxuLy8gdmVydHhcbmZ1bmN0aW9uIHVzZVZlcnR4VGltZXIoKSB7XG4gIGlmICh0eXBlb2YgdmVydHhOZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2ZXJ0eE5leHQoZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG5vZGUuZGF0YSA9IGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyO1xuICB9O1xufVxuXG4vLyB3ZWIgd29ya2VyXG5mdW5jdGlvbiB1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmbHVzaDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gZXM2LXByb21pc2Ugd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4gIC8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxuICB2YXIgZ2xvYmFsU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdsb2JhbFNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZVtpICsgMV07XG5cbiAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgcXVldWVbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnR4KCkge1xuICB0cnkge1xuICAgIHZhciB2ZXJ0eCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkucmVxdWlyZSgndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoID0gdm9pZCAwO1xuLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbmlmIChpc05vZGUpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG59IGVsc2UgaWYgKEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNZXNzYWdlQ2hhbm5lbCgpO1xufSBlbHNlIGlmIChicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IGF0dGVtcHRWZXJ0eCgpO1xufSBlbHNlIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbn0iLCJpbXBvcnQgeyBpbnZva2VDYWxsYmFjaywgc3Vic2NyaWJlLCBGVUxGSUxMRUQsIFJFSkVDVEVELCBub29wLCBtYWtlUHJvbWlzZSwgUFJPTUlTRV9JRCB9IGZyb20gJy4vLWludGVybmFsJztcblxuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4vYXNhcCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaWYgKGNoaWxkW1BST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICBtYWtlUHJvbWlzZShjaGlsZCk7XG4gIH1cblxuICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuXG4gIGlmIChfc3RhdGUpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbX3N0YXRlIC0gMV07XG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufSIsImltcG9ydCB7IG5vb3AsIHJlc29sdmUgYXMgX3Jlc29sdmUgfSBmcm9tICcuLi8taW50ZXJuYWwnO1xuXG4vKipcbiAgYFByb21pc2UucmVzb2x2ZWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSByZXNvbHZlZCB3aXRoIHRoZVxuICBwYXNzZWQgYHZhbHVlYC4gSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKDEpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVzb2x2ZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSB2YWx1ZSB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSBnaXZlblxuICBgdmFsdWVgXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVzb2x2ZShvYmplY3QpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gQ29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIF9yZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gIHJldHVybiBwcm9taXNlO1xufSIsImltcG9ydCB7IG9iamVjdE9yRnVuY3Rpb24sIGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4vYXNhcCc7XG5cbmltcG9ydCBvcmlnaW5hbFRoZW4gZnJvbSAnLi90aGVuJztcbmltcG9ydCBvcmlnaW5hbFJlc29sdmUgZnJvbSAnLi9wcm9taXNlL3Jlc29sdmUnO1xuXG5leHBvcnQgdmFyIFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgUEVORElORyA9IHZvaWQgMDtcbnZhciBGVUxGSUxMRUQgPSAxO1xudmFyIFJFSkVDVEVEID0gMjtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gdHJ5VGhlbih0aGVuLCB2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKSB7XG4gIHRyeSB7XG4gICAgdGhlbi5jYWxsKHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuKSB7XG4gIGFzYXAoZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgdmFyIGVycm9yID0gdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgIH1cbiAgfSwgcHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IEZVTEZJTExFRCkge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgIHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbikge1xuICBpZiAobWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3RvciAmJiB0aGVuID09PSBvcmlnaW5hbFRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSBvcmlnaW5hbFJlc29sdmUpIHtcbiAgICBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBzZWxmRnVsZmlsbG1lbnQoKSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgdGhlbiA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgdGhlbiA9IHZhbHVlLnRoZW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIHRoZW4pO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgfVxuXG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEO1xuXG4gIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDAsXG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdmFyIGhhc0NhbGxiYWNrID0gaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICB2YWx1ZSA9IHZvaWQgMCxcbiAgICAgIGVycm9yID0gdm9pZCAwLFxuICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgZXJyb3IgPSBlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gIH1cblxuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAvLyBub29wXG4gIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3VjY2VlZGVkID09PSBmYWxzZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgfVxufVxuXG52YXIgaWQgPSAwO1xuZnVuY3Rpb24gbmV4dElkKCkge1xuICByZXR1cm4gaWQrKztcbn1cblxuZnVuY3Rpb24gbWFrZVByb21pc2UocHJvbWlzZSkge1xuICBwcm9taXNlW1BST01JU0VfSURdID0gaWQrKztcbiAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMgPSBbXTtcbn1cblxuZXhwb3J0IHsgbmV4dElkLCBtYWtlUHJvbWlzZSwgbm9vcCwgcmVzb2x2ZSwgcmVqZWN0LCBmdWxmaWxsLCBzdWJzY3JpYmUsIHB1Ymxpc2gsIHB1Ymxpc2hSZWplY3Rpb24sIGluaXRpYWxpemVQcm9taXNlLCBpbnZva2VDYWxsYmFjaywgRlVMRklMTEVELCBSRUpFQ1RFRCwgUEVORElORywgaGFuZGxlTWF5YmVUaGVuYWJsZSB9OyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IGlzQXJyYXksIGlzTWF5YmVUaGVuYWJsZSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbm9vcCwgcmVqZWN0LCBmdWxmaWxsLCBzdWJzY3JpYmUsIEZVTEZJTExFRCwgUkVKRUNURUQsIFBFTkRJTkcsIGhhbmRsZU1heWJlVGhlbmFibGUgfSBmcm9tICcuLy1pbnRlcm5hbCc7XG5cbmltcG9ydCB0aGVuIGZyb20gJy4vdGhlbic7XG5pbXBvcnQgUHJvbWlzZSBmcm9tICcuL3Byb21pc2UnO1xuaW1wb3J0IG9yaWdpbmFsUmVzb2x2ZSBmcm9tICcuL3Byb21pc2UvcmVzb2x2ZSc7XG5pbXBvcnQgb3JpZ2luYWxUaGVuIGZyb20gJy4vdGhlbic7XG5pbXBvcnQgeyBtYWtlUHJvbWlzZSwgUFJPTUlTRV9JRCB9IGZyb20gJy4vLWludGVybmFsJztcblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn07XG5cbnZhciBFbnVtZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG5cbiAgICBpZiAoIXRoaXMucHJvbWlzZVtQUk9NSVNFX0lEXSkge1xuICAgICAgbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuXG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgIHRoaXMuX2VudW1lcmF0ZShpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgfVxuICB9XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uIF9lbnVtZXJhdGUoaW5wdXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gX2VhY2hFbnRyeShlbnRyeSwgaSkge1xuICAgIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgICB2YXIgcmVzb2x2ZSA9IGMucmVzb2x2ZTtcblxuXG4gICAgaWYgKHJlc29sdmUgPT09IG9yaWdpbmFsUmVzb2x2ZSkge1xuICAgICAgdmFyIF90aGVuID0gdm9pZCAwO1xuICAgICAgdmFyIGVycm9yID0gdm9pZCAwO1xuICAgICAgdmFyIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICBfdGhlbiA9IGVudHJ5LnRoZW47XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGRpZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoZW4gPT09IG9yaWdpbmFsVGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgYyhub29wKTtcbiAgICAgICAgaWYgKGRpZEVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCBfdGhlbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyBjKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoZW50cnkpO1xuICAgICAgICB9KSwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChyZXNvbHZlKGVudHJ5KSwgaSk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbiBfc2V0dGxlZEF0KHN0YXRlLCBpLCB2YWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXG5cbiAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuXG4gICAgICBpZiAoc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbiBfd2lsbFNldHRsZUF0KHByb21pc2UsIGkpIHtcbiAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICBzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gRW51bWVyYXRvcjtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgRW51bWVyYXRvcjtcbjsiLCJpbXBvcnQgRW51bWVyYXRvciBmcm9tICcuLi9lbnVtZXJhdG9yJztcblxuLyoqXG4gIGBQcm9taXNlLmFsbGAgYWNjZXB0cyBhbiBhcnJheSBvZiBwcm9taXNlcywgYW5kIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaFxuICBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiBmdWxmaWxsbWVudCB2YWx1ZXMgZm9yIHRoZSBwYXNzZWQgcHJvbWlzZXMsIG9yXG4gIHJlamVjdGVkIHdpdGggdGhlIHJlYXNvbiBvZiB0aGUgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQuIEl0IGNhc3RzIGFsbFxuICBlbGVtZW50cyBvZiB0aGUgcGFzc2VkIGl0ZXJhYmxlIHRvIHByb21pc2VzIGFzIGl0IHJ1bnMgdGhpcyBhbGdvcml0aG0uXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlc29sdmUoMik7XG4gIGxldCBwcm9taXNlMyA9IHJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgYWxsYCBhcmUgcmVqZWN0ZWQsIHRoZSBmaXJzdCBwcm9taXNlXG4gIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICByZWplY3Rpb24gaGFuZGxlci4gRm9yIGV4YW1wbGU6XG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgbGV0IHByb21pc2UzID0gcmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gZXJyb3IubWVzc2FnZSA9PT0gXCIyXCJcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgYWxsXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gZW50cmllcyBhcnJheSBvZiBwcm9taXNlc1xuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIGBwcm9taXNlc2AgaGF2ZSBiZWVuXG4gIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxsKGVudHJpZXMpIHtcbiAgcmV0dXJuIG5ldyBFbnVtZXJhdG9yKHRoaXMsIGVudHJpZXMpLnByb21pc2U7XG59IiwiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG4vKipcbiAgYFByb21pc2UucmFjZWAgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoIGlzIHNldHRsZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBzZXR0bGUuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDInKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgfSk7XG4gIGBgYFxuXG4gIGBQcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3Byb21pc2UgMicpKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBQcm9taXNlLnJhY2UoW2FqYXgoJ2Zvby5qc29uJyksIHRpbWVvdXQoNTAwMCldKVxuICBgYGBcblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHdoaWNoIHNldHRsZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZSBmaXJzdCBwYXNzZWRcbiAgcHJvbWlzZSB0byBzZXR0bGUuXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmFjZShlbnRyaWVzKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IHsgbm9vcCwgcmVqZWN0IGFzIF9yZWplY3QgfSBmcm9tICcuLi8taW50ZXJuYWwnO1xuXG4vKipcbiAgYFByb21pc2UucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWQgYHJlYXNvbmAuXG4gIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlamVjdFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIF9yZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgcmV0dXJuIHByb21pc2U7XG59IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbm9vcCwgbmV4dElkLCBQUk9NSVNFX0lELCBpbml0aWFsaXplUHJvbWlzZSB9IGZyb20gJy4vLWludGVybmFsJztcbmltcG9ydCB7IGFzYXAsIHNldEFzYXAsIHNldFNjaGVkdWxlciB9IGZyb20gJy4vYXNhcCc7XG5cbmltcG9ydCBhbGwgZnJvbSAnLi9wcm9taXNlL2FsbCc7XG5pbXBvcnQgcmFjZSBmcm9tICcuL3Byb21pc2UvcmFjZSc7XG5pbXBvcnQgUmVzb2x2ZSBmcm9tICcuL3Byb21pc2UvcmVzb2x2ZSc7XG5pbXBvcnQgUmVqZWN0IGZyb20gJy4vcHJvbWlzZS9yZWplY3QnO1xuaW1wb3J0IHRoZW4gZnJvbSAnLi90aGVuJztcblxuZnVuY3Rpb24gbmVlZHNSZXNvbHZlcigpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xufVxuXG5mdW5jdGlvbiBuZWVkc05ldygpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbn1cblxuLyoqXG4gIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gIFRlcm1pbm9sb2d5XG4gIC0tLS0tLS0tLS0tXG5cbiAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgQmFzaWMgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLVxuXG4gIGBgYGpzXG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gb24gc3VjY2Vzc1xuICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgLy8gb24gZmFpbHVyZVxuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIEFkdmFuY2VkIFVzYWdlOlxuICAtLS0tLS0tLS0tLS0tLS1cblxuICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICBgYGBqc1xuICBQcm9taXNlLmFsbChbXG4gICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KTtcbiAgYGBgXG5cbiAgQGNsYXNzIFByb21pc2VcbiAgQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZXJcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAY29uc3RydWN0b3JcbiovXG5cbnZhciBQcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgdGhpc1tQUk9NSVNFX0lEXSA9IG5leHRJZCgpO1xuICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBuZWVkc1Jlc29sdmVyKCk7XG4gICAgICB0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA/IGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IG5lZWRzTmV3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICB3aGljaCByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZVxuICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgLy8gdXNlciBpcyBhdmFpbGFibGVcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICB9KTtcbiAgYGBgXG4gICBDaGFpbmluZ1xuICAtLS0tLS0tLVxuICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZpcnN0IHByb21pc2UncyBmdWxmaWxsbWVudFxuICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiB1c2VyLm5hbWU7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJOYW1lKSB7XG4gICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICB9KTtcbiAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIGlmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgcmVhc29uYCB3aWxsIGJlICdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScuXG4gICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gIH0pO1xuICBgYGBcbiAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIEFzc2ltaWxhdGlvblxuICAtLS0tLS0tLS0tLS1cbiAgIFNvbWV0aW1lcyB0aGUgdmFsdWUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIHRvIGEgZG93bnN0cmVhbSBwcm9taXNlIGNhbiBvbmx5IGJlXG4gIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgc2V0dGxlZC4gVGhpcyBpcyBjYWxsZWQgKmFzc2ltaWxhdGlvbiouXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICB9KTtcbiAgYGBgXG4gICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIHJlamVjdHMsIHdlJ2xsIGhhdmUgdGhlIHJlYXNvbiBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIFNpbXBsZSBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCByZXN1bHQ7XG4gICB0cnkge1xuICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBzdWNjZXNzXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gZmFpbHVyZVxuICB9KTtcbiAgYGBgXG4gICBBZHZhbmNlZCBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCBhdXRob3IsIGJvb2tzO1xuICAgdHJ5IHtcbiAgICBhdXRob3IgPSBmaW5kQXV0aG9yKCk7XG4gICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICAgZnVuY3Rpb24gZm91bmRCb29rcyhib29rcykge1xuICAgfVxuICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcbiAgIH1cbiAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgLy8gc3VjY2Vzc1xuICAgIH1cbiAgfSk7XG4gIGBgYFxuICAgUHJvbWlzZSBFeGFtcGxlO1xuICAgYGBgamF2YXNjcmlwdFxuICBmaW5kQXV0aG9yKCkuXG4gICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAvLyBmb3VuZCBib29rc1xuICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH0pO1xuICBgYGBcbiAgIEBtZXRob2QgdGhlblxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuICAvKipcbiAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuICBgYGBqc1xuICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICB9XG4gIC8vIHN5bmNocm9ub3VzXG4gIHRyeSB7XG4gIGZpbmRBdXRob3IoKTtcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfVxuICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gIEBtZXRob2QgY2F0Y2hcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiBfY2F0Y2gob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICBgZmluYWxseWAgd2lsbCBiZSBpbnZva2VkIHJlZ2FyZGxlc3Mgb2YgdGhlIHByb21pc2UncyBmYXRlIGp1c3QgYXMgbmF0aXZlXG4gICAgdHJ5L2NhdGNoL2ZpbmFsbHkgYmVoYXZlc1xuICBcbiAgICBTeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKSB7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQXV0aG9yKCk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpbmRBdXRob3IoKTsgLy8gc3VjY2VlZCBvciBmYWlsXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBhbHdheXMgcnVuc1xuICAgICAgLy8gZG9lc24ndCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgQXN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgLy8gYXV0aG9yIHdhcyBlaXRoZXIgZm91bmQsIG9yIG5vdFxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIGZpbmFsbHlcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cblxuICBQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5ID0gZnVuY3Rpb24gX2ZpbmFsbHkoY2FsbGJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvcjtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gUHJvbWlzZTtcbn0oKTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IHRoZW47XG5leHBvcnQgZGVmYXVsdCBQcm9taXNlO1xuUHJvbWlzZS5hbGwgPSBhbGw7XG5Qcm9taXNlLnJhY2UgPSByYWNlO1xuUHJvbWlzZS5yZXNvbHZlID0gUmVzb2x2ZTtcblByb21pc2UucmVqZWN0ID0gUmVqZWN0O1xuUHJvbWlzZS5fc2V0U2NoZWR1bGVyID0gc2V0U2NoZWR1bGVyO1xuUHJvbWlzZS5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlLl9hc2FwID0gYXNhcDsiLCIvKmdsb2JhbCBzZWxmKi9cbmltcG9ydCBQcm9taXNlIGZyb20gJy4vcHJvbWlzZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICB2YXIgbG9jYWwgPSB2b2lkIDA7XG5cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBzZWxmO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgaWYgKFApIHtcbiAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcHJvbWlzZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzaWxlbnRseSBpZ25vcmVkXG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VUb1N0cmluZyA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZTtcbn0iLCJpbXBvcnQgUHJvbWlzZSBmcm9tICcuL2VzNi1wcm9taXNlL3Byb21pc2UnO1xuaW1wb3J0IHBvbHlmaWxsIGZyb20gJy4vZXM2LXByb21pc2UvcG9seWZpbGwnO1xuXG4vLyBTdHJhbmdlIGNvbXBhdC4uXG5Qcm9taXNlLnBvbHlmaWxsID0gcG9seWZpbGw7XG5Qcm9taXNlLlByb21pc2UgPSBQcm9taXNlO1xuZXhwb3J0IGRlZmF1bHQgUHJvbWlzZTsiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiaW1wb3J0IHsgU2VydmVyQXBpIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9TZXJ2ZXJBcGknO1xyXG5pbXBvcnQgeyBVaUFwaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVWlBcGknO1xyXG5pbXBvcnQgeyBpc01vZGVybiB9IGZyb20gJy4uL1V0aWxzL2Jyb3dzZXInO1xyXG5pbXBvcnQgeyBnZXRPYmplY3QgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvbG9jYWxTdG9yYWdlJztcclxuaW1wb3J0IHsgYXBwZW5kVG9Cb2R5IH0gZnJvbSAnLi4vVXRpbHMvRE9NJztcclxuaW1wb3J0IHsgY3JlYXRlQWxpYXMgfSBmcm9tICcuLi9VdGlscy9mdW5jdGlvbnMnO1xyXG5cclxuLy8gU2VydmVyIGFuZCB3aWRnZXQgcHVibGljIEFQSXMgLS0gVE9ETzogYnVpbGQgcHJvY2Vzc1xyXG5leHBvcnQgdmFyIGRlZmF1bHRBcGlTY2hlbWEgPSAnY3RhZ3xBUElLZXl8Y2lkfG9hdXRoX3Rva2VufHNvdXJjZXxzb3VyY2VEYXRhfHVzZVBvc3R8cmVmVUlEfGZiX1VJRHxmYl9hdHxmYl9leHB8ZW52aXJvbm1lbnR8bm9BdXRoJztcclxuZXhwb3J0IHZhciBkZWZhdWx0T2F1dGhTY2hlbWEgPVxyXG4gICAgJ2N0YWd8dGVtcG9yYXJ5X2FjY291bnR8YXV0aEZsb3d8Y29ubmVjdFdpdGhvdXRMb2dpbnxwcm92aWRlcnxyZWRpcmVjdE1ldGhvZHxyZWRpcmVjdF91cml8cGVuZGluZ1JlZ2lzdHJhdGlvbnxsYW5nfHJlZ1NvdXJjZXxleHRyYVBlcm1pc3Npb25zfHNlc3Npb25FeHBpcmF0aW9ufGZvcmNlQXV0aGVudGljYXRpb258aW5jbHVkZWlSYW5rfGluY2x1ZGVBbGxJZGVudGl0aWVzfGV4dHJhRmllbGRzfGVuYWJsZWRQcm92aWRlcnN8ZGlzYWJsZWRQcm92aWRlcnN8c2lnbklEc3xvcGVuSURVc2VybmFtZXxvcGVuSURVUkx8b3BlbklEUHJvdmlkZXJMb2dvfG9wZW5JRFByb3ZpZGVyTmFtZXxmaW5hbGl6ZVJlZ2lzdHJhdGlvbnxpbmNsdWRlfGFjdGlvbkF0dHJpYnV0ZXN8cHJvZmlsZUF0dHJpYnV0ZXN8Z29vZ2xlUGxheUFwcElEfGJwX2NoYW5uZWxfdXJsfGxvZ2luSWZFeGlzdHN8aW5jbHVkZVVzZXJJbmZvfHJlZGlyZWN0VVJMfGF1dGhDb2RlT25seXxlbmFibGVQb3B1cExvY2F0aW9ufGludml0ZXxyZWdUb2tlbnxsb2dpbk1vZGV8YXBpRG9tYWlufGNvbmZsaWN0SGFuZGxpbmd8Zm9yY2VQZXJtaXNzaW9uc3xzaWduS2V5c3xkYXRhQ2VudGVyJztcclxuZXhwb3J0IHZhciBwb3N0Qm9va21hcmtTY2hlbWEgPVxyXG4gICAgJ3Byb3ZpZGVyfFVSTHx1cmx8dGl0bGV8ZGVzY3JpcHRpb258dGFyZ2V0fGNpZHxBUElLZXl8c2hvcnRVUkxzfHNvdXJjZXxzb3VyY2VEYXRhfHByb3ZpZGVyS2V5fHRodW1ibmFpbFVSTHx0YWdzfHVzZXJBY3Rpb258W3Byb3ZpZGVyQ2FwYWJpbGl0eT1hY3Rpb25zXVVzZXJBY3Rpb258YWN0aW9uQXR0cmlidXRlc3xmYWNlYm9va0RpYWxvZ1R5cGUnO1xyXG5leHBvcnQgdmFyIGxvZ2luTWV0aG9kcyA9IHtcclxuICAgICdzb2NpYWxpemUubG9naW4nOiAxLFxyXG4gICAgJ3NvY2lhbGl6ZS5hZGRDb25uZWN0aW9uJzogMSxcclxuICAgICdzb2NpYWxpemUubm90aWZ5TG9naW4nOiAxLFxyXG4gICAgJ3NvY2lhbGl6ZS5saW5rQWNjb3VudHMnOiAxLFxyXG4gICAgJ2FjY291bnRzLmxvZ2luJzogMSxcclxuICAgICdhY2NvdW50cy5vdHAubG9naW4nOiAxLFxyXG4gICAgJ2FjY291bnRzLmF1dGgubG9naW4nOiAxLFxyXG4gICAgJ2FjY291bnRzLnNvY2lhbExvZ2luJzogMSxcclxuICAgICdhY2NvdW50cy5saW5rQWNjb3VudHMnOiAxLFxyXG4gICAgJ2FjY291bnRzLnJlZ2lzdGVyJzogMSxcclxuICAgICdhY2NvdW50cy5maW5hbGl6ZVJlZ2lzdHJhdGlvbic6IDEsXHJcbn07XHJcbnZhciBsb2dpbkNsZWFyU2Vzc2lvbkNvbmRpdGlvbiA9IHBhcmFtcyA9PiBwYXJhbXNbJ2xvZ2luTW9kZSddICE9PSAnbGluaycgJiYgcGFyYW1zWydsb2dpbk1vZGUnXSAhPT0gJ3JlQXV0aCc7XHJcbmNvbnN0IG5vQXV0aFByZVByb2Nlc3NvciA9IChwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICBwYXJhbXNbJ25vQXV0aCddID0gdHJ1ZTsgLy8gc28gbG9naW4gdG9rZW4gd29uJ3QgYmUgYXR0YWNoZWQgdG8gcmVxdWVzdFxyXG4gICAgY2FsbGJhY2soKTtcclxufTtcclxuY29uc3QgZ2xvYmFsQWNjb3VudFJlZ2lzdHJhdGlvblByZVByb2Nlc3NvciA9IChwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICBpZiAoZ2lneWEuZ2xvYmFsQWNjb3VudC5kYXRhQ2VudGVyKSAvLyBoaW50IGZvciBcImFjY291bnRzLmluaXRSZWdpc3RyYXRpb25cIiB0byBiZSBmb3J3YXJkZWQgdG8gdGhlIGNvcnJlY3QgZGNcclxuICAgICAgICBwYXJhbXNbJ2RhdGFDZW50ZXInXSA9IGdpZ3lhLmdsb2JhbEFjY291bnQuZGF0YUNlbnRlcjtcclxuICAgIGNhbGxiYWNrKCk7XHJcbn07XHJcbmV4cG9ydCB2YXIgbG9nb3V0QmVoYXZpb3VyID0ge1xyXG4gICAgbG9nb3V0QmVmb3JlU2VydmVyUmVzcG9uc2U6IHRydWUsXHJcbiAgICBhbHdheXNTZW5kTG9nb3V0VG9TZXJ2ZXI6IGZhbHNlLFxyXG59O1xyXG5leHBvcnQgdmFyIGxvZ291dE1ldGhvZHMgPSB7XHJcbiAgICAnc29jaWFsaXplLmxvZ291dCc6IDEsXHJcbiAgICAnYWNjb3VudHMubG9nb3V0JzogMSxcclxuICAgICdzb2NpYWxpemUuZGVsZXRlQWNjb3VudCc6IDEsXHJcbiAgICAnc29jaWFsaXplLnVubGlua0FjY291bnRzJzogMSxcclxufTtcclxudmFyIGxvZ291dFByZVByb2Nlc3NvciA9IChwYXJhbXMsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICBpZiAoZ2lneWEucGFydG5lclNldHRpbmdzLnNzb0tleSkgcGFyYW1zLnNpZ25JRHMgPSB0cnVlO1xyXG4gICAgY2FsbGJhY2soKTtcclxufTtcclxudmFyIGxvZ291dFJlcXVpcmVTZXNzaW9uID0gKCkgPT4gIWxvZ291dEJlaGF2aW91ci5hbHdheXNTZW5kTG9nb3V0VG9TZXJ2ZXI7XHJcbmV4cG9ydCB2YXIgYXJBcGlMaXN0ID0gW1xyXG4gICAgbmV3IFNlcnZlckFwaShcclxuICAgICAgICAnc29jaWFsaXplLmxvZ2luJyxcclxuICAgICAgICBkZWZhdWx0T2F1dGhTY2hlbWEsXHJcbiAgICAgICAgZmFsc2UsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvYXV0aDogdHJ1ZSxcclxuICAgICAgICAgICAgcHJlcHJvY2Vzc29yOiBnbG9iYWxBY2NvdW50UmVnaXN0cmF0aW9uUHJlUHJvY2Vzc29yXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNsZWFyU2Vzc2lvbkNvbmRpdGlvbjogbG9naW5DbGVhclNlc3Npb25Db25kaXRpb25cclxuICAgICAgICB9LFxyXG4gICAgKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoXHJcbiAgICAgICAgJ3NvY2lhbGl6ZS5hZGRDb25uZWN0aW9uJyxcclxuICAgICAgICBkZWZhdWx0T2F1dGhTY2hlbWEsXHJcbiAgICAgICAgZmFsc2UsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvYXV0aDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHt9LFxyXG4gICAgKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ3NvY2lhbGl6ZS5yZXF1ZXN0UGVybWlzc2lvbnMnLCBkZWZhdWx0T2F1dGhTY2hlbWEsIHRydWUsIHtcclxuICAgICAgICBvYXV0aDogdHJ1ZSxcclxuICAgICAgICBkZWZhdWx0UGFyYW1zOiB7IGZvcmNlUGVybWlzc2lvbnM6IHRydWUgfSxcclxuICAgIH0pLFxyXG5cclxuICAgIC8qbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLnBvc3RCb29rbWFyaycsXHJcbiAgICAgICAgICAgIGRlZmF1bHRPYXV0aFNjaGVtYSxcclxuICAgICAgICAgICAgZmFsc2UsIHtcclxuICAgICAgICAgICAgICAgIG9hdXRoOiB0cnVlXHJcbiAgICAgICAgICAgIH0pLCovXHJcbiAgICBuZXcgU2VydmVyQXBpKFxyXG4gICAgICAgICdhY2NvdW50cy5zb2NpYWxMb2dpbicsXHJcbiAgICAgICAgZGVmYXVsdE9hdXRoU2NoZW1hLFxyXG4gICAgICAgIGZhbHNlLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb2F1dGg6IHRydWUsXHJcbiAgICAgICAgICAgIHByZXByb2Nlc3NvcjogZ2xvYmFsQWNjb3VudFJlZ2lzdHJhdGlvblByZVByb2Nlc3NvclxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjbGVhclNlc3Npb25Db25kaXRpb246IGxvZ2luQ2xlYXJTZXNzaW9uQ29uZGl0aW9uXHJcbiAgICAgICAgfSxcclxuICAgICksXHJcbiAgICBuZXcgVWlBcGkoJ3Nob3dEZWJ1Z1VJJywgJ3NvY2lhbGl6ZS5wbHVnaW5zLmRlYnVnJywge30sIHt9LCAnJywge1xyXG4gICAgICAgIGFsbG93UG9wdXA6IHRydWUsXHJcbiAgICB9KSxcclxuICAgIFVpQXBpLmNyZWF0ZUFwaSgnc2hvd015UGhvdG9VSScsICdhY2NvdW50cycsICdwcm9maWxlUGhvdG8uTXlQaG90b1BsdWdpbicsICdhY2NvdW50cy5wbHVnaW5zLnByb2ZpbGVQaG90bycpLFxyXG5cclxuICAgIC8vIFVzZXMgQmFzZVBsdWdpblxyXG4gICAgVWlBcGkuY3JlYXRlQXBpKCdzaG93UmF0aW5nVUknLCAnY29tbWVudHMnLCAncmF0aW5nLlJhdGluZ1BsdWdpbicsICdjb21tZW50cy5wbHVnaW5zLnJhdGluZycpLFxyXG4gICAgVWlBcGkuY3JlYXRlQXBpKCdydW5Kc1VuaXRUZXN0cycsICdfJywgJ0pzVXRSdW5uZXIuSmFzbWluZS5KYXNtaW5lVXRSdW5uZXJQbHVnaW4nLCAnXy5wbHVnaW5zLmpzVXRSdW5uZXInKSxcclxuICAgIFVpQXBpLmNyZWF0ZUFwaSgnbG9hZEJhc2VQbHVnaW4nLCAnXycsICdNb2NrLk1vY2tQbHVnaW4nLCAnXy5wbHVnaW5zLm1vY2snKSxcclxuICAgIG5ldyBVaUFwaSgnc2hvd0NvbW1lbnRzVUknLCAnY29tbWVudHMucGx1Z2lucy5jb21tZW50cycsIHsgd2lkdGg6IDUwMCB9LCB7fSwgJycsIHtcclxuICAgICAgICBhcGlOYW1lOiAnY29tbWVudHMuc2hvd0NvbW1lbnRzVUkxJyxcclxuICAgIH0pLFxyXG4gICAgbmV3IFVpQXBpKCdzaG93Q29tbWVudHNVSScsICdjb21tZW50cy5wbHVnaW5zLmNvbW1lbnRzMicsIHsgd2lkdGg6IDUwMCB9LCB7fSwgJycsIHtcclxuICAgICAgICBhcGlOYW1lOiAnY29tbWVudHMuc2hvd0NvbW1lbnRzVUkyJyxcclxuICAgIH0pLFxyXG4gICAgVWlBcGkudmVyc2lvblNlbGVjdG9yKCdzaG93Q29tbWVudHNVSScsICdjb21tZW50cycsICcyJywgW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmVyc2lvbk5hbWU6ICcxJyxcclxuICAgICAgICAgICAgbWV0aG9kOiBnaWd5YS5jb21tZW50cy5zaG93Q29tbWVudHNVSTEsXHJcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQYXJhbXM6IHsgY3RhZzogJ2NvbW1lbnRzX3YxJyB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2ZXJzaW9uTmFtZTogJzInLFxyXG4gICAgICAgICAgICBtZXRob2Q6IGdpZ3lhLmNvbW1lbnRzLnNob3dDb21tZW50c1VJMixcclxuICAgICAgICAgICAgYWRkaXRpb25hbFBhcmFtczogeyBjdGFnOiAnY29tbWVudHNfdjInIH0sXHJcbiAgICAgICAgICAgIGlzU3VwcG9ydGVkOiAoKSA9PiBpc01vZGVybigpLFxyXG4gICAgICAgIH0sXHJcbiAgICBdKSxcclxuICAgIG5ldyBVaUFwaSgnc2hvd1NoYXJlVUknLCAnc29jaWFsaXplLnBsdWdpbnMuc2hhcmUnLCB7d2lkdGg6IDUyMCwgaGVpZ2h0OiAzMjB9LCB7XHJcbiAgICAgICAgd2lkdGg6IDU5NSxcclxuICAgICAgICBoZWlnaHQ6IDMyNFxyXG4gICAgfSwgJ3VzZXJBY3Rpb24nLCB7XHJcbiAgICAgICAgYWxsb3dQb3B1cDogdHJ1ZSxcclxuICAgICAgICBwcmVwcm9jZXNzb3I6IChwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAgICAgdmFyIG9wZXJhdGlvbk1vZGUgPSBwYXJhbXNbJ29wZXJhdGlvbk1vZGUnXTtcclxuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbk1vZGUpIG9wZXJhdGlvbk1vZGUgPSBvcGVyYXRpb25Nb2RlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAnJyk7XHJcbiAgICAgICAgICAgIGlmICghcGFyYW1zWydjb250YWluZXJJRCddKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zWyd3aWR0aCddO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmFtc1snaGVpZ2h0J107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLmlzU2Vzc2lvblZhbGlkKHBhcmFtcywgKGlzVmFsaWQ6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChvcGVyYXRpb25Nb2RlID09ICdzaW1wbGVzaGFyZScgfHwgKG9wZXJhdGlvbk1vZGUgPT0gJ2F1dG9kZXRlY3QnICYmICFpc1ZhbGlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLnNvY2lhbGl6ZS5zaG93U2ltcGxlU2hhcmVVSShwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgfSksXHJcbiAgICBVaUFwaS5jcmVhdGVBcGkoJ3Nob3dNZXNzYWdlVUknLCAnXycsICdtZXNzYWdlcy5NZXNzYWdlc1BsdWdpbicsICdfLnBsdWdpbnMubWVzc2FnZXMnKSxcclxuICAgIG5ldyBVaUFwaSgnc2hvd0xvZ2luVUlfdjEnLCAnc29jaWFsaXplLnBsdWdpbnMubG9naW4nLCB7d2lkdGg6IDEyMCwgaGVpZ2h0OiAxMTB9LCB7XHJcbiAgICAgICAgd2lkdGg6IDI4MCxcclxuICAgICAgICBoZWlnaHQ6IDIyMFxyXG4gICAgfSwgJycsIHthbGxvd1BvcHVwOiB0cnVlfSksXHJcbiAgICBVaUFwaS5jcmVhdGVBcGkoJ3Nob3dMb2dpblVJX3YyJywgJ3NvY2lhbGl6ZScsICdsb2dpbl92Mi5Mb2dpblBsdWdpbicsICdzb2NpYWxpemUucGx1Z2lucy5sb2dpbl92MicpLFxyXG4gICAgVWlBcGkudmVyc2lvblNlbGVjdG9yKCdzaG93TG9naW5VSScsICdzb2NpYWxpemUnLCAnMScsIFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZlcnNpb25OYW1lOiAnMScsXHJcbiAgICAgICAgICAgIG1ldGhvZDogZ2lneWEuc29jaWFsaXplLnNob3dMb2dpblVJX3YxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2ZXJzaW9uTmFtZTogJzInLFxyXG4gICAgICAgICAgICBtZXRob2Q6IGdpZ3lhLnNvY2lhbGl6ZS5zaG93TG9naW5VSV92MixcclxuICAgICAgICB9LFxyXG4gICAgXSksXHJcbiAgICBuZXcgVWlBcGkoJ3Nob3dBZGRDb25uZWN0aW9uc1VJX3YxJywgJ3NvY2lhbGl6ZS5wbHVnaW5zLmxvZ2luJywge3dpZHRoOiAxMTAsIGhlaWdodDogNjV9LCB7XHJcbiAgICAgICAgd2lkdGg6IDI1MCxcclxuICAgICAgICBoZWlnaHQ6IDIwMFxyXG4gICAgfSwgJycsIHthbGxvd1BvcHVwOiB0cnVlfSksXHJcbiAgICBVaUFwaS5jcmVhdGVBcGkoJ3Nob3dBZGRDb25uZWN0aW9uc1VJX3YyJywgJ3NvY2lhbGl6ZScsICdsb2dpbl92Mi5Mb2dpblBsdWdpbicsICdzb2NpYWxpemUucGx1Z2lucy5sb2dpbl92MicpLFxyXG4gICAgVWlBcGkudmVyc2lvblNlbGVjdG9yKCdzaG93QWRkQ29ubmVjdGlvbnNVSScsICdzb2NpYWxpemUnLCAnMScsIFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZlcnNpb25OYW1lOiAnMScsXHJcbiAgICAgICAgICAgIG1ldGhvZDogZ2lneWEuc29jaWFsaXplLnNob3dBZGRDb25uZWN0aW9uc1VJX3YxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2ZXJzaW9uTmFtZTogJzInLFxyXG4gICAgICAgICAgICBtZXRob2Q6IGdpZ3lhLnNvY2lhbGl6ZS5zaG93QWRkQ29ubmVjdGlvbnNVSV92MixcclxuICAgICAgICB9LFxyXG4gICAgXSksXHJcbiAgICBVaUFwaS5jcmVhdGVBcGkoJ3Nob3dFZGl0Q29ubmVjdGlvbnNVSScsICdzb2NpYWxpemUnLCAnZWRpdENvbm5lY3Rpb25zLkVkaXRDb25uZWN0aW9uUGx1Z2luJywgJ3NvY2lhbGl6ZS5wbHVnaW5zLmVkaXQnKSxcclxuICAgIG5ldyBVaUFwaSgnc2hvd1NoYXJlQmFyVUknLCAnc29jaWFsaXplLnBsdWdpbnMucmVhY3Rpb25zJywgeyBzaGFyZUNvdW50Q2FjaGVUaW1lb3V0OiAzMCB9LCB7fSwgJ3VzZXJBY3Rpb258c2hhcmVCdXR0b25zJyksXHJcbiAgICBuZXcgVWlBcGkoJ3Nob3dSZWFjdGlvbnNCYXJVSScsICdzb2NpYWxpemUucGx1Z2lucy5yZWFjdGlvbnMnLCB7fSwge30sICd1c2VyQWN0aW9ufGJhcklEfHJlYWN0aW9ucycsIHtcclxuICAgICAgICBwcmVwcm9jZXNzb3I6IChwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFwYXJhbXNbJ2JhcklEJ10pIHBhcmFtc1snYmFySUQnXSA9IHBhcmFtc1snaXRlbUlEJ107XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfSxcclxuICAgIH0pLFxyXG4gICAgbmV3IFVpQXBpKCdzaG93TWluaVNoYXJlVUknLCAnc29jaWFsaXplLnBsdWdpbnMubWluaXNoYXJlJywgeyB3aWR0aDogMzIwLCBoZWlnaHQ6IDE1MyB9LCB7fSwgJycsIHsgYWxsb3dQb3B1cDogdHJ1ZSB9KSxcclxuICAgIG5ldyBVaUFwaSgnc2hvd0Jvb2ttYXJrVUknLCAnc29jaWFsaXplLnBsdWdpbnMuYm9va21hcmsnLCB7IHdpZHRoOiAzMTAsIGhlaWdodDogMjUwIH0sIHsgd2lkdGg6IDMxMCwgaGVpZ2h0OiAzMTAgfSksXHJcbiAgICBuZXcgVWlBcGkoJ3Nob3dTaW1wbGVTaGFyZVVJJywgJ3NvY2lhbGl6ZS5wbHVnaW5zLnNpbXBsZVNoYXJlJywgeyB3aWR0aDogMjgwLCBoZWlnaHQ6IDE3NSB9LCB7fSwgJ3VzZXJBY3Rpb24nLCB7XHJcbiAgICAgICAgYWxsb3dQb3B1cDogdHJ1ZSxcclxuICAgICAgICBkb250TG9hZFBsdWdpbnNDb3JlOiB0cnVlLFxyXG4gICAgICAgIHdhaXRGb3JBUElRdWV1ZTogdHJ1ZSxcclxuICAgIH0pLFxyXG4gICAgbmV3IFVpQXBpKCdzaG93U2hhcmVNb2JpbGVVSScsICdzb2NpYWxpemUucGx1Z2lucy5zaGFyZU1vYmlsZScsIHt9LCB7fSwgJ3VzZXJBY3Rpb24nLCB7YWxsb3dQb3B1cDogdHJ1ZX0pLFxyXG4gICAgbmV3IFVpQXBpKCdzaG93VXNlclN0YXR1c1VJJywgJ2dtLnBsdWdpbnMudXNlclN0YXR1cycsIHtcclxuICAgICAgICB3aWR0aDogMzAwLFxyXG4gICAgICAgIGhpZGVQb2ludHM6IGZhbHNlLFxyXG4gICAgICAgIGhpZGVBY3Rpb25zOiBmYWxzZVxyXG4gICAgfSwge30sICcnLCB7XHJcbiAgICAgICAgcmVxdWlyZVNlc3Npb246IHRydWUsXHJcbiAgICB9KSxcclxuICAgIG5ldyBVaUFwaSgnc2hvd0FjaGlldmVtZW50c1VJJywgJ2dtLnBsdWdpbnMuYWNoaWV2ZW1lbnRzJywge1xyXG4gICAgICAgIHdpZHRoOiAzMDAsXHJcbiAgICAgICAgaGVpZ2h0OiAxMDAsXHJcbiAgICAgICAgZXhjbHVkZUNoYWxsZW5nZXM6ICdfZGVmYXVsdCdcclxuICAgIH0pLFxyXG4gICAgbmV3IFVpQXBpKCdzaG93Q2hhbGxlbmdlU3RhdHVzVUknLCAnZ20ucGx1Z2lucy5hY2hpZXZlbWVudHMnLCB7d2lkdGg6IDMwMCwgaGVpZ2h0OiAxMDAsIGNoYWxsZW5nZTogJ19kZWZhdWx0J30pLFxyXG4gICAgbmV3IFVpQXBpKCdzaG93TGVhZGVyYm9hcmRVSScsICdnbS5wbHVnaW5zLmxlYWRlcmJvYXJkJywge3dpZHRoOiAzMDB9LCB7fSwgJycsIHtcclxuICAgICAgICBwcmVwcm9jZXNzb3I6IChwYXJhbXM6IGFueSwgY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMuaGVpZ2h0KSBwYXJhbXMuaGVpZ2h0ID0gbnVsbDtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9LFxyXG4gICAgfSksXHJcbiAgICBuZXcgVWlBcGkoJ3Nob3dOb3RpZmljYXRpb25zJywgJ2dtLnBsdWdpbnMubm90aWZpY2F0aW9ucycsIHt9LCB7fSwgJycsIHtcclxuICAgICAgICBwcmVwcm9jZXNzb3I6IChwYXJhbXM6IGFueSwgY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbG9jYWxTZXR0aW5ncyA9IGdldE9iamVjdCgnZ21TZXR0aW5ncycpO1xyXG4gICAgICAgICAgICBpZiAoIShsb2NhbFNldHRpbmdzICYmIGxvY2FsU2V0dGluZ3NbJ2Rpc2FibGVOb3RpZmljYXRpb25zJ10pKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMuY29udGFpbmVySUQgPSAnZ2lnTm90aWZpY2F0aW9ucyc7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmFtcy5jb250YWluZXJJRCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuaWQgPSBwYXJhbXMuY29udGFpbmVySUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUubGVmdCA9ICctMTAwMHB4JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCB0aGUgYWxlcnQgdG8gdGhlIHVzZXIgd2hlbiB1c2luZyBzY3JlZW4gcmVhZGVyLlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYWxlcnQnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnYXJpYS1hdG9taWMnLCAndHJ1ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUb0JvZHkoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfSksXHJcbiAgICBuZXcgVWlBcGkoJ3Nob3dUZmFVSScsICdhY2NvdW50cy5wbHVnaW5zLnRmYScsIHt3aWR0aDogMzI1fSksXHJcbiAgICBVaUFwaS5jcmVhdGVBcGkoJ3Nob3dTY3JlZW5TZXQnLCAnYWNjb3VudHMnLCAnU2NyZWVuU2V0LlNjcmVlblNldFBsdWdpbicsICdhY2NvdW50cy5wbHVnaW5zLnNjcmVlblNldCcsIHVuZGVmaW5lZCwgWydoaWRlU2NyZWVuU2V0JywgJ3N3aXRjaFNjcmVlbiddKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ3NvY2lhbGl6ZS5nZXRBdmFpbGFibGVQcm92aWRlcnMnLCAnZW5hYmxlZFByb3ZpZGVyc3xkaXNhYmxlZFByb3ZpZGVyc3xyZXF1aXJlZENhcGFiaWxpdGllcycpLFxyXG4gICAgbmV3IFNlcnZlckFwaShcclxuICAgICAgICAnc29jaWFsaXplLm5vdGlmeUxvZ2luJyxcclxuICAgICAgICAnc2l0ZVVJRHxVSURUaW1lc3RhbXB8VUlEU2lnfFVJRE5vbmNlfHByb3ZpZGVyfGF1dGhUb2tlbnx0b2tlblNlY3JldHxyZWdTb3VyY2V8dG9rZW5FeHBpcmF0aW9ufHNlc3Npb25IYW5kbGV8c2Vzc2lvbkhhbmRsZUV4cGlyYXRpb258dXNlckluZm98cHJvdmlkZXJTZXNzaW9uc3xzZXNzaW9uRXhwaXJhdGlvbnxhdXRoQ29kZXxpbmNsdWRlQWxsSWRlbnRpdGllc2luY2x1ZGVpUmFua3xncm91cHxzZXR0aW5nc3xleHRyYUZpZWxkc3xzaWduSURzfG5ld1VzZXJ8YWN0aW9uQXR0cmlidXRlc3xwcm9maWxlQXR0cmlidXRlc3xicF9jaGFubmVsX3VybHxzaWduS2V5cycsXHJcbiAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgIHtjbGVhclNlc3Npb246IHRydWV9LFxyXG4gICAgKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ3NvY2lhbGl6ZS5zaG9ydGVuVVJMJywgJ1VSTCcpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLmNvbnZlcnRBY3Rpb24nLCAndXNlckFjdGlvbnxbcHJvdmlkZXJDYXBhYmlsaXR5PWFjdGlvbnNdVXNlckFjdGlvbnxwcm92aWRlcicpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLmdldFJlYWN0aW9uc0NvdW50JywgJ2JhcklEfGJ1dHRvbklEc3xyZXBvcnRMb2FkJyksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdzb2NpYWxpemUuaW5jcmVtZW50UmVhY3Rpb25zQ291bnQnLCAnYmFySUR8YnV0dG9uSUR8Y291bnR8YWN0aW9uQXR0cmlidXRlc3xwcm9maWxlQXR0cmlidXRlcycpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLmRlbGV0ZUFjY291bnQnLCB1bmRlZmluZWQsIHRydWUpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLmRlbFVzZXJTZXR0aW5ncycsICdncm91cHxzZXR0aW5ncycsIHRydWUpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLmdldENvbnRhY3RzJywgJ2VuYWJsZWRQcm92aWRlcnN8ZGlzYWJsZWRQcm92aWRlcnMnLCB0cnVlKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ3NvY2lhbGl6ZS5nZXRGcmllbmRzSW5mbycsICdlbmFibGVkUHJvdmlkZXJzfGRpc2FibGVkUHJvdmlkZXJzfGRldGFpbExldmVsfFVJRHN8c2l0ZVVzZXJzT25seXxyZXF1aXJlZENhcGFiaWxpdGllc3xzaWduSURzJywgdHJ1ZSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdzb2NpYWxpemUuZ2V0UmF3RGF0YScsICdwcm92aWRlcnxVSUR8ZmllbGRzfGRhdGFGb3JtYXR8cGF0aCcsIHRydWUpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLmdldFNlc3Npb25JbmZvJywgJ3Byb3ZpZGVyfHBhZGRpbmdNb2RlfGVuY3J5cHR8c2lnbklEc3xlbmNyeXB0QWxsJywgdHJ1ZSksXHJcbiAgICBuZXcgU2VydmVyQXBpKFxyXG4gICAgICAgICdzb2NpYWxpemUuZ2V0VXNlckluZm8nLFxyXG4gICAgICAgICdlbmFibGVkUHJvdmlkZXJzfGRpc2FibGVkUHJvdmlkZXJzfHNpZ25JRHN8aW5jbHVkZWlSYW5rfGluY2x1ZGVBbGxJZGVudGl0aWVzfGV4dHJhRmllbGRzfGdyb3VwfHNldHRpbmdzfGluY2x1ZGVPcGVuaWRVSUR8aW5jbHVkZScsXHJcbiAgICAgICAgdHJ1ZSxcclxuICAgICksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdzb2NpYWxpemUuZ2V0VXNlclNldHRpbmdzJywgJ2dyb3VwfHNldHRpbmdzfHJlZ1Rva2VuJywgdHJ1ZSwgdW5kZWZpbmVkLCB7fSwgJ3JlZ1Rva2VuJyksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdzb2NpYWxpemUuY2hlY2tpbicsICdlbmFibGVkUHJvdmlkZXJzfGRpc2FibGVkUHJvdmlkZXJzfHBsYWNlSUR8Y29tbWVudHxsYXRpdHVkZXxsb25naXR1ZGV8YWN0aW9uQXR0cmlidXRlc3xwcm9maWxlQXR0cmlidXRlcycsIHRydWUpLFxyXG4gICAgbmV3IFNlcnZlckFwaShcclxuICAgICAgICAnc29jaWFsaXplLmxvZ291dCcsXHJcbiAgICAgICAgJ3NpZ25JRHN8c2FtbENvbnRleHR8c3VzdGFpbkxvZ291dFVSTHMnLFxyXG4gICAgICAgIHRydWUsXHJcbiAgICAgICAge3ByZXByb2Nlc3NvcjogbG9nb3V0UHJlUHJvY2Vzc29yLCBkaXNhYmxlQ2FjaGU6IHRydWV9LFxyXG4gICAgICAgIHtyZXF1aXJlc1Nlc3Npb246IGxvZ291dFJlcXVpcmVTZXNzaW9ufSxcclxuICAgICksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdzb2NpYWxpemUubm90aWZ5UmVnaXN0cmF0aW9uJywgJ3NpdGVVSUR8VUlEVGltZXN0YW1wfFVJRFNpZycsIHRydWUpLFxyXG4gICAgbmV3IFNlcnZlckFwaShcclxuICAgICAgICAnc29jaWFsaXplLnB1Ymxpc2hVc2VyQWN0aW9uJyxcclxuICAgICAgICAndXNlckFjdGlvbnxbcHJvdmlkZXJDYXBhYmlsaXR5PWFjdGlvbnNdVXNlckFjdGlvbnxlbmFibGVkUHJvdmlkZXJzfGRpc2FibGVkUHJvdmlkZXJzfHRhcmdldHxzaG9ydFVSTHN8dXNlckxvY2F0aW9ufHRhZ3N8YWN0aW9uQXR0cmlidXRlc3xwcm9maWxlQXR0cmlidXRlcycsXHJcbiAgICAgICAgdHJ1ZSxcclxuICAgICksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdzb2NpYWxpemUucmVtb3ZlQ29ubmVjdGlvbicsICdwcm92aWRlcnxsYXN0SWRlbnRpdHlIYW5kbGluZ3xyZW1vdmVMb2dpbklEJywgdHJ1ZSksXHJcbiAgICBuZXcgU2VydmVyQXBpKFxyXG4gICAgICAgICdzb2NpYWxpemUuc2V0U3RhdHVzJyxcclxuICAgICAgICAnc2hvcnRVUkxzfHN0YXR1c3xbcHJvdmlkZXJDYXBhYmlsaXR5PXN0YXR1c11TdGF0dXN8ZW5hYmxlZFByb3ZpZGVyc3xkaXNhYmxlZFByb3ZpZGVyc3x1c2VyTG9jYXRpb258YWN0aW9uQXR0cmlidXRlc3xwcm9maWxlQXR0cmlidXRlcycsXHJcbiAgICAgICAgdHJ1ZSxcclxuICAgICksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdzb2NpYWxpemUuc2V0VUlEJywgJ3NpdGVVSUR8VUlEVGltZXN0YW1wfFVJRFNpZycsIHRydWUpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLnNldFVzZXJTZXR0aW5ncycsICdncm91cHxzZXR0aW5nc3xyZWdUb2tlbicsIHRydWUsIHVuZGVmaW5lZCwge30sICdyZWdUb2tlbicpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLnVubGlua0FjY291bnRzJywgdW5kZWZpbmVkLCB0cnVlKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoXHJcbiAgICAgICAgJ3NvY2lhbGl6ZS5zZW5kRW1haWwnLFxyXG4gICAgICAgICdkb250U2VuZEVtYWlsfGNvbXBhbnlOYW1lfGxhbmd8ZW1haWxzfGVtYWlsU3ViamVjdHxlbWFpbEJvZHl8bGlua0JhY2t8c2VuZGVyRW1haWx8c2VuZGVyTmFtZXx1c2VyTXNnfHNob3J0VVJMc3x1c2VyQWN0aW9ufFtwcm92aWRlckNhcGFiaWxpdHk9YWN0aW9uc11Vc2VyQWN0aW9ufGFjdGlvbkF0dHJpYnV0ZXN8cHJvZmlsZUF0dHJpYnV0ZXN8Y2FwdGNoYVRpY2tldHxsYW5nJyxcclxuICAgICAgICBmYWxzZSxcclxuICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAge30sXHJcbiAgICApLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLmZhY2Vib29rR3JhcGhPcGVyYXRpb24nLCAnZ3JhcGhQYXRofGdyYXBoUGFyYW1zfGF1dGhSZXF1aXJlZHxtZXRob2R8YXV0aFR5cGUnKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ3NvY2lhbGl6ZS5nZXRUb3BTaGFyZXMnLCAnYWdlfHRhZ3xsaW1pdCcpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLm5vdGlmeVNTT0xvZ2luJywgJ2JwX2NoYW5uZWxfdXJsJyksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdnbS5nZXRDaGFsbGVuZ2VTdGF0dXMnLCAnVUlEfGluY2x1ZGVDaGFsbGVuZ2VzfGV4Y2x1ZGVDaGFsbGVuZ2VzfGRldGFpbHN8bGFuZ3xhY3Rpb25BdHRyaWJ1dGVzfHByb2ZpbGVBdHRyaWJ1dGVzJyksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdnbS5yZXNldExldmVsU3RhdHVzJywgJ2NoYWxsZW5nZXN8YWN0aW9uQXR0cmlidXRlc3xwcm9maWxlQXR0cmlidXRlcycsIHRydWUpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnZ20uZ2V0VG9wVXNlcnMnLCAnY2hhbGxlbmdlfHRvdGFsQ291bnR8ZnJpZW5kc0NvdW50fGluY2x1ZGVTZWxmfHBlcmlvZHxsYW5nfGFjdGlvbkF0dHJpYnV0ZXN8cHJvZmlsZUF0dHJpYnV0ZXMnKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2dtLmdldENoYWxsZW5nZUNvbmZpZycsICdVSUR8aW5jbHVkZUNoYWxsZW5nZXN8ZXhjbHVkZUNoYWxsZW5nZXN8bGFuZ3xhY3Rpb25BdHRyaWJ1dGVzfHByb2ZpbGVBdHRyaWJ1dGVzfGV4cGFuZEFjdGlvbnMnKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2dtLm5vdGlmeUFjdGlvbicsICdhY3Rpb258b3BlcmF0aW9ufGNoYWxsZW5nZUlEc3xhY3Rpb25BdHRyaWJ1dGVzfHByb2ZpbGVBdHRyaWJ1dGVzJywgdHJ1ZSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdjb21tZW50cy51cGRhdGVDb21tZW50JywgJ2NhdGVnb3J5SUR8c3RyZWFtSUR8Y29tbWVudElEfGNvbW1lbnRUZXh0fGNvbW1lbnRUaXRsZXxyYXRpbmdzfG1lZGlhSXRlbXN8dGFnZ2VkVXNlcnMnKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoXHJcbiAgICAgICAgJ2NvbW1lbnRzLnBvc3RDb21tZW50JyxcclxuICAgICAgICAnY2F0ZWdvcnlJRHxzdHJlYW1JRHxwYXJlbnRJRHxndWVzdE5hbWV8Z3Vlc3RFbWFpbHxjb21tZW50VGV4dHxhbm9ueW1vdXN8bWVkaWFJdGVtc3xwcml2YWN5fGZlZWRJRHx1c2VyQWN0aW9ufFtwcm92aWRlckNhcGFiaWxpdHk9YWN0aW9uc11Vc2VyQWN0aW9ufHNjb3BlfGVuYWJsZWRQcm92aWRlcnN8ZGlzYWJsZWRQcm92aWRlcnN8c2hvcnRVUkxzfGNvbW1lbnRUaXRsZXxyYXRpbmdzfHRhZ3N8dGFnZ2VkVXNlcnN8c3RyZWFtVGFnc3xhY3Rpb25BdHRyaWJ1dGVzfHByb2ZpbGVBdHRyaWJ1dGVzJyxcclxuICAgICksXHJcbiAgICBuZXcgU2VydmVyQXBpKFxyXG4gICAgICAgICdjb21tZW50cy5nZXRDb21tZW50cycsXHJcbiAgICAgICAgJ2NhdGVnb3J5SUR8c3RyZWFtSUR8aW5jbHVkZVNldHRpbmdzfHN0YXJ0fHN0YXJ0VFN8dGhyZWFkTGltaXR8c29ydHx0aHJlYWRlZHx0aHJlYWREZXB0aHxpbmNsdWRlU3RyZWFtSW5mb3xpbmNsdWRlT3BlbmlkVUlEfGluY2x1ZGVVSUR8aW5jbHVkZVJlcGxpZXN8dGFnc3xkYXRhRm9ybWF0fG1hcmt1cFR5cGV8aW5jbHVkZVVzZXJPcHRpb25zfGluY2x1ZGVVc2VyQ29tbWVudHN8aW5jbHVkZVJhdGluZ3NEaW1zfGluY2x1ZGVVc2VySGlnaGxpZ2h0aW5nfHBpbm5lZENvbW1lbnRJRHxsYW5nJyxcclxuICAgICksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdjb21tZW50cy5zZXRTdHJlYW1JbmZvJywgJ2NhdGVnb3J5SUR8c3RyZWFtSUR8c3RyZWFtVGl0bGV8c3RyZWFtVVJMfHN0cmVhbUluZm9TaWd8c3RyZWFtVGFncycpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnY29tbWVudHMuZ2V0VG9wU3RyZWFtcycsICdjYXRlZ29yeUlEfGxpbWl0fG1heFN0cmVhbUFnZXxpbmNsdWRlTGFzdENvbW1lbnR8c3RyZWFtVGFnfG1pblJhdGluZ3NDb3VudCcpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnY29tbWVudHMuZ2V0VG9wUmF0ZWRTdHJlYW1zJywgJ2NhdGVnb3J5SUR8bGltaXR8bWF4U3RyZWFtQWdlfHJhdGluZ0NsYXNzfG1pblJhdGluZ3NDb3VudHxzdHJlYW1UYWcnKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2NvbW1lbnRzLmdldFN0cmVhbUluZm8nLCAnY2F0ZWdvcnlJRHxzdHJlYW1JRHxzdHJlYW1JRHN8aW5jbHVkZUxhc3RDb21tZW50fGluY2x1ZGVSYXRpbmdzRGltc3xpbmNsdWRlUmF0aW5nRGV0YWlscycpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnY29tbWVudHMuZmxhZ0NvbW1lbnQnLCAnY2F0ZWdvcnlJRHxzdHJlYW1JRHxjb21tZW50SUR8YWN0aW9uQXR0cmlidXRlc3xwcm9maWxlQXR0cmlidXRlcycpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnY29tbWVudHMudm90ZScsICdjYXRlZ29yeUlEfHN0cmVhbUlEfGNvbW1lbnRJRHx2b3RlfGFjdGlvbkF0dHJpYnV0ZXN8cHJvZmlsZUF0dHJpYnV0ZXMnLCB0cnVlKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2NvbW1lbnRzLmdldFVzZXJWb3RlcycsICdjYXRlZ29yeUlEfHN0cmVhbUlEJywgdHJ1ZSksXHJcbiAgICBuZXcgU2VydmVyQXBpKFxyXG4gICAgICAgICdjb21tZW50cy5nZXRVc2VyQ29tbWVudHMnLFxyXG4gICAgICAgICdjYXRlZ29yeUlEfHN0cmVhbUlEfHRhZ3xzZW5kZXJVSUR8c3RhcnR8bGltaXR8c29ydHxpbmNsdWRlUmVwbGllc3xpbmNsdWRlU3RyZWFtSW5mb3xpbmNsdWRlVXNlckhpZ2hsaWdodGluZycsXHJcbiAgICAgICAgdHJ1ZSxcclxuICAgICksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdjb21tZW50cy5nZXRGcmllbmRzQ29tbWVudHMnLCAnY2F0ZWdvcnlJRHxzdHJlYW1JRHxzdGFydHxsaW1pdHxpbmNsdWRlVUlEfHNvcnR8aW5jbHVkZVJlcGxpZXN8aW5jbHVkZVN0cmVhbUluZm8nLCB0cnVlKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2NvbW1lbnRzLmdldFRocmVhZCcsICdjYXRlZ29yeUlEfHN0cmVhbUlEfGNvbW1lbnRJRHxzdGFydHxpbmNsdWRlVUlEfGxpbWl0fHRocmVhZERlcHRofHNvcnQnKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2NvbW1lbnRzLmRlbGV0ZUNvbW1lbnQnLCAnY2F0ZWdvcnlJRHxzdHJlYW1JRHxjb21tZW50SUQnLCB0cnVlKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2NvbW1lbnRzLmdldFJlbGF0ZWRVc2VycycsICdjYXRlZ29yeUlEfHN0cmVhbUlEfHBhcmVudENvbW1lbnRJRHx1c2VybmFtZVByZWZpeHxsaW1pdCcpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnY29tbWVudHMuYW5hbHl6ZU1lZGlhSXRlbScsICdjYXRlZ29yeUlEfHVybHMnKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2NvbW1lbnRzLnN1YnNjcmliZScsICdjYXRlZ29yeUlEfHN0cmVhbUlEfGVtYWlsfGxhbmcnKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2NvbW1lbnRzLnVuc3Vic2NyaWJlJywgJ2NhdGVnb3J5SUR8c3RyZWFtSUR8dW5zdWJzY3JpYmVUb2tlbicpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnY29tbWVudHMuc2V0VXNlck9wdGlvbnMnLCAncmVwbHlOb3RpZmljYXRpb25zfG5vdGlmaWNhdGlvbnNFbWFpbHxub3RpZmljYXRpb25zTGFuZ3VhZ2UnLCB0cnVlKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2NvbW1lbnRzLmdldFVzZXJPcHRpb25zJywgJ1NlcnZlckFwaUtleScsIHRydWUpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnZ2NzLmdldFVzZXJEYXRhJywgJ3R5cGV8ZmllbGRzJywgdHJ1ZSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdnY3Muc2V0VXNlckRhdGEnLCAnZGF0YXx0eXBlfHVwZGF0ZUJlaGF2aW9yJywgdHJ1ZSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdnY3Muc2VhcmNoJywgJ2V4cFRpbWV8cXVlcnlTaWd8cXVlcnknKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2djcy5nZXRTY2hlbWEnLCAnc2NoZW1hVHlwZScpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuYjJiLnJlZ2lzdGVyT3JnYW5pemF0aW9uJywgJ29yZ2FuaXphdGlvbnxyZXF1ZXN0ZXInLFxyXG4gICAgICAgIGZhbHNlLCB1bmRlZmluZWQsIHtmb3JjZVBvc3Q6IHRydWV9KSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmIyYi5nZXRPcmdhbml6YXRpb25TY2hlbWEnLCAnJyxcclxuICAgICAgICBmYWxzZSwge3ByZXByb2Nlc3Nvcjogbm9BdXRoUHJlUHJvY2Vzc29yfSksXHJcbiAgICBuZXcgU2VydmVyQXBpKFxyXG4gICAgICAgICdhY2NvdW50cy5sb2dpbicsXHJcbiAgICAgICAgJ2xvZ2luSUR8cGFzc3dvcmR8c2Vzc2lvbkV4cGlyYXRpb258dGFyZ2V0RW52fHJlZ1Rva2VufGluY2x1ZGV8YWN0aW9uQXR0cmlidXRlc3xwcm9maWxlQXR0cmlidXRlc3xpbmNsdWRlVXNlckluZm98aW5jbHVkZUR5bmFtaWNTY2hlbWF8YnBfY2hhbm5lbF91cmx8Y2FwdGNoYVRva2VufGNhcHRjaGFUZXh0fGxvZ2luTW9kZXxzaWduS2V5c3xsYW5nJyxcclxuICAgICAgICBmYWxzZSxcclxuICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjbGVhclNlc3Npb25Db25kaXRpb246IGxvZ2luQ2xlYXJTZXNzaW9uQ29uZGl0aW9uLFxyXG4gICAgICAgICAgICBmb3JjZVBvc3Q6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoXHJcbiAgICAgICAgJ2FjY291bnRzLmxpbmtBY2NvdW50cycsXHJcbiAgICAgICAgJ2xvZ2luSUR8cGFzc3dvcmR8c2Vzc2lvbkV4cGlyYXRpb258dGFyZ2V0RW52fGluY2x1ZGV8cmVnVG9rZW58aW5jbHVkZVVzZXJJbmZvfGJwX2NoYW5uZWxfdXJsfHNpZ25LZXlzJyxcclxuICAgICAgICBmYWxzZSxcclxuICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAge2ZvcmNlUG9zdDogdHJ1ZX0sXHJcbiAgICApLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuaW5pdFJlZ2lzdHJhdGlvbicsICdzZGt8aXNMaXRlfGRhdGFDZW50ZXInLCBmYWxzZSwge1xyXG4gICAgICAgIHByZXByb2Nlc3NvcjogZ2xvYmFsQWNjb3VudFJlZ2lzdHJhdGlvblByZVByb2Nlc3NvcixcclxuICAgIH0sIHtjbGVhclNlc3Npb246IHRydWV9KSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoXHJcbiAgICAgICAgJ2FjY291bnRzLnJlZ2lzdGVyJyxcclxuICAgICAgICAndXNlcm5hbWV8ZW1haWx8cGFzc3dvcmR8VUlEfHJlZ1Rva2VufHNpdGVVSUR8c2VjcmV0UXVlc3Rpb258c2VjcmV0QW5zd2VyfHJlZ1NvdXJjZXxwcm9maWxlfHByZWZlcmVuY2VzfGRpc3BsYXllZFByZWZlcmVuY2VzfGRhdGF8Y2FwdGNoYVRleHR8Y2FwdGNoYVRva2VufGxhbmd8aGFzaGVkUGFzc3dvcmR8cHdIYXNoQWxnb3JpdGhtfHNraXBWZXJpZmljYXRpb258ZmluYWxpemVSZWdpc3RyYXRpb258dGFyZ2V0RW52fHNlc3Npb25FeHBpcmF0aW9ufGluY2x1ZGV8YWN0aW9uQXR0cmlidXRlc3xwcm9maWxlQXR0cmlidXRlc3xpbmNsdWRlVXNlckluZm98YnBfY2hhbm5lbF91cmx8c2lnbktleXN8c3Vic2NyaXB0aW9ucycsXHJcbiAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgIHtmb3JjZVBvc3Q6IHRydWV9LFxyXG4gICAgKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmZpbmFsaXplUmVnaXN0cmF0aW9uJywgJ3JlZ1Rva2VufHRhcmdldEVudnxpbmNsdWRlfGluY2x1ZGVVc2VySW5mb3xicF9jaGFubmVsX3VybHxhbGxvd0FjY291bnRzTGlua2luZ3xzaWduS2V5c3xzdWJzY3JpcHRpb25zJyksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5jYXB0Y2hhSW1hZ2UnLCAncmVnVG9rZW4nKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmltcG9ydFByb2ZpbGVQaG90bycsICdyZWdUb2tlbnxVUkx8cHVibGlzaCcpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuc2V0UHJvZmlsZVBob3RvJywgJ3JlZ1Rva2VufHB1Ymxpc2h8cGhvdG9CeXRlcycpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMucmVzZXRQYXNzd29yZCcsICdsYW5nfGxvZ2luSUR8cGFzc3dvcmRSZXNldFRva2VufHNlY3JldEFuc3dlcnxzZWN1cml0eUZpZWxkc3xuZXdQYXNzd29yZHxlbWFpbCcsIGZhbHNlLCB1bmRlZmluZWQsIHtcclxuICAgICAgICBmb3JjZVBvc3Q6IHRydWUsXHJcbiAgICB9KSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmlzQXZhaWxhYmxlTG9naW5JRCcsICdsb2dpbklEJyksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5yZXNlbmRWZXJpZmljYXRpb25Db2RlJywgJ3JlZ1Rva2VufGVtYWlsJyksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5nZXRDYXB0Y2hhJywgJycpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZ2V0UG9saWNpZXMnLCAnc2VjdGlvbnMnKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmdldFNjaGVtYScsICdzZWN0aW9uc3xzY2hlbWFUeXBlJywgZmFsc2UsIHtcclxuICAgICAgICBwcmVwcm9jZXNzb3I6IG5vQXV0aFByZVByb2Nlc3NvcixcclxuICAgIH0pLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMudmVyaWZ5TG9naW4nLCAnaW5jbHVkZXxleHRyYVByb2ZpbGVGaWVsZHN8dGFyZ2V0RW52JywgdHJ1ZSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5nZXRBY2NvdW50SW5mbycsICdpbmNsdWRlfGV4dHJhUHJvZmlsZUZpZWxkc3xyZWdUb2tlbicsIHRydWUsIHt9LCB7fSwgJ3JlZ1Rva2VuJyksXHJcbiAgICBuZXcgU2VydmVyQXBpKFxyXG4gICAgICAgICdhY2NvdW50cy5zZXRBY2NvdW50SW5mbycsXHJcbiAgICAgICAgJ3Byb2ZpbGV8cHJlZmVyZW5jZXN8ZGlzcGxheWVkUHJlZmVyZW5jZXN8ZGF0YXxyZWdUb2tlbnxvbGRQYXNzd29yZHxwYXNzd29yZHxuZXdQYXNzd29yZHxhZGRMb2dpbkVtYWlsc3xyZW1vdmVMb2dpbkVtYWlsc3x1c2VybmFtZXxzZWNyZXRRdWVzdGlvbnxzZWNyZXRBbnN3ZXJ8cmVxdWlyZVBhc3N3b3JkQ2hhbmdlfGNvbmZsaWN0SGFuZGxpbmd8dGZhU3RhdHVzfHJiYXxzdWJzY3JpcHRpb25zfHByZWZlcmVuY2VzfGxhbmcnLFxyXG4gICAgICAgIHRydWUsXHJcbiAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgIHtmb3JjZVBvc3Q6IHRydWV9LFxyXG4gICAgICAgICdyZWdUb2tlbicsXHJcbiAgICApLFxyXG4gICAgbmV3IFNlcnZlckFwaShcclxuICAgICAgICAnYWNjb3VudHMubG9nb3V0JyxcclxuICAgICAgICAnc2lnbklEc3xzYW1sQ29udGV4dHxzdXN0YWluTG9nb3V0VVJMcycsXHJcbiAgICAgICAgdHJ1ZSxcclxuICAgICAgICB7cHJlcHJvY2Vzc29yOiBsb2dvdXRQcmVQcm9jZXNzb3IsIGRpc2FibGVDYWNoZTogdHJ1ZX0sXHJcbiAgICAgICAge3JlcXVpcmVzU2Vzc2lvbjogbG9nb3V0UmVxdWlyZVNlc3Npb259LFxyXG4gICAgKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnNlYXJjaCcsICdleHBUaW1lfHF1ZXJ5U2lnfHF1ZXJ5JyksXHJcbiAgICBuZXcgU2VydmVyQXBpKFxyXG4gICAgICAgICdhY2NvdW50cy5nZXRTY3JlZW5TZXRzJyxcclxuICAgICAgICAnc2NyZWVuU2V0SURzfGluY2x1ZGV8bGFuZ3xzY3JlZW5TZXRWZXJzaW9uJyxcclxuICAgICAgICBmYWxzZSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHByZXByb2Nlc3Nvcjogbm9BdXRoUHJlUHJvY2Vzc29yLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge31cclxuICAgICksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5nZXRDb25mbGljdGluZ0FjY291bnQnLCAncmVnVG9rZW58bG9naW5JRCcpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuaW5jcmVtZW50Q291bnRlcnMnLCAnY291bnRlcnMnLCB0cnVlLCB7XHJcbiAgICAgICAgcHJlcHJvY2Vzc29yOiAocGFyYW1zOiBPYmplY3QsIGNhbGxiYWNrOiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgICAgICB2YXIgZGVmYXVsdFBhdGggPSBwYXJhbXNbJ2FjdGlvbkNvdW50ZXJQYXRoJ107XHJcbiAgICAgICAgICAgIHZhciBjb3VudGVycyA9IHBhcmFtc1snY291bnRlcnMnXTtcclxuICAgICAgICAgICAgaWYgKGRlZmF1bHRQYXRoICYmIGNvdW50ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBjb3VudGVyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvdW50ZXIgPT0gJ29iamVjdCcgJiYgIWNvdW50ZXJbJ3BhdGgnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudGVyWydwYXRoJ10gPSBkZWZhdWx0UGF0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9LFxyXG4gICAgfSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5nZXRDb3VudGVycycsICdjb3VudGVycycsIHRydWUpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZ2V0SldUJywgJ2ZpZWxkc3xleHBpcmF0aW9uJywgdHJ1ZSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEuZ2V0UHJvdmlkZXJzJywgJ3JlZ1Rva2VuJywgdHJ1ZSwge30sIHt9LCAncmVnVG9rZW4nKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS5pbml0VEZBJywgJ3Byb3ZpZGVyfG1vZGV8cmVnVG9rZW4nLCBmYWxzZSwge30sIHt9KSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS5maW5hbGl6ZVRGQScsICdnaWd5YUFzc2VydGlvbnxwcm92aWRlckFzc2VydGlvbnx0ZW1wRGV2aWNlfHJlZ1Rva2VuJywgdHJ1ZSwge30sIHt9LCAncmVnVG9rZW4nKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS5kZWFjdGl2YXRlUHJvdmlkZXInLCAncHJvdmlkZXInLCB0cnVlKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS51bnJlZ2lzdGVyRGV2aWNlJywgJ2FsbERldmljZXMnLCB0cnVlKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS5iYWNrdXBjb2Rlcy5nZXQnLCAnZ2lneWFBc3NlcnRpb24nLCB0cnVlKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS5iYWNrdXBjb2Rlcy5jcmVhdGUnLCAnZ2lneWFBc3NlcnRpb24nLCB0cnVlKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS5iYWNrdXBjb2Rlcy52ZXJpZnknLCAnZ2lneWFBc3NlcnRpb258Y29kZXxyZWdUb2tlbicsIGZhbHNlKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoXHJcbiAgICAgICAgJ2FjY291bnRzLnRmYS5waG9uZS5nZXRSZWdpc3RlcmVkUGhvbmVOdW1iZXJzJyxcclxuICAgICAgICAnZ2lneWFBc3NlcnRpb24nLFxyXG4gICAgICAgIGZhbHNlLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcHJlcHJvY2Vzc29yOiBub0F1dGhQcmVQcm9jZXNzb3IsIC8vIG9ubHkgZ2lneWFBc3NlcnRpb24gaXMgbmVlZGVkXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7fSxcclxuICAgICksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEucGhvbmUucmVtb3ZlUGhvbmUnLCAnZ2lneWFBc3NlcnRpb258cGhvbmVJZCcsIGZhbHNlLCB7fSwge30pLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMudGZhLnBob25lLnNlbmRWZXJpZmljYXRpb25Db2RlJywgJ2dpZ3lhQXNzZXJ0aW9ufGxhbmd8cGhvbmVJRHxwaG9uZXxtZXRob2R8cmVnVG9rZW4nLCBmYWxzZSwge30sIHt9KSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS5waG9uZS5jb21wbGV0ZVZlcmlmaWNhdGlvbicsICdnaWd5YUFzc2VydGlvbnxwaHZUb2tlbnxjb2RlfHJlZ1Rva2VuJywgZmFsc2UsIHt9LCB7fSksXHJcbiAgICBuZXcgU2VydmVyQXBpKFxyXG4gICAgICAgICdhY2NvdW50cy50ZmEuZW1haWwuZ2V0RW1haWxzJyxcclxuICAgICAgICAnZ2lneWFBc3NlcnRpb24nLFxyXG4gICAgICAgIGZhbHNlLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcHJlcHJvY2Vzc29yOiBub0F1dGhQcmVQcm9jZXNzb3IsIC8vIG9ubHkgZ2lneWFBc3NlcnRpb24gaXMgbmVlZGVkXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7fSxcclxuICAgICksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEuZW1haWwuc2VuZFZlcmlmaWNhdGlvbkNvZGUnLCAnZW1haWxJRHxnaWd5YUFzc2VydGlvbnxsYW5nfHJlZ1Rva2VuJywgZmFsc2UsIHt9LCB7fSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEuZW1haWwuY29tcGxldGVWZXJpZmljYXRpb24nLCAnZ2lneWFBc3NlcnRpb258cGh2VG9rZW58Y29kZXxyZWdUb2tlbicsIGZhbHNlLCB7fSwge30pLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMudGZhLnRvdHAucmVnaXN0ZXInLCAnZ2lneWFBc3NlcnRpb24nLCBmYWxzZSwge30sIHt9KSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS50b3RwLnZlcmlmeScsICdnaWd5YUFzc2VydGlvbnxzY3RUb2tlbnxjb2RlfHJlZ1Rva2VuJywgZmFsc2UsIHt9LCB7fSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEucHVzaC5pc1ZlcmlmaWVkJywgJ2dpZ3lhQXNzZXJ0aW9ufHJlZ1Rva2VuJywgZmFsc2UsIHt9LCB7fSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEucHVzaC5zZW5kVmVyaWZpY2F0aW9uJywgJ2dpZ3lhQXNzZXJ0aW9ufHJlZ1Rva2VuJywgZmFsc2UsIHt9LCB7fSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5iMmIuZGVsZWdhdGVkQWRtaW5Mb2dpbicsICdvcmdJZCcsIHRydWUsIHt9LCB7fSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5iMmIuc2V0T3JnYW5pemF0aW9uQ29udGV4dCcsICdicGlkJywgdHJ1ZSwge30sIHt9KSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmIyYi5nZXRPcmdhbml6YXRpb25Db250ZXh0JywgJycsIHRydWUsIHt9LCB7fSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5vdHAuc2VuZENvZGUnLCAncmVnVG9rZW58cGhvbmVOdW1iZXJ8ZW1haWx8bGFuZycsIGZhbHNlLCB7fSwge2ZvcmNlUG9zdDogdHJ1ZX0pLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMub3RwLmxvZ2luJywgJ3ZUb2tlbnxjb2RlfHRhcmdldEVudnxpbmNsdWRlVXNlckluZm98aW5jbHVkZXxyZWdTb3VyY2V8c2Vzc2lvbkV4cGlyYXRpb24nLCBmYWxzZSwge30sIHtmb3JjZVBvc3Q6IHRydWV9KSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLm90cC51cGRhdGUnLCAndlRva2VufGNvZGV8cmVnVG9rZW4nLCBmYWxzZSwge30sIHt9KSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmF1dGguZ2V0TWV0aG9kcycsICdpZGVudGlmaWVyJywgZmFsc2UsIHt9LCB7fSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5hdXRoLnB1c2guc2VuZFZlcmlmaWNhdGlvbicsICdpZGVudGlmaWVyJywgZmFsc2UsIHt9LCB7fSksXHJcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5hdXRoLnB1c2guaXNWZXJpZmllZCcsICd2VG9rZW4nLCBmYWxzZSwge30sIHt9KSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmF1dGgubG9naW4nLFxyXG4gICAgICAgICdhY2Nlc3NUb2tlbnxzZXNzaW9uRXhwaXJhdGlvbnx0YXJnZXRFbnZ8aW5jbHVkZXxpbmNsdWRlVXNlckluZm98bG9naW5Nb2RlfGxhbmcnLFxyXG4gICAgICAgIGZhbHNlLFxyXG4gICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNsZWFyU2Vzc2lvbkNvbmRpdGlvbjogbG9naW5DbGVhclNlc3Npb25Db25kaXRpb24sXHJcbiAgICAgICAgICAgIGZvcmNlUG9zdDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2RzLnN0b3JlJywgJ3R5cGV8ZGF0YXxvaWR8dXBkYXRlQmVoYXZpb3InKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2RzLmdldCcsICd0eXBlfGRhdGF8b2lkfGZpZWxkcycpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnZHMuc2VhcmNoJywgJ2V4cFRpbWV8cXVlcnlTaWd8cXVlcnknKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2RzLmdldFNjaGVtYScsICcnKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2RzLmRlbGV0ZScsICd0eXBlfG9pZHxmaWVsZHMnKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2lkcy5nZXRBY2NvdW50SW5mbycsICdpbmNsdWRlfGV4dHJhUHJvZmlsZUZpZWxkcycsIHRydWUpLFxyXG4gICAgbmV3IFNlcnZlckFwaShcclxuICAgICAgICAnaWRzLnNldEFjY291bnRJbmZvJyxcclxuICAgICAgICAncHJvZmlsZXxwcmVmZXJlbmNlc3xkYXRhfG9sZFBhc3N3b3JkfHBhc3N3b3JkfG5ld1Bhc3N3b3JkfGFkZExvZ2luRW1haWxzfHJlbW92ZUxvZ2luRW1haWxzfHVzZXJuYW1lfHNlY3JldFF1ZXN0aW9ufHNlY3JldEFuc3dlcnxyZXF1aXJlUGFzc3dvcmRDaGFuZ2V8bGFuZycsXHJcbiAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgIHtmb3JjZVBvc3Q6IHRydWV9LFxyXG4gICAgKSxcclxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2lkcy5zZWFyY2gnLCAnZXhwVGltZXxxdWVyeVNpZ3xxdWVyeScpLFxyXG4gICAgbmV3IFNlcnZlckFwaSgnZ3Njb3VudGVycy5zZW5kUmVwb3J0JywgJ3JlcG9ydHMnLCBmYWxzZSwgdW5kZWZpbmVkLCB7Zm9yY2VHaWd5YURvbWFpbjogdHJ1ZX0pLFxyXG5dO1xyXG5jcmVhdGVBbGlhcygnZ2lneWEuc29jaWFsaXplLnNob3dDb21tZW50c1VJJywgZ2lneWEuY29tbWVudHMuc2hvd0NvbW1lbnRzVUkpO1xyXG5jcmVhdGVBbGlhcygnZ2lneWEuc29jaWFsaXplLnNob3dSYXRpbmdVSScsIGdpZ3lhLmNvbW1lbnRzLnNob3dSYXRpbmdVSSk7XHJcbmNyZWF0ZUFsaWFzKCdnaWd5YS5zZXJ2aWNlcy5zb2NpYWxpemUnLCBnaWd5YS5zb2NpYWxpemUpO1xyXG5jcmVhdGVBbGlhcygnZ2lneWEuc2VydmljZXMuZ2NzJywgZ2lneWEuZ2NzKTtcclxuY3JlYXRlQWxpYXMoJ2dpZ3lhLnNlcnZpY2VzLmdtJywgZ2lneWEuZ20pO1xyXG5jcmVhdGVBbGlhcygnZ2lneWEuc2VydmljZXMuY29tbWVudHMnLCBnaWd5YS5jb21tZW50cyk7XHJcbmNyZWF0ZUFsaWFzKCdnaWd5YS5zZXJ2aWNlcy5hY2NvdW50cycsIGdpZ3lhLmFjY291bnRzKTtcclxuY3JlYXRlQWxpYXMoJ2dpZ3lhLnNvY2lhbGl6ZS5jb25uZWN0JywgZ2lneWEuc29jaWFsaXplLmFkZENvbm5lY3Rpb24pO1xyXG5jcmVhdGVBbGlhcygnZ2lneWEuc29jaWFsaXplLmRpc2Nvbm5lY3QnLCBnaWd5YS5zb2NpYWxpemUucmVtb3ZlQ29ubmVjdGlvbik7XHJcbmNyZWF0ZUFsaWFzKCdnaWd5YS5zb2NpYWxpemUubGlua0FjY291bnRzJywgZ2lneWEuc29jaWFsaXplLnNldFVJRCk7XHJcbmNyZWF0ZUFsaWFzKCdnaWd5YS5zb2NpYWxpemUuc2hvd0Nvbm5lY3RVSScsIGdpZ3lhLnNvY2lhbGl6ZS5zaG93QWRkQ29ubmVjdGlvbnNVSSk7XHJcbmNyZWF0ZUFsaWFzKCdnaWd5YS5zaG93RGVidWdVSScsIGdpZ3lhLnNvY2lhbGl6ZS5zaG93RGVidWdVSSk7XHJcbiIsImltcG9ydCAqIGFzIGZ1bmN0aW9uc1V0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcclxuaW1wb3J0ICogYXMgcXVldWVVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvcXVldWUnO1xyXG5cclxuLy8gQVBJIGJhc2UgY2xhc3NcclxuXHJcbi8vIGNyZWF0ZSBkZWZhdWx0IG5hbWVzcGFjZXMgZHluYW1pYyBtb2R1bGVzXHJcbmRlY2xhcmUgY29uc3QgZ2lneWE6IGFueTtcclxuaWYgKCFnaWd5YS5zb2NpYWxpemUpIHtcclxuICAgIGdpZ3lhLnNvY2lhbGl6ZSA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEuZ2NzKSB7XHJcbiAgICBnaWd5YS5nY3MgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLmdtKSB7XHJcbiAgICBnaWd5YS5nbSA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEuY29tbWVudHMpIHtcclxuICAgIGdpZ3lhLmNvbW1lbnRzID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS5hY2NvdW50cykge1xyXG4gICAgZ2lneWEuYWNjb3VudHMgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLmdzY291bnRlcnMpIHtcclxuICAgIGdpZ3lhLmdzY291bnRlcnMgPSB7fTtcclxufVxyXG5cclxuY29uc3QgYXBpczogT2JqZWN0ID0ge307XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBcGkobmFtZTogc3RyaW5nKTogQmFzZUFwaSB7XHJcbiAgICByZXR1cm4gYXBpc1tuYW1lXTtcclxufVxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUFwaSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbWV0aG9kTmFtZTogc3RyaW5nLCBwdWJsaWMgc2V0dGluZ3M6IEFwaVNldHRpbmdzKSB7XHJcbiAgICAgICAgdGhpcy5hZGRBbGlhcygpO1xyXG4gICAgICAgIGFwaXNbbWV0aG9kTmFtZV0gPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IHJ1bihwYXJhbXM6IE9iamVjdCwgZXhwbGljaXRQYXJhbXM/OiBPYmplY3QpOiB2b2lkO1xyXG5cclxuICAgIHByZXByb2Nlc3NSZXF1ZXN0KHBhcmFtczogT2JqZWN0LCBjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnByZXByb2Nlc3Nvcikge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnByZXByb2Nlc3NvcihwYXJhbXMsIGNhbGxiYWNrKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQWxpYXMoKTogdm9pZCB7XHJcbiAgICAgICAgZnVuY3Rpb25zVXRpbHMuY3JlYXRlQWxpYXMoJ2dpZ3lhLicgKyB0aGlzLm1ldGhvZE5hbWUsICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFyZ1BhcmFtcyA9IG9iamVjdFV0aWxzLm1lcmdlKFthcmdzXSkgYXMgYW55O1xyXG4gICAgICAgICAgICBjb25zdCBmblJ1biA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChhcmdQYXJhbXMubGFuZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ1BhcmFtcy5fZXhwbGljaXRMYW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG9iamVjdFV0aWxzLm1lcmdlKFtnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmYsIGFyZ1BhcmFtc10pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ydW4ocGFyYW1zLCBhcmdQYXJhbXMpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAoIWdpZ3lhLnRoaXNTY3JpcHQgfHwgIWdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZikge1xyXG4gICAgICAgICAgICAgICAgcXVldWVVdGlscy5xdWV1ZUZvckV4ZWN1dGlvbignQVBJJywgZm5SdW4pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm5SdW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgQXBpU2V0dGluZ3Mge1xyXG4gICAgZGVmYXVsdFBhcmFtcz86IE9iamVjdDtcclxuICAgIGZvcmNlUG9zdD86IGJvb2xlYW47XHJcbiAgICBkaXNhYmxlQ2FjaGU/OiBib29sZWFuO1xyXG4gICAgcHJlcHJvY2Vzc29yPzogKHBhcmFtczogT2JqZWN0LCBjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4gdm9pZDtcclxuICAgIHBvc3Rwcm9jZXNzb3I/OiAocGFyYW1zOiBPYmplY3QsIHJlc3BvbnNlOiBPYmplY3QpID0+IHZvaWQ7XHJcbn1cclxuIiwiaW1wb3J0IHsgSUFwaUFkYXB0ZXIsIEFwaUFkYXB0ZXJTZXR0aW5ncyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2ludGVyZmFjZXMvSUFwaUFkYXB0ZXInO1xyXG5pbXBvcnQgeyBBcGlTZXR0aW5ncywgQmFzZUFwaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvQmFzZUFwaSc7XHJcbmltcG9ydCB7IFNlcnZlckFwaVJlcXVlc3QgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL1NlcnZlckFwaVJlcXVlc3QnO1xyXG5pbXBvcnQgKiBhcyBxdWV1ZVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9xdWV1ZSc7XHJcblxyXG4vLyBSYXcgc2VydmVyIEFQSVxyXG5cclxuZXhwb3J0IHZhciBhcGlBZGFwdGVyOiBJQXBpQWRhcHRlcjtcclxuZXhwb3J0IGludGVyZmFjZSBTZXJ2ZXJBcGlTZXR0aW5ncyBleHRlbmRzIEFwaVNldHRpbmdzIHtcclxuICAgIG9hdXRoPzogYm9vbGVhbjtcclxufVxyXG5leHBvcnQgY2xhc3MgU2VydmVyQXBpIGV4dGVuZHMgQmFzZUFwaSB7XHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBhcGlNZXRob2Q6IHN0cmluZyxcclxuICAgICAgICBwdWJsaWMgc2NoZW1hOiBzdHJpbmcsXHJcbiAgICAgICAgcHVibGljIHJlcXVpcmVzU2Vzc2lvbj86IGJvb2xlYW4sXHJcbiAgICAgICAgcHVibGljIHNldHRpbmdzOiBTZXJ2ZXJBcGlTZXR0aW5ncyA9IHt9LFxyXG4gICAgICAgIHB1YmxpYyBhZGFwdGVyU2V0dGluZ3M6IEFwaUFkYXB0ZXJTZXR0aW5ncyA9IHt9LFxyXG4gICAgICAgIHB1YmxpYyBhbHRTZXNzaW9uUGFyYW1zPzogc3RyaW5nLFxyXG4gICAgKSB7XHJcbiAgICAgICAgc3VwZXIoYXBpTWV0aG9kLCBzZXR0aW5ncyk7XHJcbiAgICAgICAgYWRhcHRlclNldHRpbmdzLmZvcmNlSHR0cHMgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0eXBlb2YgYWRhcHRlclNldHRpbmdzLnJlcXVpcmVzU2Vzc2lvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgYWRhcHRlclNldHRpbmdzLnJlcXVpcmVzU2Vzc2lvbiA9ICgpID0+IHJlcXVpcmVzU2Vzc2lvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBydW4ocGFyYW1zOiBPYmplY3QsIGV4cGxpY2l0UGFyYW1zOiBPYmplY3QpIHtcclxuICAgICAgICBjb25zdCBmblJ1biA9ICgpID0+IHtcclxuICAgICAgICAgICAgbmV3IFNlcnZlckFwaVJlcXVlc3QodGhpcywgcGFyYW1zKS5zdGFydCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHBhcmFtc1snaWdub3JlQXBpUXVldWUnXSkge1xyXG4gICAgICAgICAgICBmblJ1bigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHF1ZXVlVXRpbHMucXVldWVGb3JFeGVjdXRpb24oJ0FQSScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGZuUnVuKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcclxuaW1wb3J0IHsgR1NFcnJvcnMgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR1NFcnJvcnMnO1xyXG5pbXBvcnQgKiBhcyBnbG9iYWxFdmVudHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0dsb2JhbEV2ZW50cyc7XHJcbmltcG9ydCB7IFNlcnZlckFwaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvU2VydmVyQXBpJztcclxuaW1wb3J0IHsgbG9nb3V0TWV0aG9kcywgbG9naW5NZXRob2RzLCBkZWZhdWx0QXBpU2NoZW1hIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9BcGlzTGlzdCc7XHJcbmltcG9ydCB7IGxvZ0NhbGwsIGFkZExvZyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9MZWdhY3lMb2dnZXInO1xyXG5pbXBvcnQgKiBhcyBmYWNlYm9va0V4dGVybmFsIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9FeHRlcm5hbEludGVncmF0aW9ucy9GYWNlYm9vayc7XHJcbmltcG9ydCB7IGdldEFwaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvQmFzZUFwaSc7XHJcbmltcG9ydCAqIGFzIEpTT05VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSlNPTic7XHJcbmltcG9ydCB7XHJcbiAgICBzZXRHaWd5YVNldHRpbmdzLFxyXG4gICAgZGVsR2lneWFTZXR0aW5ncyxcclxuICAgIGdldEdpZ3lhU2V0dGluZ3MsXHJcbiAgICBjaGVja0NvbXBsZXRlUmVnaXN0cmF0aW9uLFxyXG4gICAgaGFuZGxlU3BlY2lhbEZpZWxkcyxcclxuICAgIGNvbnZlcnRJZGVudGl0aWVzQXJyYXlUb09iamVjdCxcclxuICAgIGFkZFVzZXJJbmZvVG9FdmVudCxcclxufSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvSW50ZXJuYWxGbG93cyc7XHJcbmltcG9ydCAqIGFzIHZhbGlkYXRpb25VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvdmFsaWRhdGlvbic7XHJcbmltcG9ydCAqIGFzIFVSTFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VUkwnO1xyXG5pbXBvcnQgKiBhcyBzY3JpcHRVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2NyaXB0JztcclxuaW1wb3J0ICogYXMgSFRUUFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9IVFRQJztcclxuXHJcbmRlY2xhcmUgY29uc3QgRkI6IGFueTtcclxuXHJcbi8vIFJhdyBzZXJ2ZXIgQVBJXHJcblxyXG5mdW5jdGlvbiBnZXRVbmF1dGhvcml6ZWRVc2VyUmVzcG9uc2UoKSB7XHJcbiAgICByZXR1cm4gb2JqZWN0VXRpbHMuY2xvbmUoe1xyXG4gICAgICAgIHN0YXR1czogJ0ZBSUwnLFxyXG4gICAgICAgIGVycm9yTWVzc2FnZTogJ1VuYXV0aG9yaXplZCB1c2VyJyxcclxuICAgICAgICBzdGF0dXNNZXNzYWdlOiAnVW5hdXRob3JpemVkIHVzZXInLFxyXG4gICAgICAgIGVycm9yQ29kZTogR1NFcnJvcnMuVU5BVVRIT1JJWkVEX1VTRVIsXHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBnZXREZWZhdWx0T0tSZXNwb25zZShvcmlnaW5hbFJlc3BvbnNlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHN0YXR1czogJ09LJyxcclxuICAgICAgICBzdGF0dXNNZXNzYWdlOiAnJyxcclxuICAgICAgICBlcnJvckNvZGU6IDAsXHJcbiAgICAgICAgc3RhdHVzQ29kZTogMCxcclxuICAgICAgICBlcnJvck1lc3NhZ2U6ICcnLFxyXG4gICAgICAgIGVycm9yRGV0YWlsczogJycsXHJcbiAgICAgICAgc3RhdHVzUmVhc29uOiAnJyxcclxuICAgICAgICBvcmlnaW5hbFJlc3BvbnNlOiBvcmlnaW5hbFJlc3BvbnNlLFxyXG4gICAgfTtcclxufVxyXG52YXIgX3NlbnRGYlNlc3Npb25QYXJhbXM6IGJvb2xlYW47XHJcbmdsb2JhbEV2ZW50cy5hZGQoXHJcbiAgICAnb25GQkNSZWZyZXNoZWQnLFxyXG4gICAgKCkgPT4ge1xyXG4gICAgICAgIF9zZW50RmJTZXNzaW9uUGFyYW1zID0gZmFsc2U7XHJcbiAgICB9LFxyXG4gICAgJ2NvbXBvbmVudCcsXHJcbik7XHJcbmVudW0gUHJvdmlkZXJUeXBlIHtcclxuICAgIF91bmtub3duLFxyXG4gICAgZmFjZWJvb2ssXHJcbiAgICBsaW5rZWRpbixcclxuICAgIHNhbWxQcm92aWRlciwgLy8gZ2lneWEgYXMgU0FNTCBTUFxyXG4gICAgc2FtbFNlc3Npb24sIC8vIGdpZ3lhIGFzIFNBTUwgSURQXHJcbn1cclxuaW50ZXJmYWNlIElDb25uZWN0ZWRQcm92aWRlciB7XHJcbiAgICB0eXBlOiBQcm92aWRlclR5cGU7XHJcbiAgICBkYXRhPzogYW55O1xyXG4gICAgcmVtb3ZlQWZ0ZXI/OiBudW1iZXIgfCBib29sZWFuO1xyXG59XHJcbmV4cG9ydCBjbGFzcyBTZXJ2ZXJBcGlSZXF1ZXN0IHtcclxuICAgIHB1YmxpYyBwYXJhbXM6IE9iamVjdDtcclxuICAgIHB1YmxpYyBvcmlnaW5hbFBhcmFtczogT2JqZWN0O1xyXG4gICAgcHJpdmF0ZSBjYWxsYmFjazogKHJlc3BvbnNlOiBPYmplY3QpID0+IHZvaWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIGFwaTogU2VydmVyQXBpLCBwYXJhbXM6IE9iamVjdCkge1xyXG4gICAgICAgIHRoaXMucGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW29iamVjdFV0aWxzLmNsb25lKHBhcmFtcyksIGFwaS5zZXR0aW5ncy5kZWZhdWx0UGFyYW1zXSk7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbFBhcmFtcyA9IG9iamVjdFV0aWxzLmNsb25lKHBhcmFtcyk7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IHBhcmFtc1snY2FsbGJhY2snXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnQoKSB7XHJcbiAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLmlzU2Vzc2lvblZhbGlkKFxyXG4gICAgICAgICAgICB0aGlzLnBhcmFtcyxcclxuICAgICAgICAgICAgYXN5bmMgKHZhbGlkU2Vzc2lvbjogYm9vbGVhbik6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXBpLmFkYXB0ZXJTZXR0aW5ncy5yZXF1aXJlc1Nlc3Npb24oKSAmJiAoIXZhbGlkU2Vzc2lvbiAmJiAhdGhpcy5kb2VzSGF2ZUFsdFNlc3Npb25QYXJhbSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5kZWJ1ZyhgJHt0aGlzLmFwaS5tZXRob2ROYW1lfTogbWlzc2luZyByZXF1aXJlZCBzZXNzaW9uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZnRlclNlcnZlckFwaVJlc3BvbnNlKGdldFVuYXV0aG9yaXplZFVzZXJSZXNwb25zZSgpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5kZWJ1Zyhgc2VydmVyIHJlcXVlc3Q6ICR7dGhpcy5hcGkubWV0aG9kTmFtZX1gLCB0aGlzLnBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzU2Vzc2lvbkV4dGVuZGVkID0gdGhpcy5hcGkuYWRhcHRlclNldHRpbmdzLnJlcXVpcmVzU2Vzc2lvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYXdhaXQgZ2lneWEuXy5hcGlBZGFwdGVyLnNldEdsdGV4cEZyb21TU08odGhpcy5wYXJhbXNbJ0FQSUtleSddKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QodmFsaWRTZXNzaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzU2Vzc2lvbkV4dGVuZGVkICYmIHJlc1snZXJyb3JDb2RlJ10gIT09IEdTRXJyb3JzLlVOQVVUSE9SSVpFRF9VU0VSKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hBY2NvdW50c0xvZ2luRXZlbnQocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlbmRSZXF1ZXN0KHZhbGlkU2Vzc2lvbjogYm9vbGVhbikge1xyXG4gICAgICAgIHZhciByZXF1ZXN0QWRhcHRlclNldHRpbmdzID0gb2JqZWN0VXRpbHMubWVyZ2UoW1xyXG4gICAgICAgICAgICB0aGlzLmFwaS5hZGFwdGVyU2V0dGluZ3MsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNhY2hlVGltZW91dDogdGhpcy5wYXJhbXNbJ2NhY2hlVGltZW91dCddLFxyXG4gICAgICAgICAgICAgICAgZm9yY2VHaWd5YURvbWFpbjogIXZhbGlkU2Vzc2lvbiAmJiB0aGlzLmFwaS5hZGFwdGVyU2V0dGluZ3MuZm9yY2VHaWd5YURvbWFpbixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJlZm9yZVJlcXVlc3QodmFsaWRTZXNzaW9uLCAocHJlc2V0UmVzcG9uc2U/OiBPYmplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChwcmVzZXRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJTZXJ2ZXJBcGlSZXNwb25zZShwcmVzZXRSZXNwb25zZSwgdmFsaWRTZXNzaW9uLCByZXNvbHZlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRzLmRpc3BhdGNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGV2ZW50TmFtZTogJ2JlZm9yZVJlcXVlc3QnLCBtZXRob2ROYW1lOiB0aGlzLmFwaS5tZXRob2ROYW1lLCByYXdQYXJhbXM6IHRoaXMub3JpZ2luYWxQYXJhbXMsIHBhcmFtczogdGhpcy5wYXJhbXMgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbFBhcmFtcyxcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwaS5zZXR0aW5ncy5vYXV0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS5fLmFwaUFkYXB0ZXIuc2VuZE9hdXRoUmVxdWVzdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBpLm1ldGhvZE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZXNwb25zZTogT2JqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZnRlclNlcnZlckFwaVJlc3BvbnNlKHJlc3BvbnNlLCB2YWxpZFNlc3Npb24sIHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBZGFwdGVyU2V0dGluZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLnNlbmRSZXF1ZXN0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcGkubWV0aG9kTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3BvbnNlOiBPYmplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFmdGVyU2VydmVyQXBpUmVzcG9uc2UocmVzcG9uc2UsIHZhbGlkU2Vzc2lvbiwgcmVzb2x2ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFkYXB0ZXJTZXR0aW5ncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYmVmb3JlUmVxdWVzdCh2YWxpZFNlc3Npb246IGJvb2xlYW4sIGNhbGxiYWNrOiAocmVzcG9uc2U/OiBPYmplY3QpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICBpZiAobG9nb3V0TWV0aG9kc1t0aGlzLmFwaS5tZXRob2ROYW1lXSkge1xyXG4gICAgICAgICAgICAvLyBObyBuZWVkIHRvIGludm9rZSBhbiBhY3R1YWwgbG9nb3V0IGNhbGwgdG8gdGhlIHNlcnZlciBpZiBzZXNzaW9uIGlzIG5vdCB2YWxpZCBvciBpZiBpdCdzIHRoZSBzc29Mb2dvdXRVcmwgc2luY2UgdXNlciBpcyBsb2dnZWQgb3V0IG9yIGFib3V0IHRvIGJlXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICghdmFsaWRTZXNzaW9uICYmICF0aGlzLnBhcmFtc1sncmVnVG9rZW4nXSkgfHxcclxuICAgICAgICAgICAgICAgIChnaWd5YS5wYXJ0bmVyU2V0dGluZ3Muc3NvTG9nb3V0VXJsICYmIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPT0gZ2lneWEucGFydG5lclNldHRpbmdzLnNzb0xvZ291dFVybClcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhnZXREZWZhdWx0T0tSZXNwb25zZShudWxsKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlRGVwcmVjYXRlZFBhcmFtcygpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlQ29sbGVjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLmhhbmRsZUNvbm5lY3RXaXRob3V0TG9naW5CZWhhdmlvcih2YWxpZFNlc3Npb24pO1xyXG5cclxuICAgICAgICB2YXIgcHJvdmlkZXJQZXJtaXNzaW9uczogc3RyaW5nID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbXNbJ3Byb3ZpZGVyJ10gKyAnRXh0cmFQZXJtaXNzaW9ucyddO1xyXG4gICAgICAgIHRoaXMucGFyYW1zWydleHRyYVBlcm1pc3Npb25zJ10gPSBwcm92aWRlclBlcm1pc3Npb25zIHx8IHRoaXMucGFyYW1zWydwZXJtaXNzaW9ucyddO1xyXG5cclxuICAgICAgICB0aGlzLmFwaS5wcmVwcm9jZXNzUmVxdWVzdCh0aGlzLnBhcmFtcywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldE92ZXJyaWRhYmxlUGFyYW1zKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9uT3ZlcnJpZGFibGVQYXJhbXModmFsaWRTZXNzaW9uLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJQYXJhbXModGhpcy5wYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ0NhbGwodGhpcy5hcGkubWV0aG9kTmFtZSwgdGhpcy5vcmlnaW5hbFBhcmFtcywgdGhpcy5vcmlnaW5hbFBhcmFtc1snbGFzdFNvdXJjZSddKTtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0T3ZlcnJpZGFibGVQYXJhbXMoY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgdmFyIG92ZXJyaWRhYmxlID0ge307XHJcbiAgICAgICAgb2JqZWN0VXRpbHMubWVyZ2UoW292ZXJyaWRhYmxlLCB0aGlzLnBhcmFtc10pO1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkb2VzSGF2ZUFsdFNlc3Npb25QYXJhbSgpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIXRoaXMuYXBpLmFsdFNlc3Npb25QYXJhbXMpIHJldHVybjtcclxuXHJcbiAgICAgICAgdmFyIGFsdFBhcmFtcyA9IHRoaXMuYXBpLmFsdFNlc3Npb25QYXJhbXMuc3BsaXQoJ3wnKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsdFBhcmFtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXNbYWx0UGFyYW1zW2ldXSkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXROb25PdmVycmlkYWJsZVBhcmFtcyh2YWxpZFNlc3Npb246IGJvb2xlYW4sIGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnBhcmFtc1snQVBJS2V5J10gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB2YXIgbG9naW5Ub2tlbkV4cCA9IGdpZ3lhLl8uYXBpQWRhcHRlci5nZXRTdG9yYWdlKCkuZ2V0SXRlbSgnZ2x0ZXhwXycgKyB0aGlzLnBhcmFtc1snQVBJS2V5J10pO1xyXG4gICAgICAgICAgICBpZiAobG9naW5Ub2tlbkV4cCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtc1snbG9naW5Ub2tlbkV4cCddID0gbG9naW5Ub2tlbkV4cDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHJlZlVJRCA9IGdpZ3lhLl8uYXBpQWRhcHRlci5nZXRTdG9yYWdlKCkuZ2V0SXRlbSgnX2dpZ1JlZlVpZF8nICsgdGhpcy5wYXJhbXNbJ0FQSUtleSddKTtcclxuICAgICAgICBpZiAocmVmVUlEICYmICh2YWxpZFNlc3Npb24gfHwgbG9naW5NZXRob2RzW3RoaXMuYXBpLm1ldGhvZE5hbWVdKSkgdGhpcy5wYXJhbXNbJ3JlZlVJRCddID0gcmVmVUlEO1xyXG5cclxuICAgICAgICAvLyBGb3IgRkIgYXV0byBzZXNzaW9uIHJlbmV3YWwsIHdlIHBhc3MgRkIgSlMgU0RLIHNlc3Npb24gdG9rZW4gc28gdGhhdCBpdCdsbCB1cGRhdGUgdGhlIHNlcnZlciBzaWRlIEZCIHRva2VuXHJcbiAgICAgICAgaWYgKGdpZ3lhLnByb3ZpZGVyc0NvbmZpZy5mYWNlYm9vayAmJiAhX3NlbnRGYlNlc3Npb25QYXJhbXMpIHtcclxuICAgICAgICAgICAgdmFyIG9GYlBhcmFtcyA9IGZhY2Vib29rRXh0ZXJuYWwuZ2V0UGFyYW1zKCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGZiUGFyYW0gaW4gb0ZiUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtc1tmYlBhcmFtXSA9IG9GYlBhcmFtc1tmYlBhcmFtXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfc2VudEZiU2Vzc2lvblBhcmFtcyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5hcGkubWV0aG9kTmFtZS5pbmRleE9mKCdhY2NvdW50cy4nKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAvLyB3ZSB3YW50IHRvIGluY2x1ZGUgdXNlckluZm8gZm9yIHNvY2lhbGl6ZS5sb2dpbiBldmVudFxyXG4gICAgICAgICAgICBpZiAoZ2xvYmFsRXZlbnRzLl9hY3RpdmVOYW1lc3BhY2VzWydzb2NpYWxpemUnXSAmJiB0aGlzLnBhcmFtc1snaW5jbHVkZVVzZXJJbmZvJ10gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ2luY2x1ZGVVc2VySW5mbyddID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYgYSBwZW5kaW5nUmVnaXN0cmF0aW9uIHdpbGwgb2NjdXIsIHdlJ2xsIG5lZWQgdGhlIHVzZXIncyBkYXRhIGZvciBjb21wbGV0ZSByZWdpc3RyYXRpb24gc2NyZWVuXHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1zWydpbmNsdWRlJ10gPSB0aGlzLnBhcmFtc1snaW5jbHVkZSddID8gdGhpcy5wYXJhbXNbJ2luY2x1ZGUnXSArICcsJyA6ICcnICsgJ3Byb2ZpbGUsZGF0YSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5hcGkubWV0aG9kTmFtZSA9PT0gJ2FjY291bnRzLmdldFNjaGVtYScpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ2luY2x1ZGVEeW5hbWljU2NoZW1hJ10gPSAnY2xpZW50T25seSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBhcmFtc1sndGFyZ2V0RW52J10gPSAnanNzZGsnO1xyXG5cclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlRGVwcmVjYXRlZFBhcmFtcygpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXJhbXNbJ3BlbmRpbmdSZWdpc3RyYXRpb24nXSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtc1sncGVuZGluZ19yZWdpc3RyYXRpb24nXSA9IHRoaXMucGFyYW1zWydwZW5kaW5nUmVnaXN0cmF0aW9uJ107XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhcmFtc1snbmV3VXNlcnNQZW5kaW5nUmVnaXN0cmF0aW9uJ10pIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ3BlbmRpbmdfcmVnaXN0cmF0aW9uJ10gPSB0aGlzLnBhcmFtc1snbmV3VXNlcnNQZW5kaW5nUmVnaXN0cmF0aW9uJ107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wYXJhbXNbJ2Fsd2F5c0ZvcmNlQXV0aGVudGljYXRpb24nXSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtc1snZm9yY2VBdXRoZW50aWNhdGlvbiddID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhcmFtc1sndGltZXN0YW1wJ10pIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ1VJRFRpbWVzdGFtcCddID0gdGhpcy5wYXJhbXNbJ3RpbWVzdGFtcCddO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5wYXJhbXNbJ3RpbWVzdGFtcCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wYXJhbXNbJ3NpZ25hdHVyZSddICYmIHRoaXMuYXBpLm1ldGhvZE5hbWUuaW5kZXhPZignc29jaWFsaXplLicpID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1zWydVSURTaWcnXSA9IHRoaXMucGFyYW1zWydzaWduYXR1cmUnXTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMucGFyYW1zWydzaWduYXR1cmUnXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zWydub25jZSddKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1zWydVSUROb25jZSddID0gdGhpcy5wYXJhbXNbJ25vbmNlJ107XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBhcmFtc1snbm9uY2UnXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhcmFtc1snZm9ybWF0J10gJiYgIXRoaXMucGFyYW1zWydkYXRhRm9ybWF0J10pIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ2RhdGFGb3JtYXQnXSA9IHRoaXMucGFyYW1zWydmb3JtYXQnXTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMucGFyYW1zWydmb3JtYXQnXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVDb2xsZWN0aW9ucygpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXJhbXNbJ3JlY2lwaWVudHMnXSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtc1sncmVjaXBpZW50cyddID0gdGhpcy5leHRyYWN0TGlzdE9mR0lHVUlEcyh0aGlzLnBhcmFtc1sncmVjaXBpZW50cyddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhcmFtc1snZnJpZW5kcyddKSB7XHJcbiAgICAgICAgICAgIHZhciBmcmllbmRVSURzID0gdGhpcy5leHRyYWN0TGlzdE9mR0lHVUlEcyh0aGlzLnBhcmFtc1snZnJpZW5kcyddKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zWydVSURzJ10ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ1VJRHMnXSArPSAnLCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ1VJRHMnXSArPSBmcmllbmRVSURzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGV4dHJhY3RMaXN0T2ZHSUdVSURzKHNvdXJjZTogYW55KSB7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlb2Ygc291cmNlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UuVUlEICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2UuVUlEO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIGdpZ3lhLnNvY2lhbGl6ZS5Db2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZWFjaCgobywgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgVUlEID0gdGhpcy5leHRyYWN0TGlzdE9mR0lHVUlEcyhvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFVJRCAhPSBudWxsICYmIFVJRCAhPSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKFVJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlQ29ubmVjdFdpdGhvdXRMb2dpbkJlaGF2aW9yKHZhbGlkU2Vzc2lvbjogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFwaS5tZXRob2ROYW1lID09PSAnc29jaWFsaXplLmFkZENvbm5lY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHZhciBjb25uZWN0QmVoYXZpb3IgPSB0aGlzLnBhcmFtc1snY29ubmVjdFdpdGhvdXRMb2dpbkJlaGF2aW9yJ107XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29ubmVjdEJlaGF2aW9yID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgY29ubmVjdEJlaGF2aW9yID0gY29ubmVjdEJlaGF2aW9yLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjb25uZWN0QmVoYXZpb3IgPT09ICdsb2dpbmV4aXN0aW5ndXNlcicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zWydsb2dpbklmRXhpc3RzJ10gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpZiB0aGUgdXNlciB3YXMgbG9nZ2VkIG91dCB3ZSBzaG91bGQgY2FsbCBzb2NpYWxpemUubG9naW4gd2l0aCB0ZW1wb3JhcnlfYWNjb3VudD10cnVlXHJcbiAgICAgICAgICAgIGlmICghdmFsaWRTZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwaSA9IGdldEFwaSgnc29jaWFsaXplLmxvZ2luJykgYXMgU2VydmVyQXBpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbm5lY3RCZWhhdmlvciAhPT0gJ2Fsd2F5c2xvZ2luJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zWyd0ZW1wb3JhcnlfYWNjb3VudCddID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpbHRlclBhcmFtcyhwYXJhbXM6IE9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucGFyYW1zID0gb2JqZWN0VXRpbHMuZXh0cmFjdFByb3BlcnRpZXMocGFyYW1zLCB7fSwgdGhpcy5nZXRGdWxsU2NoZW1hKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RnVsbFNjaGVtYSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0aGlzLmFwaS5zY2hlbWEgPT0gbnVsbCkgcmV0dXJuICcnO1xyXG4gICAgICAgIHZhciBhclNjaGVtYSA9ICh0aGlzLmFwaS5zY2hlbWEgKyAnfCcgKyBkZWZhdWx0QXBpU2NoZW1hKS5zcGxpdCgnfCcpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJTY2hlbWEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGZpZWxkTmFtZSA9IGFyU2NoZW1hW2ldO1xyXG4gICAgICAgICAgICBpZiAoZmllbGROYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignW3Byb3ZpZGVyY2FwYWJpbGl0eT0nKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjYXBhYmlsaXR5ID0gZmllbGROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJz0nKVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnXScpWzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1YkZpZWxkTmFtZSA9IGZpZWxkTmFtZS5zcGxpdCgnXScpWzFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVycyA9IGdpZ3lhLnNvY2lhbGl6ZS5nZXRQcm92aWRlcnNGb3JSZXF1aXJlZENhcGFiaWxpdGllcyhnaWd5YS5zb2NpYWxpemUuZ2V0UHJvdmlkZXJzQnlOYW1lKCcqJyksIFtjYXBhYmlsaXR5XSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJQYXJhbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGlQcm92aWRlciA9IDA7IGlQcm92aWRlciA8IHByb3ZpZGVycy5sZW5ndGg7IGlQcm92aWRlcisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJQYXJhbXMucHVzaChwcm92aWRlcnNbaVByb3ZpZGVyXS5uYW1lICsgc3ViRmllbGROYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFyU2NoZW1hW2ldID0gYXJQYXJhbXMuam9pbignfCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhclNjaGVtYS5qb2luKCd8Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwcmVwcm9jZXNzU2VydmVyUmVzcG9uc2UocmVzcG9uc2U6IE9iamVjdCkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZVsndXNlckluZm8nXSAmJiB0aGlzLmFwaS5tZXRob2ROYW1lLmluZGV4T2YoJ2FjY291bnRzLicpICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2VbJ3VzZXJJbmZvJ10gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVsndXNlckluZm8nXSA9IEpTT05VdGlscy5wYXJzZShyZXNwb25zZVsndXNlckluZm8nXSwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2VbJ3VzZXJJbmZvJ10pIHtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gb2JqZWN0VXRpbHMubWVyZ2UoW3Jlc3BvbnNlWyd1c2VySW5mbyddLCByZXNwb25zZV0pO1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbJ2Vycm9yQ29kZSddID0gcmVzcG9uc2VbJ3VzZXJJbmZvJ11bJ2Vycm9yQ29kZSddO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc3BvbnNlWyd1c2VySW5mbyddO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VbJ2FjY291bnRJbmZvJ10gJiYgdHlwZW9mIHJlc3BvbnNlWydhY2NvdW50SW5mbyddID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICByZXNwb25zZVsnYWNjb3VudEluZm8nXSA9IEpTT05VdGlscy5wYXJzZShyZXNwb25zZVsnYWNjb3VudEluZm8nXSwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlWydhY2NvdW50SW5mbyddKSB7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IG9iamVjdFV0aWxzLm1lcmdlKFtyZXNwb25zZVsnYWNjb3VudEluZm8nXSwgcmVzcG9uc2VdKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNwb25zZVsnYWNjb3VudEluZm8nXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlWydzZXR0aW5ncyddICYmIHR5cGVvZiByZXNwb25zZVsnc2V0dGluZ3MnXSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbJ3NldHRpbmdzJ10gPSBKU09OVXRpbHMucGFyc2UocmVzcG9uc2VbJ3NldHRpbmdzJ10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge31cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RXhwaXJlZFNlc3Npb25SZXNwb25zZShyZXNwb25zZTogT2JqZWN0KTogT2JqZWN0IHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuYXBpLm1ldGhvZE5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLnNldFVzZXJTZXR0aW5ncyc6XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3JpZ2luYWxQYXJhbXNbJ2Rpc2FibGVMb2NhbFNldHRpbmdzJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRHaWd5YVNldHRpbmdzKHRoaXMucGFyYW1zWydncm91cCddLCB0aGlzLnBhcmFtc1snc2V0dGluZ3MnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBnZXREZWZhdWx0T0tSZXNwb25zZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5kZWxVc2VyU2V0dGluZ3MnOlxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9yaWdpbmFsUGFyYW1zWydkaXNhYmxlTG9jYWxTZXR0aW5ncyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsR2lneWFTZXR0aW5ncyh0aGlzLnBhcmFtc1snZ3JvdXAnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBnZXREZWZhdWx0T0tSZXNwb25zZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5nZXRVc2VyU2V0dGluZ3MnOlxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9yaWdpbmFsUGFyYW1zWydkaXNhYmxlTG9jYWxTZXR0aW5ncyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gZ2V0R2lneWFTZXR0aW5ncyh0aGlzLnBhcmFtc1snZ3JvdXAnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBnZXREZWZhdWx0T0tSZXNwb25zZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbJ3NldHRpbmdzJ10gPSBzZXR0aW5ncztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLmdldFVzZXJJbmZvJzpcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlWydzdGF0dXMnXSA9ICdPSyc7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVsnc3RhdHVzTWVzc2FnZSddID0gJyc7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVsnZXJyb3JDb2RlJ10gPSAwO1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbJ3N0YXR1c0NvZGUnXSA9IDA7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVsnZXJyb3JNZXNzYWdlJ10gPSAnJztcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlWydlcnJvckRldGFpbHMnXSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbJ3N0YXR1c1JlYXNvbiddID0gJyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnYWNjb3VudHMubG9nb3V0JzpcclxuICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLmxvZ291dCc6XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IGdldERlZmF1bHRPS1Jlc3BvbnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZnRlclNlcnZlckFwaVJlc3BvbnNlKHJlc3BvbnNlOiBPYmplY3QsIHNlbnRXaXRoVmFsaWRTZXNzaW9uOiBib29sZWFuLCBjYWxsYmFjaz86IChyZXNwb25zZTogT2JqZWN0KSA9PiB2b2lkKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhaXNOYU4oTnVtYmVyKGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsndmVyaWZ5TG9naW5JbnRlcnZhbCddKSkgJiZcclxuICAgICAgICAgICAgdGhpcy5hcGkubWV0aG9kTmFtZSA9PT0gJ2FjY291bnRzLnZlcmlmeUxvZ2luJyAmJlxyXG4gICAgICAgICAgICByZXNwb25zZVsnZXJyb3JDb2RlJ10gIT09IEdTRXJyb3JzLk9LXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLl8uYXBpQWRhcHRlci5jbGVhclNlc3Npb24oeyBBUElLZXk6IGdpZ3lhLnRoaXNTY3JpcHQuQVBJS2V5IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGVja0NvbXBsZXRlUmVnaXN0cmF0aW9uKHJlc3BvbnNlLCB0aGlzLm9yaWdpbmFsUGFyYW1zLCB0aGlzLmFwaS5tZXRob2ROYW1lLCAoY29tcGxldGVSZXNwb25zZSwgc3VwcHJlc3NFdmVudHM/OiBib29sZWFuLCByZXRyeT86IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgcmVzcG9uc2UgPSBjb21wbGV0ZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICByZXNwb25zZSA9IHRoaXMucHJlcHJvY2Vzc1NlcnZlclJlc3BvbnNlKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZVsnZXJyb3JDb2RlJ10gPT0gR1NFcnJvcnMuVU5BVVRIT1JJWkVEX1VTRVIpIHtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5nZXRFeHBpcmVkU2Vzc2lvblJlc3BvbnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlWydlcnJvckNvZGUnXSA9PSBHU0Vycm9ycy5PSyAmJiAoc2VudFdpdGhWYWxpZFNlc3Npb24gfHwgbG9naW5NZXRob2RzW3RoaXMuYXBpLm1ldGhvZE5hbWVdKSkge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLmdldFN0b3JhZ2UoKS5yZW1vdmVJdGVtKCdfZ2lnUmVmVWlkXycgKyB0aGlzLm9yaWdpbmFsUGFyYW1zWydBUElLZXknXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTWV0aG9kUmVzcG9uc2UocmVzcG9uc2UsIChuZXdSZXNwb25zZTogT2JqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IG5ld1Jlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGREZWZhdWx0UmVzcG9uc2VQcm9wZXJ0aWVzKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGhhbmRsZVNwZWNpYWxGaWVsZHMocmVzcG9uc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0RnJvbVByb3ZpZGVyc0lmTmVlZGVkKHJlc3BvbnNlLCByZXRyeUZyb21SZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJ5RnJvbVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZFJlcXVlc3Qoc2VudFdpdGhWYWxpZFNlc3Npb24pLnRoZW4oY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN1cHByZXNzRXZlbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVFdmVudHNGcm9tUmVzcG9uc2UocmVzcG9uc2UsIHNlbnRXaXRoVmFsaWRTZXNzaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXRyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgcmV0cnlpbmcgcmVxdWVzdGApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRSZXF1ZXN0KHNlbnRXaXRoVmFsaWRTZXNzaW9uKS50aGVuKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRzLmRpc3BhdGNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGV2ZW50TmFtZTogJ2FmdGVyUmVzcG9uc2UnLCBtZXRob2ROYW1lOiB0aGlzLmFwaS5tZXRob2ROYW1lLCBmaWx0ZXJlZFBhcmFtczogdGhpcy5wYXJhbXMsIHJlc3BvbnNlOiByZXNwb25zZSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsUGFyYW1zLFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZExvZygnQ2FsbGluZyBjYWxsYmFjayBmb3IgJyArIHRoaXMuYXBpLm1ldGhvZE5hbWUgKyAnIHdpdGggdGhpcyByZXNwb25zZSBvYmplY3QnLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hcGkuc2V0dGluZ3MucG9zdHByb2Nlc3NvcikgdGhpcy5hcGkuc2V0dGluZ3MucG9zdHByb2Nlc3Nvcih0aGlzLm9yaWdpbmFsUGFyYW1zLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGREZWZhdWx0UmVzcG9uc2VQcm9wZXJ0aWVzKHJlc3BvbnNlOiBPYmplY3QpOiBhbnkge1xyXG4gICAgICAgIGRlbGV0ZSByZXNwb25zZVsnc3RhdHVzQ29kZSddO1xyXG4gICAgICAgIGRlbGV0ZSByZXNwb25zZVsnc3RhdHVzUmVhc29uJ107XHJcblxyXG4gICAgICAgIHJlc3BvbnNlWydlcnJvckNvZGUnXSA9IHJlc3BvbnNlWydlcnJvckNvZGUnXSB8fCAwO1xyXG4gICAgICAgIHJlc3BvbnNlWydzdGF0dXMnXSA9IHJlc3BvbnNlWydzdGF0dXMnXSB8fCAocmVzcG9uc2VbJ2Vycm9yQ29kZSddID09IDAgPyAnT0snIDogJ0ZBSUwnKTtcclxuICAgICAgICByZXNwb25zZVsnZXJyb3JNZXNzYWdlJ10gPSByZXNwb25zZVsnZXJyb3JNZXNzYWdlJ10gfHwgJyc7XHJcbiAgICAgICAgcmVzcG9uc2VbJ3N0YXR1c01lc3NhZ2UnXSA9IHJlc3BvbnNlWydzdGF0dXNNZXNzYWdlJ10gfHwgcmVzcG9uc2VbJ2Vycm9yTWVzc2FnZSddO1xyXG5cclxuICAgICAgICByZXNwb25zZVsncmVxdWVzdFBhcmFtcyddID0gdGhpcy5vcmlnaW5hbFBhcmFtcztcclxuICAgICAgICBpZiAocmVzcG9uc2VbJ3JlcXVlc3RQYXJhbXMnXVsncGFzc3dvcmQnXSkgZGVsZXRlIHJlc3BvbnNlWydyZXF1ZXN0UGFyYW1zJ11bJ3Bhc3N3b3JkJ107IC8vd2UgZG9uJ3Qgd2FudCBwYXNzd29yZHMgdG8gcmV0dXJuIGFzIGNsZWFydGV4dCB0byB0aGUgY2FsbGJhY2tcclxuXHJcbiAgICAgICAgcmVzcG9uc2VbJ2NvbnRleHQnXSA9IHRoaXMub3JpZ2luYWxQYXJhbXNbJ2NvbnRleHQnXTtcclxuICAgICAgICB2YXIgb3BlcmF0aW9uTmFtZXNwYWNlID0gdGhpcy5hcGkubWV0aG9kTmFtZS5zcGxpdCgnLicpWzBdO1xyXG4gICAgICAgIHJlc3BvbnNlWydvcGVyYXRpb24nXSA9IG9wZXJhdGlvbk5hbWVzcGFjZSA9PSAnc29jaWFsaXplJyA/IHRoaXMuYXBpLm1ldGhvZE5hbWUuc3BsaXQoJy4nKVsxXSA6ICcvJyArIHRoaXMuYXBpLm1ldGhvZE5hbWU7IC8vZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVNZXRob2RSZXNwb25zZShyZXNwb25zZTogT2JqZWN0LCBjYWxsYmFjazogKHJlc3BvbnNlOiBPYmplY3QpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICBpZiAocmVzcG9uc2VbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLk9LKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5hcGkubWV0aG9kTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYWNjb3VudHMuc29jaWFsTG9naW4nOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLmxvZ2luJzpcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVsnbmV3VXNlciddID0gU3RyaW5nKHJlc3BvbnNlWyd4X25ld1VzZXInXSkgPT0gJ3RydWUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNwb25zZVsneF9uZXdVc2VyJ107XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzb2NpYWxpemUubm90aWZ5TG9naW4nOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLmFkZENvbm5lY3Rpb24nOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnYWNjb3VudHMubGlua0FjY291bnRzJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLmZpbmFsaXplUmVnaXN0cmF0aW9uJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLmxvZ2luJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLm90cC5sb2dpbic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5hdXRoLmxvZ2luJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLnJlZ2lzdGVyJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5nZXRVc2VySW5mbyc6XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc3BvbnNlWydsb2dpbl90b2tlbiddO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNwb25zZVsnZXhwaXJlc19pbiddO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNwb25zZVsnaWQnXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWydjb2RlJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbJ2F1dGhDb2RlJ10gPSByZXNwb25zZVsnY29kZSddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzcG9uc2VbJ2NvZGUnXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2VbJ2F1dGhDb2RlJ10gJiYgISh0aGlzLmFwaS5tZXRob2ROYW1lID09ICdzb2NpYWxpemUubm90aWZ5TG9naW4nICYmIHRoaXMucGFyYW1zWydhdXRoQ29kZSddKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlcjogYW55ID0gcmVzcG9uc2U7IC8vIHB1c2ggdGhlIHJlc3BvbnNlIGRvd24gaW50byB0aGUgdXNlciBmaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbJ3VzZXJJbmZvJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSByZXNwb25zZVsndXNlckluZm8nXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNwb25zZVsndXNlckluZm8nXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXBpLm1ldGhvZE5hbWUuaW5kZXhPZignYWNjb3VudHMuJykgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0geyB1c2VyOiB1c2VyIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RVdGlscy5leHRyYWN0UHJvcGVydGllcyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXN8c3RhdHVzTWVzc2FnZXxjYWxsSWR8ZXJyb3JDb2RlfGVycm9yTWVzc2FnZXxlcnJvckRldGFpbHN8c2V0dGluZ3N8Y29udGV4dHxVSURTaWd8dGltZXN0YW1wfFVJRFNpZ25hdHVyZXxzaWduYXR1cmVUaW1lc3RhbXB8VUlEfHByb2ZpbGV8ZGF0YXxuZXdVc2VyfHNpZ25LZXlzVUlEU2lnbmF0dXJlfGRhdGFDZW50ZXJ8aWRfdG9rZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVsndXNlciddLmhhc093blByb3BlcnR5KCdVSURTaWcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWydzaWduYXR1cmUnXSA9IHJlc3BvbnNlWyd1c2VyJ10uVUlEU2lnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBzdXBwb3J0IGZvciBEZXByZWNhdGVkICdzaWduYXR1cmUnIHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlci5wcm9maWxlKSBkZWxldGUgdXNlci5wcm9maWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIuZGF0YSkgZGVsZXRlIHVzZXIuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB1c2VyLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB1c2VyLnN0YXR1c01lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXNlci5jYWxsSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXNlci5lcnJvckNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXNlci5lcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXNlci5lcnJvckRldGFpbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXNlci5zZXR0aW5ncztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB1c2VyLmNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgIT0gdXNlcikgcmVzcG9uc2VbJ3VzZXInXSA9IHVzZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIuYWdlICE9ICcnICYmICFpc05hTihwYXJzZUludCh1c2VyLmFnZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLmFnZSA9IHBhcnNlSW50KHVzZXIuYWdlKTsgLy9mb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIuc3VwcHJlc3NFdmVudHMpIHJlc3BvbnNlWydzdXBwcmVzc0V2ZW50cyddID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlci5jYXBhYmlsaXRpZXMgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXBhYmlsaXRpZXNTdHJpbmcgPSB1c2VyLmNhcGFiaWxpdGllcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FwYWJpbGl0aWVzU3RyaW5nKSBjYXBhYmlsaXRpZXNTdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlci5jYXBhYmlsaXRpZXMgIT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLmNhcGFiaWxpdGllcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FwYWJpbGl0aWVzU3RyaW5nID0gY2FwYWJpbGl0aWVzU3RyaW5nLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlci5jYXBhYmlsaXRpZXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogY2FwYWJpbGl0aWVzU3RyaW5nLmluZGV4T2YoJ2FjdGlvbnMnKSA+IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyaWVuZHM6IGNhcGFiaWxpdGllc1N0cmluZy5pbmRleE9mKCdmcmllbmRzJykgPiAtMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dpbjogY2FwYWJpbGl0aWVzU3RyaW5nLmluZGV4T2YoJ2xvZ2luJykgPiAtMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGNhcGFiaWxpdGllc1N0cmluZy5pbmRleE9mKCdzdGF0dXMnKSA+IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IGNhcGFiaWxpdGllc1N0cmluZy5pbmRleE9mKCdub3RpZmljYXRpb25zJykgPiAtMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0czogY2FwYWJpbGl0aWVzU3RyaW5nLmluZGV4T2YoJ2NvbnRhY3RzJykgPiAtMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b3M6IGNhcGFiaWxpdGllc1N0cmluZy5pbmRleE9mKCdwaG90b3MnKSA+IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydElkZW50aXRpZXNBcnJheVRvT2JqZWN0KHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVzZXIucHJvdmlkZXJzID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLnByb3ZpZGVycyA9IHVzZXIucHJvdmlkZXJzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zWydncm91cCddICYmICFyZXNwb25zZVsnc2V0dGluZ3MnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gZ2V0R2lneWFTZXR0aW5ncyh0aGlzLnBhcmFtc1snZ3JvdXAnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVsnc2V0dGluZ3MnXSA9IHNldHRpbmdzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLmdldEF2YWlsYWJsZVByb3ZpZGVycyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9BdmFpbGFibGVQcm92aWRlcnM6IE9iamVjdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2VbJ2F2YWlsYWJsZVByb3ZpZGVycyddLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9BdmFpbGFibGVQcm92aWRlcnNbcmVzcG9uc2VbJ2F2YWlsYWJsZVByb3ZpZGVycyddW2ldLm5hbWVdID0gcmVzcG9uc2VbJ2F2YWlsYWJsZVByb3ZpZGVycyddW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVsnYXZhaWxhYmxlUHJvdmlkZXJzJ10gPSBvQXZhaWxhYmxlUHJvdmlkZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmFwaS5tZXRob2ROYW1lID09PSAnc29jaWFsaXplLnJlbW92ZUNvbm5lY3Rpb24nICYmIHJlc3BvbnNlWydlcnJvckNvZGUnXSA9PSBHU0Vycm9ycy5PSykge1xyXG4gICAgICAgICAgICBnaWd5YS5zb2NpYWxpemUuZ2V0VXNlckluZm8odGhpcy5vcmlnaW5hbFBhcmFtcywge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICh1c2VySW5mb1Jlc3BvbnNlOiBPYmplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh1c2VySW5mb1Jlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2dvdXRGcm9tUHJvdmlkZXJzSWZOZWVkZWQocmVzcG9uc2U6IE9iamVjdCwgY2FsbGJhY2s6IChyZXRyeTogYm9vbGVhbikgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHNpbXBsZVByb3ZpZGVyVGltZW91dCA9IDUwMDA7IC8vIDVzXHJcbiAgICAgICAgY29uc3Qgc2FtbFByb3ZpZGVyVGltZW91dCA9IDEwMDAwOyAvLyAxMHNcclxuXHJcbiAgICAgICAgdmFyIGVycm9yQ29kZSA9IHJlc3BvbnNlWydlcnJvckNvZGUnXTtcclxuXHJcbiAgICAgICAgaWYgKGxvZ291dE1ldGhvZHNbdGhpcy5hcGkubWV0aG9kTmFtZV0gJiYgZXJyb3JDb2RlID09IEdTRXJyb3JzLk9LKSB7XHJcbiAgICAgICAgICAgIC8vIGxvZ291dCBhY3RpdmUgc2Vzc2lvbiBpZiBuZWNlc2FyeVxyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2VbJ2xvZ291dEFjdGl2ZVNlc3Npb24nXSkge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLmNsZWFyU2Vzc2lvbih0aGlzLnBhcmFtc1snQVBJS2V5J10pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgYXJQcm92aWRlcnMgPSBuZXcgQXJyYXk8SUNvbm5lY3RlZFByb3ZpZGVyPigpO1xyXG4gICAgICAgICAgICB2YXIgcHJvdmlkZXJzVGltZW91dCA9IHNpbXBsZVByb3ZpZGVyVGltZW91dDsgLy8gNXMgdG8gZmluaXNoIGxvZ291dCBmcm9tIGFsbCBwcm92aWRlcnNcclxuICAgICAgICAgICAgdmFyIHdhaXRBZnRlclByb3ZpZGVycyA9IDA7IC8vIHdhaXQgYWZ0ZXIgYWxsIHByb3ZpZGVycyBjb21wbGV0ZVxyXG5cclxuICAgICAgICAgICAgLy8gbGlzdCBzb2NpYWwgcHJvdmlkZXJzIHRoYXQgbmVlZHMgdG8gYmUgZGlzY29uZWN0ZWRcclxuICAgICAgICAgICAgdmFyIHByb3ZpZGVyczogc3RyaW5nO1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2VbJ2Nvbm5lY3RlZFByb3ZpZGVycyddKSB7XHJcbiAgICAgICAgICAgICAgICBwcm92aWRlcnMgPSByZXNwb25zZVsnY29ubmVjdGVkUHJvdmlkZXJzJ10udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZVsncHJvdmlkZXInXSkge1xyXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJzID0gcmVzcG9uc2VbJ3Byb3ZpZGVyJ10udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJvdmlkZXJzICYmICF2YWxpZGF0aW9uVXRpbHMuaXNFeHBsaWNpdEZhbHNlKHRoaXMub3JpZ2luYWxQYXJhbXNbJ2ZvcmNlUHJvdmlkZXJzTG9nb3V0J10pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc29jaWFsUHJvdmlkZXJzID0gcHJvdmlkZXJzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvY2lhbFByb3ZpZGVycy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm92aWRlciA9IHNvY2lhbFByb3ZpZGVyc1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVyVHlwZSA9IFByb3ZpZGVyVHlwZVtwcm92aWRlcl07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVyRGF0YSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW92ZVByb3ZpZGVyQWZ0ZXI6IG51bWJlciB8IGJvb2xlYW4gPSBzaW1wbGVQcm92aWRlclRpbWVvdXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm92aWRlci5pbmRleE9mKCdzYW1sLScpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyVHlwZSA9IFByb3ZpZGVyVHlwZS5zYW1sUHJvdmlkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRGF0YSA9IHByb3ZpZGVyLnN1YnN0cmluZygnc2FtbC0nLmxlbmd0aCk7IC8vIHNhbWxJRFBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUHJvdmlkZXJBZnRlciA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIFNBTUwgbG9nb3V0IGluY3JlYXNlIHRoZSB0aW1lb3V0IHRvIDE1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnNUaW1lb3V0ID0gc2FtbFByb3ZpZGVyVGltZW91dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdEFmdGVyUHJvdmlkZXJzID0gc2ltcGxlUHJvdmlkZXJUaW1lb3V0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXJQcm92aWRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHByb3ZpZGVyVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvdmlkZXJEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVBZnRlcjogcmVtb3ZlUHJvdmlkZXJBZnRlcixcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gbGlzdCBhbGwgc2FtbCBzZXNzaW9ucyB0byBkaXNjb25uZWN0XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZVsnc2FtbENvbnRleHQnXSAmJiByZXNwb25zZVsnY29ubmVjdGVkU2FtbFNlc3Npb25zJ10pIHtcclxuICAgICAgICAgICAgICAgIHZhciBzYW1sQ29udGV4dCA9IHJlc3BvbnNlWydzYW1sQ29udGV4dCddO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbm5lY3RlZFNlc3Npb25zID0gcmVzcG9uc2VbJ2Nvbm5lY3RlZFNhbWxTZXNzaW9ucyddLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbm5lY3RlZFNlc3Npb25zLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJQcm92aWRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFByb3ZpZGVyVHlwZS5zYW1sU2Vzc2lvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FtbENvbnRleHQ6IHNhbWxDb250ZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FtbFNlc3Npb246IGNvbm5lY3RlZFNlc3Npb25zW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVBZnRlcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBTQU1MIGxvZ291dCBpbmNyZWFzZSB0aGUgdGltZW91dCB0byAxNXNcclxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnNUaW1lb3V0ID0gc2FtbFByb3ZpZGVyVGltZW91dDtcclxuICAgICAgICAgICAgICAgICAgICB3YWl0QWZ0ZXJQcm92aWRlcnMgPSBzaW1wbGVQcm92aWRlclRpbWVvdXQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGRpc2Nvbm5lY3QgYWxsIGZvdW5kIHByb3ZpZGVyc1xyXG4gICAgICAgICAgICBpZiAoYXJQcm92aWRlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9nZ2VkT3V0Q291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrQ2FsbGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgb25Eb25lID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2tDYWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tDYWxsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChvbkRvbmUsIHByb3ZpZGVyc1RpbWVvdXQpOyAvLyA1cyB0aW1lb3V0XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG9uUHJvdmlkZXJSZXNvdXJjZUNvbXBsZXRlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlZE91dENvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ2dlZE91dENvdW50ID09PSBhclByb3ZpZGVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQob25Eb25lLCB3YWl0QWZ0ZXJQcm92aWRlcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhclByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0RnJvbVByb3ZpZGVyKGFyUHJvdmlkZXJzW2ldLCBvblByb3ZpZGVyUmVzb3VyY2VDb21wbGV0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBubyBwcm92aWRlcnMgaW4gdGhlIGFycmF5XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlWydlcnJvckNvZGUnXSA9PSBHU0Vycm9ycy5VTlZFUklGSUVEX1VTRVIgJiYgdGhpcy5hcGkubWV0aG9kTmFtZSAhPT0gJ2FjY291bnRzLnZlcmlmeUxvZ2luJykge1xyXG4gICAgICAgICAgICBnaWd5YS5hY2NvdW50cy52ZXJpZnlMb2dpbih7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogdmVyaWZ5UmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2ZXJpZnlSZXNwb25zZS5lcnJvckNvZGUgPT0gR1NFcnJvcnMuT0spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG5vdCBhIGxvZ291dCBtZXRob2RcclxuICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvZ291dEZyb21Qcm92aWRlcihwcm92aWRlcjogSUNvbm5lY3RlZFByb3ZpZGVyLCBjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIHZhciBsb2dvdXRVUkwgPSAnJztcclxuICAgICAgICB2YXIgdXNlSWZyYW1lID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHVzZUNhY2hlQnVzdGVyID0gdHJ1ZTtcclxuICAgICAgICB2YXIgc2FtbERvbWFpbiA9IGAke2dpZ3lhLl8uZ2V0QXBpRG9tYWluKCdmaWRtJyl9YDtcclxuXHJcbiAgICAgICAgc3dpdGNoIChwcm92aWRlci50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgUHJvdmlkZXJUeXBlLmZhY2Vib29rOlxyXG4gICAgICAgICAgICAgICAgaWYgKGdpZ3lhLnByb3ZpZGVyc0NvbmZpZy5mYWNlYm9vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLnNvY2lhbGl6ZS53YWl0Rm9yU2VydmljZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2U6ICdmYWNlYm9vaycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmYWNlYm9va0V4dGVybmFsLmlzTG9nZ2VkSW4gJiYgRkIubG9nb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRkIubG9nb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjZWJvb2tFeHRlcm5hbC5yZWZyZXNoU2Vzc2lvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgbGluZSBpcyBiZWNhdXNlIG9mIGEgRmFjZWJvb2sgYnVnIHdoaWNoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnRzIGxvZ2dpbmcgaW4gYWZ0ZXIgeW91IGhhdmUgbG9nZ2VkLW91dC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM0NzI1MTIzL2dldGxvZ2luc3RhdHVzLXJldHVybnMtc3RhdHVzLXVua25vd24td2hlbi10cnlpbmctdG8tbG9nb3V0LWZyb20tZmFjZWJvb2stdXNpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLmdldFN0b3JhZ2UoKS5yZW1vdmVJdGVtKCdmYmxvXycgKyBnaWd5YS5wcm92aWRlcnNDb25maWcuZmFjZWJvb2suYXBwSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBQcm92aWRlclR5cGUuc2FtbFByb3ZpZGVyOlxyXG4gICAgICAgICAgICAgICAgbG9nb3V0VVJMID0gVVJMVXRpbHMuYWRkUGFyYW1zVG9VUkwoJ2h0dHBzOi8vJyArIHNhbWxEb21haW4gKyAnL3NhbWwvdjIuMC8nICsgdGhpcy5wYXJhbXNbJ0FQSUtleSddICsgJy9zcC9qc3NsbycsIHsgbmFtZTogcHJvdmlkZXIuZGF0YSB9KTtcclxuICAgICAgICAgICAgICAgIHVzZUlmcmFtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB1c2VDYWNoZUJ1c3RlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFByb3ZpZGVyVHlwZS5zYW1sU2Vzc2lvbjpcclxuICAgICAgICAgICAgICAgIGxvZ291dFVSTCA9IFVSTFV0aWxzLmFkZFBhcmFtc1RvVVJMKCdodHRwczovLycgKyBzYW1sRG9tYWluICsgJy9zYW1sL3YyLjAvJyArIHRoaXMucGFyYW1zWydBUElLZXknXSArICcvaWRwL3Nsby9jb250aW51ZS8nLCBwcm92aWRlci5kYXRhKTtcclxuICAgICAgICAgICAgICAgIHVzZUlmcmFtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB1c2VDYWNoZUJ1c3RlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobG9nb3V0VVJMKSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VDYWNoZUJ1c3RlcikgbG9nb3V0VVJMICs9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlc291cmNlVHlwZSA9IHVzZUlmcmFtZSA/IHNjcmlwdFV0aWxzLlJlc291cmNlVHlwZXMuaWZyYW1lIDogc2NyaXB0VXRpbHMuUmVzb3VyY2VUeXBlcy5pbWFnZTtcclxuXHJcbiAgICAgICAgICAgIHZhciByZW1vdmVBZnRlcjtcclxuICAgICAgICAgICAgLy9pZiAodGhpcy5vcmlnaW5hbFBhcmFtc1snc3VzdGFpbkxvZ291dFVSTHMnXSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAvLyAgICByZW1vdmVBZnRlciA9ICF0aGlzLm9yaWdpbmFsUGFyYW1zWydzdXN0YWluTG9nb3V0VVJMcyddXHJcbiAgICAgICAgICAgIC8vZWxzZVxyXG4gICAgICAgICAgICByZW1vdmVBZnRlciA9IHByb3ZpZGVyLnJlbW92ZUFmdGVyO1xyXG5cclxuICAgICAgICAgICAgc2NyaXB0VXRpbHMudHJpZ2dlclJlc291cmNlKGxvZ291dFVSTCwgY2FsbGJhY2ssIHJlc291cmNlVHlwZSwgcmVtb3ZlQWZ0ZXIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2VuZXJhdGVFdmVudHNGcm9tUmVzcG9uc2UocmVzcG9uc2U6IE9iamVjdCwgc2VudFdpdGhWYWxpZFNlc3Npb246IGJvb2xlYW4pIHtcclxuICAgICAgICB2YXIgb0V2ZW50O1xyXG4gICAgICAgIGlmIChyZXNwb25zZVsnZXJyb3JDb2RlJ10gPT0gMCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuYXBpLm1ldGhvZE5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLmxvZ291dCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzb2NpYWxpemUubG9nb3V0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS51bmxpbmtBY2NvdW50cyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzb2NpYWxpemUuZGVsZXRlQWNjb3VudCc6XHJcbiAgICAgICAgICAgICAgICAgICAgb0V2ZW50ID0geyBldmVudE5hbWU6ICdsb2dvdXQsYWNjb3VudHMubG9nb3V0JyB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLmxpbmtBY2NvdW50cyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzb2NpYWxpemUuc2V0VUlEJzpcclxuICAgICAgICAgICAgICAgICAgICBhZGRVc2VySW5mb1RvRXZlbnQocmVzcG9uc2UsIG9FdmVudCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzb2NpYWxpemUucmVtb3ZlQ29ubmVjdGlvbic6XHJcbiAgICAgICAgICAgICAgICAgICAgb0V2ZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdjb25uZWN0aW9uUmVtb3ZlZCxkaXNjb25uZWN0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IHRoaXMucGFyYW1zWydwcm92aWRlciddIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkVXNlckluZm9Ub0V2ZW50KHJlc3BvbnNlLCBvRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLmFkZENvbm5lY3Rpb24nOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VudFdpdGhWYWxpZFNlc3Npb24gJiYgcmVzcG9uc2VbJ3VzZXInXS5pc0xvZ2dlZEluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9FdmVudCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2xvZ2luJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyOiB0aGlzLnBhcmFtc1sncHJvdmlkZXInXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVXNlckluZm9Ub0V2ZW50KHJlc3BvbnNlLCBvRXZlbnQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9FdmVudCA9IHsgZXZlbnROYW1lOiAnY29ubmVjdGlvbkFkZGVkLGNvbm5lY3QnLCBwcm92aWRlcjogdGhpcy5wYXJhbXNbJ3Byb3ZpZGVyJ10gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVXNlckluZm9Ub0V2ZW50KHJlc3BvbnNlLCBvRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLmxpbmtBY2NvdW50cyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5maW5hbGl6ZVJlZ2lzdHJhdGlvbic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5sb2dpbic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5vdHAubG9naW4nOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnYWNjb3VudHMuYXV0aC5sb2dpbic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5yZWdpc3Rlcic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5zb2NpYWxMb2dpbic6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9yaWdpbmFsUGFyYW1zWydzdXBwcmVzc0xvZ2luRXZlbnQnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoQWNjb3VudHNMb2dpbkV2ZW50KHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzb2NpYWxpemUuZmluYWxpemVSZWdpc3RyYXRpb24nOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLnJlZ2lzdGVyJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5sb2dpbic6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZVsndXNlciddICYmICFyZXNwb25zZVsnYXV0aENvZGUnXSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgb0V2ZW50ID0geyBldmVudE5hbWU6ICdsb2dpbicgfTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSB0aGlzLnBhcmFtc1sncHJvdmlkZXInXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3ZpZGVyICYmIHJlc3BvbnNlWydwcm92aWRlclNlc3Npb25zJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiByZXNwb25zZVsncHJvdmlkZXJTZXNzaW9ucyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlciA9IHA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBvRXZlbnRbJ3Byb3ZpZGVyJ10gPSBwcm92aWRlciB8fCAnc2l0ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgb0V2ZW50Wydsb2dpbk1vZGUnXSA9IHRoaXMub3JpZ2luYWxQYXJhbXNbJ2xvZ2luTW9kZSddIHx8ICdzdGFuZGFyZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgb0V2ZW50WyduZXdVc2VyJ10gPSByZXNwb25zZVsnbmV3VXNlciddIHx8IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbJ2F1dGhDb2RlJ10pIG9FdmVudFsnYXV0aENvZGUnXSA9IHJlc3BvbnNlWydhdXRoQ29kZSddO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZFVzZXJJbmZvVG9FdmVudChyZXNwb25zZSwgb0V2ZW50LCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWyd1c2VyJ10gJiYgcHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlci50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS5fLmFwaUFkYXB0ZXIuZ2V0U3RvcmFnZSgpLnNldEl0ZW0oJ19naWdfbGxwJywgcHJvdmlkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS5fLmFwaUFkYXB0ZXIuZ2V0U3RvcmFnZSgpLnNldEl0ZW0oJ19naWdfbGx1JywgcmVzcG9uc2VbJ3VzZXInXVsnZmlyc3ROYW1lJ10gfHwgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5ub3RpZnlMb2dpbic6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmFtc1snYXV0aENvZGUnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdXRoQ29kZSBtZWFucyBpdCdzIEdBQ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9FdmVudCkgb0V2ZW50ID0geyBldmVudE5hbWU6ICdsb2dpbicgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb0V2ZW50Wydwcm92aWRlciddID0gJ3NpdGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRVc2VySW5mb1RvRXZlbnQocmVzcG9uc2UsIG9FdmVudCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ20ubm90aWZ5QWN0aW9uJzpcclxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goeyBldmVudE5hbWU6ICdhY3Rpb25Ob3RpZmllZCcsIGlzSW50ZXJuYWw6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChsb2dpbk1ldGhvZHNbdGhpcy5hcGkubWV0aG9kTmFtZV0gJiYgdGhpcy5vcmlnaW5hbFBhcmFtc1sncmVkaXJlY3RVUkwnXSAmJiBvRXZlbnQgJiYgb0V2ZW50Wyd1c2VyJ10gJiYgcmVzcG9uc2VbJ2Vycm9yQ29kZSddID09IDApIHtcclxuICAgICAgICAgICAgSFRUUFV0aWxzLnJlZGlyZWN0KHRoaXMub3JpZ2luYWxQYXJhbXNbJ3JlZGlyZWN0VVJMJ10sIFtvRXZlbnQsIG9FdmVudFsndXNlciddXSwgdGhpcy5vcmlnaW5hbFBhcmFtc1sncmVkaXJlY3RNZXRob2QnXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBsb2dpbiBzaG91bGQgYmUgZmlyZWQgYnV0IHdlIGhhdmUgbm8gYWNjb3VudHMgZmllbGRzLiBXZSBuZWVkIHRvIGNhbGwgZ2V0QWNjb3VudEluZm8gZm9yIHRoZSBhY2NvdW50cyBldmVudC5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHJlc3BvbnNlWydlcnJvckNvZGUnXSA9PSBHU0Vycm9ycy5PSyAmJlxyXG4gICAgICAgICAgICBvRXZlbnQgJiZcclxuICAgICAgICAgICAgb0V2ZW50WydldmVudE5hbWUnXSA9PT0gJ2xvZ2luJyAmJlxyXG4gICAgICAgICAgICAhcmVzcG9uc2VbJ3Byb2ZpbGUnXSAmJlxyXG4gICAgICAgICAgICBnbG9iYWxFdmVudHMuX2FjdGl2ZU5hbWVzcGFjZXNbJ2FjY291bnRzJ10gJiZcclxuICAgICAgICAgICAgdGhpcy5hcGkubWV0aG9kTmFtZS5pbmRleE9mKCdhY2NvdW50cycpID09PSAtMVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBnaWd5YS5hY2NvdW50cy5nZXRBY2NvdW50SW5mbyh0aGlzLm9yaWdpbmFsUGFyYW1zLCB7XHJcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiAncHJvZmlsZSxkYXRhJyxcclxuICAgICAgICAgICAgICAgIGluY2x1ZGVVc2VySW5mbzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKGFjY291bnRzUmVzcG9uc2U6IE9iamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcmlnaW5hbFBhcmFtc1snc3VwcHJlc3NMb2dpbkV2ZW50J10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEFjY291bnRzTG9naW5FdmVudChhY2NvdW50c1Jlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvRXZlbnQgJiYgKG9FdmVudFsnZXZlbnROYW1lJ10gIT09ICdsb2dpbicgfHwgIXRoaXMub3JpZ2luYWxQYXJhbXNbJ3N1cHByZXNzTG9naW5FdmVudCddKSkge1xyXG4gICAgICAgICAgICBvRXZlbnRbJ2NvbnRleHQnXSA9IHRoaXMub3JpZ2luYWxQYXJhbXNbJ2NvbnRleHQnXTtcclxuICAgICAgICAgICAgZ2xvYmFsRXZlbnRzLmRpc3BhdGNoKG9FdmVudCwgdGhpcy5vcmlnaW5hbFBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzcGF0Y2hBY2NvdW50c0xvZ2luRXZlbnQocmVzcG9uc2U6IE9iamVjdCkge1xyXG4gICAgICAgIHZhciBvQWNjb3VudHNFdmVudCA9IHtcclxuICAgICAgICAgICAgZXZlbnROYW1lOiAnYWNjb3VudHMubG9naW4nLFxyXG4gICAgICAgICAgICByZW1lbWJlcjogdmFsaWRhdGlvblV0aWxzLmlzRXhwbGljaXRUcnVlKHRoaXMub3JpZ2luYWxQYXJhbXNbJ3JlbWVtYmVyJ10pLFxyXG4gICAgICAgICAgICBwcm92aWRlcjogdGhpcy5vcmlnaW5hbFBhcmFtc1sncHJvdmlkZXInXSA/IHRoaXMub3JpZ2luYWxQYXJhbXNbJ3Byb3ZpZGVyJ10udG9Mb3dlckNhc2UoKSA6ICcnLFxyXG4gICAgICAgICAgICBsb2dpbk1vZGU6IHRoaXMub3JpZ2luYWxQYXJhbXNbJ2xvZ2luTW9kZSddIHx8ICdzdGFuZGFyZCcsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgb2JqZWN0VXRpbHMuZXh0cmFjdFByb3BlcnRpZXMoXHJcbiAgICAgICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgICAgICBvQWNjb3VudHNFdmVudCxcclxuICAgICAgICAgICAgJ25ld1VzZXJ8c2lnbmF0dXJlfFVJRFNpZ3x0aW1lc3RhbXB8VUlEU2lnbmF0dXJlfHNpZ25hdHVyZVRpbWVzdGFtcHxVSUR8cHJvZmlsZXxkYXRhfHNpZ25LZXlzVUlEU2lnbmF0dXJlfGRhdGFDZW50ZXJ8aWRfdG9rZW4nLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZ2xvYmFsRXZlbnRzLmRpc3BhdGNoKG9BY2NvdW50c0V2ZW50LCB0aGlzLm9yaWdpbmFsUGFyYW1zKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBcGlTZXR0aW5ncywgQmFzZUFwaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvQmFzZUFwaSc7XHJcbmltcG9ydCB7IElEaXNwb3NhYmxlIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvaW50ZXJmYWNlcy9JRGlzcG9zYWJsZSc7XHJcbmltcG9ydCB7IElCYXNlT2JqZWN0UGFyYW0gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQmFzZU9iamVjdC9CYXNlT2JqZWN0JztcclxuaW1wb3J0IHsgVmVyc2lvblNlbGVjdG9yIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9WZXJzaW9uU2VsZWN0b3InO1xyXG5pbXBvcnQgKiBhcyBmdW5jdGlvbnNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZnVuY3Rpb25zJztcclxuaW1wb3J0ICogYXMgb2JqZWN0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL29iamVjdCc7XHJcbmltcG9ydCB7IGFkZExvZywgbG9nQ2FsbCB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9MZWdhY3lMb2dnZXInO1xyXG5pbXBvcnQgeyBnZXRQbHVnaW5JbnN0YW5jZSwgc2V0UGx1Z2luSW5zdGFuY2UsIHJlbW92ZVBsdWdpbkluc3RhbmNlIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9VaUFwaUhlbHBlcnMnO1xyXG5pbXBvcnQgKiBhcyBhcnJheVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9hcnJheSc7XHJcbmltcG9ydCAqIGFzIHF1ZXVlVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3F1ZXVlJztcclxuaW1wb3J0ICogYXMgZ2xvYmFsRXZlbnRzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HbG9iYWxFdmVudHMnO1xyXG5pbXBvcnQgKiBhcyByZXBvcnRzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9SZXBvcnRzJztcclxuaW1wb3J0IHsgZ2V0Q2RuUmVzb3VyY2UgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvY2RuJztcclxuaW1wb3J0ICogYXMgc2NyaXB0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3NjcmlwdCc7XHJcbmltcG9ydCAqIGFzIGV2ZW50cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXZlbnRzJztcclxuaW1wb3J0IHsgcmVwbGFjZVByb3ZpZGVyQWxpYXNlcyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Qcm92aWRlcnMnO1xyXG5pbXBvcnQgKiBhcyBET01VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvRE9NJztcclxuXHJcbmV4cG9ydCB2YXIgX19wbHVnaW5zQ29yZUxvYWRlZCA9IGZhbHNlO1xyXG52YXIgc291cmNlRGF0YVBhcmFtczogT2JqZWN0ID0ge1xyXG4gICAgc2hvd1JlYWN0aW9uc0JhclVJOiBbJ2JhcklEJ10sXHJcbiAgICBzaG93Q29tbWVudHNVSTogWydjYXRlZ29yeUlEJywgJ3N0cmVhbUlEJ10sXHJcbn07XHJcbmV4cG9ydCBpbnRlcmZhY2UgVWlBcGlTZXR0aW5ncyBleHRlbmRzIEFwaVNldHRpbmdzIHtcclxuICAgIHVzZUJhc2VQbHVnaW4/OiBib29sZWFuO1xyXG4gICAgYXBpTmFtZT86IHN0cmluZztcclxuICAgIHdhaXRGb3JBUElRdWV1ZT86IGJvb2xlYW47XHJcblxyXG4gICAgLy8gVE9ETzogdGhpcyBzaG91bGQgYmUgcmVtb3ZlZCBhZnRlciBMb2dpbjIgYW5kIGVkaXQyIGFyZSBtb3ZlZCB0byBCYXNlUGx1Z2luXHJcbiAgICB1c2VOZXdNb2RhbD86IGJvb2xlYW47XHJcblxyXG4gICAgLy8gVXNlZCBieSBzaG93VXNlclN0YXR1c1VJLlxyXG4gICAgcmVxdWlyZVNlc3Npb24/OiBib29sZWFuO1xyXG5cclxuICAgIC8vIExlZ2FjeSBzZXR0aW5nc1xyXG4gICAgYWxsb3dQb3B1cD86IGJvb2xlYW47XHJcbiAgICBkZWZhdWx0UGFyYW1zPzogT2JqZWN0O1xyXG4gICAgZGVmYXVsdFBvcHVwUGFyYW1zPzogT2JqZWN0O1xyXG4gICAgcmVxdWlyZWRQYXJhbXM/OiBzdHJpbmc7XHJcbiAgICBkb250TG9hZFBsdWdpbnNDb3JlPzogYm9vbGVhbjtcclxuICAgIGlnbm9yZUNvbnRhaW5lcklkPzogYm9vbGVhbjtcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElJbmplY3Rpb25JbmZvIHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIG5hbWVzcGFjZTogc3RyaW5nO1xyXG4gICAgbWV0aG9kTmFtZTogc3RyaW5nO1xyXG4gICAganNOYW1lOiBzdHJpbmc7XHJcbiAgICBpbnN0YW5jZU1ldGhvZHM/OiBhbnk7XHJcblxyXG4gICAgLy8gUHVibGljIGFwaSBpbnN0YW5jZSBtZXRob2RzIG5hbWUsIGFuZCBhIGxpc3Qgb2YgcGFyYW1ldGVycyBuYW1lcy5cclxuICAgIHB1YmxpY01ldGhvZHM/OiB7IFtwdWJsaWNNZXRob2ROYW1lOiBzdHJpbmddOiBJUHVibGljTWV0aG9kIH07XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJUHVibGljTWV0aG9kIHtcclxuICAgIGluc3RhbmNlTWV0aG9kOiBzdHJpbmc7XHJcbiAgICBhcmdOYW1lczogc3RyaW5nW107XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJVWlBcGlJbmZvIHtcclxuICAgIG5hbWVzcGFjZTogc3RyaW5nO1xyXG4gICAgbWV0aG9kTmFtZTogc3RyaW5nO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSVBsdWdpblZlcnNpb25JbmZvIHtcclxuICAgIHZlcnNpb25OYW1lOiBzdHJpbmc7XHJcbiAgICBtZXRob2Q6IHN0cmluZyB8IEZ1bmN0aW9uO1xyXG4gICAgaXNTdXBwb3J0ZWQ/OiAocGFyYW1zOiB7IGRpcmVjdENhbGw6IGJvb2xlYW4gfSkgPT4gYm9vbGVhbjtcclxuICAgIGFkZGl0aW9uYWxQYXJhbXM/OiB7IFtmaWVsZDogc3RyaW5nXTogYW55IH07XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJUGx1Z2luVHlwZSB7XHJcbiAgICBuZXcgKHBhcmFtczogYW55LCBleHBsaWNpdFBhcmFtczogYW55LCBpbmplY3Rpb25JbmZvOiBJSW5qZWN0aW9uSW5mbyk6IElQbHVnaW47XHJcblxyXG4gICAgLy8gU3RhdGljIG1ldGhvZCB0aGF0IHNob3VsZCBiZSBkZWZpbmVkIG9uIHRoZSBwbHVnaW4gY2xhc3NcclxuICAgIGluamVjdGlvbkluZm8odWlBcGlJbmZvPzogSVVpQXBpSW5mbyk6IElJbmplY3Rpb25JbmZvO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSVBsdWdpbiBleHRlbmRzIElEaXNwb3NhYmxlIHtcclxuICAgIGNvbnRhaW5lcklEOiBzdHJpbmc7XHJcbiAgICBzdGFydDogKCkgPT4gdm9pZDtcclxuICAgIHBhcmFtczogSUJhc2VPYmplY3RQYXJhbTtcclxufVxyXG5leHBvcnQgY2xhc3MgVWlBcGkgZXh0ZW5kcyBCYXNlQXBpIGltcGxlbWVudHMgSVVpQXBpSW5mbyB7XHJcbiAgICBwcml2YXRlIGluamVjdGlvbkluZm86IElJbmplY3Rpb25JbmZvO1xyXG4gICAgcHJpdmF0ZSBwbHVnaW5UeXBlOiBJUGx1Z2luVHlwZTtcclxuICAgIHB1YmxpYyBuYW1lc3BhY2U6IHN0cmluZztcclxuICAgIHB1YmxpYyBjbGFzc05hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgaW5zdGFuY2VNZXRob2RzOiBzdHJpbmdbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgbWV0aG9kTmFtZTogc3RyaW5nLFxyXG4gICAgICAgIHB1YmxpYyBqc05hbWU6IHN0cmluZyxcclxuICAgICAgICBkZWZhdWx0UGFyYW1zOiBPYmplY3QgPSB7fSxcclxuICAgICAgICBkZWZhdWx0UG9wdXBQYXJhbXM6IE9iamVjdCA9IHt9LFxyXG4gICAgICAgIHJlcXVpcmVkUGFyYW1zOiBzdHJpbmcgPSAnJyxcclxuICAgICAgICBwdWJsaWMgc2V0dGluZ3M6IFVpQXBpU2V0dGluZ3MgPSB7fSxcclxuICAgICkge1xyXG4gICAgICAgIHN1cGVyKFVpQXBpLmdldEFwaU5hbWUoanNOYW1lLCBtZXRob2ROYW1lLCBzZXR0aW5ncyksIHNldHRpbmdzKTtcclxuICAgICAgICBzZXR0aW5ncy5kZWZhdWx0UGFyYW1zID0gZGVmYXVsdFBhcmFtcyB8fCB7fTtcclxuICAgICAgICBzZXR0aW5ncy5kZWZhdWx0UG9wdXBQYXJhbXMgPSBkZWZhdWx0UG9wdXBQYXJhbXMgfHwge307XHJcbiAgICAgICAgc2V0dGluZ3MucmVxdWlyZWRQYXJhbXMgPSByZXF1aXJlZFBhcmFtcyB8fCAnJztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0QXBpTmFtZShqc05hbWU6IHN0cmluZywgbWV0aG9kTmFtZTogc3RyaW5nLCBzZXR0aW5nczogVWlBcGlTZXR0aW5ncyA9IHt9KTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gc2V0dGluZ3MuYXBpTmFtZSB8fCBqc05hbWUuc3BsaXQoJy4nKVswXSArICcuJyArIG1ldGhvZE5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHZlcnNpb25TZWxlY3RvcihtZXRob2ROYW1lOiBzdHJpbmcsIG5hbWVzcGFjZTogc3RyaW5nLCBkZWZhdWx0VmVyc2lvbjogc3RyaW5nLCB2ZXJzaW9uczogSVBsdWdpblZlcnNpb25JbmZvW10sIHZlcnNpb25GaWVsZCA9ICd2ZXJzaW9uJykge1xyXG4gICAgICAgIHZhciBzZWxlY3RvciA9IG5ldyBWZXJzaW9uU2VsZWN0b3IobWV0aG9kTmFtZSwgdmVyc2lvbnMsIGRlZmF1bHRWZXJzaW9uKTtcclxuICAgICAgICBmdW5jdGlvbnNVdGlscy5jcmVhdGVBbGlhcygnZ2lneWEuJyArIG5hbWVzcGFjZSArICcuJyArIG1ldGhvZE5hbWUsICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBjb25maWcgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICB2YXIgcGFyYW1zID0gYXJnc1sxXTtcclxuICAgICAgICAgICAgaWYgKCFwYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtcyA9IGNvbmZpZztcclxuICAgICAgICAgICAgICAgIGNvbmZpZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghcGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7fTtcclxuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChwYXJhbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjYWxsQ29uZmlnID0gb2JqZWN0VXRpbHMubWVyZ2UoW3t9LCBjb25maWcsIHBhcmFtc10pO1xyXG5cclxuICAgICAgICAgICAgc2VsZWN0b3IuY2FsbFZlcnNpb24oJycgKyBjYWxsQ29uZmlnW3ZlcnNpb25GaWVsZF0sIHBhcmFtcywgYXJncyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxlY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGb3IgbmV3IHBsdWdpbnMgdXNpbmcgQmFzZVBsdWdpblxyXG4gICAgc3RhdGljIGNyZWF0ZUFwaShcclxuICAgICAgICBtZXRob2ROYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgbmFtZXNwYWNlOiBzdHJpbmcsXHJcbiAgICAgICAgY2xhc3NOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAganNOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgc2V0dGluZ3M6IFVpQXBpU2V0dGluZ3MgPSB7fSxcclxuICAgICAgICBpbnN0YW5jZU1ldGhvZHM/OiBzdHJpbmdbXSxcclxuICAgICk6IFVpQXBpIHtcclxuICAgICAgICBzZXR0aW5ncy51c2VCYXNlUGx1Z2luID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdmFyIGFwaSA9IG5ldyBVaUFwaShtZXRob2ROYW1lLCBqc05hbWUsIG51bGwsIG51bGwsIG51bGwsIHNldHRpbmdzKTtcclxuICAgICAgICBhcGkubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xyXG4gICAgICAgIGFwaS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgYXBpLmluc3RhbmNlTWV0aG9kcyA9IGluc3RhbmNlTWV0aG9kcyB8fCBbXTtcclxuICAgICAgICBhcGkuYWRkSW5zdGFuY2VNZXRob2RzQWxpYXNlcygpO1xyXG4gICAgICAgIHJldHVybiBhcGk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkSW5zdGFuY2VNZXRob2RzQWxpYXNlcygpIHtcclxuICAgICAgICAvLyBBZGQgdGhlIGluc3RhbmNlIG1ldGhvZHMgYWxpYXNlc1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pbnN0YW5jZU1ldGhvZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVJbnN0YW5jZU1ldGhvZEFsaWFzKHRoaXMuaW5zdGFuY2VNZXRob2RzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlSW5zdGFuY2VNZXRob2RBbGlhcyhtZXRob2ROYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBmdW5jdGlvbnNVdGlscy5jcmVhdGVBbGlhcygnZ2lneWEuJyArIHRoaXMubmFtZXNwYWNlICsgJy4nICsgbWV0aG9kTmFtZSwgKHBhcmFtczogeyBvbkVycm9yPzogKGUpID0+IHZvaWQgfSkgPT4ge1xyXG4gICAgICAgICAgICAvLy8gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBhZnRlciB0aGUgcGx1Z2luIGpzIHdhcyBsb2FkZWQuXHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5qZWN0aW9uSW5mbykge1xyXG4gICAgICAgICAgICAgICAgYWRkTG9nKCdpbnZhbGlkIGluamVjdGlvbiBpbmZvJywgdGhpcywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcHVibGljTWV0aG9kID0gdGhpcy5nZXRQdWJsaWNNZXRob2QobWV0aG9kTmFtZSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBnZXRQbHVnaW5JbnN0YW5jZShwYXJhbXMsIHRoaXMuaW5qZWN0aW9uSW5mbyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBhZGRMb2coXCJjb3VsZG4ndCBmaW5kIGluc3RhbmNlXCIsIHRoaXMsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLy8gZm9yIGZ1dHVyZSBpbXBsZW1lbnRhdGlvbi5cclxuICAgICAgICAgICAgICAgIC8vaWYgKHBhcmFtcy5vbkVycm9yKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgcGFyYW1zLm9uRXJyb3IoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHByZXBhcmUgYXJndW1lbnRzIGZyb20gcGFyYW1zIG9iamVjdC5cclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgICAgICBhcnJheVV0aWxzLmZvckVhY2gocHVibGljTWV0aG9kLmFyZ05hbWVzLCBhcmdOYW1lID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJnTmFtZSAmJiBwYXJhbXNbYXJnTmFtZV0gIT09IHVuZGVmaW5lZCkgYXJncy5wdXNoKHBhcmFtc1thcmdOYW1lXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAoaW5zdGFuY2VbcHVibGljTWV0aG9kLmluc3RhbmNlTWV0aG9kXSBhcyBGdW5jdGlvbikuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UHVibGljTWV0aG9kKG1ldGhvZE5hbWU6IHN0cmluZyk6IElQdWJsaWNNZXRob2Qge1xyXG4gICAgICAgIHZhciBwdWJsaWNNZXRob2Q6IElQdWJsaWNNZXRob2Q7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5qZWN0aW9uSW5mby5wdWJsaWNNZXRob2RzKSB7XHJcbiAgICAgICAgICAgIHB1YmxpY01ldGhvZCA9IHRoaXMuaW5qZWN0aW9uSW5mby5wdWJsaWNNZXRob2RzW21ldGhvZE5hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFwdWJsaWNNZXRob2QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwdWJsaWMgbWV0aG9kICcgKyBtZXRob2ROYW1lICsgJyBpcyBub3QgY29uZmlndXJlZCBmb3IgJyArIHRoaXMuaW5qZWN0aW9uSW5mby5uYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwdWJsaWNNZXRob2Q7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3ZlcnJpZGVcclxuICAgIHByZXByb2Nlc3NSZXF1ZXN0KHBhcmFtczogT2JqZWN0LCBjYWxsYmFjazogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgIHN1cGVyLnByZXByb2Nlc3NSZXF1ZXN0KHBhcmFtcywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXBhcmFtc1snc291cmNlJ10pIHRoaXMuc2V0U291cmNlRGF0YShwYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJ1bihwYXJhbXM6IE9iamVjdCwgZXhwbGljaXRQYXJhbXM6IE9iamVjdCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy53YWl0Rm9yQVBJUXVldWUgfHwgcGFyYW1zWydpZ25vcmVBcGlRdWV1ZSddKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRVSShwYXJhbXMsIGV4cGxpY2l0UGFyYW1zKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBxdWV1ZVV0aWxzLnF1ZXVlRm9yRXhlY3V0aW9uKCdBUEknLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VUkocGFyYW1zLCBleHBsaWNpdFBhcmFtcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXJ0VUkocGFyYW1zOiBPYmplY3QsIGV4cGxpY2l0UGFyYW1zOiBPYmplY3QpIHtcclxuICAgICAgICBwYXJhbXMgPSBvYmplY3RVdGlscy5jbG9uZShwYXJhbXMpO1xyXG4gICAgICAgIHRoaXMucHJlcGFyZVBhcmFtZXRlcnMocGFyYW1zKTtcclxuXHJcbiAgICAgICAgdGhpcy5wcmVwcm9jZXNzUmVxdWVzdChwYXJhbXMsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gTGVnYWN5XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy51c2VCYXNlUGx1Z2luKSB7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgbG9hZGluZyBsZWdhY3kgcGx1Z2luYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxlZ2FjeVN0YXJ0VUkocGFyYW1zLCBleHBsaWNpdFBhcmFtcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQmFzZVBsdWdpblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYGxvYWRpbmcgbW9kZXJuIHBsdWdpbmApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkUGx1Z2luSlMocGFyYW1zLCBleHBsaWNpdFBhcmFtcywgKGxvYWRlZEZyb21TZXJ2ZXI6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVV0aWxzLnF1ZXVlRm9yRXhlY3V0aW9uKCdVSScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWRlZEZyb21TZXJ2ZXIgJiYgdGhpcy5jbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luVHlwZSA9IHRoaXMuZ2V0UGx1Z2luVHlwZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmplY3Rpb25JbmZvID0gdGhpcy5wbHVnaW5UeXBlLmluamVjdGlvbkluZm8odGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmblN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFBsdWdpbihwYXJhbXMsIGV4cGxpY2l0UGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXNbJ3dhaXRGb3JEZWJ1ZyddID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmblN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZVV0aWxzLnF1ZXVlRm9yRXhlY3V0aW9uKCdkZWJ1ZycsIGZuU3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0UGx1Z2luKHBhcmFtczogT2JqZWN0LCBleHBsaWNpdFBhcmFtczogT2JqZWN0KSB7XHJcbiAgICAgICAgZ2xvYmFsRXZlbnRzLmRpc3BhdGNoKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdiZWZvcmVQbHVnaW5SZXF1ZXN0JyxcclxuICAgICAgICAgICAgICAgIG1ldGhvZE5hbWU6IHRoaXMubWV0aG9kTmFtZSxcclxuICAgICAgICAgICAgICAgIHBhcmFtcyxcclxuICAgICAgICAgICAgICAgIGV4cGxpY2l0UGFyYW1zLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwYXJhbXMsXHJcbiAgICAgICAgKTtcclxuICAgICAgICB2YXIgbWV0aG9kTmFtZSA9IHBhcmFtc1snb3JpZ2luYWxNZXRob2ROYW1lJ10gfHwgdGhpcy5tZXRob2ROYW1lO1xyXG4gICAgICAgIGxvZ0NhbGwobWV0aG9kTmFtZSwgcGFyYW1zKTtcclxuICAgICAgICByZXBvcnRzLnJlcG9ydExvYWQobWV0aG9kTmFtZSwgcGFyYW1zKTtcclxuXHJcbiAgICAgICAgLy8gQmFzZVBsdWdpblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpblR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKHBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzID0gZ2V0UGx1Z2luSW5zdGFuY2UocGFyYW1zLCB0aGlzLmluamVjdGlvbkluZm8pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzICYmIHByZXZpb3VzLmRpc3Bvc2UgJiYgIXBhcmFtc1snX2FsbG93TXVsdGlwbGVJbnN0YW5jZXMnXSAmJiAhcGFyYW1zWyduZXdNb2RhbCddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgdGhpcy5wbHVnaW5UeXBlKHBhcmFtcywgZXhwbGljaXRQYXJhbXMsIHRoaXMuaW5qZWN0aW9uSW5mbyk7XHJcblxyXG4gICAgICAgICAgICAvLy8gVE9ETzogY29uZGl0aW9uIHRoaXMgdG8gYSBnbG9iYWwgYXR0cmlidXRlLlxyXG4gICAgICAgICAgICBzZXRQbHVnaW5JbnN0YW5jZShwYXJhbXMsIHRoaXMuaW5qZWN0aW9uSW5mbywgaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICAgICAgaW5zdGFuY2Uub25EaXNwb3NlZEV2ZW50KCkuYWRkKCgpID0+IHJlbW92ZVBsdWdpbkluc3RhbmNlKHBhcmFtcywgdGhpcy5pbmplY3Rpb25JbmZvKSk7XHJcblxyXG4gICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgc3RhcnRpbmcgcGx1Z2luICR7dGhpcy5pbmplY3Rpb25JbmZvLm5hbWV9IHdpdGggcGFyYW1zYCwgaW5zdGFuY2UucGFyYW1zKTtcclxuICAgICAgICAgICAgaW5zdGFuY2Uuc3RhcnQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5jb250YWluZXJJRCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluc3RhbmNlLmNvbnRhaW5lcklEKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJbJ2dpZ3lhUGx1Z2luSW5zdGFuY2UnXSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocGFyYW1zWydnZXRJbnN0YW5jZSddKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXNbJ2dldEluc3RhbmNlJ10oaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBMZWdhY3lcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmdW5jdGlvbnNVdGlscy5jYWxsRnVuY3Rpb24oJ2dpZ3lhLicgKyB0aGlzLmpzTmFtZSArICcuJyArIHRoaXMubWV0aG9kTmFtZSwgW3BhcmFtcywgcGFyYW1zLCBwYXJhbXNdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkUGx1Z2luSlMocGFyYW1zOiBPYmplY3QsIGV4cGxpY2l0UGFyYW1zOiBPYmplY3QsIGNhbGxiYWNrOiAoZnJvbVNlcnZlcjogYm9vbGVhbikgPT4gdm9pZCkge1xyXG4gICAgICAgIGlmICh0aGlzLndhc1BsdWdpbkpTTG9hZGVkKHBhcmFtcykpIHtcclxuICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYHBsdWdpbiB3YXMgYWxyZWFkeSBsb2FkZWRgKTtcclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHBsdWdpbkJhc2UgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjZG5QcmVmaXggPSBnZXRDZG5SZXNvdXJjZSgnL2pzLycpO1xyXG4gICAgICAgICAgICB2YXIganNTZXJ2aWNlTmFtZSA9ICdnaWd5YS5zZXJ2aWNlcy4nICsgdGhpcy5qc05hbWU7XHJcbiAgICAgICAgICAgIHZhciBwbHVnaW5VcmwgPSBjZG5QcmVmaXggKyBqc1NlcnZpY2VOYW1lICsgJy5taW4uanMnICsgKHBhcmFtc1snbGFuZyddID8gJz9sYW5nPScgKyBwYXJhbXNbJ2xhbmcnXSA6ICcnKTtcclxuICAgICAgICAgICAgdmFyIHBsdWdpbldpdGhCYXNlVXJsID1cclxuICAgICAgICAgICAgICAgIGNkblByZWZpeCArICdnaWd5YS5zZXJ2aWNlcy5wbHVnaW5zLmJhc2UubWluLmpzP3NlcnZpY2VzPScgKyBqc1NlcnZpY2VOYW1lICsgKHBhcmFtc1snbGFuZyddID8gJyZsYW5nPScgKyBwYXJhbXNbJ2xhbmcnXSA6ICcnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBsb2FkVXJsOiBzdHJpbmc7XHJcblxyXG4gICAgICAgICAgICBpZiAoIV9fcGx1Z2luc0NvcmVMb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5kZWJ1ZyhgbG9ja2luZyBxdWV1ZSB0byBmZXRjaCBiYXNlUGx1Z2luYCk7XHJcbiAgICAgICAgICAgICAgICBsb2FkVXJsID0gcGx1Z2luV2l0aEJhc2VVcmw7XHJcbiAgICAgICAgICAgICAgICBfX3BsdWdpbnNDb3JlTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHBsdWdpbkJhc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcXVldWVVdGlscy5ob2xkKCdwbHVnaW5zSlMnLCAnVUknKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxvYWRVcmwgPSBwbHVnaW5Vcmw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBsb2FkaW5nICR7anNTZXJ2aWNlTmFtZX1gKTtcclxuICAgICAgICAgICAgZ2xvYmFsRXZlbnRzLmRpc3BhdGNoKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2JlZm9yZVBsdWdpbkxvYWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZE5hbWU6IHRoaXMubWV0aG9kTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBleHBsaWNpdFBhcmFtcyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgc2NyaXB0VXRpbHMubG9hZChcclxuICAgICAgICAgICAgICAgIGxvYWRVcmwsXHJcbiAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW5CYXNlKSBxdWV1ZVV0aWxzLnJlbGVhc2UoJ3BsdWdpbnNKUycsICdVSScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBbcGx1Z2luVXJsLCBwbHVnaW5XaXRoQmFzZVVybF0sXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgd2FzUGx1Z2luSlNMb2FkZWQocGFyYW1zOiBPYmplY3QpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgZnVuY05hbWUgPSAnZ2lneWEuJyArIHRoaXMuanNOYW1lICsgJy4nICsgdGhpcy5tZXRob2ROYW1lO1xyXG4gICAgICAgIHZhciBmdWxsSlNOYW1lID0gJ2dpZ3lhLnNlcnZpY2VzLicgKyB0aGlzLmpzTmFtZSArICcuanMnO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgZnVuYyA9IHRoaXMuZ2V0UGx1Z2luVHlwZSgpO1xyXG4gICAgICAgICAgICB2YXIgbGFuZ09iaiA9IGdpZ3lhWydpMThuJ11bZnVsbEpTTmFtZV1bcGFyYW1zWydsYW5nJ11dO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0eXBlb2YgZnVuYyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGxhbmdPYmogIT09ICd1bmRlZmluZWQnO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0UGx1Z2luVHlwZSgpIHtcclxuICAgICAgICBjb25zdCBwYXRoQWNjZXNzb3IgPSBvYmplY3RVdGlscy5leHByZXNzaW9uSGVscGVyKGdpZ3lhKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGF0aHMgPSBbXHJcbiAgICAgICAgICAgIGBfLnBsdWdpbnMuJHt0aGlzLmNsYXNzTmFtZX1gLCAvLyBtb2Rlcm5cclxuICAgICAgICAgICAgYCR7dGhpcy5qc05hbWV9LiR7dGhpcy5tZXRob2ROYW1lfWAsIC8vIGxlZ2FjeVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBwYXRocykge1xyXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gcGF0aEFjY2Vzc29yLmdldEZpZWxkKHBhdGgpO1xyXG4gICAgICAgICAgICBpZiAodHlwZSkgcmV0dXJuIHR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFNvdXJjZURhdGEocGFyYW1zOiBPYmplY3QpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5tZXRob2ROYW1lID09ICdzb2NpYWxpemUuc2hvd1NpbXBsZVNoYXJlVUknKSB7XHJcbiAgICAgICAgICAgIHBhcmFtc1snc291cmNlJ10gPSAnc29jaWFsaXplLnNob3dTaGFyZVVJJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwYXJhbXNbJ3NvdXJjZSddID0gcGFyYW1zWydvcmlnaW5hbE1ldGhvZE5hbWUnXSB8fCB0aGlzLm1ldGhvZE5hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXBhcmFtc1snc291cmNlRGF0YSddICYmIHNvdXJjZURhdGFQYXJhbXNbdGhpcy5tZXRob2ROYW1lXSkge1xyXG4gICAgICAgICAgICB2YXIgc291cmNlRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICB2YXIgYWRkZWRTb3VyY2VEYXRhOiBib29sZWFuO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZURhdGFQYXJhbXNbdGhpcy5tZXRob2ROYW1lXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtTmFtZSA9IHNvdXJjZURhdGFQYXJhbXNbdGhpcy5tZXRob2ROYW1lXVtpXTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXNbcGFyYW1OYW1lXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkZWRTb3VyY2VEYXRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VEYXRhW3BhcmFtTmFtZV0gPSBwYXJhbXNbcGFyYW1OYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYWRkZWRTb3VyY2VEYXRhKSBwYXJhbXNbJ3NvdXJjZURhdGEnXSA9IHNvdXJjZURhdGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXBhcmFtc1sncGx1Z2luc1N0YWNrJ10pIHBhcmFtc1sncGx1Z2luc1N0YWNrJ10gPSBbXTtcclxuICAgICAgICBwYXJhbXNbJ3BsdWdpbnNTdGFjayddLnB1c2goeyBzb3VyY2U6IHRoaXMubWV0aG9kTmFtZSB9KTsgLy9mb3IgZGVidWdnaW5nXHJcbiAgICAgICAgcGFyYW1zWydsYXN0U291cmNlJ10gPSB0aGlzLm1ldGhvZE5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVSZXF1aXJlZFBhcmFtcyhwYXJhbXM6IE9iamVjdCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHZhciBhclJlcXVpcmVkUGFyYW1zID0gdGhpcy5zZXR0aW5ncy5yZXF1aXJlZFBhcmFtcy5zcGxpdCgnfCcpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJSZXF1aXJlZFBhcmFtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgcmVxdWlyZWRQYXJhbSA9IGFyUmVxdWlyZWRQYXJhbXNbaV07XHJcbiAgICAgICAgICAgIGlmIChyZXF1aXJlZFBhcmFtICE9ICcnICYmIChwYXJhbXNbcmVxdWlyZWRQYXJhbV0gPT0gbnVsbCB8fCBwYXJhbXNbcmVxdWlyZWRQYXJhbV0gPT0gJycpKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMuZGlzcGF0Y2hJbnZhbGlkUGFyYW1FcnJvcihwYXJhbXMsIHJlcXVpcmVkUGFyYW0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERlZmF1bHRQYXJhbXMocGFyYW1zOiBPYmplY3QpOiB2b2lkIHtcclxuICAgICAgICB2YXIgaXNQb3B1cCA9ICFwYXJhbXNbJ2NvbnRhaW5lcklEJ10gfHwgcGFyYW1zWydpc1BvcHVwJ107XHJcbiAgICAgICAgZm9yICh2YXIgcGFyYW1OYW1lIGluIHRoaXMuc2V0dGluZ3MuZGVmYXVsdFBhcmFtcykge1xyXG4gICAgICAgICAgICBpZiAocGFyYW1zW3BhcmFtTmFtZV0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUG9wdXAgJiYgdGhpcy5zZXR0aW5ncy5kZWZhdWx0UG9wdXBQYXJhbXNbcGFyYW1OYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1twYXJhbU5hbWVdID0gdGhpcy5zZXR0aW5ncy5kZWZhdWx0UG9wdXBQYXJhbXNbcGFyYW1OYW1lXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zW3BhcmFtTmFtZV0gPSB0aGlzLnNldHRpbmdzLmRlZmF1bHRQYXJhbXNbcGFyYW1OYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUG9wdXApIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcGFyYW1OYW1lIGluIHRoaXMuc2V0dGluZ3MuZGVmYXVsdFBvcHVwUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtc1twYXJhbU5hbWVdKSBwYXJhbXNbcGFyYW1OYW1lXSA9IHRoaXMuc2V0dGluZ3MuZGVmYXVsdFBhcmFtc1twYXJhbU5hbWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByZXBhcmVQYXJhbWV0ZXJzKHBhcmFtczogT2JqZWN0KSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHBhcmFtcykge1xyXG4gICAgICAgICAgICAvLyBSZXBsYWNlIHByb3ZpZGVyIGFsaWFzZXMgd2l0aCBwcm92aWRlciBuYW1lc1xyXG4gICAgICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigncHJvdmlkZXInKSAhPSAtMSAmJiB0eXBlb2YgcGFyYW1zW2tleV0gPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtc1trZXldID0gcmVwbGFjZVByb3ZpZGVyQWxpYXNlcyhwYXJhbXNba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBlbmdsaXNoIGFzIGRlZmF1bHQgbGFuZ3VhZ2VcclxuICAgICAgICBpZiAoIXBhcmFtc1snbGFuZyddKSB7XHJcbiAgICAgICAgICAgIHBhcmFtc1snbGFuZyddID0gZ2lneWEudGhpc1NjcmlwdC5sYW5nLmxhbmdDb2RlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFwYXJhbXNbJ3NvdXJjZSddKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U291cmNlRGF0YShwYXJhbXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhcmFtc1snaXNQb3B1cCddID0gZmFsc2U7IC8vdG8gYXZvaWQgcGFyYW1zLmlzUG9wdXAgYmVpbmcgcGFzc2VkIGZyb20gVUkgd2lkZ2V0c1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBGb3IgcGx1Z2lucyB0aGF0IGRvIG5vdCBzdXBwb3J0IEJhc2VQbHVnaW5cclxuICAgIGxlZ2FjeVN0YXJ0VUkocGFyYW1zOiBPYmplY3QsIGV4cGxpY2l0UGFyYW1zOiBPYmplY3QpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVySUQgPSBwYXJhbXNbJ2NvbnRhaW5lcklEJ107XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaWdub3JlQ29udGFpbmVySWQpIHtcclxuICAgICAgICAgICAgcGFyYW1zWydjb250YWluZXJJRCddID0gJyc7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lcklEID0gJyc7XHJcbiAgICAgICAgfSBlbHNlIGlmICgocGFyYW1zWydjb250YWluZXJJRCddID09IG51bGwgJiYgIXRoaXMuc2V0dGluZ3MuYWxsb3dQb3B1cCkgfHwgKHBhcmFtc1snY29udGFpbmVySUQnXSAmJiAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyYW1zWydjb250YWluZXJJRCddKSkpIHtcclxuICAgICAgICAgICAgZXZlbnRzLmRpc3BhdGNoSW52YWxpZFBhcmFtRXJyb3IocGFyYW1zLCAnY29udGFpbmVySUQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGlzUG9wdXAgPSB0aGlzLnNldHRpbmdzLmFsbG93UG9wdXAgJiYgKCFjb250YWluZXJJRCB8fCBwYXJhbXNbJ2lzUG9wdXAnXSk7XHJcblxyXG4gICAgICAgIGlmIChpc1BvcHVwICYmIHRoaXMuc2V0dGluZ3MudXNlTmV3TW9kYWwpIHBhcmFtc1sndXNlTmV3TW9kYWwnXSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0RGVmYXVsdFBhcmFtcyhwYXJhbXMpO1xyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5hbGxvd1BvcHVwICYmICFpc1BvcHVwKSB7XHJcbiAgICAgICAgICAgIERPTVV0aWxzLmNsZWFyQnlJRChjb250YWluZXJJRCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVSZXF1aXJlZFBhcmFtcyhwYXJhbXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubG9hZFBsdWdpbkpTKHBhcmFtcywgZXhwbGljaXRQYXJhbXMsICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIGZuU3RhcnQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXBhcmVDb250YWluZXIocGFyYW1zLCBpc1BvcHVwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFBsdWdpbihwYXJhbXMsIGV4cGxpY2l0UGFyYW1zKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcXVldWVVdGlscy5xdWV1ZUZvckV4ZWN1dGlvbignVUknLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zWyd3YWl0Rm9yRGVidWcnXSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuU3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVVdGlscy5xdWV1ZUZvckV4ZWN1dGlvbignZGVidWcnLCBmblN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlcGFyZUNvbnRhaW5lcihwYXJhbXM6IE9iamVjdCwgaXNQb3B1cDogYm9vbGVhbiwgY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWRvY3VtZW50LmJvZHkpIHtcclxuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVwYXJlQ29udGFpbmVyKHBhcmFtcywgaXNQb3B1cCwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXJJRCA9IHBhcmFtc1snY29udGFpbmVySUQnXTtcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc1BvcHVwKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXJJRCA9IERPTVV0aWxzLmdldENlbnRlcmVkRGl2SUQodGhpcy5tZXRob2ROYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXNbJ25ld01vZGFsJ10pIGNvbnRhaW5lcklEICs9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zWydjb250YWluZXJJRCddID0gY29udGFpbmVySUQ7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXNbJ2lzUG9wdXAnXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklEKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IERPTVV0aWxzLmNyZWF0ZVRvcExldmVsRGl2KGNvbnRhaW5lcklEKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySUQpO1xyXG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLmRpc3BhdGNoSW52YWxpZFBhcmFtRXJyb3IocGFyYW1zLCAnY29udGFpbmVySUQnKTtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vICB2YXIganNVcmwgPSB0aGlzLmdldFBsdWdpbkpzVXJsKHBhcmFtcyk7XHJcbiAgICAgICAgICAgIHZhciBSZXFzID0gY29udGFpbmVyWydSZXFzJ10gPyBjb250YWluZXJbJ1JlcXMnXSA6IChjb250YWluZXJbJ1JlcXMnXSA9IFtdKTtcclxuICAgICAgICAgICAgdmFyIHJpZCA9IFJlcXMubGVuZ3RoICsgJ0AnICsgMCArICdAJyArIGNvbnRhaW5lcklEO1xyXG4gICAgICAgICAgICBwYXJhbXNbJ3JpZCddID0gcmlkO1xyXG4gICAgICAgICAgICB2YXIgcmVxID0gKFJlcXNbUmVxcy5sZW5ndGhdID0ge1xyXG4gICAgICAgICAgICAgICAgcmlkOiByaWQsXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogdGhpcy5tZXRob2ROYW1lLFxyXG4gICAgICAgICAgICAgICAgY29udGV4dDogcGFyYW1zWydjb250ZXh0J10sXHJcbiAgICAgICAgICAgICAgICBjOiBwYXJhbXMsXHJcbiAgICAgICAgICAgICAgICBwOiBwYXJhbXMsXHJcbiAgICAgICAgICAgICAgICBpOiBwYXJhbXMsXHJcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IHRoaXMubWV0aG9kTmFtZSxcclxuICAgICAgICAgICAgICAgIGlzSFRNTDogdHJ1ZSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyICYmIGNvbnRhaW5lci5zdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGlmcmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dpZ3lhX2lmcl8nICsgY29udGFpbmVySUQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlmcmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWZyZWwuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmcmVsLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZm5jRml4UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaWZyZWwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBpcyBuZXcgbW9kYWwsIG1lYXN1cmUgdGhlIG5ldyBtb2RhbCBkaWFsb2cgc2l6ZSBhbmQgc2VuIGl0IHRvIHRoZSBtYXNrIG9wdGlvbnMuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERPTVV0aWxzLnNldFNpemUoaWZyZWwsIHBhcmFtc1snd2lkdGgnXSwgcGFyYW1zWydoZWlnaHQnXSwgaXNQb3B1cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qaWYgKGdpZ3lhLmxvY2FsSW5mby5pc0lFKSB7Ki8gaWZyZWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsgLyp9Ki9cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgRE9NVXRpbHMuc2V0U2l6ZShjb250YWluZXIsIHBhcmFtc1snd2lkdGgnXSwgcGFyYW1zWydoZWlnaHQnXSwgaXNQb3B1cCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGZuY0ZpeFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBsb2NhbE1ldGhvZE5hbWUgPSB0aGlzLm1ldGhvZE5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2dpZ2lkJywgKHBhcmFtc1snc291cmNlJ10gJiYgcGFyYW1zWydzb3VyY2UnXSAhPSBsb2NhbE1ldGhvZE5hbWUgPyBwYXJhbXNbJ3NvdXJjZSddICsgJ18nIDogJycpICsgbG9jYWxNZXRob2ROYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJUGx1Z2luLCBJSW5qZWN0aW9uSW5mbyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVWlBcGknO1xyXG5cclxuZXhwb3J0IHZhciBpbnN0YW5jZXM6IHsgW2NvbnRhaW5lcklEOiBzdHJpbmddOiBJUGx1Z2luIH0gPSB7fTtcclxuZnVuY3Rpb24gZ2V0SW5zdGFuY2VJZChwYXJhbXM6IE9iamVjdCwgaW5qZWN0aW9uSW5mbzogSUluamVjdGlvbkluZm8pOiBzdHJpbmcge1xyXG4gICAgaWYgKHBhcmFtc1snaW5zdGFuY2VJRCddKSByZXR1cm4gcGFyYW1zWydpbnN0YW5jZUlEJ107XHJcbiAgICBlbHNlIGlmIChwYXJhbXNbJ2lzUG9wdXAnXSkgcmV0dXJuICdnaWd5YS1tb2RhbC1wbHVnaW4tY29udGFpbmVyLScgKyBpbmplY3Rpb25JbmZvLm1ldGhvZE5hbWU7XHJcbiAgICBlbHNlIGlmIChwYXJhbXNbJ2NvbnRhaW5lcklEJ10pIHJldHVybiBwYXJhbXNbJ2NvbnRhaW5lcklEJ107XHJcbiAgICBlbHNlIHJldHVybiBpbmplY3Rpb25JbmZvLm5hbWU7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBsdWdpbkluc3RhbmNlKHBhcmFtczogT2JqZWN0LCBpbmplY3Rpb25JbmZvOiBJSW5qZWN0aW9uSW5mbyk6IElQbHVnaW4ge1xyXG4gICAgdmFyIHBsdWdpbklEID0gZ2V0SW5zdGFuY2VJZChwYXJhbXMsIGluamVjdGlvbkluZm8pO1xyXG4gICAgcmV0dXJuIGluc3RhbmNlc1twbHVnaW5JRF07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFBsdWdpbkluc3RhbmNlKHBhcmFtczogT2JqZWN0LCBpbmplY3Rpb25JbmZvOiBJSW5qZWN0aW9uSW5mbywgaW5zdGFuY2U6IElQbHVnaW4sIG92ZXJyaWRlID0gZmFsc2UpOiB2b2lkIHtcclxuICAgIHZhciBwbHVnaW5JRCA9IGdldEluc3RhbmNlSWQocGFyYW1zLCBpbmplY3Rpb25JbmZvKTtcclxuXHJcbiAgICBpZiAoIW92ZXJyaWRlKSB7XHJcbiAgICAgICAgdmFyIG9yaWdpbklEID0gcGx1Z2luSUQ7XHJcbiAgICAgICAgZm9yICh2YXIgbnVtU3VmZml4ID0gMjsgaW5zdGFuY2VzW3BsdWdpbklEXTsgbnVtU3VmZml4KyspIHtcclxuICAgICAgICAgICAgcGx1Z2luSUQgPSBvcmlnaW5JRCArIG51bVN1ZmZpeC50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwYXJhbXNbJ2luc3RhbmNlSUQnXSA9IHBsdWdpbklEO1xyXG4gICAgaW5zdGFuY2VzW3BsdWdpbklEXSA9IGluc3RhbmNlO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVQbHVnaW5JbnN0YW5jZShwYXJhbXM6IE9iamVjdCwgaW5qZWN0aW9uSW5mbzogSUluamVjdGlvbkluZm8pIHtcclxuICAgIGRlbGV0ZSBpbnN0YW5jZXNbZ2V0SW5zdGFuY2VJZChwYXJhbXMsIGluamVjdGlvbkluZm8pXTtcclxuICAgIGRlbGV0ZSBwYXJhbXNbJ2luc3RhbmNlSUQnXTtcclxufVxyXG4iLCJpbXBvcnQgKiBhcyBxdWV1ZVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9xdWV1ZSc7XHJcbmltcG9ydCAqIGFzIGZ1bmN0aW9uc1V0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9mdW5jdGlvbnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luKHBsdWdpbkluaXQ6ICgpID0+IHZvaWQpIHtcclxuICAgIHF1ZXVlVXRpbHMucXVldWVGb3JFeGVjdXRpb24oJ1VJJywgcGx1Z2luSW5pdCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaFBsdWdpbihwbHVnaW5DbGFzcywgbmFtZXNwYWNlLCBwbHVnaW5OYW1lLCBwdWJsaWNNZXRob2ROYW1lKSB7XHJcbiAgICBpZiAoIW5hbWVzcGFjZSkgbmFtZXNwYWNlID0gJ3NvY2lhbGl6ZSc7XHJcbiAgICBpZiAoIWdpZ3lhW25hbWVzcGFjZV0pIGdpZ3lhW25hbWVzcGFjZV0gPSB7fTtcclxuICAgIGlmICghZ2lneWFbbmFtZXNwYWNlXS5wbHVnaW5zKSBnaWd5YVtuYW1lc3BhY2VdLnBsdWdpbnMgPSB7fTtcclxuICAgIGlmICghZ2lneWFbbmFtZXNwYWNlXS5wbHVnaW5zW3BsdWdpbk5hbWVdKSBnaWd5YVtuYW1lc3BhY2VdLnBsdWdpbnNbcGx1Z2luTmFtZV0gPSB7IGluc3RhbmNlczogW10gfTtcclxuICAgIHZhciBucyA9IGdpZ3lhW25hbWVzcGFjZV0ucGx1Z2luc1twbHVnaW5OYW1lXTtcclxuICAgIGlmICghbnNbcHVibGljTWV0aG9kTmFtZV0pIHtcclxuICAgICAgICBuc1twdWJsaWNNZXRob2ROYW1lXSA9IGZ1bmN0aW9uKHBhcmFtcykge1xyXG4gICAgICAgICAgICB2YXIgcmVmU3RyaW5nID0gJ2dpZ3lhLicgKyBuYW1lc3BhY2UgKyAnLnBsdWdpbnMuJyArIHBsdWdpbk5hbWUgKyAnLmluc3RhbmNlc1snICsgbnMuaW5zdGFuY2VzLmxlbmd0aCArICddJztcclxuICAgICAgICAgICAgdmFyIHBsdWdpbiA9IG5ldyBwbHVnaW5DbGFzcyhwYXJhbXMsIHJlZlN0cmluZyk7XHJcbiAgICAgICAgICAgIG5zLmluc3RhbmNlcy5wdXNoKHBsdWdpbik7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocGx1Z2luQ2xhc3MuU3RhdGljQXBpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBwbHVnaW5DbGFzcy5TdGF0aWNBcGkpIHtcclxuICAgICAgICAgICAgdmFyIGZ1bmNOYW1lID0gcGx1Z2luQ2xhc3MuU3RhdGljQXBpW25hbWVdO1xyXG4gICAgICAgICAgICB2YXIgZnVuYyA9IHBsdWdpbkNsYXNzW2Z1bmNOYW1lXTtcclxuICAgICAgICAgICAgZnVuY3Rpb25zVXRpbHMuY3JlYXRlQWxpYXMoJ2dpZ3lhLicgKyBuYW1lc3BhY2UgKyAnLnBsdWdpbnMuJyArIHBsdWdpbk5hbWUgKyAnLicgKyBuYW1lLCBmdW5jKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSVBsdWdpblZlcnNpb25JbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9VaUFwaSc7XHJcbmltcG9ydCAqIGFzIGFycmF5VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2FycmF5JztcclxuXHJcbmV4cG9ydCBjbGFzcyBWZXJzaW9uU2VsZWN0b3Ige1xyXG4gICAgcHJpdmF0ZSBfZGVmYXVsdFZlcnNpb25JbmRleDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbWV0aG9kTmFtZTogc3RyaW5nLCBwcml2YXRlIF92ZXJzaW9uczogSVBsdWdpblZlcnNpb25JbmZvW10sIGRlZmF1bHRWZXJzaW9uTmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl92ZXJzaW9ucyB8fCB0aGlzLl92ZXJzaW9ucy5sZW5ndGggPCAxKSB0aHJvdyBuZXcgRXJyb3IodGhpcy5tZXRob2ROYW1lICsgJzogcmVxdWlyZWQgYXQgbGVhc3Qgb25lIHZhbGlkIHZlcnNpb24nKTtcclxuXHJcbiAgICAgICAgaWYgKCFkZWZhdWx0VmVyc2lvbk5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGVmYXVsdFZlcnNpb25JbmRleCA9IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZGVmYXVsdFZlcnNpb25JbmRleCA9IHRoaXMuZmluZFZlcnNpb25JbmRleE9yRGVmYXVsdChkZWZhdWx0VmVyc2lvbk5hbWUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGVmYXVsdFZlcnNpb25JbmRleCA9PSAtMSkgdGhyb3cgbmV3IEVycm9yKHRoaXMubWV0aG9kTmFtZSArICc6IGRlZmF1bHQgdmVyc2lvbiBpcyBub3QgZGVmaW5lZCBhcyBhIHZlcnNpb24nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhbGxWZXJzaW9uKHZlcnNpb25OYW1lOiBzdHJpbmcsIHBhcmFtczogT2JqZWN0ID0ge30sIGFyZ3M6IEFycmF5PGFueT4gPSBbcGFyYW1zXSkge1xyXG4gICAgICAgIHZhciB3YW50ZWRWZXJzaW9uSW5kZXggPSB0aGlzLmZpbmRWZXJzaW9uSW5kZXhPckRlZmF1bHQodmVyc2lvbk5hbWUpO1xyXG5cclxuICAgICAgICBpZiAod2FudGVkVmVyc2lvbkluZGV4ID09IC0xKSB0aHJvdyBFcnJvcihcImdpZ3lhIHBsdWdpbiB2ZXJzaW9uIGRvZXNuJ3QgZXhpc3RcIik7XHJcblxyXG4gICAgICAgIHZhciBzdXBwb3J0ZWRWZXJzaW9uID0gdGhpcy5maW5kU3VwcG9ydGVkVmVyc2lvbih3YW50ZWRWZXJzaW9uSW5kZXgpO1xyXG5cclxuICAgICAgICBpZiAoIXN1cHBvcnRlZFZlcnNpb24pIHRocm93IG5ldyBFcnJvcih2ZXJzaW9uTmFtZSArICc6IGNvdWxkIG5vdCBmaW5kIHN1cHBvcnRlZCB2ZXJzaW9uIGZvciB0aGlzIGJyb3dzZXInKTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pbnZva2VWZXJzaW9uTWV0aG9kKHN1cHBvcnRlZFZlcnNpb24sIHBhcmFtcywgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmluZFN1cHBvcnRlZFZlcnNpb24oc3RhcnRJbmRleDogbnVtYmVyKTogSVBsdWdpblZlcnNpb25JbmZvIHtcclxuICAgICAgICB2YXIgdmVyc2lvbnNOdW0gPSB0aGlzLl92ZXJzaW9ucy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVyc2lvbnNOdW07ICsraSkge1xyXG4gICAgICAgICAgICAvLyBnbyBjeWNsaWNseSB0aHJvdWdoIHZlcnNpb25zIGZyb20gc3RhcnQgaW5kZXhcclxuICAgICAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLl92ZXJzaW9uc1soc3RhcnRJbmRleCAtIGkgKyB2ZXJzaW9uc051bSkgJSB2ZXJzaW9uc051bV07XHJcblxyXG4gICAgICAgICAgICBpZiAoIXZlcnNpb24uaXNTdXBwb3J0ZWQgfHwgdmVyc2lvbi5pc1N1cHBvcnRlZCh7IGRpcmVjdENhbGw6IGkgPT0gMCB9KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZlcnNpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmaW5kVmVyc2lvbkluZGV4T3JEZWZhdWx0KHZlcnNpb25OYW1lOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSAtMTtcclxuXHJcbiAgICAgICAgaWYgKHZlcnNpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGFycmF5VXRpbHMuZmlyc3RJbmRleCh0aGlzLl92ZXJzaW9ucywgdmVyc2lvbiA9PiB2ZXJzaW9uLnZlcnNpb25OYW1lID09IHZlcnNpb25OYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHZlcnNpb24gbmFtZSBpc24ndCBnaXZlbiBvciBkb2Vzbid0IGV4aXN0XHJcbiAgICAgICAgaWYgKHJlc3VsdCA9PSAtMSkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9kZWZhdWx0VmVyc2lvbkluZGV4ICE9PSB1bmRlZmluZWQgPyB0aGlzLl9kZWZhdWx0VmVyc2lvbkluZGV4IDogLTE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW52b2tlVmVyc2lvbk1ldGhvZCh2ZXJzaW9uOiBJUGx1Z2luVmVyc2lvbkluZm8sIHBhcmFtczogT2JqZWN0ID0ge30sIGFyZ3M6IEFycmF5PGFueT4gPSBbcGFyYW1zXSkge1xyXG4gICAgICAgIHZhciB2ZXJzaW9uTWV0aG9kOiBGdW5jdGlvbjtcclxuXHJcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmVyc2lvbi5tZXRob2QpIHtcclxuICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICAgICAgICAgICAgdmVyc2lvbk1ldGhvZCA9IHZlcnNpb24ubWV0aG9kIGFzIEZ1bmN0aW9uO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICAgICAgICAgICAgICB2ZXJzaW9uTWV0aG9kID0gZXZhbCh2ZXJzaW9uLm1ldGhvZCBhcyBzdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zWydzZWxlY3RlZE1ldGhvZE5hbWUnXSA9IHZlcnNpb24ubWV0aG9kIGFzIHN0cmluZzsgLy8gZGVidWcgbGVnYWN5XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKHRoaXMubWV0aG9kTmFtZSArICcgJyArIHZlcnNpb24udmVyc2lvbk5hbWUgKyAnOiB1bnN1cHBvcnRlZCBnaWd5YS12ZXJzaW9uIG1ldGhvZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29weSBhZGRpdGlvbmFsIHBhcmFtcy5cclxuICAgICAgICBmb3IgKHZhciBmaWVsZCBpbiB2ZXJzaW9uLmFkZGl0aW9uYWxQYXJhbXMpIHBhcmFtc1tmaWVsZF0gPSB2ZXJzaW9uLmFkZGl0aW9uYWxQYXJhbXNbZmllbGRdO1xyXG5cclxuICAgICAgICAvLyBMZWdhY3kuXHJcbiAgICAgICAgcGFyYW1zWydvcmlnaW5hbE1ldGhvZE5hbWUnXSA9IHRoaXMubWV0aG9kTmFtZTtcclxuXHJcbiAgICAgICAgLy8gR29cclxuICAgICAgICB2ZXJzaW9uTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IElEaXNwb3NhYmxlIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvaW50ZXJmYWNlcy9JRGlzcG9zYWJsZSc7XHJcbmltcG9ydCAqIGFzIGV2ZW50cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXZlbnRzJztcclxuaW1wb3J0ICogYXMgYXJyYXlVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvYXJyYXknO1xyXG5pbXBvcnQgeyBFdmVudFdyYXBwZXIgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQmFzZU9iamVjdC9FdmVudFdyYXBwZXInO1xyXG5pbXBvcnQgKiBhcyBnbG9iYWxFdmVudHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0dsb2JhbEV2ZW50cyc7XHJcbmltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9vYmplY3QnO1xyXG5pbXBvcnQgeyBJQmFzZU9iamVjdENvbmZpZyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9CYXNlT2JqZWN0L0lCYXNlT2JqZWN0Q29uZmlnJztcclxuaW1wb3J0IHsgR1NFcnJvcnMgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR1NFcnJvcnMnO1xyXG5cclxuLy8gQmFzZU9iamVjdFxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQmFzZU9iamVjdFBhcmFtIHtcclxuICAgIG9uRXJyb3I/OiAoZSkgPT4gdm9pZDtcclxufVxyXG5leHBvcnQgY2xhc3MgQmFzZU9iamVjdDxQIGV4dGVuZHMgSUJhc2VPYmplY3RQYXJhbT4gaW1wbGVtZW50cyBJRGlzcG9zYWJsZSB7XHJcbiAgICAvLy8gU3RhdGljXHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZUNvdW50ZXIgPSAwO1xyXG4gICAgcHVibGljIHN0YXRpYyBOT1RfSU1QTEVNRU5URURfRVJST1IgPSAnQWJzdHJhY3QgbWV0aG9kIG5vdCBpbXBsZW1lbnRlZCc7XHJcblxyXG4gICAgLy8vIFByb3ZpZGVyc1xyXG4gICAgcHJpdmF0ZSBfbG9nZ2VyID0gZ2lneWEubG9nZ2VyO1xyXG4gICAgcHJpdmF0ZSBfZXZlbnREaXNwYXRjaGVyID0gKGFyZ3MsIHdpZGdldCkgPT4gZXZlbnRzLmRpc3BhdGNoRm9yV2lkZ2V0KGFyZ3MsIHdpZGdldCk7XHJcbiAgICBwcml2YXRlIF9lcnJvckRpc3BhdGNoZXIgPSBnaWd5YS5ldmVudHM7XHJcbiAgICBwcml2YXRlIF9nbG9iYWxFdmVudHNNYW5hZ2VyID0gZ2lneWEuZXZlbnRzLmdsb2JhbDtcclxuICAgIHByb3RlY3RlZCBfaXNEaXNwb3NlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIC8vLyBNZW1iZXJzXHJcbiAgICBwcml2YXRlIF9ldmVudFdyYXBwZXJzOiBhcnJheVV0aWxzLklNYXA8RXZlbnRXcmFwcGVyPEZ1bmN0aW9uPj4gPSB7fTtcclxuICAgIHByb3RlY3RlZCBfZ2xvYmFsRXZlbnRIYW5kbGVyczogeyBbbmFtZTogc3RyaW5nXTogQXJyYXk8Z2xvYmFsRXZlbnRzLklFdmVudEhhbmRsZXJJbmZvPiB9ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSBfaWQ6IG51bWJlcjtcclxuXHJcbiAgICAvLy8gRXZlbnRzXHJcbiAgICBwdWJsaWMgb25FcnJvckV2ZW50KCk6IEV2ZW50V3JhcHBlcjwoZSkgPT4gdm9pZD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEV2ZW50PChlKSA9PiB2b2lkPignb25FcnJvcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRpc3Bvc2VkRXZlbnQoKTogRXZlbnRXcmFwcGVyPCgpID0+IHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRFdmVudDwoKSA9PiB2b2lkPignb25EaXNwb3NlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLyBNZXRob2RzXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcGFyYW1zPzogUCwgcHVibGljIGV4cGxpY2l0UGFyYW1zPzogUCwgdmFsaWRhdGVQYXJhbXM6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5faWQgPSArK0Jhc2VPYmplY3QuaW5zdGFuY2VDb3VudGVyO1xyXG5cclxuICAgICAgICAvLyBDbG9uZSBwYXJhbXMgdG8gYXZvaWQgbW9kaWZ5aW5nIG9yaWdpbmFscy5cclxuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcyA/IG9iamVjdFV0aWxzLmNsb25lKHBhcmFtcykgOiB7fTtcclxuICAgICAgICB0aGlzLmV4cGxpY2l0UGFyYW1zID0gZXhwbGljaXRQYXJhbXMgPyBvYmplY3RVdGlscy5jbG9uZShleHBsaWNpdFBhcmFtcykgOiB7fTtcclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgcGFyYW1zLlxyXG4gICAgICAgIGlmICh2YWxpZGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlUGFyYW1zKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb3B5IHByb3BlcnRpZXMgdG8gb2JqZWN0IGl0c2VsZi5cclxuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHBhcmFtcyBhcyBhbnkpIHtcclxuICAgICAgICAgICAgaWYgKEJhc2VPYmplY3RbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIEJhc2VPYmplY3RbbmFtZV0gPSBwYXJhbXNbbmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFR5cGUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RvclsnbmFtZSddIHx8IHRoaXMuZ2V0RnVuY3Rpb25OYW1lKHRoaXMuY29uc3RydWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RnVuY3Rpb25OYW1lKGZ1bikge1xyXG4gICAgICAgIHZhciByZXQgPSBmdW4udG9TdHJpbmcoKTtcclxuICAgICAgICByZXQgPSByZXQuc3Vic3RyKCdmdW5jdGlvbiAnLmxlbmd0aCk7XHJcbiAgICAgICAgcmV0ID0gcmV0LnN1YnN0cigwLCByZXQuaW5kZXhPZignKCcpKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vLyBBYnN0cmFjdCBtZXRob2RzXHJcbiAgICBwcm90ZWN0ZWQgZ2V0Q29uZmlnKCk6IElCYXNlT2JqZWN0Q29uZmlnPFA+IHtcclxuICAgICAgICB0aGlzLmVycm9yKEJhc2VPYmplY3QuTk9UX0lNUExFTUVOVEVEX0VSUk9SLCBHU0Vycm9ycy5OT1RfU1VQUE9SVEVEKTtcclxuICAgICAgICByZXR1cm4gPElCYXNlT2JqZWN0Q29uZmlnPFA+Pnt9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vLyBWaXJ0dWFsIG1ldGhvZHNcclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUeXBlKCkgKyAnICcgKyB0aGlzLmlkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB3YXJuKG1zZzogc3RyaW5nLCBlPzogYW55KSB7XHJcbiAgICAgICAgdmFyIHdhcm5Nc2cgPSB0aGlzLmlkKCkgKyAnICcgKyB0aGlzLmdldFR5cGUoKSArICcgLSAnICsgbXNnO1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlci5pbmZvKHdhcm5Nc2csIGUpOyAvLyBhZGQgbWVzc2FnZSB0byBnaWd5YSBkZWJ1ZyBsb2dcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZXJyb3IobXNnOiBzdHJpbmcsIGVycm9yQ29kZTogR1NFcnJvcnMgPSBHU0Vycm9ycy5DTElFTlRfTE9HLCBlPzogYW55KSB7XHJcbiAgICAgICAgdmFyIGVycm9ySW5mbyA9IHtcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBtc2csXHJcbiAgICAgICAgICAgIGVycm9yQ29kZTogZXJyb3JDb2RlLFxyXG4gICAgICAgICAgICBlcnJvckRldGFpbHM6IHRoaXMuaWQoKSxcclxuICAgICAgICAgICAgaW5mbzogZSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndhcm4obXNnLCBlcnJvckluZm8pO1xyXG5cclxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2Vycm9yJywgZXJyb3JJbmZvKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgdmFsaWRhdGVQYXJhbXMocmVxUGFyYW1zPzogc3RyaW5nW10pOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIXJlcVBhcmFtcykgcmVxUGFyYW1zID0gdGhpcy5nZXRDb25maWcoKS5yZXF1aXJlZFBhcmFtcyB8fCBbXTtcclxuXHJcbiAgICAgICAgLy8gQ29tcGxldGUgcGFyYW1zIHdpdGggZGVmYXVsdC5cclxuICAgICAgICBpZiAodGhpcy5nZXRDb25maWcoKS5kZWZhdWx0UGFyYW1zKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW3RoaXMuZ2V0Q29uZmlnKCkuZGVmYXVsdFBhcmFtcywgdGhpcy5wYXJhbXNdKSBhcyBQO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG1pc3NpbmdQYXJhbXMgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZXhpc3RlbmNlIG9mIHJlcXVpcmVkIHBhcmFtc1xyXG4gICAgICAgIGlmIChyZXFQYXJhbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHJlcVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcVBhcmFtcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbSA9IHJlcVBhcmFtc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGFyYW1zW3BhcmFtXSkgbWlzc2luZ1BhcmFtcy5wdXNoKHBhcmFtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1pc3NpbmdQYXJhbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoSW52YWxpZFBhcmFtRXJyb3IobWlzc2luZ1BhcmFtc1swXSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIEV2ZW50cyBtZXRob2RzXHJcblxyXG4gICAgcHJvdGVjdGVkIGRpc3BhdGNoRXZlbnQoZXZlbnROYW1lOiBzdHJpbmcsIGFyZ3M6IGFueSA9IHt9KSB7XHJcbiAgICAgICAgYXJncy5ldmVudE5hbWUgPSBldmVudE5hbWU7XHJcbiAgICAgICAgLy9hcmdzLnNlbmRlciA9IHRoaXM7IC8vIFRPRE8gbWVtb3J5IGxlYWsgZHVlIHRvIHNlbmRlciBjb250YWluaW5nIHJlZnJlbmNlcyB0byBkb21cclxuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnREaXNwYXRjaGVyKGFyZ3MsIHRoaXMucGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZGlzcGF0Y2hFcnJvckZyb21SZXNwb25zZShyZXNwb25zZTogT2JqZWN0KSB7XHJcbiAgICAgICAgZXZlbnRzLmRpc3BhdGNoRXJyb3JGcm9tUmVzcG9uc2UodGhpcy5wYXJhbXMsIHJlc3BvbnNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZGlzcGF0Y2hJbnZhbGlkUGFyYW1FcnJvcihwYXJhbU5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIGV2ZW50cy5kaXNwYXRjaEludmFsaWRQYXJhbUVycm9yKHRoaXMucGFyYW1zLCBwYXJhbU5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXRFdmVudDxUIGV4dGVuZHMgRnVuY3Rpb24+KGV2ZW50TmFtZTogc3RyaW5nKTogRXZlbnRXcmFwcGVyPFQ+IHtcclxuICAgICAgICBpZiAoIXRoaXMuX2V2ZW50V3JhcHBlcnNbZXZlbnROYW1lXSkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyYW1zW2V2ZW50TmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zW2V2ZW50TmFtZV0gPSBbXTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghKHRoaXMucGFyYW1zW2V2ZW50TmFtZV0gaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zW2V2ZW50TmFtZV0gPSBbdGhpcy5wYXJhbXNbZXZlbnROYW1lXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZXZlbnRXcmFwcGVyc1tldmVudE5hbWVdID0gbmV3IEV2ZW50V3JhcHBlcjxUPih0aGlzLnBhcmFtc1tldmVudE5hbWVdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDxFdmVudFdyYXBwZXI8VD4+dGhpcy5fZXZlbnRXcmFwcGVyc1tldmVudE5hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhZGRHbG9iYWxFdmVudEhhbmRsZXJzKGhhbmRsZXJzOiBhcnJheVV0aWxzLklNYXA8KGU6IGdsb2JhbEV2ZW50cy5JRXZlbnRPYmplY3QpID0+IHZvaWQ+KSB7XHJcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBoYW5kbGVycykge1xyXG4gICAgICAgICAgICBpZiAoaGFuZGxlcnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHRoaXMuYWRkR2xvYmFsRXZlbnRIYW5kbGVyKG5hbWUsIGhhbmRsZXJzW25hbWVdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFkZEdsb2JhbEV2ZW50SGFuZGxlcihuYW1lOiBzdHJpbmcsIGhhbmRsZXI6IChlOiBnbG9iYWxFdmVudHMuSUV2ZW50T2JqZWN0KSA9PiB2b2lkLCBjb250ZXh0ID0gbnVsbCwgbmFtZXNwYWNlID0gJ3NvY2lhbGl6ZScpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2dsb2JhbEV2ZW50SGFuZGxlcnNbbmFtZV0pIHRoaXMuX2dsb2JhbEV2ZW50SGFuZGxlcnNbbmFtZV0gPSBbXTtcclxuXHJcbiAgICAgICAgdmFyIHJlZ2lzdGVyZWRIYW5kbGVyID0gZ2xvYmFsRXZlbnRzLmFkZChuYW1lLCBoYW5kbGVyLCAnY29tcG9uZW50JywgY29udGV4dCwgbmFtZXNwYWNlLCB0aGlzLnBhcmFtcyk7XHJcbiAgICAgICAgdGhpcy5fZ2xvYmFsRXZlbnRIYW5kbGVyc1tuYW1lXS5wdXNoKHJlZ2lzdGVyZWRIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVtb3ZlR2xvYmFsRXZlbnRIYW5kbGVycyhoYW5kbGVyczogYXJyYXlVdGlscy5JTWFwPEZ1bmN0aW9uPikge1xyXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gaGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgaWYgKGhhbmRsZXJzLmhhc093blByb3BlcnR5KG5hbWUpKSB0aGlzLnJlbW92ZUdsb2JhbEV2ZW50SGFuZGxlcihuYW1lLCBoYW5kbGVyc1tuYW1lXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vLyBFeGNlcHQgJ25hbWUnLCBhbGwgYXJndW1lbnRzIGFyZSBmb3IgYmFzZSBwbHVnaW4gc3VwcG9ydC4uLiByZWFsbHkgbmVlZGVkP1xyXG4gICAgcHJvdGVjdGVkIHJlbW92ZUdsb2JhbEV2ZW50SGFuZGxlcihuYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uLCBjb250ZXh0ID0gbnVsbCwgbmFtZXNwYWNlID0gJ3NvY2lhbGl6ZScpOiB2b2lkIHtcclxuICAgICAgICB2YXIgYXJyID0gdGhpcy5fZ2xvYmFsRXZlbnRIYW5kbGVyc1tuYW1lXTtcclxuICAgICAgICBpZiAoYXJyKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVySW5mb0luZGV4ID0gYXJyYXlVdGlscy5maXJzdEluZGV4KGFyciwgaSA9PiBpLmhhbmRsZXIgPT0gaGFuZGxlcik7XHJcblxyXG4gICAgICAgICAgICBpZiAoaGFuZGxlckluZm9JbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlckluZm8gPSBhcnJbaGFuZGxlckluZm9JbmRleF07XHJcbiAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMucmVtb3ZlKGhhbmRsZXJJbmZvLmZ1bGxFdmVudE5hbWUsIGhhbmRsZXJJbmZvKTtcclxuICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoaGFuZGxlckluZm9JbmRleCwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHByZXBhcmVDYWxsYmFjayhjYWxsYmFjazogRnVuY3Rpb24pIHtcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlLl9pc0Rpc3Bvc2VkKSByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLy8gSURpc3Bvc2FibGUgaW1wbGVtZW50YXRpb25cclxuXHJcbiAgICBwdWJsaWMgZGlzcG9zZSgpIHtcclxuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMuX2dsb2JhbEV2ZW50SGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2dsb2JhbEV2ZW50SGFuZGxlcnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5fZ2xvYmFsRXZlbnRIYW5kbGVyc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudEhhbmRsZXJJbmZvID0gdGhpcy5fZ2xvYmFsRXZlbnRIYW5kbGVyc1tuYW1lXVtpXTtcclxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMucmVtb3ZlKGV2ZW50SGFuZGxlckluZm8uZnVsbEV2ZW50TmFtZSwgZXZlbnRIYW5kbGVySW5mbyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZ2xvYmFsRXZlbnRIYW5kbGVycyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2V2ZW50V3JhcHBlcnMgPSB7fTtcclxuICAgICAgICB0aGlzLnBhcmFtcyA9IHt9IGFzIFA7XHJcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuZGlzcGF0Y2hFdmVudChcIm9uRGlzcG9zZWRcIik7IC8vIFRPRE8gZml4IG1lbW9yeSBsZWFrIGZyb20gaXRcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRXZlbnRXcmFwcGVyPFQgZXh0ZW5kcyBGdW5jdGlvbj4ge1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfaGFuZGxlcnM6IEFycmF5PFQ+ID0gW10pIHt9XHJcblxyXG4gICAgcHVibGljIGFkZChoYW5kbGVyOiBUKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMucHVzaChoYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlKGhhbmRsZXI6IFQpIHtcclxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9oYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IElCYXNlT2JqZWN0UGFyYW0gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQmFzZU9iamVjdC9CYXNlT2JqZWN0JztcclxuXHJcbmV4cG9ydCBlbnVtIERldmljZVR5cGVzIHtcclxuICAgIF91bmRlZmluZWQsXHJcbiAgICBkZXNrdG9wLFxyXG4gICAgbW9iaWxlLFxyXG4gICAgYXV0byxcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElCYXNlT2JqZWN0Q29uZmlnPFAgZXh0ZW5kcyBJQmFzZU9iamVjdFBhcmFtPiB7XHJcbiAgICAvLyBNZXJnZWQgZnJvbSBJSW5qZWN0aW9uSW5mb1xyXG4gICAgbmFtZT86IHN0cmluZztcclxuICAgIG5hbWVzcGFjZT86IHN0cmluZztcclxuICAgIG1ldGhvZE5hbWU/OiBzdHJpbmc7XHJcbiAgICBqc05hbWU/OiBzdHJpbmc7XHJcbiAgICBkZWZhdWx0RGV2aWNlVHlwZT86IERldmljZVR5cGVzO1xyXG5cclxuICAgIC8vIERlZmF1bHQgcGFyYW1zIHRoYXQgd2lsbCBiZSBtZXJnZWQgdG8gdGhlIGZpbmFsIHBhcmFtcyBvYmplY3RcclxuICAgIGRlZmF1bHRQYXJhbXM6IFA7XHJcblxyXG4gICAgLy8gUmVxdWlyZWQgcGFyYW1zLiBJZiBvbmUgb2YgdGhlc2UgaXNuJ3QgcHJvdmlkZWQgKGFuZCBpc24ndCBpbiB0aGUgZGVmYXVsdFBhcmFtcyksIGFuIGVycm9yIHdpbGwgYmUgaW52b2tlZC5cclxuICAgIHJlcXVpcmVkUGFyYW1zOiBBcnJheTxzdHJpbmc+O1xyXG59XHJcbiIsImltcG9ydCAqIGFzIHF1ZXVlVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3F1ZXVlJztcclxuaW1wb3J0ICogYXMgcmVwb3J0cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvUmVwb3J0cyc7XHJcbmltcG9ydCAqIGFzIGV2ZW50cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXZlbnRzJztcclxuaW1wb3J0ICogYXMgZnVuY3Rpb25zVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCAqIGFzIHNjcmlwdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zY3JpcHQnO1xyXG5pbXBvcnQgeyBnZXRDZG5SZXNvdXJjZSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9jZG4nO1xyXG5pbXBvcnQgeyBnZXRHaWd5YVNjcmlwdEVsZW1lbnQgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZ2lneWFTY3JpcHRFbCc7XHJcbmltcG9ydCAqIGFzIFVSTFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VUkwnO1xyXG5pbXBvcnQgKiBhcyBKU09OVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0pTT04nO1xyXG5pbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcclxuaW1wb3J0IHsgSUFwaUFkYXB0ZXJJbml0U2V0dGluZ3MgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9pbnRlcmZhY2VzL0lBcGlBZGFwdGVyJztcclxuaW1wb3J0ICogYXMgZmFjZWJvb2tFeHRlcm5hbCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXh0ZXJuYWxJbnRlZ3JhdGlvbnMvRmFjZWJvb2snO1xyXG5pbXBvcnQgKiBhcyBnb29nbGVQbHVzRXh0ZXJuYWwgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0V4dGVybmFsSW50ZWdyYXRpb25zL0dvb2dsZVBsdXMnO1xyXG5pbXBvcnQgeyBjaGVja0NvbXBsZXRlUmVnaXN0cmF0aW9uLCBNZXNzYWdpbmdNZXRob2QgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvSW50ZXJuYWxGbG93cyc7XHJcbmltcG9ydCB7bG9jYWxJbmZvfSBmcm9tIFwiLi9Mb2NhbEluZm9cIjtcclxuXHJcbmV4cG9ydCB2YXIgcGFyc2VTY3JpcHRSZXRyaWVzID0gMDtcclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcblxyXG4gICAgZ2lneWEubG9nZ2VyLmdyb3VwKCd3ZWJzZGsgcm9vdCcpO1xyXG4gICAgZ2lneWEubG9nZ2VyLmluZm8oYHBhcnRuZXIgc2V0dGluZ3M6YCwgZ2lneWEucGFydG5lclNldHRpbmdzKTtcclxuICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBsb2NhbCBpbmZvOmAsIGxvY2FsSW5mbyk7XHJcblxyXG4gICAgY29uc3QgYm9vdHN0cmFwTG9nID0gZ2lneWEubG9nZ2VyLmdyb3VwKCdib290c3RyYXAgd2Vic2RrJyk7XHJcblxyXG4gICAgcXVldWVVdGlscy5ob2xkKCdib290c3RyYXAnLCAnQVBJJyk7XHJcblxyXG4gICAgLy8gZGV0ZWN0aW5nIHVuc3VwcG9ydGVkIGJyb3dzZXJzXHJcbiAgICBpZiAoXHJcbiAgICAgICAgKGxvY2FsSW5mby5pc0lFNiB8fCBsb2NhbEluZm8uaXNJRTcgfHwgbG9jYWxJbmZvLmlzSUU4IHx8IGxvY2FsSW5mby5pc0lFOSB8fCBsb2NhbEluZm8uaXNJRTEwKSAmJlxyXG4gICAgICAgIHR5cGVvZiBjb25zb2xlICE9ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgdHlwZW9mIGNvbnNvbGUubG9nICE9ICd1bmRlZmluZWQnXHJcbiAgICApXHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgIFwiR2lneWE6IEl0IGxvb2tzIGxpa2UgeW91J3JlIHVzaW5nIGFuIG9sZCB2ZXJzaW9uIG9mIEludGVybmV0IEV4cGxvcmVyLiBUaGlzIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHVwZ3JhZGUgdG8gYSBuZXdlciB2ZXJzaW9uIG9mIElFLlwiLFxyXG4gICAgICAgICk7XHJcbiAgICAvLyBnaWd5YS5naWd5YS5sb2dnZXIud2FybiB3aXRoIGZvcmNlIHBhcmFtP1xyXG5cclxuICAgIHJlcG9ydHMuaW5pdCgpO1xyXG5cclxuICAgIHBhcnNlU2NyaXB0RWxlbWVudCgoKSA9PiB7XHJcbiAgICAgICAgc2V0TWVzc2FnaW5nTWV0aG9kKCk7XHJcbiAgICAgICAgY29uc3QgY3VzdG9tRXZlbnRNYXAgPSBnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmZbJ2N1c3RvbUV2ZW50TWFwJ107XHJcbiAgICAgICAgaWYgKGN1c3RvbUV2ZW50TWFwKSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBhZGRpbmcgY3VzdG9tIGV2ZW50IG1hcGApOyAvLywgY3VzdG9tRXZlbnRNYXApO1xyXG4gICAgICAgICAgICBldmVudHMuYWRkTWFwKGN1c3RvbUV2ZW50TWFwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdpZ3lhLmxvZ2dlci5ncm91cCgnaW5pdCBhcGkgYWRhcHRlcicpO1xyXG4gICAgICAgIGluaXRBcGlBZGFwdGVyKCgpID0+IHtcclxuICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmdyb3VwRW5kKCdpbml0IGFwaSBhZGFwdGVyJyk7XHJcbiAgICAgICAgICAgIGdpZ3lhLmlzUmVhZHkgPSB0cnVlOyAvLyBpbmRpY2F0ZSBib290c3RyYXAgcHJvY2VzcyBoYXMgZmluaXNoIC0gZ2lneWEgaXMgcmVhZHlcclxuXHJcbiAgICAgICAgICAgIC8vIFRyaWdnZXIgb25HaWd5YVNlcnZpY2VSZWFkeSBib3VuZCB0byB3aW5kb3cgc2NvcGUuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25HaWd5YVNlcnZpY2VSZWFkeSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oJ2ludm9rZSBsb2NhbCBvbkdpZ3lhU2VydmljZVJlYWR5IGV2ZW50Jyk7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uR2lneWFTZXJ2aWNlUmVhZHkoJ3NvY2lhbGl6ZScpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci53YXJuKGBnaWd5YTogZXJyb3Igd2hpbGUgaW52b2tpbmcgb25HaWd5YVNlcnZpY2VSZWFkeWAsIGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBUcmlnZ2VyIG9uR2lneWFTZXJ2aWNlUmVhZHkgYm91bmQgdG8gZ2xvYmFsIGNvbmZpZ3VyYXRpb24uXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgY29tbW9ubHkgdXNlZCB3aGVuIGNsaWVudHMgd2FudCB0byBleGVjdXRlIGNvZGUgZnJvbSB3aXRoaW4gdGhlIHNlcnZlci1zaWRlIGdsb2JhbCBjb25mLlxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsnb25HaWd5YVNlcnZpY2VSZWFkeSddID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhcImludm9rZSBnbG9iYWxjb25mJ3Mgb25HaWd5YVNlcnZpY2VSZWFkeSBldmVudFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsnb25HaWd5YVNlcnZpY2VSZWFkeSddKCdzb2NpYWxpemUnKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIud2FybihgZ2lneWE6IGVycm9yIHdoaWxlIGludm9raW5nIG9uR2lneWFTZXJ2aWNlUmVhZHkgaW5qZWN0ZWQgZnJvbSBzZXJ2ZXJgLCBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2hlY2tSZXR1cm5Gcm9tUmVkaXJlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcXVldWVVdGlscy5yZWxlYXNlKCdib290c3RyYXAnLCAnQVBJJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFsb2NhbEluZm8uaXNOYXRpdmVNb2JpbGVBcHApIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmplY3RFeHRlcm5hbFNka3MoKTtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvTG9naW4oKTtcclxuICAgICAgICAgICAgICAgICAgICByZXBvcnRzLnRyYWNrQWRkcmVzc0JhclNoYXJlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uc1V0aWxzLmludm9rZU9uUGFnZUxvYWQoKCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS5zb2NpYWxpemUudHJhY2tSZWZlcnJhbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMDAwLCAvLyAxcyBkZWxheSB0byBhbGxvdyBwYXJ0bmVycyB0byBhZGQgY2lkIHBhcmFtIHRvIHRoZSByZWZlcnJhbCByZXBvcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYm9vdHN0cmFwTG9nLmVuZCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgd2Fybk9uVW5zdXBwb3J0ZWRCcm93c2VyKCk7XHJcblxyXG4gICAgICAgIGxvYWRPbW5pdHVyZSgpO1xyXG4gICAgICAgIGxvYWRBQlRlc3RpbmcoKTtcclxuXHJcbiAgICAgICAgdmFyIHJlcG9ydERhdGEgPSB7IHNyZWY6IGRvY3VtZW50LnJlZmVycmVyIH07XHJcbiAgICAgICAgaWYgKGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsnYWN0aW9uQ291bnRlclBhdGgnXSkgcmVwb3J0RGF0YVsnYWN0aW9uQ291bnRlclBhdGgnXSA9IGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsnYWN0aW9uQ291bnRlclBhdGgnXTtcclxuXHJcbiAgICAgICAgcmVwb3J0cy5yZXBvcnQoJ2xvYWRjJywgZ2lneWEudGhpc1NjcmlwdC5BUElLZXksIG51bGwsIG51bGwsIG51bGwsIHJlcG9ydERhdGEpO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHdhcm5PblVuc3VwcG9ydGVkQnJvd3NlcigpIHtcclxuICAgIC8qaWYgKGxvY2FsSW5mby5pc0FuZHJvaWRCcm93c2VyKSB7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS5fLnNob3dNZXNzYWdlVUkoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcHRpb25UZXh0OiAnVW5zdXBwb3J0ZWQgQnJvd3NlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSBhbmRyb2lkIGJyb3dzZXIgY29udGFpbnMgYSBzZWN1cml0eSB2dWxuZXJhYmlsaXR5IGFuZCBpcyBub3Qgc3VwcG9ydGVkLCBTd2l0Y2ggdG8gZ29vZ2xlIGNocm9tIG9yIGZpcmVmb3ggdG8gZ2V0IHRoZSBmdWxsIHZlcnNpb24gb2YgdGhlIHNpdGUuJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0qL1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBsb2FkQUJUZXN0aW5nKCkge1xyXG4gICAgaWYgKGdpZ3lhLmFiVGVzdGluZykge1xyXG4gICAgICAgIGZvciAodmFyIGFiVGVzdFNlcnZpY2VLZXkgaW4gZ2lneWEuYWJUZXN0aW5nKSB7XHJcbiAgICAgICAgICAgIGlmIChhYlRlc3RTZXJ2aWNlS2V5ID09PSAnb3B0aW1pemVseScpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhYlRlc3RJdGVtID0gZ2lneWEuYWJUZXN0aW5nW2FiVGVzdFNlcnZpY2VLZXldO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhYlRlc3RJdGVtLnNlcnZpY2VQYXJhbXMgJiYgYWJUZXN0SXRlbS5zZXJ2aWNlUGFyYW1zLmhhc093blByb3BlcnR5KCdhcGlLZXknKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciB0aGUgcGF0aFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJQYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpc0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNEaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgcGF0aCBpcyBkaXNhYmxlZC5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWJUZXN0SXRlbS5kaXNhYmxlZFBhdGhzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWJUZXN0SXRlbS5kaXNhYmxlZFBhdGhzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJUZXN0SXRlbS5kaXNhYmxlZFBhdGhzW2ldLmluZGV4T2YoY3VyUGF0aCkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB3ZSBoYXZlIGEgbWF0Y2ggb24gdGhlIHBhdGggdG8gbG9hZCB0aGUgc2VydmljZS5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhYlRlc3RJdGVtLmVuYWJsZWRQYXRocy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clBhdGguaW5kZXhPZihhYlRlc3RJdGVtLmVuYWJsZWRQYXRoc1tpXSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdFV0aWxzLmxvYWQoJy8vY2RuLm9wdGltaXplbHkuY29tL2pzLycgKyBhYlRlc3RJdGVtLnNlcnZpY2VQYXJhbXNbJ2FwaUtleSddICsgJy5qcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydERlYnVnSWZOZWVkZWQoY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcclxuICAgIGlmICghbG9jYWxJbmZvLmlzTmF0aXZlTW9iaWxlQXBwICYmIGdpZ3lhLl8uYXBpQWRhcHRlci5nZXRTdG9yYWdlKCkuZ2V0SXRlbSgnZ2lnX2RlYnVnJykgPT0gJzEnKSB7XHJcbiAgICAgICAgZ2lneWEuc29jaWFsaXplLnNob3dEZWJ1Z1VJKHtcclxuICAgICAgICAgICAgaWdub3JlQXBpUXVldWU6IHRydWUsXHJcbiAgICAgICAgICAgIHdhaXRGb3JEZWJ1ZzogZmFsc2UsXHJcbiAgICAgICAgICAgIG9uTG9hZDogY2FsbGJhY2ssXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRPbW5pdHVyZSgpIHtcclxuICAgIGZ1bmN0aW9uc1V0aWxzLmludm9rZU9uUGFnZUxvYWQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3dbJ2dpZ3lhX29tbml0dXJlX2NvbmYnXSAhPSAndW5kZWZpbmVkJykgc2NyaXB0VXRpbHMubG9hZChnZXRDZG5SZXNvdXJjZSgnL2pzL0dlbmVzaXNFeGNoYW5nZV9HaWd5YS5taW4uanMnKSk7XHJcbiAgICB9KTtcclxufVxyXG5jb25zdCBkZWZhdWx0TGFuZyA9ICdlbi1VUyc7XHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUxhbmcobGFuZzogc3RyaW5nID0gZGVmYXVsdExhbmcpOiBMYW5nIHtcclxuXHJcbiAgICBjb25zdCBvcmlnaW5hbExhbmcgPSBsYW5nLnJlcGxhY2UoJ2VuLVVTJywgJ2VuJyk7XHJcbiAgICBsYW5nID0gbGFuZy5yZXBsYWNlKCdfJywgJy0nKS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgIHZhciBzZWdtZW50cyA9IGxhbmcuc3BsaXQoJy0nKTtcclxuICAgIHZhciBsYW5nQ29kZSA9IHNlZ21lbnRzWzBdO1xyXG4gICAgdmFyIGNvdW50cnlDb2RlO1xyXG5cclxuICAgIGlmIChzZWdtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgY291bnRyeUNvZGUgPSBzZWdtZW50c1sxXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY291bnRyeUNvZGUgPSBsYW5nQ29kZTtcclxuICAgIH1cclxuXHJcbiAgICBjb3VudHJ5Q29kZSA9IGNvdW50cnlDb2RlLnRvVXBwZXJDYXNlKCk7XHJcblxyXG4gICAgdmFyIHNob3J0TGFuZztcclxuXHJcbiAgICBzd2l0Y2ggKGxhbmcpIHtcclxuICAgICAgICBjYXNlICdlcy1teCc6XHJcbiAgICAgICAgICAgIHNob3J0TGFuZyA9IGxhbmc7XHJcbiAgICAgICAgICAgIGNvdW50cnlDb2RlID0gJ0VTJzsgLy8gRkIgZG9lc24ndCBzdXBwb3J0IGVzLW14IGJ1dCB3ZSBkb1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdwdC1icic6XHJcbiAgICAgICAgY2FzZSAnemgtY24nOlxyXG4gICAgICAgIGNhc2UgJ3poLWhrJzpcclxuICAgICAgICBjYXNlICd6aC10dyc6XHJcbiAgICAgICAgY2FzZSAndGUtc3QnOlxyXG4gICAgICAgIGNhc2UgJ2ZyLWluZic6XHJcbiAgICAgICAgY2FzZSAnZGUtaW5mJzpcclxuICAgICAgICBjYXNlICdlcy1pbmYnOlxyXG4gICAgICAgIGNhc2UgJ25sLWluZic6XHJcbiAgICAgICAgY2FzZSAnbHQtbHQnOlxyXG4gICAgICAgIGNhc2UgJ2x2LWx2JzpcclxuICAgICAgICBjYXNlICdldC1lZSc6XHJcbiAgICAgICAgICAgIHNob3J0TGFuZyA9IGxhbmc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHNob3J0TGFuZyA9IGxhbmdDb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZnVsbDogbGFuZ0NvZGUgKyAnLScgKyBjb3VudHJ5Q29kZSxcclxuICAgICAgICBsYW5nQ29kZTogc2hvcnRMYW5nLFxyXG4gICAgICAgIGNvdW50cnlDb2RlOiBjb3VudHJ5Q29kZSxcclxuICAgICAgICBvcmlnaW5hbExhbmdcclxuICAgIH07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU2NyaXB0RWxlbWVudChjYWxsYmFjazogKCkgPT4gdm9pZCkge1xyXG4gICAgY29uc3Qgc2NyaXB0RWxlbWVudCA9IGdldEdpZ3lhU2NyaXB0RWxlbWVudCgpO1xyXG5cclxuICAgIGlmIChzY3JpcHRFbGVtZW50ICYmICF3aW5kb3dbJ19fZ2lnX2hpZGVzY3JpcHQnXSkge1xyXG4gICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBwYXJzaW5nIGdpZ3lhIHNjcmlwdGApO1xyXG5cclxuICAgICAgICBjb25zdCBVUkxQYXJhbXMgPSBVUkxVdGlscy5nZXRQYXJhbXNGcm9tVVJMKHNjcmlwdEVsZW1lbnQuc3JjLCB0cnVlKSB8fCB7fTtcclxuXHJcbiAgICAgICAgLy8gTG9vayBmb3Igc2l0ZSBncm91cCBjb25maWd1cmF0aW9uLCBpbmplY3RlZCBpbnRvIHBhcnRuZXJTZXR0aW5ncy5cclxuICAgICAgICBjb25zdCBzaXRlR3JvdXBHbG9iYWxDb25mID0gSlNPTlV0aWxzLmRlc2VyaWFsaXplKGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5zaXRlR3JvdXBHbG9iYWxDb25mKSB8fCB7fTtcclxuXHJcbiAgICAgICAgLy8gTG9vayBmb3Igc2l0ZSBjb25maWd1cmF0aW9uLCBpbmplY3RlZCBpbnRvIHBhcnRuZXJTZXR0aW5ncy5cclxuICAgICAgICBjb25zdCBzaXRlR2xvYmFsQ29uZiA9IEpTT05VdGlscy5kZXNlcmlhbGl6ZShnaWd5YS5wYXJ0bmVyU2V0dGluZ3MuZ2xvYmFsQ29uZiwge30sIHsgc2l0ZUdyb3VwR2xvYmFsQ29uZiB9KSB8fCB7fTtcclxuXHJcbiAgICAgICAgLy8gUGFyc2Ugc2NyaXB0IGNvbmZpZ3VyYXRpb24gZnJvbSBKU09OIG9iamVjdCBpbnNpZGUgdGhlIEdpZ3lhIFNESyBzY3JpcHQgdGFnLlxyXG4gICAgICAgIC8vIEpTT04uZGVzZXJpYWxpemUgd2lsbCBuZXZlciB0aHJvdyBhbiBleGNlcHRpb24gYW5kIGNhbiBwYXJzZSBKYXZhU2NyaXB0IG9iamVjdHMsXHJcbiAgICAgICAgLy8gaW5jbHVkaW5nIHVucXVvdGVkIGtleXMsIGZ1bmN0aW9ucywgYW5kIHZhcmlhYmxlIHJlZmVyZW5jZXMuXHJcbiAgICAgICAgY29uc3Qgc2NyaXB0Q29uZiA9IEpTT05VdGlscy5kZXNlcmlhbGl6ZShzY3JpcHRFbGVtZW50LmlubmVySFRNTCkgfHwge307XHJcblxyXG4gICAgICAgIC8vIExvb2sgZm9yIF9fZ2lneWFDb25mLCBhIGdsb2JhbCBvYmplY3QgdGhhdCBjYW4gc2V0IGJlZm9yZSBnaWd5YS5qcyBpcyBsb2FkZWQuXHJcbiAgICAgICAgY29uc3QgX19naWd5YUNvbmYgPSB3aW5kb3dbJ19fZ2lneWFDb25mJ10gfHwge307XHJcblxyXG4gICAgICAgIGdpZ3lhLnRoaXNTY3JpcHQgPSB7XHJcbiAgICAgICAgICAgIHNjcmlwdEVsZW1lbnQ6IHNjcmlwdEVsZW1lbnQsXHJcbiAgICAgICAgICAgIHByb3RvY29sOiBzY3JpcHRFbGVtZW50LnNyYy5pbmRleE9mKCdodHRwczonKSA9PT0gMCA/ICdodHRwcycgOiAnaHR0cCcsXHJcbiAgICAgICAgICAgIGJhc2VEb21haW46IHNjcmlwdEVsZW1lbnQuc3JjLnNwbGl0KCcvJylbMl0sXHJcbiAgICAgICAgICAgIEFQSUtleTogVVJMUGFyYW1zWydhcGlrZXknXSxcclxuICAgICAgICAgICAgbGFuZzogcGFyc2VMYW5nKFVSTFBhcmFtc1snbGFuZyddIHx8IF9fZ2lneWFDb25mWydsYW5nJ10gfHwgc2NyaXB0Q29uZlsnbGFuZyddIHx8IHNpdGVHbG9iYWxDb25mWydsYW5nJ10gfHwgc2l0ZUdyb3VwR2xvYmFsQ29uZlsnbGFuZyddKSxcclxuICAgICAgICAgICAgZ2xvYmFsQ29uZjogb2JqZWN0VXRpbHMubWVyZ2UoW2dpZ3lhLnBhcnRuZXJTZXR0aW5ncy5wbHVnaW5zIHx8IHt9LCBzaXRlR3JvdXBHbG9iYWxDb25mLCBzaXRlR2xvYmFsQ29uZiwgc2NyaXB0Q29uZiwgX19naWd5YUNvbmZdLCBmYWxzZSksXHJcbiAgICAgICAgICAgIFVSTFBhcmFtczogVVJMUGFyYW1zLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mWydsYW5nJ10gPSBnaWd5YS50aGlzU2NyaXB0LmxhbmcubGFuZ0NvZGU7XHJcblxyXG4gICAgICAgIC8vIFdhcm4gaWYgQVBJIGtleSB3YXNuJ3QgcGFzc2VkIGluIFVSTCBwYXJhbXMuXHJcbiAgICAgICAgLy8gSUU5IHN1cHBvcnQgLSBjaGVjayBmb3IgY29uc29sZS53YXJuLlxyXG4gICAgICAgIGlmICghZ2lneWEudGhpc1NjcmlwdC5BUElLZXkgJiYgdHlwZW9mIGNvbnNvbGUgPT09ICdvYmplY3QnICYmIGNvbnNvbGUud2Fybikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJyoqKiogV0FSTklORyAtIExvYWRpbmcgc29jaWFsaXplLmpzIHdpdGhvdXQgYW4gQVBJS2V5IHBhcmFtZXRlciBpcyB1bnN1cHBvcnRlZCBhbmQgbWF5IHJlc3VsdCBpbiBhbiB1bmV4cGVjdGVkIGJlaGF2aW9yLiAgKioqKicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsnQVBJS2V5J10gPSBnaWd5YS50aGlzU2NyaXB0LkFQSUtleTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9IGVsc2UgaWYgKHBhcnNlU2NyaXB0UmV0cmllcyA8IDEwKSB7XHJcbiAgICAgICAgLy8gSW4gc29tZSByYXJlIGNhc2VzLCBJRSBmYWlscyB0byBmaW5kIHRoZSBzY3JpcHQgZWxlbWVudC4gUmV0cnkgc2NyaXB0IHBhcnNpbmcgZXZlcnkgMjAwbXMuXHJcbiAgICAgICAgLy8gTm8gc2NyaXB0IGVsZW1lbnQgd2lsbCBjYXVzZSB1cyB0byBub3Qga25vdyB3aGF0IHRoZSBhcGlrZXkgaXMgYW5kIHJldHJpZXZlIHRoZSBsb2dpbiB0b2tlbi5cclxuICAgICAgICBwYXJzZVNjcmlwdFJldHJpZXMrKztcclxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHBhcnNlU2NyaXB0RWxlbWVudChjYWxsYmFjayk7XHJcbiAgICAgICAgfSwgMjAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZ2lneWEudGhpc1NjcmlwdCA9IHtcclxuICAgICAgICAgICAgc2NyaXB0RWxlbWVudDogbnVsbCxcclxuICAgICAgICAgICAgcHJvdG9jb2w6IGxvY2FsSW5mby5wcm90b2NvbCxcclxuICAgICAgICAgICAgYmFzZURvbWFpbjogJ2h0dHBzOi8vY2Rucy5naWd5YS5jb20nLFxyXG4gICAgICAgICAgICBBUElLZXk6ICcnLFxyXG4gICAgICAgICAgICBsYW5nOiBwYXJzZUxhbmcoJycpLFxyXG4gICAgICAgICAgICBnbG9iYWxDb25mOiB7fSxcclxuICAgICAgICAgICAgVVJMUGFyYW1zOiB7fSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRBcGlBZGFwdGVyKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XHJcbiAgICBjb25zdCBhZGFwdGVyU2V0dGluZ3MgPSB3aW5kb3dbJ19fZ2lnQVBJQWRhcHRlclNldHRpbmdzJ10gYXMgSUFwaUFkYXB0ZXJJbml0U2V0dGluZ3N8dW5kZWZpbmVkO1xyXG4gICAgY29uc3QgYWRhcHRlck5hbWUgPSBnZXRBZGFwdGVyVHlwZShhZGFwdGVyU2V0dGluZ3MpO1xyXG4gICAgbG9jYWxJbmZvLmlzTmF0aXZlTW9iaWxlQXBwID0gYWRhcHRlck5hbWUgPT09ICdtb2JpbGUnO1xyXG5cclxuICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBzZWxlY3RpbmcgYXBpIGFkYXB0ZXI6ICR7YWRhcHRlck5hbWV9YCk7XHJcbiAgICBnaWd5YS5fLmFwaUFkYXB0ZXIgPSBnaWd5YS5fLmFwaUFkYXB0ZXJzW2FkYXB0ZXJOYW1lXS5uZXdBcGlBZGFwdGVyKGFkYXB0ZXJTZXR0aW5ncyk7XHJcblxyXG4gICAgZnVuY3Rpb25zVXRpbHMuY3JlYXRlQWxpYXMoJ2dpZ3lhLmF1dGgubG9naW5Ub2tlbi5nZXRUb2tlblBhcmFtJywgZ2lneWEuXy5hcGlBZGFwdGVyLmdldFRva2VuUGFyYW0pO1xyXG5cclxuICAgIHN0YXJ0RGVidWdJZk5lZWRlZCgoKSA9PiB7XHJcbiAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLmluaXQoY2FsbGJhY2ssIDMpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEFkYXB0ZXJUeXBlKGFkYXB0ZXJTZXR0aW5ncyA9IHdpbmRvd1snX19naWdBUElBZGFwdGVyU2V0dGluZ3MnXSBhcyBJQXBpQWRhcHRlckluaXRTZXR0aW5nc3x1bmRlZmluZWQpIHtcclxuICAgIGxldCBhZGFwdGVyTmFtZTogJ3dlYid8J21vYmlsZSd8dW5kZWZpbmVkO1xyXG4gICAgaWYgKGFkYXB0ZXJTZXR0aW5nc1xyXG4gICAgICAgICYmIGFkYXB0ZXJTZXR0aW5ncy5nZXRBUElLZXkoKSA9PT0gZ2lneWEudGhpc1NjcmlwdC5BUElLZXkpIHtcclxuICAgICAgICBhZGFwdGVyTmFtZSA9IGFkYXB0ZXJTZXR0aW5ncy5nZXRBZGFwdGVyTmFtZSgpIGFzICd3ZWInfCdtb2JpbGUnfHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYWRhcHRlck5hbWUgfHwgJ3dlYic7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhdXRvTG9naW4oKSB7XHJcbiAgICBpZiAoZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mWydhdXRvTG9naW4nXSkge1xyXG4gICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKCd0cmlnZ2VyaW5nIGF1dG8tbG9naW4nKTtcclxuICAgICAgICBmYWNlYm9va0V4dGVybmFsLmF1dG9Mb2dpbigpO1xyXG4gICAgICAgIGdvb2dsZVBsdXNFeHRlcm5hbC5hdXRvTG9naW4oKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tSZXR1cm5Gcm9tUmVkaXJlY3QoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XHJcbiAgICAvLyBDaGVjayBpZiBjb21pbmcgYmFjayBmcm9tIGF1dGhmbG93IHJlZGlyZWN0IHdpdGggcGVuZGluZyBlcnJvclxyXG4gICAgdmFyIG9VUkxQYXJhbXMgPSBVUkxVdGlscy5nZXRQYXJhbXNGcm9tVVJMKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpO1xyXG4gICAgaWYgKG9VUkxQYXJhbXNbJ2Vycm9yQ29kZSddICYmIG9VUkxQYXJhbXNbJ3JlZ1Rva2VuJ10pIHtcclxuICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgcmV0dXJuZWQgZnJvbSByZWRpcmVjdCB3aXRoIHJlZ1Rva2VuIChlcnJvckNvZGU6ICR7b1VSTFBhcmFtc1snZXJyb3JDb2RlJ119KWApO1xyXG4gICAgICAgIGNoZWNrQ29tcGxldGVSZWdpc3RyYXRpb24ob1VSTFBhcmFtcywgZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mLCAnJywgKCkgPT4gY2FsbGJhY2soKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNldE1lc3NhZ2luZ01ldGhvZCgpIHtcclxuICAgIC8vLyBJTVBPUlRBTlQ6IGNoYW5naW5nIHRoZSBtZXNzYWdpbmcgbWV0aG9kIHNob3VsZCBhbHNvIGFmZmVjdCB0aGUgb25lIGluXHJcbiAgICAvLy8gYm9vdHN0cmFwLnRzL3NldE1lc3NhZ2luZ01ldGhvZFxyXG4gICAgLy8vIExvY2FsSW5mby50c1xyXG4gICAgdmFyIGJyb3dzZXIgPSBsb2NhbEluZm87XHJcbiAgICB2YXIgbWV0aG9kOiBNZXNzYWdpbmdNZXRob2Q7XHJcblxyXG4gICAgaWYgKGJyb3dzZXIuaXNJRTExICYmICF3aW5kb3cuaW5kZXhlZERCKSB7XHJcbiAgICAgICAgLy9JRTExIGlucHJpdmF0ZSBicm93c2luZ1xyXG4gICAgICAgIG1ldGhvZCA9IE1lc3NhZ2luZ01ldGhvZC5GbGFzaDtcclxuICAgICAgICBnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmZbJ2xlZ2FjeUNyb3NzU2l0ZU1ldGhvZCddID0gJ2xvY2FsQ29ubmVjdGlvbic7XHJcbiAgICB9IGVsc2UgaWYgKGJyb3dzZXIuc3VwcG9ydHNQb3N0TWVzc2FnZSkgbWV0aG9kID0gTWVzc2FnaW5nTWV0aG9kLlBvc3RNZXNzYWdlO1xyXG4gICAgZWxzZSBtZXRob2QgPSBNZXNzYWdpbmdNZXRob2QuRmxhc2g7XHJcblxyXG4gICAgYnJvd3Nlci5tZXNzYWdpbmdNZXRob2QgPSBtZXRob2Q7XHJcbiAgICBnaWd5YS5sb2dnZXIuaW5mbyhgc2VsZWN0ZWQgbWVzc2FnaW5nIG1ldGhvZCBpczogJHtNZXNzYWdpbmdNZXRob2RbbWV0aG9kXX1gKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5qZWN0RXh0ZXJuYWxTZGtzKCkge1xyXG4gICAgcXVldWVVdGlscy5xdWV1ZUZvckV4ZWN1dGlvbignQVBJJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZnVuY3Rpb25zVXRpbHMuaW52b2tlT25QYWdlTG9hZCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnaWd5YS5wcm92aWRlcnNDb25maWcuZmFjZWJvb2spIHtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKCdsb2FkaW5nIGZhY2Vib29rIHNkaycpO1xyXG4gICAgICAgICAgICAgICAgZmFjZWJvb2tFeHRlcm5hbC5sb2FkKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZ2lneWEucHJvdmlkZXJzQ29uZmlnLmdvb2dsZVBsdXMpIHtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKCdsb2FkaW5nIGdvb2dsZSBwbHVzIHNkaycpO1xyXG4gICAgICAgICAgICAgICAgZ29vZ2xlUGx1c0V4dGVybmFsLmxvYWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgb2JqZWN0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL29iamVjdCc7XHJcbmltcG9ydCAqIGFzIGdsb2JhbEV2ZW50cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR2xvYmFsRXZlbnRzJztcclxuaW1wb3J0ICogYXMgdmFsaWRhdGlvblV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy92YWxpZGF0aW9uJztcclxuaW1wb3J0ICogYXMgZmFjZWJvb2tFeHRlcm5hbCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXh0ZXJuYWxJbnRlZ3JhdGlvbnMvRmFjZWJvb2snO1xyXG5pbXBvcnQgKiBhcyBnb29nbGVQbHVzRXh0ZXJuYWwgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0V4dGVybmFsSW50ZWdyYXRpb25zL0dvb2dsZVBsdXMnO1xyXG5pbXBvcnQgeyBwb3N0Qm9va21hcmtTY2hlbWEgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL0FwaXNMaXN0JztcclxuaW1wb3J0ICogYXMgT3BlbmdyYXBoIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9FeHRlcm5hbEludGVncmF0aW9ucy9PcGVuZ3JhcGgnO1xyXG5pbXBvcnQgKiBhcyB3aW5VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvd2luJztcclxuaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XHJcbmltcG9ydCAqIGFzIHN0cmluZ1V0aWxzVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3N0cmluZ1V0aWxzJztcclxuaW1wb3J0ICogYXMga2V5VmFsdWVVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMva2V5VmFsdWUnO1xyXG5pbXBvcnQgKiBhcyByZXBvcnRzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9SZXBvcnRzJztcclxuaW1wb3J0IHsgbG9nQ2FsbCB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9MZWdhY3lMb2dnZXInO1xyXG5pbXBvcnQgeyBhZGRVc2VySW5mb1RvRXZlbnQgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvSW50ZXJuYWxGbG93cyc7XHJcbmltcG9ydCAqIGFzIGNvb2tpZVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9jb29raWUnO1xyXG5pbXBvcnQgKiBhcyBzY3JpcHRVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2NyaXB0JztcclxuaW1wb3J0IHsgZ2V0Q2RuUmVzb3VyY2UgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvY2RuJztcclxuaW1wb3J0IHsgR1NFcnJvcnMgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR1NFcnJvcnMnO1xyXG5pbXBvcnQgKiBhcyBIVFRQVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0hUVFAnO1xyXG5pbXBvcnQgKiBhcyBmdW5jdGlvbnNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZnVuY3Rpb25zJztcclxuXHJcbi8vIGNsaWVudCBzaWRlIG9ubHkgQVBJc1xyXG5leHBvcnQgY29uc3QgYm9va21hcmtTaXplID0ge1xyXG4gICAgZmFjZWJvb2s6IHsgdzogNjQwLCBoOiAzNzAgfSxcclxuICAgIHR3aXR0ZXI6IHsgdzogODgwLCBoOiA1MzAgKyA1NSB9LFxyXG4gICAgbWVzc2VuZ2VyOiB7IHc6IDcxMCwgaDogODUwICsgNTUgfSxcclxuICAgIGxpbmtlZGluOiB7IHc6IDU2MCwgaDogNTAwIH0sXHJcbiAgICB5YWhvb2Jvb2ttYXJrczogeyB3OiA4NDAsIGg6IDkyMCArIDU1IH0sXHJcbiAgICBkaWdnOiB7IHc6IDEwMTAsIGg6IDk5MCArIDU1IH0sXHJcbiAgICBnb29nbGVib29rbWFya3M6IHsgdzogNzEwLCBoOiA4NTAgKyA1NSB9LFxyXG4gICAgbWl4aTogeyB3OiA2NDAsIGg6IDQ3MCB9LFxyXG4gICAgZ29vZ2xlcGx1czogeyB3OiA0OTYsIGg6IDQyMCB9LFxyXG59O1xyXG5leHBvcnQgZnVuY3Rpb24gc29jaWFsaXplQWRkRXZlbnRIYW5kbGVycyguLi5yZXN0KSB7XHJcbiAgICB2YXIgcGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW2dpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgcmVzdF0pO1xyXG4gICAgdmFyIG5hbWVzcGFjZSA9IHBhcmFtc1snbmFtZXNwYWNlJ10gPyBwYXJhbXNbJ25hbWVzcGFjZSddIDogJ3NvY2lhbGl6ZSc7XHJcblxyXG4gICAgZm9yICh2YXIgZXZlbnROYW1lIGluIHBhcmFtcykge1xyXG4gICAgICAgIGlmIChldmVudE5hbWUuaW5kZXhPZignb24nKSA9PSAwKSBnbG9iYWxFdmVudHMuYWRkKGV2ZW50TmFtZSwgcGFyYW1zW2V2ZW50TmFtZV0sIHBhcmFtc1snbGlzdGVuZXJUeXBlJ10sIHBhcmFtc1snY29udGV4dCddLCBuYW1lc3BhY2UsIHBhcmFtcyk7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHBhcmFtc1snY2FsbGJhY2snXSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgcGFyYW1zWydjYWxsYmFjayddKHtcclxuICAgICAgICAgICAgc3RhdHVzOiAnT0snLFxyXG4gICAgICAgICAgICBzdGF0dXNNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgZXJyb3JDb2RlOiAwLFxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICBvcGVyYXRpb246ICdhZGRFdmVudEhhbmRsZXJzJyxcclxuICAgICAgICAgICAgY29udGV4dDogcGFyYW1zWydjb250ZXh0J10sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFjY291bnRzQWRkRXZlbnRIYW5kbGVycyguLi5yZXN0KSB7XHJcbiAgICBzb2NpYWxpemVBZGRFdmVudEhhbmRsZXJzKG9iamVjdFV0aWxzLm1lcmdlKFtyZXN0LCB7IG5hbWVzcGFjZTogJ2FjY291bnRzJyB9XSkpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpc0xvZ2dlZEluKCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW2dpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgYXJndW1lbnRzXSk7XHJcbiAgICBnaWd5YS5zb2NpYWxpemUuZ2V0VXNlckluZm8ocGFyYW1zLCB7XHJcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKHVzZXJJbmZvUmVzcG9uc2U6IE9iamVjdCkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gdXNlckluZm9SZXNwb25zZVsndXNlciddO1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHsgbG9nZ2VkSW46IHVzZXIgPyB2YWxpZGF0aW9uVXRpbHMuaXNFeHBsaWNpdFRydWUodXNlclsnaXNMb2dnZWRJbiddKSA6IGZhbHNlIH07XHJcbiAgICAgICAgICAgIG9iamVjdFV0aWxzLmV4dHJhY3RQcm9wZXJ0aWVzKHVzZXJJbmZvUmVzcG9uc2UsIHJlc3BvbnNlLCAnc3RhdHVzfHN0YXR1c01lc3NhZ2V8Y2FsbElkfGVycm9yQ29kZXxlcnJvck1lc3NhZ2V8ZXJyb3JEZXRhaWxzfGNvbnRleHQnKTtcclxuICAgICAgICAgICAgaWYgKHBhcmFtc1snY2FsbGJhY2snXSkgcGFyYW1zWydjYWxsYmFjayddKHJlc3BvbnNlKTtcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JTZXJ2aWNlKCkge1xyXG4gICAgdmFyIHBhcmFtcyA9IG9iamVjdFV0aWxzLm1lcmdlKFtnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmYsIGFyZ3VtZW50c10pO1xyXG4gICAgdmFyIHNlcnZpY2UgPSBwYXJhbXNbJ3NlcnZpY2UnXTtcclxuICAgIGlmICghc2VydmljZSkgcmV0dXJuO1xyXG4gICAgc2VydmljZSA9IHNlcnZpY2UudG9Mb3dlckNhc2UoKTtcclxuICAgIHZhciBjYWxsYmFjayA9IHBhcmFtc1snY2FsbGJhY2snXTtcclxuXHJcbiAgICBpZiAoc2VydmljZSA9PSAnZmJjb25uZWN0JyB8fCBzZXJ2aWNlID09ICdmYWNlYm9vaycpIHtcclxuICAgICAgICBpZiAoIWZhY2Vib29rRXh0ZXJuYWwuaXNMb2FkZWQoKSkge1xyXG4gICAgICAgICAgICBnaWd5YS5zb2NpYWxpemUuYWRkRXZlbnRIYW5kbGVycyhcclxuICAgICAgICAgICAgICAgIHsgbGlzdGVuZXJUeXBlOiAnY29tcG9uZW50JyB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRmFjZWJvb2tMb2FkZWQ6IGNhbGxiYWNrLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHBhcmFtc1snY29udGV4dCddLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsYmFjayh7IGNvbnRleHQ6IHBhcmFtc1snY29udGV4dCddIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChzZXJ2aWNlID09ICdnb29nbGVwbHVzJykge1xyXG4gICAgICAgIGlmICghZ29vZ2xlUGx1c0V4dGVybmFsLmlzTG9hZGVkKCkpIHtcclxuICAgICAgICAgICAgZ2lneWEuc29jaWFsaXplLmFkZEV2ZW50SGFuZGxlcnMoXHJcbiAgICAgICAgICAgICAgICB7IGxpc3RlbmVyVHlwZTogJ2NvbXBvbmVudCcgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBvbkdvb2dsZVBsdXNMb2FkZWQ6IGNhbGxiYWNrLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHBhcmFtc1snY29udGV4dCddLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsYmFjayh7IGNvbnRleHQ6IHBhcmFtc1snY29udGV4dCddIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcG9zdEJvb2ttYXJrKC4uLnJlc3QpIHtcclxuICAgIC8vIE1lcmdlIHBhcmFtcyB3aXRoIGdsb2JhbCBwYXJhbXMuXHJcbiAgICBjb25zdCBwYXJhbXMgPSBvYmplY3RVdGlscy5tZXJnZShbZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mLCByZXN0XSk7XHJcbiAgICBpZiAoIXBhcmFtc1snQVBJS2V5J10pIHtcclxuICAgICAgICBwYXJhbXNbJ0FQSUtleSddID0gZ2lneWEudGhpc1NjcmlwdC5BUElLZXk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXh0cmFjdCB3aGl0ZWxpc3RlZCBwYXJhbXMuXHJcbiAgICBjb25zdCByZXF1ZXN0UGFyYW1zID0ge307XHJcbiAgICBvYmplY3RVdGlscy5leHRyYWN0UHJvcGVydGllcyhbcGFyYW1zXSwgcmVxdWVzdFBhcmFtcywgcG9zdEJvb2ttYXJrU2NoZW1hKTtcclxuXHJcbiAgICAvLyBBY2NlcHQgVVJMIG9yIHVybCBhcyBwYXJhbWV0ZXIsIGJ1dCBzdGFuZGFyZGl6ZSB0byBcInVybFwiIGFzIGRvY3VtZW50ZWQuXHJcbiAgICBpZiAoIXJlcXVlc3RQYXJhbXNbJ3VybCddICYmIHJlcXVlc3RQYXJhbXNbJ1VSTCddKSB7XHJcbiAgICAgICAgcmVxdWVzdFBhcmFtc1sndXJsJ10gPSByZXF1ZXN0UGFyYW1zWydVUkwnXTtcclxuICAgICAgICBkZWxldGUgcmVxdWVzdFBhcmFtc1snVVJMJ107XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUGFzcyBKUyBTREsgdmVyc2lvbiBhcyBwYXJhbS5cclxuICAgIHJlcXVlc3RQYXJhbXNbJ3NkayddID0gJ2pzXycgKyBnaWd5YS5idWlsZC52ZXJzaW9uO1xyXG5cclxuICAgIC8vIERlZmF1bHQgdXJsIHRvIG9nOnVybCBpZiBub3QgcGFzc2VkIGFzIHBhcmFtIGFuZCB1c2VyQWN0aW9uIHBhc3NlZC5cclxuICAgIGlmICghcmVxdWVzdFBhcmFtc1sndXJsJ10gJiYgcmVxdWVzdFBhcmFtc1sndXNlckFjdGlvbiddICYmICFyZXF1ZXN0UGFyYW1zWyd1c2VyQWN0aW9uJ11bJ2xpbmtCYWNrJ10pIHtcclxuICAgICAgICBjb25zdCBtZXRhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdtZXRhJyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXRhcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAobWV0YXNbaV0uZ2V0QXR0cmlidXRlKCdwcm9wZXJ0eScpID09PSAnb2c6dXJsJyAmJiBtZXRhc1tpXS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSkge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdFBhcmFtc1sndXJsJ10gPSBtZXRhc1tpXS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIERlZmF1bHQgdXJsIHRvIGN1cnJlbnQgcGFnZSBpZiB1c2VyQWN0aW9uIHBhc3NlZC5cclxuICAgIGlmICghcmVxdWVzdFBhcmFtc1sndXJsJ10gJiYgKHJlcXVlc3RQYXJhbXNbJ3VzZXJBY3Rpb24nXSAmJiAhcmVxdWVzdFBhcmFtc1sndXNlckFjdGlvbiddWydsaW5rQmFjayddKSkge1xyXG4gICAgICAgIHJlcXVlc3RQYXJhbXNbJ3VybCddID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcm92aWRlciBuYW1lIGFsd2F5cyBsb3dlcmNhc2UuXHJcbiAgICByZXF1ZXN0UGFyYW1zWydwcm92aWRlciddID0gcmVxdWVzdFBhcmFtc1sncHJvdmlkZXInXSA/IChyZXF1ZXN0UGFyYW1zWydwcm92aWRlciddICsgJycpLnRvTG93ZXJDYXNlKCkgOiAnJztcclxuXHJcbiAgICAvLyBEZWZhdWx0IHByb3ZpZGVyS2V5IHRvIGZiOmFwcF9pZCBtZXRhIHRhZy5cclxuICAgIGlmIChyZXF1ZXN0UGFyYW1zWydwcm92aWRlciddID09PSAnZmFjZWJvb2snKSB7XHJcbiAgICAgICAgcmVxdWVzdFBhcmFtc1sncHJvdmlkZXJLZXknXSA9IE9wZW5ncmFwaC5nZXRNZXRhVGFnKCdmYjphcHBfaWQnKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGNvbnN0IGdtaWRUaWNrZXQgPSBnaWd5YS5fLmFwaUFkYXB0ZXIuZ2V0R21pZFRpY2tldCgpO1xyXG5cclxuICAgIC8vIGdtaWRUaWNrZXQgaXMgbmVlZGVkIGlmIDNyZCBwYXJ0eSBjb29raWVzIGFyZSBibG9ja2VkLlxyXG4gICAgaWYgKGdtaWRUaWNrZXQpIHtcclxuICAgICAgICByZXF1ZXN0UGFyYW1zWydnbWlkVGlja2V0J10gPSBnbWlkVGlja2V0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpbmQgcHJvdmlkZXItc3BlY2lmaWMgd2luZG93IHNpemUgKGRvZXMgbm90IGFsd2F5cyBleGlzdCkuXHJcbiAgICBjb25zdCBkZWZhdWx0U2l6ZSA9IGdpZ3lhLl8uYm9va21hcmtTaXplW3JlcXVlc3RQYXJhbXNbJ3Byb3ZpZGVyJ11dIHx8IHt9O1xyXG5cclxuICAgIC8vIExvb2sgZm9yIHVzZXItcHJvdmlkZWQgcG9wdXAgZGltZW5zaW9ucyBhbmQgcG9zaXRpb24uXHJcbiAgICBjb25zdCB3aW5kb3dPcHRpb25zOiB3aW5VdGlscy5XaW5kb3dPcHRpb25zID0ge1xyXG4gICAgICAgIHdpZHRoOiBwYXJhbXNbJ3BvcHVwV2lkdGgnXSB8fCBkZWZhdWx0U2l6ZS53LFxyXG4gICAgICAgIGhlaWdodDogcGFyYW1zWydwb3B1cEhlaWdodCddIHx8IGRlZmF1bHRTaXplLmgsXHJcbiAgICAgICAgdG9wOiBwYXJhbXNbJ3BvcHVwUG9zaXRpb25ZJ10sXHJcbiAgICAgICAgbGVmdDogcGFyYW1zWydwb3B1cFBvc2l0aW9uWCddLFxyXG4gICAgICAgIG1lbnViYXI6IDAsXHJcbiAgICAgICAgcmVzaXphYmxlOiAxLFxyXG4gICAgICAgIHNjcm9sbGJhcnM6IDEsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFsbG93IGxvY2F0aW9uL3Rvb2xiYXIgdG8gYmUgdG9nZ2xlZCBvbi5cclxuICAgIGlmIChwYXJhbXNbJ2VuYWJsZVBvcHVwTG9jYXRpb24nXSkge1xyXG4gICAgICAgIHdpbmRvd09wdGlvbnMubG9jYXRpb24gPSAxO1xyXG4gICAgICAgIHdpbmRvd09wdGlvbnMudG9vbGJhciA9IDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdpbmRvd09wdGlvbnMudG9vbGJhciA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy9BZGQgbG9naW5fdG9rZW4gdG8gcmVxdWVzdFxyXG4gICAgY29uc3QgdG9rZW5TdG9yZSA9IGdpZ3lhLl8uYXBpQWRhcHRlcnNbJ3dlYiddID8gZ2lneWEuXy5hcGlBZGFwdGVyc1snd2ViJ10udG9rZW5TdG9yZSA6IHVuZGVmaW5lZDtcclxuICAgIGlmICh0b2tlblN0b3JlKSB7XHJcbiAgICAgICAgcmVxdWVzdFBhcmFtc1snbG9naW5fdG9rZW4nXSA9IGdpZ3lhLl8uYXBpQWRhcHRlcnMud2ViLnRva2VuU3RvcmUuZ2V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzcGVjdCBjdXN0b20gQVBJIGRvbWFpbiBwcmVmaXguXHJcbiAgICBsZXQgZmluYWxVUkw6IHN0cmluZztcclxuICAgIGlmIChyZXF1ZXN0UGFyYW1zWydwcm92aWRlciddID09PSAndHdpdHRlcicgJiYgbG9jYWxJbmZvLmlzSU9TKSB7XHJcbiAgICAgICAgY29uc3QgdXNlckFjdGlvbiA9IHJlcXVlc3RQYXJhbXNbJ3VzZXJBY3Rpb24nXSB8fCB7fTtcclxuXHJcbiAgICAgICAgLy8gRGlyZWN0IGxpbmsgdG8gVHdpdHRlciB0byBwcmV2ZW50IGJsYW5rIHBhZ2Ugb24gU2FmYXJpIGlPUyAtIHNlZSAjNDIwMjAuXHJcbiAgICAgICAgY29uc3QgcXMgPSB7XHJcbiAgICAgICAgICAgIHVybDogdXNlckFjdGlvblsnbGlua0JhY2snXSB8fCByZXF1ZXN0UGFyYW1zWyd1cmwnXSxcclxuICAgICAgICAgICAgdGV4dDogdXNlckFjdGlvblsndGl0bGUnXSB8fCByZXF1ZXN0UGFyYW1zWyd0aXRsZSddLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgdXJsVGVtcGxhdGUgPSAnaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/ezB9JztcclxuICAgICAgICBmaW5hbFVSTCA9IHN0cmluZ1V0aWxzVXRpbHMuZm9ybWF0KHVybFRlbXBsYXRlLCBrZXlWYWx1ZVV0aWxzLnNlcmlhbGl6ZShxcykpO1xyXG5cclxuICAgICAgICBjb25zdCBzb3VyY2VEYXRhID0gcGFyYW1zWydzb3VyY2VEYXRhJ10gPyBvYmplY3RVdGlscy5jbG9uZShwYXJhbXNbJ3NvdXJjZURhdGEnXSkgOiB7fTtcclxuICAgICAgICBzb3VyY2VEYXRhLnByb3ZpZGVyID0gcmVxdWVzdFBhcmFtc1sncHJvdmlkZXInXTtcclxuICAgICAgICBzb3VyY2VEYXRhLnVybCA9IHFzLnVybDtcclxuICAgICAgICByZXBvcnRzLnJlcG9ydCgnc2hhcmUnLCBwYXJhbXNbJ0FQSUtleSddLCBwYXJhbXNbJ2NpZCddLCBwYXJhbXNbJ3NvdXJjZSddLCBzb3VyY2VEYXRhLCB7IHRhZ3M6IHBhcmFtc1sndGFncyddIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBxcyA9IGtleVZhbHVlVXRpbHMuc2VyaWFsaXplKHJlcXVlc3RQYXJhbXMpO1xyXG4gICAgICAgIGNvbnN0IHVybFRlbXBsYXRlID0gYGh0dHBzOi8vJHtnaWd5YS5fLmdldEFwaURvbWFpbignc29jaWFsaXplJyl9L2dzL2Jvb2ttYXJrLmFzcHg/ezB9YDtcclxuICAgICAgICBmaW5hbFVSTCA9IHN0cmluZ1V0aWxzVXRpbHMuZm9ybWF0KHVybFRlbXBsYXRlLCBxcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGlzcGF0Y2ggYW5kIGxvZyBldmVudC5cclxuICAgIGxvZ0NhbGwoJ3Bvc3RCb29rbWFyaycsIHJlcXVlc3RQYXJhbXMpO1xyXG4gICAgZ2xvYmFsRXZlbnRzLmRpc3BhdGNoKHtcclxuICAgICAgICBldmVudE5hbWU6ICdiZWZvcmVSZXF1ZXN0JyxcclxuICAgICAgICBtZXRob2ROYW1lOiAnc29jaWFsaXplLnBvc3RCb29rbWFyaycsXHJcbiAgICAgICAgcmF3UGFyYW1zOiBwYXJhbXMsXHJcbiAgICAgICAgcGFyYW1zOiByZXF1ZXN0UGFyYW1zLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qgd2luZG93TmFtZSA9IHJlcXVlc3RQYXJhbXNbJ3Byb3ZpZGVyJ10gPT09ICd3aGF0c2FwcCcgPyAnX3NlbGYnIDogJ2dzX2Jvb2ttYXJrXycgKyByZXF1ZXN0UGFyYW1zWydwcm92aWRlciddO1xyXG5cclxuICAgIC8vIE9wZW4gd2luZG93LlxyXG4gICAgd2luVXRpbHMub3BlbihmaW5hbFVSTCwgd2luZG93TmFtZSwgd2luZG93T3B0aW9ucyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZnJlc2hVSSguLi5yZXN0KSB7XHJcbiAgICB2YXIgcGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW2dpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgcmVzdF0pO1xyXG4gICAgdmFyIG9yaWdpbmFsQ2FsbGJhY2sgPSBwYXJhbXNbJ2NhbGxiYWNrJ107XHJcbiAgICBnaWd5YS5zb2NpYWxpemUuZ2V0VXNlckluZm8ocGFyYW1zLCB7XHJcbiAgICAgICAgY2FsbGJhY2s6IHJlcyA9PiB7XHJcbiAgICAgICAgICAgIHZhciBvRXZlbnQgPSB7XHJcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdsb2dpbicsXHJcbiAgICAgICAgICAgICAgICBpc0ludGVybmFsOiB0cnVlLCAvLyBXaGVuIHJlZnJlc2hpbmcsIG5vdGlmeSBvbmx5IHBsdWdpbnNcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKHBhcmFtc1sncHJvdmlkZXInXSkgb0V2ZW50Wydwcm92aWRlciddID0gcGFyYW1zWydwcm92aWRlciddO1xyXG4gICAgICAgICAgICBhZGRVc2VySW5mb1RvRXZlbnQocmVzLCBvRXZlbnQsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAocGFyYW1zWydjb250ZXh0J10pIG9FdmVudFsnY29udGV4dCddID0gcGFyYW1zWydjb250ZXh0J107XHJcbiAgICAgICAgICAgIGdsb2JhbEV2ZW50cy5kaXNwYXRjaChvRXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9yaWdpbmFsQ2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykgb3JpZ2luYWxDYWxsYmFjayhyZXMpO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tSZWZlcnJhbHMoLi4ucmVzdCkge1xyXG4gICAgY29uc3Qgb1JlZmVycmVycyA9IHtcclxuICAgICAgICAvL2RvbWFpbjpwcm92aWRlclxyXG4gICAgICAgICdkaWdnLmNvbSc6ICdkaWdnJyxcclxuICAgICAgICAnc3R1bWJsZXVwb24uY29tJzogJ3N0dW1ibGV1cG9uJyxcclxuICAgICAgICAndGVjaG5vcmF0aS5jb20nOiAndGVjaG5vcmF0aScsXHJcbiAgICAgICAgJ3QuY28nOiAndHdpdHRlcicsXHJcbiAgICAgICAgJ3BsdXMudXJsLmdvb2dsZS5jb20nOiAnZ29vZ2xlUGx1cycsXHJcbiAgICAgICAgJ2ZhY2Vib29rLmNvbSc6ICdmYWNlYm9vaycsXHJcbiAgICAgICAgJ2xpbmtlZGluLmNvbSc6ICdsaW5rZWRJbicsXHJcbiAgICAgICAgJ3BpbnRlcmVzdC5jb20nOiAncGludGVyZXN0JyxcclxuICAgICAgICAnbWl4aS5qcCc6ICdtaXhpJyxcclxuICAgICAgICAnYi5oYXRlbmEubmUuanAnOiAnaGF0ZW5hJyxcclxuICAgICAgICAnbGluZS5tZSc6ICdsaW5lJyxcclxuICAgIH07XHJcbiAgICBsZXQgcmVwb3J0ZWRSZWZlcnJhbHM7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBvYmplY3RVdGlscy5tZXJnZShbZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mLCByZXN0XSk7XHJcbiAgICBjb25zdCBsaW5rQmFja0V2ZW50OiBnbG9iYWxFdmVudHMuSUxpbmtCYWNrRXZlbnQgPSB7XHJcbiAgICAgICAgZXZlbnROYW1lOiAnbGlua2JhY2snLFxyXG4gICAgICAgIENJRDogcGFyYW1zWydjaWQnXSxcclxuICAgIH07XHJcblxyXG4gICAgdmFyIFVSTFBhcmFtcyA9IHt9O1xyXG4gICAgdmFyIGZhcmdtZW50UGFyYW1zID0ge307XHJcbiAgICBpZiAoZG9jdW1lbnQubG9jYXRpb24uaHJlZi5pbmRleE9mKCcjJykgIT0gLTEpIHtcclxuICAgICAgICBmYXJnbWVudFBhcmFtcyA9IGtleVZhbHVlVXRpbHMuZGVzZXJpYWxpemUoZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzFdKTtcclxuICAgIH1cclxuICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJz8nKSAhPSAtMSkge1xyXG4gICAgICAgIFVSTFBhcmFtcyA9IGtleVZhbHVlVXRpbHMuZGVzZXJpYWxpemUoZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdCgnPycpWzFdLnNwbGl0KCcjJylbMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdpZ3lhLnNvY2lhbGl6ZS51cGRhdGVSZWZVSUQocGFyYW1zWydBUElLZXknXSwgZmFyZ21lbnRQYXJhbXMsIFVSTFBhcmFtcyk7XHJcblxyXG4gICAgdmFyIGd1cyA9IGZhcmdtZW50UGFyYW1zWydfZ3VzJ10gIT0gbnVsbCB8fCBVUkxQYXJhbXNbJ19ndXMnXSAhPSBudWxsOyAvLyBfZ3VzIG1lYW5zIGl0J3MgcmVwb3J0ZWQgYnkgc29jLmxpIChHaWd5YSBVcmwgU2hvcnRuZXIpIHNvIHdlIGRvbid0IG5lZWQgdG8gcmVwb3J0IGl0IGFnYWluXHJcbiAgICBpZiAoZ3VzKSB7XHJcbiAgICAgICAgbGlua0JhY2tFdmVudC5DSUQgPSBmYXJnbWVudFBhcmFtc1snX2d1Y2lkJ10gfHwgVVJMUGFyYW1zWydfZ3VjaWQnXTtcclxuICAgICAgICBsaW5rQmFja0V2ZW50LnNob3J0Q29kZSA9IGZhcmdtZW50UGFyYW1zWydfZ3NjJ10gfHwgVVJMUGFyYW1zWydfZ3NjJ107XHJcbiAgICAgICAgbGlua0JhY2tFdmVudC5wcm92aWRlciA9IGZhcmdtZW50UGFyYW1zWydfZ3VwJ10gfHwgVVJMUGFyYW1zWydfZ3VwJ107XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFyZXBvcnRlZFJlZmVycmFscykge1xyXG4gICAgICAgIHZhciBzb3VyY2U7XHJcbiAgICAgICAgdmFyIHJlcG9ydFBhcmFtcyA9IHtcclxuICAgICAgICAgICAgdXJsOiBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLFxyXG4gICAgICAgICAgICByZWY6IGRvY3VtZW50LnJlZmVycmVyLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKFVSTFBhcmFtc1snZmJfcmVmJ10pIHtcclxuICAgICAgICAgICAgLy8gZnJvbSBzaGFyZWJhclVJIGZhY2Vib29rLWxpa2UgYW5kIGZhY2Vib29rLXNlbmQgYnV0dG9uc1xyXG4gICAgICAgICAgICB2YXIgZmJQYXJhbXMgPSBrZXlWYWx1ZVV0aWxzLmRlc2VyaWFsaXplKFVSTFBhcmFtc1snZmJfcmVmJ10sICc6Jyk7XHJcbiAgICAgICAgICAgIHJlcG9ydFBhcmFtc1sndXVpZCddID0gZmJQYXJhbXNbJ3V1J107XHJcbiAgICAgICAgICAgIHJlcG9ydFBhcmFtc1snc24nXSA9IGZiUGFyYW1zWydwJ107XHJcbiAgICAgICAgICAgIHNvdXJjZSA9IGZiUGFyYW1zWydzJ107XHJcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5yZWZlcnJlciAmJiBkb2N1bWVudC5yZWZlcnJlci5pbmRleE9mKCc6Ly8nKSAhPSAtMSkge1xyXG4gICAgICAgICAgICB2YXIgcmVmZXJyaW5nRG9tYWluID0gZG9jdW1lbnQucmVmZXJyZXIuc3BsaXQoJzovLycpWzFdLnNwbGl0KCcvJylbMF07XHJcbiAgICAgICAgICAgIGlmIChyZWZlcnJpbmdEb21haW4uaW5kZXhPZignd3d3LicpID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJlZmVycmluZ0RvbWFpbiA9IHJlZmVycmluZ0RvbWFpbi5zcGxpdCgnd3d3LicpWzFdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob1JlZmVycmVyc1tyZWZlcnJpbmdEb21haW5dKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5rQmFja0V2ZW50LnByb3ZpZGVyID0gcmVwb3J0UGFyYW1zWydzbiddID0gb1JlZmVycmVyc1tyZWZlcnJpbmdEb21haW5dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGRyZXNzQmFyU2hhcmVzICh3aXRoIGhhc2ggcGFyYW1ldGVycylcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICFyZXBvcnRQYXJhbXNbJ3NuJ10gJiZcclxuICAgICAgICAgICAgKCFkb2N1bWVudC5yZWZlcnJlciB8fCAoZG9jdW1lbnQucmVmZXJyZXIuaW5kZXhPZignaHR0cDovL3NvYy5saScpID09IC0xICYmIGRvY3VtZW50LnJlZmVycmVyLmluZGV4T2YoJ2h0dHBzOi8vc2hyLmdzJykgPT0gLTEpKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB2YXIgYXJIYXNoU2VncyA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuc3BsaXQoJyNndWlkPScpO1xyXG4gICAgICAgICAgICBpZiAoYXJIYXNoU2Vncy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzaFVVSUQgPSBhckhhc2hTZWdzWzFdLnNwbGl0KCcjJylbMF0uc3BsaXQoJyYnKVswXTtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNoVVVJRCAhPSBnaWd5YS5fLmFwaUFkYXB0ZXIuZ2V0VG9rZW5QYXJhbShwYXJhbXNbJ0FQSUtleSddLCAnVVVJRCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0UGFyYW1zWydzbiddID0gJ0FkZHJlc3NCYXJTaGFyZXMnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydFBhcmFtc1sndXVpZCddID0gaGFzaFVVSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc2hVVUlEID09ICdfJykgZGVsZXRlIHJlcG9ydFBhcmFtc1sndXVpZCddO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLnJlcGxhY2UoJyMnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXBvcnRzLnRyYWNrQWRkcmVzc0JhclNoYXJlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydFBhcmFtcy51cmwgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnNwbGl0KCcjJylbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIF9naWdSZWZVaWRfPEFQSUtleT4gY29va2llIGlzIHVzZWQgdG8gcmVwb3J0IHRoZSByZWZlcnJpbmcgdXVpZCB3aGVuIHRoZSBuZXh0IHJlcXVlc3Qgb2YgYSBsb2dnZWQgaW4gdXNlciB3aWxsIGdvIG91dCAoZm9yIGdtIHBvaW50cylcclxuICAgICAgICBpZiAocmVwb3J0UGFyYW1zWyd1dWlkJ10pIGNvb2tpZVV0aWxzLnNldCgnX2dpZ1JlZlVpZF8nICsgcGFyYW1zWydBUElLZXknXSwgcmVwb3J0UGFyYW1zWyd1dWlkJ10pO1xyXG5cclxuICAgICAgICBpZiAocmVwb3J0UGFyYW1zWydzbiddICYmICFndXMpIHJlcG9ydHMucmVwb3J0KCdsaW5rYmFjaycsIHBhcmFtc1snQVBJS2V5J10sIHBhcmFtc1snY2lkJ10sIHNvdXJjZSwgbnVsbCwgcmVwb3J0UGFyYW1zKTtcclxuXHJcbiAgICAgICAgaWYgKHJlcG9ydFBhcmFtc1snc24nXSB8fCBndXMpIGdsb2JhbEV2ZW50cy5kaXNwYXRjaChvYmplY3RVdGlscy5yZW1vdmVVbmRlZmluZWQobGlua0JhY2tFdmVudCkpO1xyXG5cclxuICAgICAgICByZXBvcnRlZFJlZmVycmFscyA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHBhcmFtc1snY2FsbGJhY2snXSA9PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgIHBhcmFtc1snY2FsbGJhY2snXSh7XHJcbiAgICAgICAgICAgIHN0YXR1czogJ09LJyxcclxuICAgICAgICAgICAgc3RhdHVzTWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgIG9wZXJhdGlvbjogJ3RyYWNrUmVmZXJyYWxzJyxcclxuICAgICAgICAgICAgY29udGV4dDogcGFyYW1zWydjb250ZXh0J10sXHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgIGVycm9yQ29kZTogMCxcclxuICAgICAgICB9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUmVmVUlEKGFwaUtleSwgZnJhZ21lbnRQYXJhbXMsIFVSTFBhcmFtcykge1xyXG4gICAgaWYgKCFhcGlLZXkpIGFwaUtleSA9IGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsnQVBJS2V5J107XHJcbiAgICBpZiAoIWZyYWdtZW50UGFyYW1zKSB7XHJcbiAgICAgICAgZnJhZ21lbnRQYXJhbXMgPSB7fTtcclxuICAgICAgICBpZiAoZG9jdW1lbnQubG9jYXRpb24uaHJlZi5pbmRleE9mKCcjJykgIT0gLTEpIHtcclxuICAgICAgICAgICAgZnJhZ21lbnRQYXJhbXMgPSBrZXlWYWx1ZVV0aWxzLmRlc2VyaWFsaXplKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuc3BsaXQoJyMnKVsxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghVVJMUGFyYW1zKSB7XHJcbiAgICAgICAgVVJMUGFyYW1zID0ge307XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignPycpICE9IC0xKSB7XHJcbiAgICAgICAgICAgIFVSTFBhcmFtcyA9IGtleVZhbHVlVXRpbHMuZGVzZXJpYWxpemUoZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdCgnPycpWzFdLnNwbGl0KCcjJylbMF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoZnJhZ21lbnRQYXJhbXNbJ2d1aWQnXSAmJiBmcmFnbWVudFBhcmFtc1snZ3VpZCddICE9ICdfJykgY29va2llVXRpbHMuc2V0KCdfZ2lnUmVmVWlkXycgKyBhcGlLZXksIGZyYWdtZW50UGFyYW1zWydndWlkJ10pO1xyXG5cclxuICAgIHZhciByZWZVdWlkID0gZnJhZ21lbnRQYXJhbXNbJ19naWd1dWlkJ10gfHwgVVJMUGFyYW1zWydfZ2lndXVpZCddO1xyXG4gICAgaWYgKHJlZlV1aWQpIHtcclxuICAgICAgICBjb29raWVVdGlscy5zZXQoJ19naWdSZWZVaWRfJyArIGFwaUtleSwgcmVmVXVpZCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVVSSguLi5yZXN0KSB7XHJcbiAgICB2YXIgcGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW2dpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgcmVzdF0pO1xyXG4gICAgaWYgKHR5cGVvZiBwYXJhbXNbJ2NhbGxiYWNrJ10gPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHZhciBvUmVzcG9uc2UgPSB7XHJcbiAgICAgICAgICAgIHN0YXR1czogJ09LJyxcclxuICAgICAgICAgICAgc3RhdHVzTWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgIG9wZXJhdGlvbjogJ2hpZGVVSScsXHJcbiAgICAgICAgICAgIGNvbnRleHQ6IHBhcmFtc1snY29udGV4dCddLFxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICBlcnJvckNvZGU6IDAsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBwYXJhbXNbJ2NhbGxiYWNrJ10ob1Jlc3BvbnNlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gc3VibWl0VXNlckZvcm0oLi4ucmVzdCkge1xyXG4gICAgdmFyIG9Vc2VyRGF0YSA9IHt9O1xyXG4gICAgdmFyIHBhcmFtcyA9IG9iamVjdFV0aWxzLm1lcmdlKFtnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmYsIHJlc3RdKTtcclxuICAgIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyYW1zWydmb3JtJ10pO1xyXG4gICAgaWYgKCFmb3JtKSB7XHJcbiAgICAgICAgdmFyIGFyRm9ybXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShwYXJhbXNbJ2Zvcm0nXSk7XHJcbiAgICAgICAgaWYgKGFyRm9ybXMgJiYgYXJGb3Jtcy5sZW5ndGggPiAwKSBwYXJhbXNbJ2Zvcm0nXSA9IGFyRm9ybXNbMF07XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1bJ2VsZW1lbnRzJ10ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgZWwgPSBmb3JtWydlbGVtZW50cyddW2ldO1xyXG4gICAgICAgIGlmIChlbC5uYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBhck5hbWVTZWdtZW50cyA9IGVsLm5hbWUuc3BsaXQoJy4nKTtcclxuICAgICAgICAgICAgdmFyIG9DdXJyZW50U2VnbWVudCA9IG9Vc2VyRGF0YTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaVNlZ21lbnQgPSAwOyBpU2VnbWVudCA8IGFyTmFtZVNlZ21lbnRzLmxlbmd0aCAtIDE7IGlTZWdtZW50KyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzU2VnbWVudCA9IGFyTmFtZVNlZ21lbnRzW2lTZWdtZW50XTtcclxuICAgICAgICAgICAgICAgIGlmICghb0N1cnJlbnRTZWdtZW50W3NTZWdtZW50XSkgb0N1cnJlbnRTZWdtZW50W3NTZWdtZW50XSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgb0N1cnJlbnRTZWdtZW50ID0gb0N1cnJlbnRTZWdtZW50W3NTZWdtZW50XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvQ3VycmVudFNlZ21lbnRbYXJOYW1lU2VnbWVudHNbYXJOYW1lU2VnbWVudHMubGVuZ3RoIC0gMV1dID0gZWwudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcGFyYW1zWydkYXRhJ10gPSBvVXNlckRhdGE7XHJcbiAgICBnaWd5YS5nY3Muc2V0VXNlckRhdGEocGFyYW1zKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvdmlkZXJTaGFyZUNvdW50cyguLi5yZXN0KSB7XHJcbiAgICB2YXIgcGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW2dpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgcmVzdF0pO1xyXG4gICAgc2NyaXB0VXRpbHMubG9hZChcclxuICAgICAgICBnZXRDZG5SZXNvdXJjZSgnL2pzL2dpZ3lhLnNlcnZpY2VzLnNvY2lhbGl6ZS5wbHVnaW5zLnNoYXJlQ291bnRzLm1pbi5qcycpLFxyXG4gICAgICAgIG51bGwsXHJcbiAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnNvY2lhbGl6ZS5wbHVnaW5zLnNoYXJlQ291bnRzLmdldFByb3ZpZGVyU2hhcmVDb3VudHMocGFyYW1zKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRydWUsXHJcbiAgICApO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBvcGVuRGVsZWdhdGVBZG1pbkhhbmRsZXIocGFyYW1zOiB7IG9yZ0lkOiBzdHJpbmc7IG9uRXJyb3I/OiAoZSkgPT4gdm9pZCB9KSB7XHJcbiAgICBpZiAoIXBhcmFtcyB8fCAhcGFyYW1zLm9yZ0lkKSB7XHJcbiAgICAgICAgZ2lneWEubG9nZ2VyLndhcm4oYGdpZ3lhLmFjY291bnRzLmIyYi5vcGVuRGVsZWdhdGVkQWRtaW5Mb2dpbiAtIG1pc3Npbmcgb3JnSWQgcGFyYW1ldGVyLmApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBteVdpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgZ2lneWEuYWNjb3VudHMuYjJiLmRlbGVnYXRlZEFkbWluTG9naW4oe1xyXG4gICAgICAgICAgICBvcmdJZDogcGFyYW1zLm9yZ0lkLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogcmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMuZXJyb3JDb2RlICE9PSBHU0Vycm9ycy5PSykge1xyXG4gICAgICAgICAgICAgICAgICAgIG15V2luZG93LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMub25FcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMub25FcnJvcihyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXJlcy50YXJnZXRVcmwgfHwgIXJlcy5pZF90b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIG15V2luZG93LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmVycm9yKGBhY2NvdW50cy5iMmIuZGVsZWdhdGVkQWRtaW5Mb2dpbiAtIG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1zYCwgeyB0YXJnZXRVUkw6IHJlcy50YXJnZXRVcmwsIGlkX3Rva2VuOiByZXMuaWRfdG9rZW4gfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIEhUVFBVdGlscy5yZWRpcmVjdChyZXMudGFyZ2V0VXJsLCBbeyBpZF90b2tlbjogcmVzLmlkX3Rva2VuIH1dLCAnUE9TVCcsIHVuZGVmaW5lZCwgbXlXaW5kb3cuZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmdpZ3lhLnNvY2lhbGl6ZS51cGRhdGVSZWZVSUQgPSB1cGRhdGVSZWZVSUQ7XHJcbmdpZ3lhLnNvY2lhbGl6ZS5oaWRlVUkgPSBoaWRlVUk7XHJcbmdpZ3lhLmdjcy5zdWJtaXRVc2VyRm9ybSA9IHN1Ym1pdFVzZXJGb3JtO1xyXG5naWd5YS5zb2NpYWxpemUuZ2V0UHJvdmlkZXJTaGFyZUNvdW50cyA9IGdldFByb3ZpZGVyU2hhcmVDb3VudHM7XHJcbmdpZ3lhLnNvY2lhbGl6ZS5hZGRFdmVudEhhbmRsZXJzID0gc29jaWFsaXplQWRkRXZlbnRIYW5kbGVycztcclxuZ2lneWEuYWNjb3VudHMuYWRkRXZlbnRIYW5kbGVycyA9IGFjY291bnRzQWRkRXZlbnRIYW5kbGVycztcclxuZ2lneWEuc29jaWFsaXplLmlzTG9nZ2VkSW4gPSBpc0xvZ2dlZEluO1xyXG5naWd5YS5zb2NpYWxpemUud2FpdEZvclNlcnZpY2UgPSB3YWl0Rm9yU2VydmljZTtcclxuZ2lneWEuc29jaWFsaXplLnBvc3RCb29rbWFyayA9IHBvc3RCb29rbWFyaztcclxuZ2lneWEuc29jaWFsaXplLnJlZnJlc2hVSSA9IHJlZnJlc2hVSTtcclxuZ2lneWEuc29jaWFsaXplLnRyYWNrUmVmZXJyYWxzID0gdHJhY2tSZWZlcnJhbHM7XHJcblxyXG5mdW5jdGlvbnNVdGlscy5jcmVhdGVBbGlhcygnZ2lneWEuYWNjb3VudHMuYjJiLm9wZW5EZWxlZ2F0ZWRBZG1pbkxvZ2luJywgb3BlbkRlbGVnYXRlQWRtaW5IYW5kbGVyKTtcclxuZnVuY3Rpb25zVXRpbHMuY3JlYXRlQWxpYXMoJ2dpZ3lhLmFjY291bnRzLnNldFNTT1Rva2VuJywgZ2lneWEuc2V0U1NPVG9rZW4pO1xyXG4iLCJpbXBvcnQgKiBhcyBVUkxVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVVJMJztcclxuaW1wb3J0ICogYXMgb2JqZWN0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL29iamVjdCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElJbml0U1NPUGFyYW1zIHtcclxuICAgIHNwTmFtZTogc3RyaW5nOyAvLyB0aGUgbmFtZSBvZiB0aGUgU1AgdG8gU1NPIHRvLlxyXG4gICAgcmVkaXJlY3RVUkw6IHN0cmluZzsgLy8gYSBVUkwgdGhhdCB0aGUgU1Agd2lsbCByZWRpcmVjdCB0byBhdCB0aGUgZW5kIG9mIHRoZSBTU08uIFRoaXMgaXMgdXN1YWxseSB0aGUgbGFuZGluZyBwYWdlIG9uIHRoZSBTUCB0aGF0IGlzIHJlcXVlc3RlZC5cclxufVxyXG5mdW5jdGlvbiBnZXRQcm94eVVybCgpIHtcclxuICAgIGNvbnN0IHVybDogc3RyaW5nIHwgdW5kZWZpbmVkID0gZ2lneWEuc2FtbENvbmZpZyAmJiBnaWd5YS5zYW1sQ29uZmlnLnByb3h5UGFnZVVSTDtcclxuICAgIGlmICghdXJsKSB7XHJcbiAgICAgICAgZ2lneWEubG9nZ2VyLndhcm4oJ21pc3NpbmcgcHJveHkgcGFnZSB1cmwnKTtcclxuICAgIH1cclxuICAgIHJldHVybiB1cmw7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTU08ocGFyYW1zOiBJSW5pdFNTT1BhcmFtcykge1xyXG4gICAgY29uc3QgcHJveHlQYWdlID0gZ2V0UHJveHlVcmwoKTtcclxuICAgIHZhciB1cmwgPSBVUkxVdGlscy5hZGRQYXJhbXNUb1VSTChcclxuICAgICAgICBwcm94eVBhZ2UsXHJcbiAgICAgICAgb2JqZWN0VXRpbHMubWVyZ2UoW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtb2RlOiAnaW5pdFNTTycsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBhcmFtcyxcclxuICAgICAgICBdKSxcclxuICAgICk7XHJcblxyXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRpbnVlU1NPKCkge1xyXG4gICAgY29uc3QgcHJveHlQYWdlID0gZ2V0UHJveHlVcmwoKTtcclxuICAgIHZhciBhcmdzID0gVVJMVXRpbHMuZ2V0UGFyYW1zRnJvbVVSTChsb2NhdGlvbi5ocmVmKTtcclxuICAgIHZhciB1cmwgPSBVUkxVdGlscy5hZGRQYXJhbXNUb1VSTChwcm94eVBhZ2UsIHtcclxuICAgICAgICBtb2RlOiAnYWZ0ZXJMb2dpbicsXHJcbiAgICAgICAgc2FtbENvbnRleHQ6IGFyZ3NbJ3NhbWxDb250ZXh0J10sXHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xyXG59XHJcbiIsIi8vIEdsb2JhbCBhbmQgd2lkZ2V0IGV2ZW50cyBoYW5kbGluZ1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRFdmVudE1hcHMgPSBnaWd5YS5kZWZhdWx0RXZlbnRNYXBzIHx8IFtdO1xyXG4iLCJpbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcclxuaW1wb3J0IHsgR1NFcnJvcnMgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR1NFcnJvcnMnO1xyXG5pbXBvcnQgeyBhZGRMb2cgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTGVnYWN5TG9nZ2VyJztcclxuaW1wb3J0IHsgaGFuZGxlU3BlY2lhbEZpZWxkcyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9JbnRlcm5hbEZsb3dzJztcclxuaW1wb3J0ICogYXMgYXJyYXlVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvYXJyYXknO1xyXG5pbXBvcnQgKiBhcyB0ZW1wbGF0ZXNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvdGVtcGxhdGVzJztcclxuXHJcbmZ1bmN0aW9uIGdldEV2ZW50SGFuZGxlck5hbWUoZXZlbnROYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgaWYgKGV2ZW50TmFtZS5zdWJzdHJpbmcoMCwgMikgPT09ICdvbicpIHtcclxuICAgICAgICByZXR1cm4gZXZlbnROYW1lO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gJ29uJyArIGV2ZW50TmFtZS5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKSArIGV2ZW50TmFtZS5zdWJzdHJpbmcoMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRNYXAobWFwKSB7XHJcbiAgICBnaWd5YS5kZWZhdWx0RXZlbnRNYXBzLnNwbGljZSgwLCAwLCBtYXApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2hFcnJvckZyb21SZXNwb25zZSh3aWRnZXRQYXJhbXMsIHJlc3BvbnNlLCBhZGRpdGlvbmFsUHJvcGVydGllcz8pIHtcclxuICAgIGlmICghcmVzcG9uc2UpIHtcclxuICAgICAgICByZXNwb25zZSA9IHt9O1xyXG4gICAgfVxyXG4gICAgbGV0IHIgPSByZXNwb25zZTtcclxuICAgIGlmIChyLnJlc3BvbnNlKSB7XHJcbiAgICAgICAgciA9IHIucmVzcG9uc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBldmVudE9iaiA9IHtcclxuICAgICAgICBldmVudE5hbWU6ICdlcnJvcicsXHJcbiAgICAgICAgc3RhdHVzOiByLnN0YXR1cyA/IHIuc3RhdHVzIDogJ0ZBSUwnLFxyXG4gICAgICAgIHN0YXR1c01lc3NhZ2U6IHIuc3RhdHVzTWVzc2FnZSA/IHIuc3RhdHVzTWVzc2FnZSA6ICdHZW5lcmFsIFNlcnZlciBFcnJvcicsXHJcbiAgICAgICAgZXJyb3JNZXNzYWdlOiByLmVycm9yTWVzc2FnZSA/IHIuZXJyb3JNZXNzYWdlIDogJ0dlbmVyYWwgU2VydmVyIEVycm9yJyxcclxuICAgICAgICBlcnJvckRldGFpbHM6IHIuZXJyb3JEZXRhaWxzID8gci5lcnJvckRldGFpbHMgOiAnJyxcclxuICAgICAgICBlcnJvckNvZGU6IHIuZXJyb3JDb2RlID8gci5lcnJvckNvZGUgOiA1MDAwMDEsXHJcbiAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLFxyXG4gICAgfTtcclxuICAgIG9iamVjdFV0aWxzLmFkZChldmVudE9iaiwgYWRkaXRpb25hbFByb3BlcnRpZXMpO1xyXG4gICAgZGlzcGF0Y2hGb3JXaWRnZXQoZXZlbnRPYmosIHdpZGdldFBhcmFtcyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaEludmFsaWRQYXJhbUVycm9yKHdpZGdldFBhcmFtcywgcGFyYW1OYW1lKSB7XHJcbiAgICBjb25zdCBldnQ6IGFueSA9IHsgZXZlbnROYW1lOiAnZXJyb3InIH07XHJcbiAgICBpZiAodHlwZW9mIHdpZGdldFBhcmFtc1twYXJhbU5hbWVdID09ICd1bmRlZmluZWQnIHx8IHdpZGdldFBhcmFtc1twYXJhbU5hbWVdID09IG51bGwpIHtcclxuICAgICAgICBldnQuZXJyb3JDb2RlID0gR1NFcnJvcnMuTUlTU0lOR19SRVFVSVJFRF9QQVJBTUVURVI7XHJcbiAgICAgICAgZXZ0LmVycm9yTWVzc2FnZSA9ICdNaXNzaW5nX3JlcXVpcmVkX3BhcmFtZXRlciAoJyArIHBhcmFtTmFtZSArICcpJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXZ0LmVycm9yQ29kZSA9IEdTRXJyb3JzLklOVkFMSURfUEFSQU1FVEVSX1ZBTFVFO1xyXG4gICAgICAgIGV2dC5lcnJvck1lc3NhZ2UgPSAnSW52YWxpZF9wYXJhbWV0ZXJfdmFsdWUgKCcgKyBwYXJhbU5hbWUgKyAnKSc7XHJcbiAgICB9XHJcbiAgICBldnQuc3RhdHVzID0gZXZ0LmVycm9yQ29kZTtcclxuICAgIGV2dC5zdGF0dXNNZXNzYWdlID0gZXZ0LmVycm9yTWVzc2FnZTtcclxuICAgIGRpc3BhdGNoRm9yV2lkZ2V0KGV2dCwgd2lkZ2V0UGFyYW1zKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoRm9yV2lkZ2V0KGUsIHdpZGdldFBhcmFtcykge1xyXG4gICAgaWYgKCFlIHx8ICFlLmV2ZW50TmFtZSkgcmV0dXJuO1xyXG4gICAgY29uc3QgZXZlbnROYW1lID0gZS5ldmVudE5hbWU7XHJcbiAgICBhZGRMb2coJ0Rpc3BhdGNoaW5nIHdpZGdldCBldmVudCBcIicgKyBldmVudE5hbWUgKyAnXCIgZm9yICcgKyB3aWRnZXRQYXJhbXMubGFzdFNvdXJjZSArICcgd2l0aCB0aGlzIGV2ZW50IG9iamVjdCcsIGUpO1xyXG5cclxuICAgIC8vZ2lneWEuc29jaWFsaXplLl9BZGp1c3RSZXNwb25zZVN0YXR1cyhldmVudE9iaik7XHJcblxyXG4gICAgaGFuZGxlU3BlY2lhbEZpZWxkcyhlKTtcclxuXHJcbiAgICBjb25zdCBhckV2ZW50cyA9IGV2ZW50TmFtZS5zcGxpdCgnLCcpO1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJFdmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBldmVudE5hbWUgPSBhckV2ZW50c1tpXTtcclxuXHJcbiAgICAgICAgY29uc3QgZXZlbnRIYW5kbGVyTmFtZSA9IGdldEV2ZW50SGFuZGxlck5hbWUoZXZlbnROYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKHdpZGdldFBhcmFtcykge1xyXG4gICAgICAgICAgICBpZiAod2lkZ2V0UGFyYW1zLmNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGUuY29udGV4dCA9IHdpZGdldFBhcmFtcy5jb250ZXh0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAod2lkZ2V0UGFyYW1zLnNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgZS5zb3VyY2UgPSB3aWRnZXRQYXJhbXMuc291cmNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAod2lkZ2V0UGFyYW1zLnNvdXJjZURhdGEpIHtcclxuICAgICAgICAgICAgICAgIGUuc291cmNlRGF0YSA9IHdpZGdldFBhcmFtcy5zb3VyY2VEYXRhO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAod2lkZ2V0UGFyYW1zLmNvbnRhaW5lcklEKSB7XHJcbiAgICAgICAgICAgICAgICBlLnNvdXJjZUNvbnRhaW5lcklEID0gd2lkZ2V0UGFyYW1zLmNvbnRhaW5lcklEO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAod2lkZ2V0UGFyYW1zLmluc3RhbmNlSUQpIHtcclxuICAgICAgICAgICAgICAgIGUuaW5zdGFuY2VJRCA9IHdpZGdldFBhcmFtcy5pbnN0YW5jZUlEO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAod2lkZ2V0UGFyYW1zW2V2ZW50SGFuZGxlck5hbWVdKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGRpc3BhdGNoRXZlbnRPYmplY3Qod2lkZ2V0UGFyYW1zW2V2ZW50SGFuZGxlck5hbWVdLCBlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGV2ZW50TmFtZS5pbmRleE9mKCdsb2dpbicpID09IC0xICYmIGV2ZW50TmFtZS5pbmRleE9mKCdsb2dvdXQnKSA9PSAtMSAmJiBldmVudE5hbWUgIT0gJ2Nvbm5lY3Rpb25SZW1vdmVkJyAmJiBldmVudE5hbWUgIT0gJ2Nvbm5lY3Rpb25BZGRlZCcpIHtcclxuICAgICAgICAgICAgX2Rpc3BhdGNoRnJvbU1hcHMoZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IEdlbmVzaXNFeGNoYW5nZV9HaWd5YSA9IHdpbmRvd1snR2VuZXNpc0V4Y2hhbmdlX0dpZ3lhJ107XHJcbiAgICAgICAgICAgIGNvbnN0IGdpZ3lhX29tbml0dXJlX2NvbmYgPSB3aW5kb3dbJ2dpZ3lhX29tbml0dXJlX2NvbmYnXTtcclxuICAgICAgICAgICAgY29uc3QgbXlPbW5pdHVyZUludGVncmF0aW9uRnVuYyA9IHdpbmRvd1snbXlPbW5pdHVyZUludGVncmF0aW9uRnVuYyddO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIEdlbmVzaXNFeGNoYW5nZV9HaWd5YSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZ2lneWFfb21uaXR1cmVfY29uZiAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2UgPSBuZXcgR2VuZXNpc0V4Y2hhbmdlX0dpZ3lhKGdpZ3lhX29tbml0dXJlX2NvbmYpO1xyXG4gICAgICAgICAgICAgICAgZ2UucHJvY2Vzc0FjdGlvbihlKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbXlPbW5pdHVyZUludGVncmF0aW9uRnVuYyAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG15T21uaXR1cmVJbnRlZ3JhdGlvbkZ1bmMoZ2lneWFfb21uaXR1cmVfY29uZiwgZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnRPYmplY3QoaGFuZGxlcnMsIGUpIHtcclxuICAgIGxldCByZXN1bHQ7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgaGFuZGxlcnMgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBoYW5kbGVycyhlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCEoaGFuZGxlcnMgaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgICAgICAgICAgYWRkTG9nKCdOb3QgYSBmdW5jdGlvbiBvciBmdW5jdGlvbiBhcnJheSByZWdpc3RlcmVkIHRvIGV2ZW50JywgaGFuZGxlcnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFycmF5VXRpbHMuZm9yRWFjaCg8RnVuY3Rpb25bXT5oYW5kbGVycywgaGFuZGxlciA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZExvZygnTm90IGEgZnVuY3Rpb24gcmVnaXN0ZXJlZCB0byBldmVudDogJyArIGhhbmRsZXIsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8vIFRPRE86IG5vdCBjb2xsZWN0aW5nIHJlc3VsdHMuLiBzaG91bGQgaXQ/XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICBhZGRMb2coJ0Vycm9yIGludm9raW5nIGZ1bmN0aW9uIHJlZ2lzdGVyZWQgdG8gZXZlbnQnLCBoYW5kbGVycyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9kaXNwYXRjaEZyb21NYXBzKGV2dCwgaXNHbG9iYWwgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgYXJEaXNwYXRjaCA9IFtdO1xyXG4gICAgbGV0IHN0b3AgPSBmYWxzZTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2lneWEuZGVmYXVsdEV2ZW50TWFwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IG1hcCA9IGdpZ3lhLmRlZmF1bHRFdmVudE1hcHNbaV0uZXZlbnRNYXA7XHJcbiAgICAgICAgY29uc3QgZGVmYXVsdE1ldGhvZCA9IGdpZ3lhLmRlZmF1bHRFdmVudE1hcHNbaV0uZGVmYXVsdE1ldGhvZDtcclxuICAgICAgICBmb3IgKGxldCB1ID0gMDsgdSA8IG1hcC5sZW5ndGg7IHUrKykge1xyXG4gICAgICAgICAgICBjb25zdCBvRmllbGQgPSBtYXBbdV07XHJcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZEFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgaWYgKCFvRmllbGQuYXJncykgb0ZpZWxkLmFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaUFyZyA9IDA7IGlBcmcgPCBvRmllbGQuYXJncy5sZW5ndGg7IGlBcmcrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9GaWVsZC5hcmdzW2lBcmddID09ICckZXZlbnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkQXJncy5wdXNoKGV2dCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZEFyZ3MucHVzaCh0ZW1wbGF0ZXNVdGlscy5maWxsKG9GaWVsZC5hcmdzW2lBcmddLCBldnQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzRXZlbnRzID0gJywnICsgb0ZpZWxkLmV2ZW50cy50b0xvd2VyQ2FzZSgpICsgJywnO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBzRXZlbnRzLmluZGV4T2YoJywqLCcpICE9IC0xIHx8XHJcbiAgICAgICAgICAgICAgICAoKHNFdmVudHMuaW5kZXhPZignLCcgKyAnb24nICsgZXZ0LmV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpICsgJywnKSAhPSAtMSB8fCBzRXZlbnRzLmluZGV4T2YoJywnICsgZXZ0LmV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpICsgJywnKSAhPSAtMSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAoKCFldnQuc291cmNlICYmICFvRmllbGQuc291cmNlcykgfHwgIW9GaWVsZC5zb3VyY2VzIHx8IG9GaWVsZC5zb3VyY2VzLmluZGV4T2YoZXZ0LnNvdXJjZSkgIT0gLTEpKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGFyRGlzcGF0Y2gucHVzaChvRmllbGQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gb0ZpZWxkLm1ldGhvZCA/IG9GaWVsZC5tZXRob2QgOiBkZWZhdWx0TWV0aG9kO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2QuYXBwbHkodGhpcywgcHJvY2Vzc2VkQXJncyk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkTG9nKFwiRXJyb3IgaW52b2tpbmcgZnVuY3Rpb24gcmVnaXN0ZXJlZCB0byBldmVudHMgbWFwJ3MgbWV0aG9kXCIsIG1ldGhvZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob0ZpZWxkLm92ZXJyaWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0b3ApIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9vYmplY3QnO1xyXG5pbXBvcnQgKiBhcyBnbG9iYWxFdmVudHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0dsb2JhbEV2ZW50cyc7XHJcbmltcG9ydCAqIGFzIERPTVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9ET00nO1xyXG5pbXBvcnQgKiBhcyBzY3JpcHRVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2NyaXB0JztcclxuaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XHJcblxyXG4vLyBGYWNlYm9vayBpbnRlZ3JhdGlvblxyXG5kZWNsYXJlIHZhciBGQjtcclxudmFyIF93YWl0aW5nRm9yU2VydmljZTogRnVuY3Rpb25bXSA9IFtdO1xyXG5leHBvcnQgdmFyIGluaXRpYWxpemVkVGltZTogRGF0ZTtcclxuZXhwb3J0IHZhciBpc0xvZ2dlZEluID0gZmFsc2U7XHJcbmV4cG9ydCB2YXIgaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuZXhwb3J0IGZ1bmN0aW9uIGlzTG9hZGVkKCkge1xyXG4gICAgcmV0dXJuIGluaXRpYWxpemVkVGltZSAhPSBudWxsO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBsb2FkKG5vQXBwSUQpIHtcclxuICAgIGlmIChpbml0aWFsaXplZFRpbWUpIHJldHVybjtcclxuICAgIGluaXRpYWxpemVkVGltZSA9IG51bGw7XHJcbiAgICB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmVmcmVzaFNlc3Npb24oKTtcclxuICAgIH0sIDQ1ICogNjAgKiAxMDAwKTtcclxuICAgIHdpbmRvd1snZmJBc3luY0luaXQnXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBvSW5pdCA9IG9iamVjdFV0aWxzLmNsb25lKGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsnZmFjZWJvb2tJbml0UGFyYW1zJ10pO1xyXG4gICAgICAgIGlmICghb0luaXQpIG9Jbml0ID0ge307XHJcblxyXG4gICAgICAgIGlmIChnaWd5YS5wcm92aWRlcnNDb25maWcuZmFjZWJvb2spIHtcclxuICAgICAgICAgICAgb0luaXQuYXBwSWQgPSBnaWd5YS5wcm92aWRlcnNDb25maWcuZmFjZWJvb2suYXBwSUQ7XHJcbiAgICAgICAgICAgIG9Jbml0LnZlcnNpb24gPSBnaWd5YS5wcm92aWRlcnNDb25maWcuZmFjZWJvb2sudmVyc2lvbjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvSW5pdC52ZXJzaW9uID0gJ3YxLjAnOyAvLyBvbmx5IHYxLjAgYWxsb3dzIGluaXQgd2l0aG91dCBhbiBhcHBJZFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb0luaXQuc3RhdHVzID0gZmFsc2U7IC8vIEl0J3MgYmV0dGVyIHRvIGdldCBsb2dpbiBzdGF0dXMgbWFudWFsbHkgc28gdGhhdCB3ZSBjb3VsZCBkaXNwYXRjaCB0aGUgZmFjZWJvb2tMb2FkZWQgZXZlbnQgb25seSBhZnRlciB3ZSBoYXZlIHRoZSBGQiBzZXNzaW9uIHBhcmFtcy5cclxuICAgICAgICBvSW5pdC5jb29raWUgPSB0cnVlO1xyXG4gICAgICAgIG9Jbml0LnhmYm1sID0gdHJ1ZTtcclxuICAgICAgICBvSW5pdC5vYXV0aCA9IHRydWU7XHJcblxyXG4gICAgICAgIEZCLmluaXQob0luaXQpO1xyXG5cclxuICAgICAgICBpZiAobm9BcHBJRCAhPSB0cnVlKSB7XHJcbiAgICAgICAgICAgIEZCLmdldExvZ2luU3RhdHVzKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplZFRpbWUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaXNDb25uZWN0ZWQgPSByZXNwb25zZS5zdGF0dXMgPT0gJ2Nvbm5lY3RlZCc7XHJcbiAgICAgICAgICAgICAgICBpc0xvZ2dlZEluID0gcmVzcG9uc2Uuc3RhdHVzICE9ICd1bmtub3duJztcclxuXHJcbiAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2ZhY2Vib29rTG9hZGVkJyxcclxuICAgICAgICAgICAgICAgICAgICBpc0xvZ2dlZEluOiBpc0xvZ2dlZEluLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ29ubmVjdGVkOiBpc0Nvbm5lY3RlZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZ2lneWEuc29jaWFsaXplLmFkZEV2ZW50SGFuZGxlcnMoXHJcbiAgICAgICAgICAgICAgICAgICAgeyBsaXN0ZW5lclR5cGU6ICdjb21wb25lbnQnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lckRlc2NyaXB0aW9uOiAnbGlzdGVuZXIgZm9yIHVwZGF0aW5nIEZhY2Vib29rIENvbm5lY3Qgc2Vzc2lvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTG9naW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFNlc3Npb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Db25uZWN0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZXNzaW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTG9nb3V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZXNzaW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0sIHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGluaXRpYWxpemVkVGltZSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goe1xyXG4gICAgICAgICAgICAgICAgZXZlbnROYW1lOiAnZmFjZWJvb2tMb2FkZWQnLFxyXG4gICAgICAgICAgICAgICAgaXNMb2dnZWRJbjogaXNMb2dnZWRJbixcclxuICAgICAgICAgICAgICAgIGlzQ29ubmVjdGVkOiBpc0Nvbm5lY3RlZCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBkaXZGYlJvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRpdkZiUm9vdC5pZCA9ICdmYi1yb290JztcclxuICAgIERPTVV0aWxzLmFwcGVuZFRvQm9keShkaXZGYlJvb3QpO1xyXG4gICAgc2NyaXB0VXRpbHMubG9hZChcclxuICAgICAgICBsb2NhbEluZm8ucHJvdG9jb2wgKyAnOi8vY29ubmVjdC5mYWNlYm9vay5uZXQvJyArIGdpZ3lhLnRoaXNTY3JpcHQubGFuZy5mdWxsLnJlcGxhY2UoJy0nLCAnXycpICsgJy9zZGsuanMnLFxyXG4gICAgICAgIG51bGwsXHJcbiAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZhY2Vib29rIGJ1ZyAod2hlbiB0aGVyZXMgYSBmYl94ZF9mcmFnbWVudCBpbiB0aGUgcGFnZSBVUkwpIC0gRmFjZWJvb2sgd2lsbCBub3QgbG9hZCBpbiB0aGlzIHNjZW5hcmlvLlxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdHJ1ZSxcclxuICAgICk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZnJlc2hTZXNzaW9uKCkge1xyXG4gICAgaWYgKHR5cGVvZiBGQiA9PSAndW5kZWZpbmVkJykgcmV0dXJuO1xyXG5cclxuICAgIHZhciBmbmNDYWxsYmFjayA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaW5pdGlhbGl6ZWRUaW1lID0gbmV3IERhdGUoKTtcclxuICAgICAgICBpc0Nvbm5lY3RlZCA9IHJlc3BvbnNlLnN0YXR1cyA9PSAnY29ubmVjdGVkJztcclxuICAgICAgICBpc0xvZ2dlZEluID0gcmVzcG9uc2Uuc3RhdHVzICE9ICd1bmtub3duJztcclxuICAgICAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goeyBldmVudE5hbWU6ICdGQkNSZWZyZXNoZWQnIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoZ2lneWEucHJvdmlkZXJzQ29uZmlnLmZhY2Vib29rICYmIGdpZ3lhLnByb3ZpZGVyc0NvbmZpZy5mYWNlYm9vay5hcHBJRCAmJiBGQiAmJiBGQi5nZXRMb2dpblN0YXR1cykge1xyXG4gICAgICAgIEZCLmdldExvZ2luU3RhdHVzKGZuY0NhbGxiYWNrLCB0cnVlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmV0cnlQZW5kaW5nKCkge1xyXG4gICAgdmFyIGNhbGxiYWNrcyA9IF93YWl0aW5nRm9yU2VydmljZTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY2FsbGJhY2tzW2ldKCk7XHJcbiAgICB9XHJcbiAgICBfd2FpdGluZ0ZvclNlcnZpY2UgPSBbXTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcnVuV2hlbkxvYWRlZChjYWxsYmFjaykge1xyXG4gICAgX3dhaXRpbmdGb3JTZXJ2aWNlLnB1c2goY2FsbGJhY2spO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJhbXMoKSB7XHJcbiAgICB2YXIgb1RhcmdldCA9IHt9O1xyXG4gICAgaWYgKHR5cGVvZiBGQiAhPSAndW5kZWZpbmVkJyAmJiBGQi5nZXRBdXRoUmVzcG9uc2UpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvL0ZCIHBvb3Igb2F1dGggaW1wbGVtZW50YXRpb24gZmFpbHMgc29tZXRpbWVzXHJcbiAgICAgICAgICAgIHZhciBhdXRoUmVzcG9uc2UgPSBGQi5nZXRBdXRoUmVzcG9uc2UoKTtcclxuICAgICAgICAgICAgaWYgKGF1dGhSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF1dGhSZXNwb25zZS51c2VySUQgIT0gbnVsbCkgb1RhcmdldFsnZmJfVUlEJ10gPSBhdXRoUmVzcG9uc2UudXNlcklEO1xyXG4gICAgICAgICAgICAgICAgaWYgKGF1dGhSZXNwb25zZS5hY2Nlc3NUb2tlbiAhPSBudWxsKSBvVGFyZ2V0WydmYl9hdCddID0gYXV0aFJlc3BvbnNlLmFjY2Vzc1Rva2VuO1xyXG4gICAgICAgICAgICAgICAgaWYgKGF1dGhSZXNwb25zZS5leHBpcmVzSW4gIT0gbnVsbCkgb1RhcmdldFsnZmJfZXhwJ10gPSBhdXRoUmVzcG9uc2UuZXhwaXJlc0luO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHt9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb1RhcmdldDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gYXV0b0xvZ2luKCkge1xyXG4gICAgZ2lneWEuc29jaWFsaXplLndhaXRGb3JTZXJ2aWNlKHtcclxuICAgICAgICBzZXJ2aWNlOiAnZmFjZWJvb2snLFxyXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGdpZ3lhLl8uYXBpQWRhcHRlci5pc1Nlc3Npb25WYWxpZChnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmYsIGlzVmFsaWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZiU2Vzc2lvbiA9IGdldFBhcmFtcygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkICYmIGZiU2Vzc2lvbiAmJiBmYlNlc3Npb25bJ2ZiX2F0J10gJiYgIWdpZ3lhLl8uYXV0b0xvZ2luSW5Qcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLl8uYXV0b0xvZ2luSW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEuc29jaWFsaXplLm5vdGlmeUxvZ2luKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJTZXNzaW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjZWJvb2s6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoVG9rZW46IGZiU2Vzc2lvblsnZmJfYXQnXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbkV4cGlyZXNJbjogZmJTZXNzaW9uWydmYl9leHAnXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxyXG4iLCJpbXBvcnQgKiBhcyBnbG9iYWxFdmVudHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0dsb2JhbEV2ZW50cyc7XHJcblxyXG4vLyBGYWNlYm9vayBpbnRlZ3JhdGlvblxyXG5kZWNsYXJlIHZhciBnYXBpO1xyXG5leHBvcnQgdmFyIGluaXRpYWxpemVkVGltZTogRGF0ZTtcclxuZXhwb3J0IGZ1bmN0aW9uIGlzTG9hZGVkKCkge1xyXG4gICAgcmV0dXJuIGluaXRpYWxpemVkVGltZSAhPSBudWxsO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBsb2FkKCkge1xyXG4gICAgaWYgKGluaXRpYWxpemVkVGltZSkgcmV0dXJuO1xyXG4gICAgaWYgKCFnaWd5YS5wcm92aWRlcnNDb25maWcuZ29vZ2xlUGx1cykgcmV0dXJuO1xyXG4gICAgaW5pdGlhbGl6ZWRUaW1lID0gbnVsbDtcclxuICAgIHZhciBwbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gICAgcG8udHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xyXG4gICAgcG8uYXN5bmMgPSB0cnVlO1xyXG4gICAgd2luZG93WydfX2dpZ3lhX2hhbmRsZUNsaWVudExvYWQnXSA9ICgpID0+IHRoaXMuaGFuZGxlQ2xpZW50TG9hZCgpO1xyXG4gICAgcG8uc3JjID0gJ2h0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2NsaWVudC5qcz9vbmxvYWQ9X19naWd5YV9oYW5kbGVDbGllbnRMb2FkJztcclxuICAgIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO1xyXG4gICAgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwbywgcyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUNsaWVudExvYWQoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGRlbGV0ZSB3aW5kb3dbJ19fZ2lneWFfaGFuZGxlQ2xpZW50TG9hZCddO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHdpbmRvd1snX19naWd5YV9oYW5kbGVDbGllbnRMb2FkJ10gPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplZFRpbWUgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgIGdsb2JhbEV2ZW50cy5kaXNwYXRjaCh7XHJcbiAgICAgICAgZXZlbnROYW1lOiAnZ29vZ2xlUGx1c0xvYWRlZCcsXHJcbiAgICB9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVmcmVzaFNlc3Npb24oKSB7XHJcbiAgICBpZiAodHlwZW9mIGdhcGkgPT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gYXV0b0xvZ2luKCkge1xyXG4gICAgZ2lneWEuc29jaWFsaXplLndhaXRGb3JTZXJ2aWNlKHtcclxuICAgICAgICBzZXJ2aWNlOiAnZ29vZ2xlUGx1cycsXHJcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLmlzU2Vzc2lvblZhbGlkKGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgaXNWYWxpZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBnYXBpLmF1dGguYXV0aG9yaXplKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfaWQ6IGdpZ3lhLnByb3ZpZGVyc0NvbmZpZy5nb29nbGVQbHVzLmNsaWVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6IGdpZ3lhLnByb3ZpZGVyc0NvbmZpZy5nb29nbGVQbHVzLnNjb3BlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlX3R5cGU6ICd0b2tlbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhSZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dGhSZXN1bHQgJiYgYXV0aFJlc3VsdC5hY2Nlc3NfdG9rZW4gJiYgIWdpZ3lhLl8uYXV0b0xvZ2luSW5Qcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdpZ3lhLl8uYXV0b0xvZ2luSW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2lneWEuc29jaWFsaXplLm5vdGlmeUxvZ2luKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJTZXNzaW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29vZ2xlUGx1czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhUb2tlbjogYXV0aFJlc3VsdC5hY2Nlc3NfdG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxyXG4iLCIvLyBPcGVuZ3JhcGggdXRpbHNcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXRhVGFnKG9nVGFnTmFtZSkge1xyXG4gICAgdmFyIG1ldGFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21ldGEnKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0YXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAobWV0YXNbaV0uZ2V0QXR0cmlidXRlKCdwcm9wZXJ0eScpID09IG9nVGFnTmFtZSAmJiBtZXRhc1tpXS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWV0YXNbaV0uZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBlbnVtIEdTRXJyb3JzIHtcclxuICAgIE9LID0gMCxcclxuICAgIERhdGFfUGVuZGluZyA9IDEwMDAwMSwgLy8gRGF0YSBpcyBzdGlsbCBiZWluZyBwcm9jZXNzZWQsIHF1ZXJ5IGFnYWluIGZvciB0aGUgcmVzcG9uc2VcclxuICAgIE5FVFdPUktfRVJST1IgPSA1MDAwMjYsXHJcbiAgICBEQVRBX1BFTkRJTkcgPSAxMDAwMDEsIC8vIERhdGEgaXMgc3RpbGwgYmVpbmcgcHJvY2Vzc2VkLCBxdWVyeSBhZ2FpbiBmb3IgdGhlIHJlc3BvbnNlXHJcbiAgICBPUEVSQVRJT05fQ0FOQ0VMRUQgPSAyMDAwMDEsIC8vIHVzZXIgY2FuY2VsZWQsIGluIGxvZ2luIHByb2Nlc3NcclxuICAgIFBFUk1JU1NJT05fR1JBTlRFRCA9IDIwMDAwMiwgLy8gSW5uZXIgY29kZVxyXG4gICAgUEVSTUlTU0lPTl9OT1RfR1JBTlRFRCA9IDIwMDAwMywgLy8gSW5uZXIgY29kZVxyXG4gICAgUkVESVJFQ1QgPSAyMDAwMDQsIC8vIElubmVyIGNvZGVcclxuICAgIE5FV19VU0VSID0gMjAwMDA1LCAvLyBJbm5lciBjb2RlXHJcbiAgICBPUEVSQVRJT05fRE9ORSA9IDIwMDAwNiwgLy8gSW5uZXIgY29kZVxyXG4gICAgVVBEQVRFX1VTRVIgPSAyMDAwMDcsIC8vIElubmVyIGNvZGVcclxuICAgIE9LX1dJVEhfRVJST1JTID0gMjAwMDA4LCAvLyBGb3IgcmVwb3J0cyAtIHdoZW4gd2UgcmV0dXJuIG9rIHRvIGNsaWVudCBidXQgaGFkIGFjY2VwdGFibGUgZXJyb3JzICh0aGF0IHdlIHdhbnQgdG8ga25vdyBhYm91dCkgb24gdGhlIHdheVxyXG4gICAgQUNDT1VOVFNfTElOS0VEID0gMjAwMDA5LCAvLyBBZnRlciBsaW5raWduIGFjY291dG5zIHZpYSBsb2dpbiwgcmV0dXJuIHRoaXMgZXJyb3IgY29kZVxyXG4gICAgT0tfV0lUSF9FUlJPUl9MT0dJTl9JREVOVElGSUVSX0VYSVNUUyA9IDIwMDAxMCwgLy8gRm9yIHNldEFjY291bnRJbmZvIHVzaW5nIHRoZSBjb25mbGljdEhhbmRsaW5nIHBhcmFtIC0gcHJvZmlsZSB3YXMgc2F2ZWQsIGJ1dCB0aGUgZW1haWwgY29uZmxpY3RzIHdpdGggYW5vdGhlciB1c2VyXHJcbiAgICBBQ0NPVU5UX1BFTkRJTkdfUkVHSVNUUkFUSU9OID0gMjA2MDAxLCAvLyBGb3IgYWNjb3VudHMgQVBJLFxyXG4gICAgQUNDT1VOVF9QRU5ESU5HX1ZFUklGSUNBVElPTiA9IDIwNjAwMiwgLy8gRm9yIGFjY291bnRzIEFQSTsgY29uc2lkZXIgbW92aW5nIHRvIDQwM3h4eCBzZWN0aW9uIGluIHRoZSBmdXR1cmUuXHJcbiAgICBBQ0NPVU5UX01JU1NJTkdfTE9HSU5JRCA9IDIwNjAwMywgLy8gRm9yIGFjY291bnRzIEFQSVxyXG4gICAgSURFTlRJVFlfQUxSRUFEWV9BU1NJR05FRCA9IDIwNjAwNCwgLy8gRm9yIGltcG9ydCBhY2NvdW50cyBBUElcclxuICAgIEFGVEVSX0VNQUlMX1ZFUklGSUNBVElPTiA9IDIwNjAwNSxcclxuICAgIFBFTkRJTkdfQ09ERV9WRVJJRklDQVRJT04gPSAyMDYwMDYsXHJcbiAgICBDTElFTlRfTE9HID0gMzAwMDAxLCAvLyBpbnRlcm5hbCwgZm9yIHJlcG9ydGluZyBlcm9ycnMgaW4gY2xpZW50IFNES1NcclxuICAgIElOVkFMSURfREFUQV9DRU5URVIgPSAzMDEwMDEsIC8vIFwiSW52YWxpZCBkYXRhLWNlbnRlclwiLiB3aXRoIGVycm9yIGRldGFpbHMgb2Y6IFwiVGhpcyBBUEkga2V5IGlzIHNlcnZlZCBieSBhbm90aGVyIGRhdGEgY2VudGVyXCIuXHJcbiAgICBJTlZBTElEX1JFUVVFU1RfRk9STUFUID0gNDAwMDAxLCAvLyBjb3VsZCBiZSBhbGwga2luZCBvZiBlcnJvcnMgd2l0aCB3cm9uZyByZXF1ZXN0IChub24gc2VjdXJlIHdoZW4gc2hvdWxkIGJlIHNlY3VyZSwgd3JvbmcgYXV0aGVudGljYXRpb24gaGVhZGVyKVxyXG4gICAgTUlTU0lOR19SRVFVSVJFRF9QQVJBTUVURVIgPSA0MDAwMDIsXHJcbiAgICBVTklRVUVfSURFTlRJRklFUl9FWElTVFMgPSA0MDAwMDMsXHJcbiAgICBJTlZBTElEX1BBUkFNRVRFUl9GT1JNQVQgPSA0MDAwMDQsXHJcbiAgICBJTlZBTElEX1BBUkFNRVRFUl9WQUxVRSA9IDQwMDAwNixcclxuICAgIERVUExJQ0FURV9WQUxVRSA9IDQwMDAwNyxcclxuICAgIElOVkFMSURfQVVUSEVOVElDQVRJT05fSEVBREVSID0gNDAwMDA4LCAvLyBPQXV0aDJcclxuICAgIFZBTElEQVRJT05fRVJST1IgPSA0MDAwMDksIC8vIEluIGFjY291bnRzLnJlZ2lzdGVyLCB3aGVuZXZlciB0aGVyZSBpcyBhIHZhbGlkYXRpb24gZXJyb3JcclxuICAgIElOVkFMSURfUkVESVJFQ1RfVVJJID0gNDAwMDExLCAvLyBPQXV0aDJcclxuICAgIElOVkFMSURfUkVTUE9OU0VfVFlQRSA9IDQwMDAxMiwgLy8gT0F1dGgyXHJcbiAgICBVTlNVUFBPUlRFRF9HUkFOVF9UWVBFID0gNDAwMDEzLCAvLyBPQXV0aDJcclxuICAgIElOVkFMSURfR1JBTlQgPSA0MDAwMTQsIC8vIE9BdXRoMlxyXG4gICAgQ09ERV9FWFBJUkVEID0gNDAwMDE1LCAvLyBPQXV0aDJcclxuICAgIFNDSEVNQV9WQUxJREFUSU9OX0ZBSUxFRCA9IDQwMDAyMCxcclxuICAgIENBUFRDSEFfVkVSSUZJQ0FUSU9OX0ZBSUxFRCA9IDQwMDAyMSxcclxuICAgIFVOSVFVRV9JTkRFWF9WQUxJREFUSU9OX0VSUk9SID0gNDAwMDIyLFxyXG4gICAgSU5WQUxJRF9UWVBFX1ZBTElEQVRJT05fRVJST1IgPSA0MDAwMjMsXHJcbiAgICBEWU5BTUlDX0ZJRUxEU19WQUxJREFUSU9OX0VSUk9SID0gNDAwMDI0LFxyXG4gICAgV1JJVEVfQUNDRVNTX1ZBTElEQVRJT05fRVJST1IgPSA0MDAwMjUsXHJcbiAgICBJTlZBTElEX0ZPUk1BVF9WQUxJREFUSU9OX0VSUk9SID0gNDAwMDI2LFxyXG4gICAgUkVRVUlSRURfVkFMVUVfVkFMSURBVElPTl9FUlJPUiA9IDQwMDAyNyxcclxuICAgIEVNQUlMX05PVF9WRVJJRklFRCA9IDQwMDAyOCxcclxuICAgIFNDSEVNQV9DT05GTElDVF9FUlJPUiA9IDQwMDAyOSwgLy8gVG8gaGFuZGxlIFVzZXIgc3RvcnkgMzQzMzAuIEltcHJvdmUgRWxhc3RpY1NlYXJjaE1hcHBpbmdFeGNlcHRpb24gaGFuZGxpbmcgaW4gRFMuSW5kZXhPYmplY3RcclxuICAgIE9QRVJBVElPTl9OT1RfQUxMT1dFRCA9IDQwMDAzMCwgLy8gVXNlciBzdG9yeSAzNDMxMSAtIElmIGFkZENvbm5lY3Rpb24gaXMgY2FsbGVkIHJldHVybiBhbiBlcnJvciAoXCJvcGVyYXRpb24gbm90IGFsbG93ZWQgZm9yIHRoaXMgYWNjb3VudFwiLCA0MDBYWFggZXJyb3IpLlxyXG4gICAgU0VDVVJJVFlfVkVSSUZJQ0FUSU9OX0ZBSUxFRCA9IDQwMDA1MCxcclxuICAgIElOVkFMSURfQVBJS0VZX1BBUkFNRVRFUiA9IDQwMDA5MyxcclxuICAgIE5PVF9TVVBQT1JURUQgPSA0MDAwOTYsIC8vIHRoZSBmdW5jdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IGFueSBvZiB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCBwcm92aWRlcnNcclxuICAgIFVOU1VQUE9SVEVEX1VTRVJfQUdFTlQgPSA0MDAwOTcsIC8vXHJcbiAgICBOT19QUk9WSURFUlMgPSA0MDAxMDAsIC8vIGNsaWVudD9cclxuICAgIFBPUFVQX0JMT0NLRUQgPSA0MDAxMDEsIC8vIGNsaWVudFxyXG4gICAgSU5WQUxJRF9FVkVOVF9IQU5ETEVSID0gNDAwMTAyLCAvLyBjbGllbnRcclxuICAgIElOVkFMSURfQ09OVEFJTkVSSUQgPSA0MDAxMDMsIC8vIGNsaWVudFxyXG4gICAgTk9UX0NPTk5FQ1RFRCA9IDQwMDEwNiwgLy8gdXNlciBpcyBub3QgY29ubmVjdGVkIHRvIHRoZSByZXF1aXJlZCBuZXR3b3JrIG9yIHRvIGFueSBuZXR3b3JrXHJcbiAgICBJTlZBTElEX1NJVEVfRE9NQUlOID0gNDAwMTIwLCAvLyB0aGUgY3VycmVudCBkb21haW4gZG9lcyBub3QgbWF0Y2ggdGhlIGRvbWFpbiBjb25maWd1cmVkIGZvciB0aGUgYXBpIGtleVxyXG4gICAgUFJPVklERVJfQ09ORklHVVJBVElPTl9FUlJPUiA9IDQwMDEyMiwgLy8gdGhlIGN1cnJlbnQgZG9tYWluIGRvZXMgbm90IG1hdGNoIHRoZSBkb21haW4gY29uZmlndXJlZCBmb3IgdGhlIGFwaSBrZXlcclxuICAgIExJTUlUX1JFQUNIRUQgPSA0MDAxMjQsIC8vIEdhbWVNZWNoYW5pY3MgLSBDYXAgd2FzIHJlYWNoZWRcclxuICAgIEZSRVFVRU5DWV9MSU1JVF9SRUFDSEVEID0gNDAwMTI1LCAvLyBDb21tZW50cy9GZWVkIC0gU3BhbSBDYXBzIHdhcyByZWFjaGVkXHJcbiAgICBJTlZBTElEX0FDVElPTiA9IDQwMDEyNiwgLy8gR2FtZU1lY2hhbmljcyAtIEludmFsaWQgYWN0aW9uLiBUcmlnZ2VyZWQgYWN0aW9uIGNhbid0IGJlIGluaXRpYXRlZCBleHRlcm5hbGx5XHJcbiAgICBJTlNVRkZJQ0lFTlRfUE9JTlRTX1RPX1JFREVFTSA9IDQwMDEyNywgLy8gR2FtZU1lY2hhbmljcyAtIEluc3VmZmljaWVudF9wb2ludHNfdG9fcmVkZWVtXHJcbiAgICBTSUdOQVRVUkVfVElNRVNUQU1QX0VYUElSRUQgPSA0MDAxMjgsIC8vIHRoZSB0aW1lc3RhbXAgaW5zaWRlIHRoZSBzaWduYXR1cmUgaXMgZXhwaXJlZFxyXG4gICAgSU5WQUxJRF9QT0xJQ1lfQ09ORklHVVJBVElPTiA9IDQwMTAwMCwgLy8gUG9saWN5IGNvbmZpZ3VyYXRpb24gaXMgaW52YWxpZCAoaS5lLiBwcmV2ZW50IHJlZ2l0cmF0aW9uKVxyXG4gICAgU1VTUEVDVEVEX1NQQU0gPSA0MDEwMTAsIC8vIFNvbWVvbmUgaXMgdHJ5aW5nIHRvIHVzZSBHaWd5YSB0byBzZW5kIGEgZW1haWwgd2l0aCBhIFVSTCB0aGF0IGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgY2xpZW50J3MgZG9tYWluczsgc3VzcGVjdGVkIHNwYW0uXHJcbiAgICBMT0dJTl9GQUlMRURfQ0FQVENIQV9SRVFVSVJFRCA9IDQwMTAyMCwgLy8gYWNjb3VudHMubG9naW4gLSBjYXB0Y2hhIHJlcXVpcmVkXHJcbiAgICBMT0dJTl9GQUlMRURfV1JPTkdfQ0FQVENIQSA9IDQwMTAyMSwgLy8gYWNjb3VudHMubG9naW4gLSB3cm9uZyBjYXB0Y2hhIGNvZGVcclxuICAgIE9MRF9QQVNTV09SRF9VU0VEID0gNDAxMDMwLCAvLyBUaGUgdXNlciBwcm92aWRlZCBoaXMgcHJldmlvdXMgcGFzc3dvcmQsIG5vdCB0aGUgY3VycmVudCBvbmVcclxuICAgIEZPUkJJRERFTiA9IDQwMzAwMCxcclxuICAgIElOVkFMSURfU0VTU0lPTl9UT0tFTiA9IDQwMzAwMSwgLy8gaW50ZXJuYWxcclxuICAgIFJFUVVFU1RfSEFTX0VYUElSRUQgPSA0MDMwMDIsIC8vIHRoZSB0aW1lc3RhbXAgb3IgZXhwaXJhdGlvbiBvZiB0aGUgdG9rZW4gdXNlZCBleGNlZWRlZCB0aGUgYWxsb3dlZCB0aW1lIHdpbmRvd1xyXG4gICAgSU5WQUxJRF9SRVFVRVNUX1NJR05BVFVSRSA9IDQwMzAwMyxcclxuICAgIERVUExJQ0FURV9OT05DRSA9IDQwMzAwNCxcclxuICAgIFVOQVVUSE9SSVpFRF9VU0VSID0gNDAzMDA1LCAvLyB0aGUgdXNlciBpZCBwYXNzZWQgaXMgbm90IHZhbGlkIGZvciB0aGlzIHNpdGVcclxuICAgIFNFTlNJVElWRV9EQVRBX1NFTlRfT1ZFUl9IVFRQID0gNDAzMDA2LCAvLyB3aGVuIHNlbmRpbmcgdGhlIHNlY3JldCBrZXkgaW4gUkVTVCBpdCBoYXMgdG8gYmUgb3ZlciBIVFRQU1xyXG4gICAgUEVSTUlTU0lPTl9ERU5JRUQgPSA0MDMwMDcsIC8vIENvbW1lbnRzIHNlcnZlciAtIFBlcm1pc3Npb24gZGVuaWVkIChyZWFkT25seSxtb2RlcmF0aW9uIHNpdGUpLlxyXG4gICAgSU5WQUxJRF9PUEVOSURfVVJMID0gNDAzMDA4LCAvLyBjYW5ub3QgZmluZCBhbiBvcGVuSWQgZW5kcG9pbnQgb24gdGhlIHVybCBvciB1c2VybmFtZSBnaXZlbiBmb3Igb3BlbklkIGxvZ2luXHJcbiAgICBQUk9WSURFUl9TRVNTSU9OX0VYUElSRUQgPSA0MDMwMDksIC8vIHRoZSB1c2VyIHNlc3Npb24gZm9yIHRoaXMgcHJvdmlkZXIgaXMgZXhwaXJlZFxyXG4gICAgSU5WQUxJRF9TRUNSRVQgPSA0MDMwMTAsIC8vIHRoZSByZXF1ZXN0IGhhcyBhbiBpbnZhbGlkIHNlY3JldCBrZXlcclxuICAgIFNFU1NJT05fSEFTX0VYUElSRUQgPSA0MDMwMTEsIC8vIHRoZSBzZXNzaW9uIGZvciB0aGlzIHVzZXIgaGFzIGV4cGlyZWRcclxuICAgIE5PX1ZBTElEX1NFU1NJT04gPSA0MDMwMTIsIC8vIHJlcXVlc3RlZCB1c2VyIGhhcyBubyB2YWxpZCBzZXNzaW9uXHJcbiAgICBVTlZFUklGSUVEX1VTRVIgPSA0MDMwMTMsIC8vIHRoZSB1c2VyIGlzIG5vdCB2ZXJpZmllZCBpbiBTU08gc2Vzc2lvblxyXG4gICAgTUlTU0lOR19SRVFVRVNUX1JFRkVSUkVSID0gNDAzMDE1LCAvLyB3ZSBjYW4ndCB2YWxpZGF0ZSB0aGUgcmVxdWVzdCBiZWNhdXNlIHRoZSByZWZlcnJlciBoZWFkZXIgaXMgbWlzc2luZ1xyXG4gICAgVU5FWFBFQ1RFRF9QUk9WSURFUl9VU0VSID0gNDAzMDE3LCAvLyB0aGUgbG9nZ2VkIGluIHVzZXIgaXMgZGlmZmVyZW50IGZyb20gdGhlIG9uZSBleHBlY3RlZFxyXG4gICAgUEVSTUlTU0lPTl9OT1RfUkVRVUVTVEVEID0gNDAzMDIyLCAvLyB0aGUgYWN0aW9uIG5lZWRzIGEgdXNlciBwZXJtaXNzaW9uIGFuZCBpdCB3YXMgbm90IHJlcXVlc3RlZFxyXG4gICAgTk9fVVNFUl9QRVJNSVNTSU9OID0gNDAzMDIzLCAvLyB0aGUgYWN0aW9uIG5lZWRzIGEgdXNlciBwZXJtaXNzaW9uIGFuZCB3ZSBkb24ndCBoYXZlIG9uZVxyXG4gICAgUFJPVklERVJfTElNSVRfUkVBQ0hFRCA9IDQwMzAyNCwgLy8gdGhlIHByb3ZpZGVyIGxpbWl0IGZvciB0aGlzIGFjdGlvbiB3YXMgZXhjZWVkZWRcclxuICAgIElOVkFMSURfVE9LRU4gPSA0MDMwMjUsIC8vIE9BdXRoMlxyXG4gICAgVU5BVVRIT1JJWkVEX0FDQ0VTU19FUlJPUiA9IDQwMzAyNiwgLy8gQ2FsbHMgdG8gYWNjb3VudHMuaXNBdmFpbGFibGVMb2dpbklEIFdoZW4gcHJldmVudExvZ2luSURIYXJ2ZXN0aW5nID0gdHJ1ZSBzaG91bGQgcmV0dXJuIGFuIGFwcHJvcHJpYXRlIDQwM3h4eCB1bmF1dGhvcml6ZWQgYWNjZXNzIGVycm9yLlxyXG4gICAgRElGRkVSRU5UX1VTRVJfRk9SX1JFQVVUSCA9IDQwMzAyNywgLy8gRGlmZmVyZW50IHVzZXIgdHJpZWQgdG8gcmUtYXV0aG9yaXplLlxyXG4gICAgU0VTU0lPTl9FWFBJUkVEX1JFVFJZID0gNDAzMDMwLCAvLyBJbm5lciBjb2RlIC0gd2hlbiB0aGUgZmFjZWJvb2sgc2Vzc2lvbiBpcyBleHBpcmVkIGFuZCB0aGUgY2xpZW50IHdhaXRzIGZvciBGQiBvbiBwYWdlIHRvIGxvYWRcclxuICAgIEFQUFJPVkVEX0JZX01PREVSQVRPUiA9IDQwMzAzMSwgLy8gY29tbWVudHMgLSBjYW50IGZsYWcgY29tbWVudCwgaXQgd2FzIGFwcHJvdmVkIGJ5IHRoZSBtb2RlcmF0b3IgYWxyZWFkeS5cclxuICAgIFRPS0VOX0hBU19SRU5FV0VEID0gNDAzMDMyLCAvLyB0aGUgdG9rZW4gaXMgbm8gbG9uZ2VyIHZhbGlkLCBidXQgd2UgaGF2ZSBuZXcgdG9rZW4gdG8gcHJvdmlkZVxyXG4gICAgTk9fVVNFUl9DT09LSUUgPSA0MDMwMzUsIC8vIG5vIHVzZXIgY29va2llXHJcbiAgICBVTkFVVEhPUklaRURfUEFSVE5FUiA9IDQwMzAzNiwgLy8gcGFydG5lciBpcyBkaXNhYmxlZFxyXG4gICAgUE9TVF9ERU5JRUQgPSA0MDMwMzcsIC8vIENvbW1lbnRzIHNlcnZlciAtIFBvc3QgZGVuaWVkIHdoZW4gdGhlIHVzZXIgdHJpZWQgdG8gcmV2aWV3IHR3aWNlLlxyXG4gICAgTk9fTE9HSU5fVElDS0VUID0gNDAzMDQwLCAvLyBubyBsb2dpbiB0aWNrZXQgaW4gY2FsbGJhY2sgdXJsXHJcbiAgICBBQ0NPVU5UX0RJU0FCTEVEID0gNDAzMDQxLCAvLyBGb3IgYWNjb3VudHMgLSB3aGVuIGdzLmFjY291bnRzLklzQWN0aXZlPWZhbHNlXHJcbiAgICBJTlZBTElEX0xPR0lOSUQgPSA0MDMwNDIsIC8vIEZvciBhY2NvdW50cyAtIHdoZW4gdHJ5aW5nIHRvIGxvZ2luIHdpdGggYSBsb2dpbklEIHRoYXQgZG8gbm90IGV4aXN0c1xyXG4gICAgTE9HSU5fSURFTlRJRklFUl9FWElTVFMgPSA0MDMwNDMsIC8vIEZvciBhY2NvdW50OiBJZiBwcm92aWRlckVtYWlsIGlzIGRlZmluZWQgYXMgYSBsb2dpbklkZW50aWZpZXIgaW4gdGhlIHBvbGljeSwgYW5kIHRoZSBlbWFpbCBhZGRyZXNzIHJlY2VpdmVkIGZyb20gdGhlIHByb3ZpZGVyIGV4aXN0cyBpbiB0aGUgZ3MubG9naW5JZGVudGlmaWVycyBjb2xsZWN0aW9uIGJ1dCBhc3NvY2lhdGVkIHdpdGggYSBkaWZmZXJlbnQgVVVJRCB0aGFuIHRoZSBjdXJyZW50IHVzZXIsIHRoZW4gcmV0dXJuIFwiTG9naW4gaWRlbnRpZmllciBleGlzdHNcIiBlcnJvciBjb2RlICg0MDN4eHgpLlxyXG4gICAgVU5ERVJBR0VfVVNFUiA9IDQwMzA0NCwgLy8gRm9yIENPUFBBIGNvbXBsaWFuY2UgKENoaWxkcmVuJ3MgT25saW5lIFByaXZhY3kgUHJvdGVjdGlvbiBBY3QpXHJcbiAgICBJTlZBTElEX1NJVEVfQ09ORklHVVJBVElPTl9FUlJPUiA9IDQwMzA0NSwgLy8gRm9yIGFjY291bnRzIC0gc2l0ZSBEUyBpcyBlbmFibGVkIHRob3VnaCBubyBEU1NpemUgd2FzIGNvbmZpZ3VyZWQuXHJcbiAgICBMT0dJTklEX0RPRVNfTk9UX0VYSVNUID0gNDAzMDQ3LCAvLyBGb3IgYWNjb3VudHMgLSB3aGVuIHRyeWluZyB0byByZXNldCBwYXNzd29yZCB3aXRoIGEgbG9naW5JRCB0aGF0IGRvIG5vdCBleGlzdHNcclxuICAgIEFQSV9SQVRFX0xJTUlUX0VYQ0VFREVEID0gNDAzMDQ4LFxyXG4gICAgUEVORElOR19QQVNTV09SRF9DSEFOR0UgPSA0MDMxMDAsIC8vIFRoZSB1c2VyJ3MgcGFzc3dvcmQgbmVlZHMgdG8gYmUgY2hhbmdlZFxyXG4gICAgQUNDT1VOVF9QRU5ESU5HX1RGQV9WRVJJRklDQVRJT04gPSA0MDMxMDEsXHJcbiAgICBBQ0NPVU5UX1BFTkRJTkdfVEZBX1JFR0lTVFJBVElPTiA9IDQwMzEwMixcclxuICAgIEFDQ09VTlRfUEVORElOR19SRUNFTlRfTE9HSU4gPSA0MDMxMTAsXHJcbiAgICBBQ0NPVU5UX1RFTVBPUkFSSUxZX0xPQ0tFRF9PVVQgPSA0MDMxMjAsIC8vIFRvbyBtYW55IGxvZ2luIGF0dGVtcHRzOyBhY2NvdW50IGxvY2tlZC1vdXRcclxuICAgIFJFRFVOREFOVF9PUEVSQVRJT04gPSA0MDMyMDAsIC8vIFRoZSBjbGllbnQgcGVyZm9ybWVkIGFuIG9wZXJhdGlvbiB0aGF0IGlzIHJlZHVuZGFudFxyXG4gICAgSU5WQUxJRF9BUFBMSUNBVElPTl9JRCA9IDQwMzIwMSwgLy8gVGhlIGFwcCBpZCBwcm92aWRlZCBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgb25lIGNvbmZpZ3VyZWQgZm9yIHRoZSBzaXRlXHJcbiAgICBOT1RfRk9VTkQgPSA0MDQwMDAsIC8vIENvbW1lbnRzIHNlcnZlciAtIENhdGVnb3J5IG5vdCBmb3VuZC4gQWNjb3VudHMgLSBlbWFpbCB2ZXJpZmljYXRpb24gZmFpbGVkLCB1dWlkIG5vdCBmb3VuZC5cclxuICAgIEZSSUVORF9OT1RfRk9VTkQgPSA0MDQwMDEsIC8vIHRoZSB1c2VyIGlkIHByb3ZpZGVkIGFzIGEgdGFyZ2V0IGlzIG5vdCBhIGZyaWVuZCBmb3IgdGhlIGN1cnJlbnQgdXNlclxyXG4gICAgQ0FURUdPUllfTk9UX0ZPVU5EID0gNDA0MDAyLCAvLyBDb21tZW50cyBzZXJ2ZXIgLSBDYXRlZ29yeSBub3QgZm91bmQuXHJcbiAgICBVSURfTk9UX0ZPVU5EID0gNDA0MDAzLFxyXG4gICAgUkVTT1VSQ0VfTk9UX0ZPVU5EID0gNDA0MDA0LCAvLyBDbGllbnQgc2lkZSAtIGltYWdlIG5vdCBmb3VuZCBhZnRlciB1cGxvYWRcclxuICAgIElOVkFMSURfQVBJX01FVEhPRCA9IDQwNTAwMSwgLy8gaW50ZXJuYWwgZm9yIG91ciBKUyBBUElcclxuICAgIElERU5USVRZX0VYSVNUUyA9IDQwOTAwMSwgLy8gd2hlbiB0cnlpbmcgdG8gY29ubmVjdCB0byBhIHByb3ZpZGVyIHRoYXQgaXMgYWxyZWFkeSBjb25uZWN0ZWQgb3IgbGluayB0byBhbiBhbHJlYWR5IGxpbmtlZCBhY2NvdW50XHJcbiAgICBHT05FID0gNDEwMDAwLCAvLyBSZXNvdXJjZSBubyBsb25nZXIgYXZhaWxhYmxlLiBEYXRhIEtleSBTZXJ2ZXIgLSBrZXkgcmV2b2tlZC9leHBpcmVkLlxyXG4gICAgUkVRVUVTVF9FTlRJVFlfVE9PX0xBUkdFID0gNDEzMDAxLCAvLyBDb21tZW50cyBzZXJ2ZXIgLSBSZXF1ZXN0IHRvIGxhcmdlXHJcbiAgICBDT01NRU5UX1RFWFRfVE9PX0xBUkdFID0gNDEzMDAyLCAvLyBDb21tZW50cyBzZXJ2ZXIgLSBDb21tZW50IFRleHQgdG8gbGFyZ2UuXHJcbiAgICBPQkpFQ1RfVE9PX0xBUkdFID0gNDEzMDAzLCAvLyBEYXRhU3RvcmUgb2JqZWN0IGlzIHRvbyBsYXJnZVxyXG4gICAgUFJPRklMRV9QSE9UT19UT09fTEFSR0UgPSA0MTMwMDQsIC8vIFByb2ZpbGUgcGhvdG8gaXMgdG9vIGxhcmdlLCBleGNlZWRzIG1heGltdW0gYWxsb3dlZCBjb250ZW50IGxlbmd0aFxyXG4gICAgUkVRVUVTVF9VUklfVE9PX0xPTkcgPSA0MTQwMDAsIC8vVGhlIFVSSSBwcm92aWRlZCB3YXMgdG9vIGxvbmcgZm9yIHRoZSBzZXJ2ZXIgdG8gcHJvY2Vzcy5cclxuICAgIE1JU1NJTkdfVVNFUl9QSE9UTyA9IDQwOTAxMCwgLy8gRXJyb3IgLSBtaXNzaW5nIHVzZXIgcGhvdG9cclxuICAgIENPVU5URVJfTk9UX1JFR0lTVEVSRUQgPSA0MDkwMTEsIC8vIENvdW50ZXIgbm90IHJlZ2lzdGVyZWRcclxuICAgIElOVkFMSURfR01JRF9USUNLRVQgPSA0MDkwMTIsIC8vIGdtaWQgdGlja2V0IGlzIG5vdCB2YWxpZFxyXG4gICAgU0FNTF9NQVBQRURfQVRUUklCVVRFX05PVF9GT1VORCA9IDQwOTAxMywgLy8gVXNlZCB3aGVuIG1hcHBlZCBhdHRyaWJ1dGUgdmFsdWUgZm9yIHByb3ZpZGVyVUlEIGNhbm5vdCBiZSByZXRyZWl2ZWRcclxuICAgIFNBTUxfQ0VSVElGSUNBVEVfTk9UX0ZPVU5EID0gNDA5MDE0LCAvLyBVc2VkIHdoZW4gU0FNTCBjZXJ0aWZpY2F0ZSBjb3VsZCBub3QgYmUgcmV0cmVpdmVkLlxyXG4gICAgU0FNTF9NRVNTQUdFX05PVF9GT1VORCA9IDQwOTAxNSwgLy8gVXNlZCB3aGVuIGNhY2hlZCBTQU1MIG1lc3NhZ2UgY291bGQgbm90IGJlIHJldHJlaXZlZC5cclxuICAgIEdFTkVSQUxfU0VSVkVSX0VSUk9SID0gNTAwMDAxLFxyXG4gICAgU0VSVkVSX0xPR0lOX0VSUk9SID0gNTAwMDAyLCAvLyBnZW5lcmFsIGVycm9yIGR1cmluZyB0aGUgbG9naW4gcHJvY2Vzc1xyXG4gICAgREVGQVVMVF9BUFBMSUNBVElPTl9DT05GSUdVUkFUSU9OX0VSUk9SID0gNTAwMDAzLCAvLyBGb3IgbXVsdGlwbGUgREMgLSB3aGVuIG5vIGRlZmF1bHQgYXBwbGljYXRpb24gY2FuIGJlIGZvdW5kIGluIERlZmF1bHRBcHBsaWNhdGlvbnMuY29uZmlnLiBXaXRoIGVycm9yIGRldGFpbHMgb2Y6IFwiRGVmYXVsdCBhcHBsaWNhdGlvbiBpc24ndCBjb25maWd1cmVkIGZvciBkYXRhQ2VudGVyXCJcclxuICAgIFNFU1NJT05fTUlHUkFUSU9OX0VSUk9SID0gNTAwMDE0LCAvLyBlcnJvciBpbiBtaWdyYXRpbmcgb2xkIHRvIG5ldyBmYWNlYm9vayBzZXNzaW9uXHJcbiAgICBQUk9WSURFUl9FUlJPUiA9IDUwMDAyMywgLy8gZ2VuZXJhbCBlcnJvciBmcm9tIHRoZSBwcm92aWRlclxyXG4gICAgREFUQUJBU0VfRVJST1IgPSA1MDAwMjgsXHJcbiAgICBVU0VSTkFNRV9SRVFVSVJFRCA9IDUwMDAyOSwgLy8gSW5uZXIgY29kZVxyXG4gICAgTk9fUFJPVklERVJfQVBQTElDQVRJT04gPSA1MDAwMzEsIC8vIHRoZSBhcHBsaWNhdGlvbiBmb3IgdGhpcyBwcm92aWRlciBpcyBub3QgZGVmaW5lZCBmb3IgdGhpcyBzaXRlXHJcbiAgICBMT0FEX0ZBSUxFRCA9IDUwMDAzMiwgLy8gY2xpZW50IGVycm9yXHJcbiAgICBJTlZBTElEX0VOVklST05NRU5UX0NPTkZJRyA9IDUwMDAzMywgLy8gSW4gY2FzZSB0aGVyZSBpcyBubyB0YXJnZXQgZW52aXJvbm1lbnQgaW4gdGhlIGNvbmZpZyBmaWxlIHdlJ2QgcmV0dXJuIHdpdGggIGludmFsaWRfZW52aXJvbm1lbnRfY29uZmlnIGVycm9yLlxyXG4gICAgRVJST1JfRFVSSU5HX0JBQ0tFTkRfT1BFUkFUSU9OID0gNTAwMDM0LFxyXG4gICAgVElNRU9VVCA9IDUwNDAwMSwgLy8gb3V0Z29pbmcgcmVxdWVzdCBoYWQgdGltZWQgb3V0XHJcbiAgICBDTElFTlRUSU1FT1VUID0gNTA0MDAyLCAvLyBGb3Igc2VydmVyIFNES3MgLSBhIGNsaWVudCBzaWRlIHRpbWVvdXRcclxuICAgIElOVkFMSURfVVJMID0gNDA0MDA0LCAvLyBlbWJlZC5seSA0MDQgZXJyb3IgbWVzc2FnZSAtIHVybCBpcyBub3QgdmFsaWRcclxuICAgIE1FRElBX0lURU1TX05PVF9TVVBQT1JURUQgPSA0MDEwMDEsIC8vIE1lZGlhIGl0ZW1zIGEgbm90IGFsbG93ZWQgZm9yIHRoaXMgY2F0ZWdvcnlcclxuICAgIE1JU1NJTkdfRVJST1JfQ09ERSA9IDU5OTk5OSxcclxufVxyXG5leHBvcnQgY29uc3QgZW51bSBHU0Vycm9yRGV0YWlscyB7XHJcbiAgICBOb25lID0gMCxcclxuICAgIFNhbWVfcGFzc3dvcmQgPSAxMDAwMDEsIC8vIFJlc2V0IFBhc3N3b3JkIC0gXCInb2xkUGFzc3dvcmQnIGNhbm5vdCBiZSB0aGUgc2FtZSBhcyAnbmV3UGFzc3dvcmQnXCJcclxuICAgIEludmFsaWRfcGFzc3dvcmQgPSAxMDAwMDIsIC8vIFJlc2V0IFBhc3N3b3JkIC0gY3VycmVudCBwYXNzd29yZCBpcyB3cm9uZy9pbnZhbGlkXHJcbiAgICBJbnZhbGlkX2NvdW50ZXJzX3F1ZXJ5X3dpdGhfY3Vyc29yID0gMTAwMDAzLFxyXG59XHJcbiIsImltcG9ydCAqIGFzIEVTNlByb21pc2UgZnJvbSAnZXM2LXByb21pc2UnXHJcblxyXG5PYmplY3QuYXNzaWduKGdpZ3lhLCB7IFByb21pc2U6IEVTNlByb21pc2UgfSk7XHJcbiIsImltcG9ydCAqIGFzIGFycmF5VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2FycmF5JztcclxuaW1wb3J0IHsgYWRkTG9nIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xlZ2FjeUxvZ2dlcic7XHJcbmltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9vYmplY3QnO1xyXG5pbXBvcnQgeyBoYW5kbGVTcGVjaWFsRmllbGRzIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0ludGVybmFsRmxvd3MnO1xyXG5pbXBvcnQgKiBhcyBldmVudHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0V2ZW50cyc7XHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudEhhbmRsZXJOYW1lKGV2ZW50TmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmIChldmVudE5hbWUuc3Vic3RyaW5nKDAsIDIpID09PSAnb24nKSB7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50TmFtZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuICdvbicgKyBldmVudE5hbWUuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBldmVudE5hbWUuc3Vic3RyaW5nKDEpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSUxpbmtCYWNrRXZlbnQge1xyXG4gICAgZXZlbnROYW1lOiBzdHJpbmc7XHJcbiAgICBwcm92aWRlcj86IHN0cmluZztcclxuICAgIENJRDogc3RyaW5nO1xyXG4gICAgc2hvcnRDb2RlPzogc3RyaW5nO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSUV2ZW50T2JqZWN0IHt9XHJcbmV4cG9ydCBpbnRlcmZhY2UgSUV2ZW50SGFuZGxlckluZm8ge1xyXG4gICAgaGFuZGxlcjogKGU6IElFdmVudE9iamVjdCkgPT4gdm9pZDtcclxuICAgIHR5cGU/OiBzdHJpbmc7XHJcbiAgICBjb250ZXh0PzogT2JqZWN0O1xyXG4gICAgcGFyYW1zPzogT2JqZWN0O1xyXG4gICAgZnVsbEV2ZW50TmFtZT86IHN0cmluZztcclxufVxyXG5jb25zdCBfZXZlbnRIYW5kbGVyczogeyBbZnVsbEV2ZW50TmFtZTogc3RyaW5nXTogQXJyYXk8SUV2ZW50SGFuZGxlckluZm8+IH0gPSB7fTtcclxuY29uc3QgX3BlbmRpbmdFdmVudHMgPSB7fTtcclxuZXhwb3J0IGNvbnN0IF9hY3RpdmVOYW1lc3BhY2VzID0ge307XHJcbmV4cG9ydCBmdW5jdGlvbiBhZGQoZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50SGFuZGxlcjogKGU6IElFdmVudE9iamVjdCkgPT4gdm9pZCwgdHlwZSA9ICdvdGhlcicsIGNvbnRleHQ/LCBuYW1lc3BhY2UgPSAnc29jaWFsaXplJywgcGFyYW1zPyk6IElFdmVudEhhbmRsZXJJbmZvIHtcclxuICAgIGNvbnN0IGZ1bGxFdmVudE5hbWUgPSBuYW1lc3BhY2UgKyAnXycgKyBnZXRFdmVudEhhbmRsZXJOYW1lKGV2ZW50TmFtZSk7XHJcblxyXG4gICAgaWYgKCFfZXZlbnRIYW5kbGVyc1tmdWxsRXZlbnROYW1lXSkge1xyXG4gICAgICAgIF9ldmVudEhhbmRsZXJzW2Z1bGxFdmVudE5hbWVdID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVnaXN0ZXJlZEhhbmRsZXI6IElFdmVudEhhbmRsZXJJbmZvID0ge1xyXG4gICAgICAgIGhhbmRsZXI6IGV2ZW50SGFuZGxlcixcclxuICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXHJcbiAgICAgICAgcGFyYW1zOiBwYXJhbXMsXHJcbiAgICAgICAgZnVsbEV2ZW50TmFtZTogZnVsbEV2ZW50TmFtZSxcclxuICAgIH07XHJcblxyXG4gICAgX2V2ZW50SGFuZGxlcnNbZnVsbEV2ZW50TmFtZV0ucHVzaChyZWdpc3RlcmVkSGFuZGxlcik7XHJcblxyXG4gICAgaWYgKCF0aGlzLl9hY3RpdmVOYW1lc3BhY2VzW25hbWVzcGFjZV0gJiYgZ2lneWEuXy5hcGlBZGFwdGVyKSB7XHJcbiAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLnJlZ2lzdGVyRm9yTmFtZXNwYWNlRXZlbnRzKG5hbWVzcGFjZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9hY3RpdmVOYW1lc3BhY2VzW25hbWVzcGFjZV0gPSAxO1xyXG5cclxuICAgIGNvbnN0IHBlbmRpbmdFdmVudHMgPSBfcGVuZGluZ0V2ZW50c1tmdWxsRXZlbnROYW1lXTtcclxuICAgIGlmIChwZW5kaW5nRXZlbnRzICYmIHR5cGUgPT0gJ290aGVyJykge1xyXG4gICAgICAgIF9wZW5kaW5nRXZlbnRzW2Z1bGxFdmVudE5hbWVdID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwZW5kaW5nRXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGUgPSBwZW5kaW5nRXZlbnRzW2ldO1xyXG4gICAgICAgICAgICBkaXNwYXRjaFJlZ2lzdGVyZWRIYW5kbGVycyhlLmV2ZW50T2JqLCBlLnBhcmFtcywgZS5wcmVQcm9jZXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlZ2lzdGVyZWRIYW5kbGVyO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoZnVsbEV2ZW50TmFtZSwgcmVnaXN0ZXJlZEhhbmRsZXIpIHtcclxuICAgIGlmIChfZXZlbnRIYW5kbGVyc1tmdWxsRXZlbnROYW1lXSkge1xyXG4gICAgICAgIGFycmF5VXRpbHMucmVtb3ZlQnlWYWx1ZShfZXZlbnRIYW5kbGVyc1tmdWxsRXZlbnROYW1lXSwgcmVnaXN0ZXJlZEhhbmRsZXIpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaChldmVudE9iajogYW55LCBwYXJhbXM/KTogbnVtYmVyIHtcclxuICAgIGxldCBkaXNwYXRjaGVkID0gMDtcclxuICAgIGNvbnN0IGlzSW50ZXJuYWwgPSBldmVudE9iai5pc0ludGVybmFsOyAvL2ludGVybmFsIGV2ZW50IHNob3VsZCBiZSBkaXNwYXRjaGVkIHRvIHdpZGdldHMvY29tcG9uZW50cyBvbmx5LlxyXG4gICAgY29uc3QgZXZlbnROYW1lQXJyID0gZXZlbnRPYmpbJ2V2ZW50TmFtZSddLnNwbGl0KCcsJyk7XHJcbiAgICBhZGRMb2coJ0Rpc3BhdGNoaW5nIGdsb2JhbCBldmVudCBcIicgKyBldmVudE9ialsnZXZlbnROYW1lJ10gKyAnXCIgd2l0aCB0aGlzIGV2ZW50IG9iamVjdCcsIGV2ZW50T2JqKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50TmFtZUFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50TmFtZVNlZ3MgPSBldmVudE5hbWVBcnJbaV0uc3BsaXQoJy4nKTtcclxuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBldmVudE5hbWVTZWdzLmxlbmd0aCA+IDEgPyBldmVudE5hbWVTZWdzLnNoaWZ0KCkgOiAnc29jaWFsaXplJztcclxuICAgICAgICBjb25zdCBldmVudE5hbWUgPSBldmVudE5hbWVTZWdzWzBdO1xyXG5cclxuICAgICAgICBjb25zdCBldmVudEhhbmRsZXJOYW1lID0gZ2V0RXZlbnRIYW5kbGVyTmFtZShldmVudE5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGZ1bGxFdmVudE5hbWUgPSBuYW1lc3BhY2UgKyAnXycgKyBldmVudEhhbmRsZXJOYW1lO1xyXG4gICAgICAgIGNvbnN0IGV2ZW50SGFuZGxlcnMgPSBvYmplY3RVdGlscy5jbG9uZShfZXZlbnRIYW5kbGVyc1tmdWxsRXZlbnROYW1lXSkgfHwgW107XHJcbiAgICAgICAgY29uc3QgYmFzZUV2ZW50T2JqID0gb2JqZWN0VXRpbHMuY2xvbmUoZXZlbnRPYmopO1xyXG4gICAgICAgIGJhc2VFdmVudE9ialsnaXNHbG9iYWwnXSA9IHRydWU7XHJcbiAgICAgICAgYmFzZUV2ZW50T2JqLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcclxuICAgICAgICBiYXNlRXZlbnRPYmouZnVsbEV2ZW50TmFtZSA9IGV2ZW50TmFtZUFycltpXTtcclxuICAgICAgICBpZiAocGFyYW1zKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJhbXMuc291cmNlKSBiYXNlRXZlbnRPYmouc291cmNlID0gcGFyYW1zLnNvdXJjZTtcclxuICAgICAgICAgICAgaWYgKHBhcmFtcy5zb3VyY2VEYXRhKSBiYXNlRXZlbnRPYmouc291cmNlRGF0YSA9IHBhcmFtcy5zb3VyY2VEYXRhO1xyXG4gICAgICAgICAgICBpZiAocGFyYW1zLmNvbnRleHQpIGJhc2VFdmVudE9iai5jb250ZXh0ID0gcGFyYW1zLmNvbnRleHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBMaXN0ZW5lclR5cGVzID0gWydjb21wb25lbnQnXTtcclxuICAgICAgICBpZiAoIWlzSW50ZXJuYWwpIExpc3RlbmVyVHlwZXMucHVzaCgnb3RoZXInKTtcclxuICAgICAgICBmb3IgKGxldCBpTGlzdGVuZXJUeXBlID0gMDsgaUxpc3RlbmVyVHlwZSA8IExpc3RlbmVyVHlwZXMubGVuZ3RoOyBpTGlzdGVuZXJUeXBlKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJUeXBlID0gTGlzdGVuZXJUeXBlc1tpTGlzdGVuZXJUeXBlXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaUhhbmRsZXIgPSAwOyBpSGFuZGxlciA8IGV2ZW50SGFuZGxlcnMubGVuZ3RoOyBpSGFuZGxlcisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvSGFuZGxlcjogSUV2ZW50SGFuZGxlckluZm8gPSBldmVudEhhbmRsZXJzW2lIYW5kbGVyXTsgLy97dHlwZTogJ290aGVyJywgaGFuZGxlcjpmdW5jdGlvbiwgY29udGV4dDogb2JqZWN0fVxyXG4gICAgICAgICAgICAgICAgaWYgKG9IYW5kbGVyLnR5cGUgPT0gbGlzdGVuZXJUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRPYmpDb3B5ID0gb2JqZWN0VXRpbHMuY2xvbmUoYmFzZUV2ZW50T2JqKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50T2JqQ29weVsnY29udGV4dCddICYmIG9IYW5kbGVyLmNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRPYmpDb3B5Wydjb250ZXh0J10gPSBvSGFuZGxlclsnY29udGV4dCddO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50T2JqQ29weVsnY29udGV4dCddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBldmVudE9iakNvcHlbJ2NvbnRleHQnXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb250ZXh0IGlzIG5vdyB0YWtlbiBmcm9tIHRoZSBjYWxsIHRoYXQgZGlzcGF0Y2hlZCB0aGUgZXZlbnRcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyVHlwZSAhPT0gJ2NvbXBvbmVudCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTcGVjaWFsRmllbGRzKGV2ZW50T2JqQ29weSk7IC8vIE1ha2Ugc3VyZSByZXR1cm5lZCBmaWVsZHMgc3VjaCBhcyBmcmllbmRzIGFyZSByZXR1cm5lZCBhcyBjb2xsZWN0aW9ucy5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZlYXR1cmUgIzM0NTIyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9IYW5kbGVyLnBhcmFtcyAmJiBvSGFuZGxlci5wYXJhbXNbJ3NpZ25LZXknXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudE9iakNvcHlbJ1VJRFNpZ25hdHVyZSddID0gZXZlbnRPYmpbJ3NpZ25LZXlzVUlEU2lnbmF0dXJlJ11bb0hhbmRsZXIucGFyYW1zWydzaWduS2V5J11dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZXZlbnRPYmpDb3B5WydzaWduS2V5c1VJRFNpZ25hdHVyZSddO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb0hhbmRsZXIuaGFuZGxlcihldmVudE9iakNvcHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZExvZygnRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGludm9rZSBcIicgKyBldmVudE9ialsnZXZlbnROYW1lJ10gKyAnXCIgZ2xvYmFsIGV2ZW50IGhhbmRsZXInLCBleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNJbnRlcm5hbCkge1xyXG4gICAgICAgICAgICBldmVudHMuX2Rpc3BhdGNoRnJvbU1hcHMoYmFzZUV2ZW50T2JqLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgR2VuZXNpc0V4Y2hhbmdlX0dpZ3lhID0gd2luZG93WydHZW5lc2lzRXhjaGFuZ2VfR2lneWEnXTtcclxuICAgICAgICBjb25zdCBnaWd5YV9vbW5pdHVyZV9jb25mID0gd2luZG93WydnaWd5YV9vbW5pdHVyZV9jb25mJ107XHJcbiAgICAgICAgY29uc3QgbXlPbW5pdHVyZUludGVncmF0aW9uRnVuYyA9IHdpbmRvd1snbXlPbW5pdHVyZUludGVncmF0aW9uRnVuYyddO1xyXG4gICAgICAgIGlmICghaXNJbnRlcm5hbCAmJiB0eXBlb2YgR2VuZXNpc0V4Y2hhbmdlX0dpZ3lhICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBnaWd5YV9vbW5pdHVyZV9jb25mICE9ICd1bmRlZmluZWQnICYmIG5hbWVzcGFjZSA9PSAnc29jaWFsaXplJykge1xyXG4gICAgICAgICAgICBjb25zdCBnZSA9IG5ldyBHZW5lc2lzRXhjaGFuZ2VfR2lneWEoZ2lneWFfb21uaXR1cmVfY29uZik7XHJcbiAgICAgICAgICAgIGdlLnByb2Nlc3NBY3Rpb24oYmFzZUV2ZW50T2JqKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBteU9tbml0dXJlSW50ZWdyYXRpb25GdW5jICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBteU9tbml0dXJlSW50ZWdyYXRpb25GdW5jKGdpZ3lhX29tbml0dXJlX2NvbmYsIGJhc2VFdmVudE9iaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRpc3BhdGNoZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaFdoZW5IYW5kbGVyQWRkZWQoZXZlbnRPYmo6IE9iamVjdCwgcGFyYW1zOiBPYmplY3QgPSB7fSwgcHJlUHJvY2Vzcz86IChldmVudE9iajogT2JqZWN0LCBjYWxsYmFjazogRnVuY3Rpb24pID0+IHZvaWQpIHtcclxuICAgIGNvbnN0IGV2ZW50TmFtZVNlZ3MgPSBldmVudE9ialsnZXZlbnROYW1lJ10uc3BsaXQoJy4nKTtcclxuICAgIGNvbnN0IG5hbWVzcGFjZSA9IGV2ZW50TmFtZVNlZ3MubGVuZ3RoID4gMSA/IGV2ZW50TmFtZVNlZ3Muc2hpZnQoKSA6ICdzb2NpYWxpemUnO1xyXG4gICAgY29uc3QgZXZlbnROYW1lID0gZXZlbnROYW1lU2Vnc1swXTtcclxuXHJcbiAgICBkaXNwYXRjaFJlZ2lzdGVyZWRIYW5kbGVycyhldmVudE9iaiwgcGFyYW1zLCBwcmVQcm9jZXNzLCAoZGlzcGF0Y2hlZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgLy8gSWYgbm8gaGFuZGxlcnMgd2VyZSBkaXNwYXRjaGVkLCB3ZSBuZWVkIHRvIHdhaXQgZm9yIHRoZSBoYW5kbGVyIHRvIGJlIGFkZGVkXHJcbiAgICAgICAgaWYgKGRpc3BhdGNoZWQgPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudEhhbmRsZXJOYW1lID0gJ29uJyArIGV2ZW50TmFtZS5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKSArIGV2ZW50TmFtZS5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxFdmVudE5hbWUgPSBuYW1lc3BhY2UgKyAnXycgKyBldmVudEhhbmRsZXJOYW1lO1xyXG4gICAgICAgICAgICBpZiAoIV9wZW5kaW5nRXZlbnRzW2Z1bGxFdmVudE5hbWVdKSBfcGVuZGluZ0V2ZW50c1tmdWxsRXZlbnROYW1lXSA9IFtdO1xyXG4gICAgICAgICAgICBfcGVuZGluZ0V2ZW50c1tmdWxsRXZlbnROYW1lXS5wdXNoKHsgZXZlbnRPYmo6IGV2ZW50T2JqLCBwYXJhbXM6IHBhcmFtcywgcHJlUHJvY2VzczogcHJlUHJvY2VzcyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzcGF0Y2hSZWdpc3RlcmVkSGFuZGxlcnMoZXZlbnRPYmo6IE9iamVjdCwgcGFyYW1zOiBPYmplY3QsIHByZVByb2Nlc3M6IEZ1bmN0aW9uLCBjYWxsYmFjaz86IChkaXNwYXRjaGVkOiBudW1iZXIpID0+IHZvaWQpIHtcclxuICAgIGNvbnN0IGZuRGlzcGF0Y2ggPSAoZTogT2JqZWN0KSA9PiB7XHJcbiAgICAgICAgbGV0IGRpc3BhdGNoZWQgPSAwO1xyXG5cclxuICAgICAgICBpZiAoIWVbJ2NhbmNlbCddKSB7XHJcbiAgICAgICAgICAgIGRpc3BhdGNoZWQgPSBkaXNwYXRjaChlLCBwYXJhbXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGRpc3BhdGNoZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKHByZVByb2Nlc3MpIHtcclxuICAgICAgICBwcmVQcm9jZXNzKGV2ZW50T2JqLCBmbkRpc3BhdGNoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm5EaXNwYXRjaChldmVudE9iaik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudHNGb3JPcGVyYXRpb24ob3BlcmF0aW9uKSB7XHJcbiAgICBjb25zdCBhY3RpdmVMb2dpbkV2ZW50cyA9IFtdO1xyXG5cclxuICAgIGlmIChvcGVyYXRpb24udG9Mb3dlckNhc2UoKS5pbmRleE9mKCdsb2dpbicpICE9IC0xKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZU5hbWVzcGFjZXMuc29jaWFsaXplKSBhY3RpdmVMb2dpbkV2ZW50cy5wdXNoKCdzb2NpYWxpemUubG9naW4nKTtcclxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlTmFtZXNwYWNlcy5hY2NvdW50cykgYWN0aXZlTG9naW5FdmVudHMucHVzaCgnYWNjb3VudHMubG9naW4nKTtcclxuICAgIH0gZWxzZSBpZiAob3BlcmF0aW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignYWRkY29ubmVjdGlvbicpICE9IC0xKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZU5hbWVzcGFjZXMuc29jaWFsaXplKSBhY3RpdmVMb2dpbkV2ZW50cy5wdXNoKCdzb2NpYWxpemUuY29ubmVjdGlvbkFkZGVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFjdGl2ZUxvZ2luRXZlbnRzLmpvaW4oJywnKTtcclxufVxyXG4iLCJpbXBvcnQgeyBHU0Vycm9ycyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HU0Vycm9ycyc7XHJcbmltcG9ydCB7IGxvY2FsSW5mbyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2NhbEluZm8nO1xyXG5pbXBvcnQgKiBhcyBsb2NhbFN0b3JhZ2VVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvbG9jYWxTdG9yYWdlJztcclxuaW1wb3J0ICogYXMgSlNPTlV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9KU09OJztcclxuaW1wb3J0ICogYXMgb2JqZWN0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL29iamVjdCc7XHJcbmltcG9ydCAqIGFzIFVSTFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VUkwnO1xyXG5cclxuZXhwb3J0IGVudW0gTWVzc2FnaW5nTWV0aG9kIHtcclxuICAgIExvY2FsU3RvcmFnZUxpc3RlbmVyLFxyXG4gICAgUG9zdE1lc3NhZ2UsXHJcbiAgICBGbGFzaCxcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tDb21wbGV0ZVJlZ2lzdHJhdGlvbihcclxuICAgIHJlczogT2JqZWN0LFxyXG4gICAgcGFyYW1zOiBPYmplY3QsXHJcbiAgICBtZXRob2ROYW1lOiBzdHJpbmcsXHJcbiAgICBjYWxsYmFjazogKHJlc3BvbnNlLCBzdXBwcmVzc0V2ZW50cz86IGJvb2xlYW4sIHJldHJ5PzogYm9vbGVhbikgPT4gdm9pZCxcclxuKSB7XHJcbiAgICB2YXIgc2NyZWVuU2V0O1xyXG4gICAgdmFyIHJldHJ5O1xyXG4gICAgdmFyIHBlbmRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAocmVzWydlcnJvckNvZGUnXSA9PSBHU0Vycm9ycy5BRlRFUl9FTUFJTF9WRVJJRklDQVRJT04pIHtcclxuICAgICAgICAvLyBIYW5kbGUgYXV0b0xvZ2luIGZyb20gcmVnaXN0cmF0aW9uIGxpbmtcclxuICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbygnZmluYWxpemluZyByZWdpc3RyYXRpb24gYWZ0ZXIgZW1haWwgdmVyaWZpY2F0aW9uJyk7XHJcbiAgICAgICAgcGVuZGluZyA9IHRydWU7XHJcbiAgICAgICAgZ2lneWEuYWNjb3VudHMuZmluYWxpemVSZWdpc3RyYXRpb24oe1xyXG4gICAgICAgICAgICByZWdUb2tlbjogcmVzWydyZWdUb2tlbiddLFxyXG4gICAgICAgICAgICBpZ25vcmVBcGlRdWV1ZTogdHJ1ZSwgLy8gYmVjYXVzZSBib290c3RyYXAgbWF5IG5vdCBoYXZlIGZpbmlzaGVkIHlldFxyXG4gICAgICAgICAgICBjYWxsYmFjayxcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgIXBhcmFtc1snaWdub3JlSW50ZXJydXB0aW9ucyddICYmXHJcbiAgICAgICAgIXBhcmFtc1snZG9udEhhbmRsZVNjcmVlblNldCddICYmXHJcbiAgICAgICAgKCgocmVzWydyZWdUb2tlbiddIHx8IHBhcmFtc1sncmVnVG9rZW4nXSkgJiYgLy8gaGFzIHJlZ1Rva2VuXHJcbiAgICAgICAgICAgIChyZXNbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLk9LX1dJVEhfRVJST1JfTE9HSU5fSURFTlRJRklFUl9FWElTVFMgfHwgLy8gc29jaWFsTG9naW4vc2V0QWNjb3VudEluZm8gc2F2ZWQgd2l0aCBsb2dpbklEIGV4aXN0IGVycm9yXHJcbiAgICAgICAgICAgICAgICByZXNbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLkxPR0lOX0lERU5USUZJRVJfRVhJU1RTKSkgfHwgLy8gbG9naW5JRCBleGlzdHNcclxuICAgICAgICByZXNbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLkFDQ09VTlRfUEVORElOR19SRUdJU1RSQVRJT04gfHwgLy8gcGVuZGluZyByZWdpc3RyYXRpb25cclxuICAgICAgICByZXNbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLkFDQ09VTlRfUEVORElOR19WRVJJRklDQVRJT04gfHwgLy8gcGVuZGluZyBlbWFpbCB2ZXJpZmljYXRpb25cclxuICAgICAgICByZXNbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLkFDQ09VTlRfTUlTU0lOR19MT0dJTklEIHx8IC8vIHBlbmRpbmcgTG9naW5JRFxyXG4gICAgICAgIHJlc1snZXJyb3JDb2RlJ10gPT0gR1NFcnJvcnMuQUNDT1VOVF9QRU5ESU5HX1RGQV9WRVJJRklDQVRJT04gfHwgLy8gcGVuZGluZyBURkEgdmVyaWZpY2F0aW9uXHJcbiAgICAgICAgcmVzWydlcnJvckNvZGUnXSA9PSBHU0Vycm9ycy5BQ0NPVU5UX1BFTkRJTkdfVEZBX1JFR0lTVFJBVElPTiB8fCAvLyBwZW5kaW5nIFRGQSByZWdpc3RyYXRpb25cclxuICAgICAgICByZXNbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLkFDQ09VTlRfUEVORElOR19SRUNFTlRfTE9HSU4gfHwgLy8gcGVuZGluZyByZWNlbnQgbG9naW5cclxuICAgICAgICAgICAgcmVzWydlcnJvckNvZGUnXSA9PSBHU0Vycm9ycy5QRU5ESU5HX1BBU1NXT1JEX0NIQU5HRSkgLy8gcGVuZGluZyBwYXNzd29yZCBjaGFuZ2VcclxuICAgICkge1xyXG4gICAgICAgIHZhciBuZXdNb2RhbDtcclxuICAgICAgICBpZiAocmVzWydlcnJvckNvZGUnXSA9PSBHU0Vycm9ycy5BQ0NPVU5UX1BFTkRJTkdfUkVDRU5UX0xPR0lOKSB7XHJcbiAgICAgICAgICAgIHJldHJ5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgbmV3TW9kYWwgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFyYW1zWydkZWZhdWx0TW9iaWxlUmVnU2NyZWVuU2V0J10gJiYgbG9jYWxJbmZvLmlzTW9iaWxlKSB7XHJcbiAgICAgICAgICAgIHNjcmVlblNldCA9IHBhcmFtc1snZGVmYXVsdE1vYmlsZVJlZ1NjcmVlblNldCddO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocGFyYW1zWydkZWZhdWx0UmVnU2NyZWVuU2V0J10pIHtcclxuICAgICAgICAgICAgc2NyZWVuU2V0ID0gcGFyYW1zWydkZWZhdWx0UmVnU2NyZWVuU2V0J107XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChzY3JlZW5TZXQpIHtcclxuICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgc2hvd2luZyBzY3JlZW5zZXQgJyR7c2NyZWVuU2V0fScgZm9yIGVycm9yQ29kZSAke3Jlc1snZXJyb3JDb2RlJ119YCk7XHJcbiAgICAgICAgZ2lneWEubG9nZ2VyLmdyb3VwKHNjcmVlblNldCk7XHJcblxyXG4gICAgICAgIGdpZ3lhLmFjY291bnRzLnNob3dTY3JlZW5TZXQoe1xyXG4gICAgICAgICAgICBpZ25vcmVBcGlRdWV1ZTogdHJ1ZSwgLy8gYmVjYXVzZSBib290c3RyYXAgbWF5IG5vdCBoYXZlIGZpbmlzaGVkIHlldFxyXG4gICAgICAgICAgICBuZXdNb2RhbCxcclxuICAgICAgICAgICAgc2NyZWVuU2V0LFxyXG4gICAgICAgICAgICBpbml0aWFsTWV0aG9kOiBtZXRob2ROYW1lLFxyXG4gICAgICAgICAgICBpbml0aWFsUmVzcG9uc2U6IHJlcyxcclxuICAgICAgICAgICAgc3VwcHJlc3NMb2dpbkV2ZW50OiBwYXJhbXNbJ3N1cHByZXNzTG9naW5FdmVudCddLFxyXG4gICAgICAgICAgICBvbkVycm9yOiBlID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlcyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uSGlkZTogZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuZ3JvdXBFbmQoc2NyZWVuU2V0KTtcclxuICAgICAgICAgICAgICAgIGlmIChlLnJlYXNvbiA9PT0gJ2ZpbmlzaGVkJyAmJiBlLnVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3VjY2Vzc1Jlc3BvbnNlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGU6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJbmZvOiBlLnVzZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogZS5zb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHN1Y2Nlc3NSZXNwb25zZSwgdHJ1ZSwgcmV0cnkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmICghcGVuZGluZykge1xyXG4gICAgICAgIGNhbGxiYWNrKHJlcyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEdpZ3lhU2V0dGluZ3MoZ3JvdXA6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBnaWd5YVNldHRpbmdzID0gbG9jYWxTdG9yYWdlVXRpbHMuZ2V0T2JqZWN0KCdnaWd5YVNldHRpbmdzJyk7XHJcbiAgICByZXR1cm4gSlNPTlV0aWxzLnNlcmlhbGl6ZShnaWd5YVNldHRpbmdzW2dyb3VwXSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEdpZ3lhU2V0dGluZ3MoZ3JvdXA6IHN0cmluZywgc2V0dGluZ3M6IE9iamVjdCk6IHZvaWQge1xyXG4gICAgY29uc3QgZ2lneWFTZXR0aW5ncyA9IGxvY2FsU3RvcmFnZVV0aWxzLmdldE9iamVjdCgnZ2lneWFTZXR0aW5ncycsIHsgW2dyb3VwXToge30gfSk7XHJcbiAgICBmb3IgKHZhciBwIGluIHNldHRpbmdzKSB7XHJcbiAgICAgICAgZ2lneWFTZXR0aW5nc1tncm91cF1bcF0gPSBzZXR0aW5nc1twXTtcclxuICAgIH1cclxuICAgIGxvY2FsU3RvcmFnZVV0aWxzLnNldEl0ZW0oJ2dpZ3lhU2V0dGluZ3MnLCBKU09OVXRpbHMuc2VyaWFsaXplKGdpZ3lhU2V0dGluZ3MpKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZGVsR2lneWFTZXR0aW5ncyhncm91cDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBpZiAoIWdyb3VwKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlVXRpbHMucmVtb3ZlSXRlbSgnZ2lneWFTZXR0aW5ncycpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBnaWd5YVNldHRpbmdzID0gbG9jYWxTdG9yYWdlVXRpbHMuZ2V0T2JqZWN0KCdnaWd5YVNldHRpbmdzJyk7XHJcbiAgICAgICAgaWYgKGdpZ3lhU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGdpZ3lhU2V0dGluZ3NbZ3JvdXBdO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VVdGlscy5zZXRJdGVtKCdnaWd5YVNldHRpbmdzJywgSlNPTlV0aWxzLnNlcmlhbGl6ZShnaWd5YVNldHRpbmdzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVTcGVjaWFsRmllbGRzKG8pIHtcclxuICAgIHZhciBjb2xsZWN0aW9uID0gZ2lneWEuc29jaWFsaXplLkNvbGxlY3Rpb247XHJcbiAgICB2YXIgdG9UeXBlZCA9IGZ1bmN0aW9uKGFyciwgY3Rvcikge1xyXG4gICAgICAgIHZhciBvYXJyID0gW107XHJcbiAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgIHZhciBlbCA9IGFycltpXTtcclxuICAgICAgICB3aGlsZSAoZWwpIHtcclxuICAgICAgICAgICAgb2Fyci5wdXNoKG5ldyBjdG9yKGVsKSk7XHJcbiAgICAgICAgICAgIGlmIChvYXJyW2ldLmlkZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnZlcnRJZGVudGl0aWVzQXJyYXlUb09iamVjdChvYXJyW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbCA9IGFyclsrK2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2FycjtcclxuICAgIH07XHJcblxyXG4gICAgaWYgKG8ucGhvdG9zKSBvLnBob3RvcyA9IG5ldyBjb2xsZWN0aW9uKG8ucGhvdG9zLCAncGhvdG9JRCcpO1xyXG4gICAgaWYgKG8uYWxidW1zKSBvLmFsYnVtcyA9IG5ldyBjb2xsZWN0aW9uKG8uYWxidW1zLCAnYWxidW1JRCcpO1xyXG4gICAgaWYgKG8uY29udGFjdHMpIG8uY29udGFjdHMgPSBuZXcgY29sbGVjdGlvbih0b1R5cGVkKG8uY29udGFjdHMsIGdpZ3lhLnNvY2lhbGl6ZS5Db250YWN0KSwgJ2VtYWlsJyk7XHJcbiAgICBpZiAoby5mcmllbmQpIG8uZnJpZW5kID0gbmV3IGNvbGxlY3Rpb24odG9UeXBlZChvLmZyaWVuZCwgZ2lneWEuc29jaWFsaXplLkZyaWVuZCksICdVSUQnKTtcclxuXHJcbiAgICBpZiAoby51c2VyKSBvLnVzZXIgPSBuZXcgZ2lneWEuc29jaWFsaXplLlVzZXIoby51c2VyKTtcclxuXHJcbiAgICBpZiAoby5mcmllbmRzICYmIG8uZnJpZW5kcyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgdmFyIGFyVUlEcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgby5mcmllbmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFyVUlEcy5wdXNoKG8uZnJpZW5kc1tpXS5VSUQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvLlVJRHMgPSBhclVJRHMuam9pbignLCcpO1xyXG5cclxuICAgICAgICBvLmZyaWVuZHMgPSBuZXcgY29sbGVjdGlvbih0b1R5cGVkKG8uZnJpZW5kcywgZ2lneWEuc29jaWFsaXplLkZyaWVuZCksICdVSUQnKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydElkZW50aXRpZXNBcnJheVRvT2JqZWN0KG8pIHtcclxuICAgIGlmIChvLmlkZW50aXRpZXMgPT0gbnVsbCkge1xyXG4gICAgICAgIG8uaWRlbnRpdGllcyA9IHt9O1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChvLmlkZW50aXRpZXMuY29uc3RydWN0b3IgIT0gQXJyYXkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgaWRlbnRpdGllc0FycmF5ID0gby5pZGVudGl0aWVzO1xyXG4gICAgby5pZGVudGl0aWVzID0ge307XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkZW50aXRpZXNBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIG8uaWRlbnRpdGllc1tpZGVudGl0aWVzQXJyYXlbaV0ucHJvdmlkZXJdID0gbmV3IGdpZ3lhLnNvY2lhbGl6ZS5JZGVudGl0eShpZGVudGl0aWVzQXJyYXlbaV0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRVc2VySW5mb1RvRXZlbnQocmVzcG9uc2U6IE9iamVjdCwgdGFyZ2V0T2JqZWN0OiBPYmplY3QsIGFkZExvZ2luUHJvcGVydGllcz86IGJvb2xlYW4sIHVzZUJhc2VQaG90b1VSTD86IHN0cmluZykge1xyXG4gICAgdmFyIG9Vc2VyID0gcmVzcG9uc2VbJ3VzZXInXSB8fCByZXNwb25zZVsndXNlckluZm8nXTtcclxuICAgIGlmICh0YXJnZXRPYmplY3QgPT0gbnVsbCkgdGFyZ2V0T2JqZWN0ID0ge307XHJcbiAgICBpZiAob1VzZXIgIT0gbnVsbCkge1xyXG4gICAgICAgIHRhcmdldE9iamVjdFsndXNlciddID0gb2JqZWN0VXRpbHMuY2xvbmUob1VzZXIpO1xyXG4gICAgICAgIGlmIChyZXNwb25zZVsnaXNMb2dnZWRJbiddICE9IG51bGwpIHRhcmdldE9iamVjdFsndXNlciddWydpc0xvZ2dlZEluJ10gPSByZXNwb25zZVsnaXNMb2dnZWRJbiddO1xyXG4gICAgICAgIGlmIChyZXNwb25zZVsnaXNTaXRlVUlEJ10gIT0gbnVsbCkgdGFyZ2V0T2JqZWN0Wyd1c2VyJ11bJ2lzU2l0ZVVJRCddID0gcmVzcG9uc2VbJ2lzU2l0ZVVJRCddO1xyXG4gICAgICAgIGlmIChyZXNwb25zZVsnaVJhbmsnXSAhPSBudWxsKSB0YXJnZXRPYmplY3RbJ3VzZXInXVsnaVJhbmsnXSA9IHJlc3BvbnNlWydpUmFuayddO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhZGRMb2dpblByb3BlcnRpZXMpIHtcclxuICAgICAgICBvYmplY3RVdGlscy5leHRyYWN0UHJvcGVydGllcyhyZXNwb25zZSwgdGFyZ2V0T2JqZWN0LCAnc2lnbmF0dXJlfFVJRFNpZ3x0aW1lc3RhbXB8VUlEU2lnbmF0dXJlfHNpZ25hdHVyZVRpbWVzdGFtcHxVSUR8c2lnbktleXNVSURTaWduYXR1cmV8ZGF0YUNlbnRlcnxpZF90b2tlbicpO1xyXG4gICAgICAgIGlmICh0YXJnZXRPYmplY3RbJ3VzZXInXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRhcmdldE9iamVjdFsnVUlEJ10gPSBvVXNlci5VSUQ7XHJcbiAgICAgICAgICAgIHRhcmdldE9iamVjdFsnaXNTaXRlVUlEJ10gPSBvVXNlci5pc1NpdGVVSUQ7XHJcbiAgICAgICAgICAgIC8vIGlzU2l0ZVVJRCBpcyB0ZW1wb3JhcnkgZm9yIGh0dHBzOi8vZ2lneWEubXkuc2FsZXNmb3JjZS5jb20vNTAwNDAwMDAwMFQzcWNaXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldE9iamVjdDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gc2VuZEVtYWlsTmF0aXZlKHBhcmFtczogT2JqZWN0KSB7XHJcbiAgICB2YXIgdXNlckFjdGlvbiA9IHBhcmFtc1sndXNlckFjdGlvbiddIHx8IHt9O1xyXG4gICAgdmFyIHN1YmplY3QgPSB1c2VyQWN0aW9uWyd0aXRsZSddIHx8ICcnO1xyXG4gICAgdmFyIGJvZHkgPSB1c2VyQWN0aW9uWydsaW5rQmFjayddIHx8ICcnO1xyXG4gICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9ICdtYWlsdG86P3RvPSZzdWJqZWN0PScgKyBVUkxVdGlscy5VUkxFbmNvZGUoc3ViamVjdCkgKyAnJmJvZHk9JyArIFVSTFV0aWxzLlVSTEVuY29kZShib2R5KTtcclxuICAgIGdpZ3lhLnNvY2lhbGl6ZS5zZW5kRW1haWwocGFyYW1zLCB7IGRvbnRTZW5kRW1haWw6IHRydWUgfSk7IC8vIFRvIHJlcG9ydCB0aGF0IHNlbmQgd2l0aG91dCBzZW5kaW5nIGl0XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgY29va2llVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Nvb2tpZSc7XHJcbmltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9vYmplY3QnO1xyXG5pbXBvcnQgKiBhcyBKU09OVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0pTT04nO1xyXG5pbXBvcnQgKiBhcyBhcnJheVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9hcnJheSc7XHJcbmltcG9ydCAqIGFzIHNjcmlwdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zY3JpcHQnO1xyXG5pbXBvcnQgeyBnZXRDZG5SZXNvdXJjZSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9jZG4nO1xyXG5pbXBvcnQgKiBhcyBmdW5jdGlvbnNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZnVuY3Rpb25zJztcclxuaW1wb3J0IHtsb2NhbEluZm99IGZyb20gXCIuL0xvY2FsSW5mb1wiO1xyXG5cclxuZXhwb3J0IHZhciBDT05TT0xFX0xPR19MRVZFTFM6IHN0cmluZ1tdID0gWydkZWJ1ZycsICdpbmZvJywgJ2xvZycsICd3YXJuJywgJ2Vycm9yJ107XHJcbmV4cG9ydCB2YXIgc2VsZWN0ZWRDb25zb2xlTG9nTGV2ZWxzOiBzdHJpbmdbXSA9IFtdO1xyXG5leHBvcnQgdmFyIF9sb2cgPSBbXTtcclxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZSgpIHtcclxuICAgIGNvb2tpZVV0aWxzLnNldCgnX2dpZ19kYmdDb25zb2xlX2xvZycsICcxJywgbnVsbCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGUoKSB7XHJcbiAgICBjb29raWVVdGlscy5zZXQoJ19naWdfZGJnQ29uc29sZV9sb2cnLCAnMCcsIG51bGwpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBfaXNFbmFibGVkKCkge1xyXG4gICAgdmFyIGlzTWFudWFsbHlFbmFibGVkID0gIWxvY2FsSW5mby5pc05hdGl2ZU1vYmlsZUFwcCAmJiBjb29raWVVdGlscy5nZXQoJ19naWdfZGJnQ29uc29sZV9sb2cnKTtcclxuICAgIGlmICh0eXBlb2YgaXNNYW51YWxseUVuYWJsZWQgIT09ICd1bmRlZmluZWQnICYmIGlzTWFudWFsbHlFbmFibGVkICE9IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gaXNNYW51YWxseUVuYWJsZWQgPT09ICcxJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZWN0ZWRDb25zb2xlTG9nTGV2ZWxzLmxlbmd0aCA+IDA7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZExvZyh0aXRsZTogc3RyaW5nLCBvYmo6IGFueSwgd3JpdGVUb0NvbnNvbGUgPSBmYWxzZSkge1xyXG4gICAgaWYgKF9pc0VuYWJsZWQoKSB8fCB3cml0ZVRvQ29uc29sZSkge1xyXG4gICAgICAgIHZhciBzTG9nID0gdGl0bGU7XHJcblxyXG4gICAgICAgIG9iaiA9IG9iamVjdFV0aWxzLmNsb25lKG9iaiwgdHJ1ZSwgZmFsc2UsIDQsIG51bGwsIHRydWUpO1xyXG5cclxuICAgICAgICBpZiAob2JqICE9IG51bGwpIHNMb2cgKz0gJzonICsgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcgPyAnXFxuJyA6ICcnKSArIEpTT05VdGlscy5zZXJpYWxpemUob2JqLCB0cnVlLCB0cnVlKTtcclxuXHJcbiAgICAgICAgaWYgKHdyaXRlVG9Db25zb2xlICYmICh0eXBlb2YgY29uc29sZSA9PSAnb2JqZWN0JyAmJiBjb25zb2xlLmxvZykpIGNvbnNvbGUubG9nKHNMb2cpO1xyXG5cclxuICAgICAgICBpZiAoX2lzRW5hYmxlZCgpKSB7XHJcbiAgICAgICAgICAgIF9sb2cucHVzaChzTG9nKTtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnaWd5YV9sb2cnKSAhPSBudWxsICYmIHNob3cpIHNob3coKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBsb2dUeXBlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIGlmIChhcnJheVV0aWxzLmluZGV4T2YoQ09OU09MRV9MT0dfTEVWRUxTLCB0aXRsZSkgIT0gLTEpIGxvZ1R5cGUgPSB0aXRsZTtcclxuICAgICAgICAgICAgZWxzZSBsb2dUeXBlID0gJ2xvZyc7XHJcblxyXG4gICAgICAgICAgICBnaWd5YS5fLmFwaUFkYXB0ZXIub25KU0xvZyhsb2dUeXBlLCBzTG9nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGxvZ0NhbGwobmFtZSwgcGFyYW1zLCBsYXN0U291cmNlPykge1xyXG4gICAgaWYgKCFsYXN0U291cmNlKSBsYXN0U291cmNlID0gcGFyYW1zLmxhc3RTb3VyY2U7XHJcbiAgICBhZGRMb2coXHJcbiAgICAgICAgJ0NhbGxpbmcgJyArXHJcbiAgICAgICAgICAgIG5hbWUgK1xyXG4gICAgICAgICAgICAobGFzdFNvdXJjZSAmJiBsYXN0U291cmNlICE9IG5hbWUgPyAnIGZvciAnICsgbGFzdFNvdXJjZSA6ICcnKSArXHJcbiAgICAgICAgICAgIChwYXJhbXMuc291cmNlICYmIGxhc3RTb3VyY2UgIT0gcGFyYW1zLnNvdXJjZSA/ICcgaW5pdGlhdGVkIGZyb20gJyArIHBhcmFtcy5zb3VyY2UgOiAnJykgK1xyXG4gICAgICAgICAgICAnIHdpdGggdGhlc2UgcGFyYW1zJyxcclxuICAgICAgICBwYXJhbXMsXHJcbiAgICApO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBkZWJ1ZygpIHtcclxuICAgIHNjcmlwdFV0aWxzLmxvYWQoXHJcbiAgICAgICAgZ2V0Q2RuUmVzb3VyY2UoJy9qcy9naWd5YS5zZXJ2aWNlcy5zb2NpYWxpemUucGx1Z2lucy5sb2cubWluLmpzJyksXHJcbiAgICAgICAgbnVsbCxcclxuICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2hvd0NvbmZpZygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdHJ1ZSxcclxuICAgICk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dMb2coKSB7XHJcbiAgICBzY3JpcHRVdGlscy5sb2FkKFxyXG4gICAgICAgIGdldENkblJlc291cmNlKCcvanMvZ2lneWEuc2VydmljZXMuc29jaWFsaXplLnBsdWdpbnMubG9nLm1pbi5qcycpLFxyXG4gICAgICAgIG51bGwsXHJcbiAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNob3coKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRydWUsXHJcbiAgICApO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93KCkge31cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dDb25maWcoKSB7fVxyXG5mdW5jdGlvbnNVdGlscy5jcmVhdGVBbGlhcygnZ2lneWEuZGVidWcnLCBkZWJ1Zyk7XHJcbiIsImltcG9ydCB7IGdldEJhc2VEb21haW4gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZG9tYWlucyc7XHJcbi8vIExvY2FsIGVudmlyb25tZW50IGluZm8gKGJyb3dzZXIsIGNhcGFiaWxpdGllcywgaG9zdGluZyBkb21haW4pXHJcblxyXG5kZWNsYXJlIGNvbnN0IEFjdGl2ZVhPYmplY3Q6IGFueTtcclxuXHJcbnZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XHJcbmV4cG9ydCB2YXIgbG9jYWxJbmZvID0ge1xyXG4gICAgYmFzZURvbWFpbjogJycsIC8vIGNhbGN1bGF0ZWQgbGF0ZXIgb25cclxuICAgIGlzQnJvd3NlclN1cHBvcnRzRmlsZXNBUEk6ICgoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBGaWxlUmVhZGVyID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBGaWxlUmVhZGVyID09PSAnb2JqZWN0JztcclxuICAgIH0pKCksXHJcbiAgICBpbml0VGltZTogbmV3IERhdGUoKSxcclxuICAgIHZlcnNpb246IDAsIC8vVE9ET1xyXG4gICAgcGFnZURvbWFpbjogZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWUsXHJcbiAgICBwcm90b2NvbDogZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPT0gJ2h0dHA6JyA/ICdodHRwJyA6ICdodHRwcycsXHJcbiAgICB1c2VyQWdlbnQ6IHVzZXJBZ2VudCxcclxuICAgIGlzV2luOiB1c2VyQWdlbnQuaW5kZXhPZignd2luJykgIT0gLTEsXHJcbiAgICBpc0lFOiB1c2VyQWdlbnQuaW5kZXhPZignbXNpZScpICE9IC0xIHx8ICh1c2VyQWdlbnQuaW5kZXhPZignbW96aWxsYScpICE9IC0xICYmIHVzZXJBZ2VudC5pbmRleE9mKCd0cmlkZW50JykgIT0gLTEpLFxyXG4gICAgaXNJRTY6IHVzZXJBZ2VudC5pbmRleE9mKCdtc2llIDYuJykgIT0gLTEsXHJcbiAgICBpc0lFNzogdXNlckFnZW50LmluZGV4T2YoJ21zaWUgNy4nKSAhPSAtMSxcclxuICAgIGlzSUU4OiB1c2VyQWdlbnQuaW5kZXhPZignbXNpZSA4LicpICE9IC0xLFxyXG4gICAgaXNJRTk6IHVzZXJBZ2VudC5pbmRleE9mKCdtc2llIDkuJykgIT0gLTEsXHJcbiAgICBpc0lFMTA6IHVzZXJBZ2VudC5pbmRleE9mKCdtc2llIDEwLicpICE9IC0xLFxyXG4gICAgaXNJRTExOiB1c2VyQWdlbnQuaW5kZXhPZignbW96aWxsYScpICE9IC0xICYmIHVzZXJBZ2VudC5pbmRleE9mKCd0cmlkZW50LzcuMCcpICE9IC0xLFxyXG4gICAgaXNFZGdlOiB1c2VyQWdlbnQuaW5kZXhPZignZWRnZScpICE9IC0xLFxyXG4gICAgaXNJT1M6IHVzZXJBZ2VudC5pbmRleE9mKCdpcGhvbmUnKSAhPSAtMSB8fCB1c2VyQWdlbnQuaW5kZXhPZignaXBhZCcpICE9IC0xIHx8IHVzZXJBZ2VudC5pbmRleE9mKCdpcG9kJykgIT0gLTEsXHJcbiAgICBpc1NhZmFyaTUzNDogdXNlckFnZW50LmluZGV4T2YoJ3NhZmFyaS81MzQnKSAhPSAtMSxcclxuICAgIGlzV2VDaGF0OiB1c2VyQWdlbnQuaW5kZXhPZignbWljcm9tZXNzZW5nZXInKSAhPSAtMSxcclxuICAgIGlvc1ZlcnNpb246IChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodXNlckFnZW50LmluZGV4T2YoJ2FwcGxld2Via2l0JykgIT0gLTEgJiYgdXNlckFnZW50LmluZGV4T2YoJ3ZlcnNpb24vJykgIT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHVzZXJBZ2VudC5zcGxpdCgndmVyc2lvbi8nKVsxXS5zcGxpdCgnICcpWzBdKTtcclxuICAgICAgICB9IGVsc2UgcmV0dXJuIDA7XHJcbiAgICB9KSgpLFxyXG4gICAgaXNBbmRyb2lkOiB1c2VyQWdlbnQuaW5kZXhPZignYW5kcm9pZCcpICE9IC0xLFxyXG4gICAgaXNBbmRyb2lkQnJvd3NlcjogKHVzZXJBZ2VudCA9PiB7XHJcbiAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdtb3ppbGxhLzUuMCcpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmICh1c2VyQWdlbnQuaW5kZXhPZignYW5kcm9pZCA0JykgPT09IC0xKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdhcHBsZXdlYmtpdCcpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAodXNlckFnZW50LmluZGV4T2YoJ3dpbmRvd3MgcGhvbmUnKSAhPT0gLTEpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gU3BlY2lhbCB1c2VyIGFnZW50cyBmb3VuZCBzbyBmYXIgdGhhdCB2aW9sYXRlIHRoZSBleGlzdGFuY2Ugb2YgY2hyb21lIHJ1bGVcclxuICAgICAgICAvLyBCdWcgMzgzNjcgQW5kcm9pZCBCcm93c2VyOiBNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4yLjI7IGVuLXVzOyBTQU1TVU5HIEdULUk5NTAwIEJ1aWxkL0pEUTM5KSBBcHBsZVdlYktpdC81MzUuMTkgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzEuMCBDaHJvbWUvMTguMC4xMDI1LjMwOCBNb2JpbGUgU2FmYXJpLzUzNS4xOVxyXG4gICAgICAgIC8vIEJ1ZyA0MDIwOSBDaHJvbWUgQnJvd3NlcjogTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuMi4yOyBTQU1TVU5HIFNHVC1JNzQ3IEJ1aWxkL0tPVDQ5SCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzM5LjAuMjE3MS45MyBNb2JpbGUgU2FmYXJpLzUzNy4zNlxyXG4gICAgICAgIC8vIFdpbmRvd3MgUGhvbmUgQnJvd3NlcjogTW96aWxsYS81LjAgKE1vYmlsZTsgV2luZG93cyBQaG9uZSA4LjE7IEFuZHJvaWQgNC4wOyBBUk07IFRyaWRlbnQvNy4wOyBUb3VjaDsgcnY6MTEuMDsgSUVNb2JpbGUvMTEuMDsgTk9LSUE7IEx1bWlhIDkyMCkgbGlrZSBpUGhvbmUgT1MgN18wXzMgTWFjIE9TIFggQXBwbGVXZWJLaXQvNTM3IChLSFRNTCwgbGlrZSBHZWNrbykgTW9iaWxlIFNhZmFyaS81MzdcclxuICAgICAgICAvLyBDaHJvbWUgQnJvd3NlcjogTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuMi4yOyBlbi1nYjsgU0FNU1VORyBHVC1JOTUwMCBCdWlsZC9LT1Q0OUgpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMS41IENocm9tZS8yOC4wLjE1MDAuOTQgTW9iaWxlIFNhZmFyaS81MzcuMzZcclxuXHJcbiAgICAgICAgdmFyIGNocm9tZUluZm8gPSAvY2hyb21lXFwvKFxcZCspLy5leGVjKHVzZXJBZ2VudCk7XHJcblxyXG4gICAgICAgIGlmICghY2hyb21lSW5mbykgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgIHZhciBjaHJvbWVWZXJzaW9uID0gcGFyc2VJbnQoY2hyb21lSW5mb1sxXSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjaHJvbWVWZXJzaW9uIDwgMjA7XHJcbiAgICB9KSh1c2VyQWdlbnQpLFxyXG4gICAgY3VycmVudEJyb3dzZXI6ICcnLFxyXG4gICAgYW5kcm9pZFZlcnNpb246IChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodXNlckFnZW50LmluZGV4T2YoJ2FuZHJvaWQnKSAhPSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh1c2VyQWdlbnQuc2xpY2UodXNlckFnZW50LmluZGV4T2YoJ2FuZHJvaWQnKSArIDgpKTtcclxuICAgICAgICB9IGVsc2UgcmV0dXJuIDA7XHJcbiAgICB9KSgpLFxyXG4gICAgaXNDaHJvbWU6IHVzZXJBZ2VudC5pbmRleE9mKCdjaHJvbWUnKSAhPSAtMSAmJiB1c2VyQWdlbnQuaW5kZXhPZignZWRnZScpID09IC0xLCAvLyBlZGdlIGJyb3dzZXIgYWxzbyB1c2VzIENocm9tZSBpbiBpdHMgVUEgc3RyaW5nLlxyXG4gICAgaXNHb29nbGVCb3Q6IHVzZXJBZ2VudC5pbmRleE9mKCdnb29nbGVib3QnKSAhPSAtMSxcclxuICAgIGlzRkY6IHVzZXJBZ2VudC5pbmRleE9mKCdmaXJlZm94JykgIT0gLTEsXHJcbiAgICBpc09wZXJhOiB1c2VyQWdlbnQuaW5kZXhPZignb3BlcmEnKSAhPSAtMSxcclxuICAgIGlzU2FmYXJpOlxyXG4gICAgICAgIG5hdmlnYXRvci5hcHBWZXJzaW9uICYmXHJcbiAgICAgICAgbmF2aWdhdG9yLmFwcFZlcnNpb24udG9Mb3dlckNhc2UoKS5pbmRleE9mKCdzYWZhcmknKSAhPSAtMSAmJlxyXG4gICAgICAgIG5hdmlnYXRvci5hcHBWZXJzaW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPT0gLTEgJiZcclxuICAgICAgICB1c2VyQWdlbnQuaW5kZXhPZignYW5kcm9pZCcpID09IC0xLFxyXG4gICAgaXNJT1NXZWJWaWV3OiAvKGlQaG9uZXxpUG9kfGlQYWQpLipBcHBsZVdlYktpdCg/IS4qU2FmYXJpKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksXHJcbiAgICBpc0lPU0Nocm9tZTogdXNlckFnZW50LmluZGV4T2YoJ2NyaW9zJykgIT0gLTEsXHJcbiAgICBpc01BQzogbmF2aWdhdG9yLmFwcFZlcnNpb24gJiYgbmF2aWdhdG9yLmFwcFZlcnNpb24udG9Mb3dlckNhc2UoKS5pbmRleE9mKCdtYWMnKSAhPSAtMSxcclxuICAgIGlzV2luZG93c1Bob25lOiB1c2VyQWdlbnQuaW5kZXhPZignd2luZG93cyBwaG9uZScpICE9IC0xLFxyXG4gICAgaXNGYWNlYm9va0Jyb3dzZXI6IHVzZXJBZ2VudC5pbmRleE9mKCdmYmFuJykgIT0gLTEgfHwgdXNlckFnZW50LmluZGV4T2YoJ2ZiYXYnKSAhPSAtMSxcclxuICAgIHN1cHBvcnRzUG9zdE1lc3NhZ2U6IHdpbmRvdy5wb3N0TWVzc2FnZSAhPSBudWxsICYmICh1c2VyQWdlbnQuaW5kZXhPZignbXNpZScpID09IC0xIHx8IHVzZXJBZ2VudC5pbmRleE9mKCdpZW1vYmlsZScpICE9IC0xKSxcclxuICAgIHN1cHBvcnRzTG9jYWxTdG9yYWdlOiBmYWxzZSxcclxuICAgIHN1cHBvcnRzU2Vzc2lvblN0b3JhZ2U6IGZhbHNlLFxyXG4gICAgc3VwcG9ydHNGbGFzaDogKCgpID0+IHtcclxuICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzk5ODI0NS9ob3ctY2FuLWktZGV0ZWN0LWlmLWZsYXNoLWlzLWluc3RhbGxlZC1hbmQtaWYtbm90LWRpc3BsYXktYS1oaWRkZW4tZGl2LXRoYXQtaW5mXHJcbiAgICAgICAgbGV0IHN1cHBvcnRzRmxhc2ggPSBmYWxzZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubWltZVR5cGVzICYmXHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubWltZVR5cGVzWydhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCddICE9IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLm1pbWVUeXBlc1snYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnXS5lbmFibGVkUGx1Z2luXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgc3VwcG9ydHNGbGFzaCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmbyA9IG5ldyBBY3RpdmVYT2JqZWN0KCdTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydHNGbGFzaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7fVxyXG4gICAgICAgIHJldHVybiBzdXBwb3J0c0ZsYXNoO1xyXG4gICAgfSkoKSxcclxuICAgIHF1aXJrc01vZGU6IGRvY3VtZW50LmNvbXBhdE1vZGUgPT0gJ0JhY2tDb21wYXQnICYmIHVzZXJBZ2VudC5pbmRleE9mKCdtc2llJykgIT0gLTEsXHJcbiAgICBiYWNrQ29tcGF0OiBkb2N1bWVudC5jb21wYXRNb2RlID09ICdCYWNrQ29tcGF0JyxcclxuICAgIC8vIFRPRE86IEFkZCBpc1RhYmxldCBmdW5jdGlvbiBmb3IgZGV2aWNlcyBub24tTW9iaWxlXHJcbiAgICBpc01vYmlsZTogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBtb2JpbGVDbGllbnRzID0gW1xyXG4gICAgICAgICAgICAnaXBob25lJyxcclxuICAgICAgICAgICAgJ2lwb2QnLFxyXG4gICAgICAgICAgICAnYW5kcm9pZCcsXHJcbiAgICAgICAgICAgICdtaWRwJyxcclxuICAgICAgICAgICAgJzI0MHgzMjAnLFxyXG4gICAgICAgICAgICAnYmxhY2tiZXJyeScsXHJcbiAgICAgICAgICAgICduZXRmcm9udCcsXHJcbiAgICAgICAgICAgICdub2tpYScsXHJcbiAgICAgICAgICAgICdwYW5hc29uaWMnLFxyXG4gICAgICAgICAgICAncG9ydGFsbW1tJyxcclxuICAgICAgICAgICAgJ3NoYXJwJyxcclxuICAgICAgICAgICAgJ3NpZS0nLFxyXG4gICAgICAgICAgICAnc29ueWVyaWNzc29uJyxcclxuICAgICAgICAgICAgJ3N5bWJpYW4nLFxyXG4gICAgICAgICAgICAnd2luZG93cyBjZScsXHJcbiAgICAgICAgICAgICdiZW5xJyxcclxuICAgICAgICAgICAgJ21kYScsXHJcbiAgICAgICAgICAgICdtb3QtJyxcclxuICAgICAgICAgICAgJ29wZXJhIG1pbmknLFxyXG4gICAgICAgICAgICAncGhpbGlwcycsXHJcbiAgICAgICAgICAgICdwb2NrZXQgcGMnLFxyXG4gICAgICAgICAgICAnc2FnZW0nLFxyXG4gICAgICAgICAgICAnc2Ftc3VuZycsXHJcbiAgICAgICAgICAgICdodGMnLFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgZm9yICh2YXIgaSBpbiBtb2JpbGVDbGllbnRzKSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyQWdlbnQuaW5kZXhPZihtb2JpbGVDbGllbnRzW2ldKSAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSkoKSxcclxuICAgIGlzTW9iaWxlQXBwOiAoKCkgPT4ge1xyXG4gICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUpXHJcbiAgICAgICAgICAgIC8vIGZvciBvbGQgSUVcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgbWV0YVRhZ3M6IE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21ldGEnKSBhcyBhbnk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0YVRhZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKG1ldGFUYWdzW2ldLmdldEF0dHJpYnV0ZSgnbmFtZScpID09ICd2aWV3cG9ydCcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gbWV0YVRhZ3NbaV0uZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC5pbmRleE9mKCd3aWR0aD1kZXZpY2Utd2lkdGgnKSAhPT0gLTEpIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KSgpLFxyXG4gICAgaXNOYXRpdmVNb2JpbGVBcHA6IGZhbHNlLCAvLyB3aWxsIGNoYW5nZSBpZiBtb2JpbGUgYWRhcHRlciB3aWxsIGxvYWQgW2luIGl0cyAnaW5pdCcgbWV0aG9kXS5cclxuICAgIGlzVG91Y2g6IChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KVxyXG4gICAgICAgICAgICAvLyB3b3JrcyBvbiBtb3N0IGJyb3dzZXJzXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICBpZiAoJ29ubXNnZXN0dXJlY2hhbmdlJyBpbiB3aW5kb3cpIHtcclxuICAgICAgICAgICAgLy8gd29ya3Mgb24gaWUxMFxyXG4gICAgICAgICAgICAvLyBUcnkgdG8gZGV0ZXJtaW5lIGlmIElFIGlzIG9wZW4gaW4gbWV0cm8gbW9kZS4gTWV0cm8gZG9lc24ndCBhbGxvdyBhY3RpdmVYLCB0aGF0J3MgdGhlIGJlc3QgdGVzdCBhdmFpbGFibGUgYXMgb2YgSUUxMS5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIG5ldyBBY3RpdmVYT2JqZWN0KCdodG1sZmlsZScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSkoKSxcclxuICAgIGlzT25MaW5lOiAoKSA9PiBuYXZpZ2F0b3Iub25MaW5lLFxyXG4gICAgbWVzc2FnaW5nTWV0aG9kOiAwXHJcbn07XHJcbmNvbnN0IGlzU3RvcmFnZUVuYWJsZWQgPSAoc3RvcmFnZU5hbWU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBzdG9yYWdlID0gd2luZG93W3N0b3JhZ2VOYW1lXTtcclxuICAgICAgICBpZiAoIXN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdGVzdE5hbWUgPSAnX2dpZ19sb2NhbFN0b3JhZ2VfdGVzdCc7XHJcbiAgICAgICAgY29uc3QgdGVzdFZhbHVlID0gJ2p1c3QgY2hlY2tpbmcgZm9yIGxvY2FsU3RvcmFnZSc7XHJcbiAgICAgICAgc3RvcmFnZS5zZXRJdGVtKHRlc3ROYW1lLCB0ZXN0VmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHN0b3JhZ2UuZ2V0SXRlbSh0ZXN0TmFtZSkgPT09IHRlc3RWYWx1ZTtcclxuICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0odGVzdE5hbWUpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgIC8vIFJlYXNvbnM6XHJcbiAgICAgICAgLy8gLSBJbnNpZGUgM3JkIHBhcnR5IEFQSSBwcm94eSBpRnJhbWUuXHJcbiAgICAgICAgLy8gLSBTYWZhcmkgaW4gaW5jb2duaXRvIG1vZGUgd2lsbCBlcnJvciB3aXRoIFwicXVvdGEgZXhjZWVkZWRcIi5cclxuICAgICAgICAvLyAtIENocm9tZSB3aXRoIDNyZCBwYXJ0eSBjb29raWVzIGRpc2FibGVkIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgeW91IGFjY2VzcyB0aGUgd2luZG93LmxvY2FsU3RvcmFnZSBvYmplY3QgaW4gQU5ZIHdheS5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn07XHJcbmxvY2FsSW5mby5zdXBwb3J0c0xvY2FsU3RvcmFnZSA9IGlzU3RvcmFnZUVuYWJsZWQoJ2xvY2FsU3RvcmFnZScpO1xyXG5sb2NhbEluZm8uc3VwcG9ydHNTZXNzaW9uU3RvcmFnZSA9IGlzU3RvcmFnZUVuYWJsZWQoJ3Nlc3Npb25TdG9yYWdlJyk7XHJcbmlmIChsb2NhbEluZm8uaXNJRTExICYmICF3aW5kb3cuaW5kZXhlZERCKVxyXG4gICAgLy8gSUUxMC0xMSBzdXBwb3J0IHBvc3RNZXNzYWdlIGJldHdlZW4gaWZyYW1lcyBidXQgbm90IGluUHJpdmF0ZSBtb2RlXHJcbiAgICBsb2NhbEluZm8uc3VwcG9ydHNQb3N0TWVzc2FnZSA9IGZhbHNlO1xyXG5sb2NhbEluZm8uaXNNQUMgPSBsb2NhbEluZm8uaXNNQUMgJiYgIWxvY2FsSW5mby5pc0lPUztcclxudmFyIG9zID0gbG9jYWxJbmZvLmlzV2luXHJcbiAgICA/ICd3aW5kb3dzJ1xyXG4gICAgOiBsb2NhbEluZm8uaXNXaW5kb3dzUGhvbmVcclxuICAgICAgICA/ICd3aW5waG9uZSdcclxuICAgICAgICA6IGxvY2FsSW5mby5pc0lPU1xyXG4gICAgICAgICAgICA/ICdpb3MtdicgKyBsb2NhbEluZm8uaW9zVmVyc2lvblxyXG4gICAgICAgICAgICA6IGxvY2FsSW5mby5pc01BQ1xyXG4gICAgICAgICAgICAgICAgPyAnbWFjJ1xyXG4gICAgICAgICAgICAgICAgOiBsb2NhbEluZm8uaXNBbmRyb2lkXHJcbiAgICAgICAgICAgICAgICAgICAgPyAnYW5kcm9pZCdcclxuICAgICAgICAgICAgICAgICAgICA6ICcnO1xyXG5pZiAob3MpIG9zICs9ICcgJztcclxudmFyIGJyb3dzZXIgPSBsb2NhbEluZm8uaXNDaHJvbWVcclxuICAgID8gJ2Nocm9tZSdcclxuICAgIDogbG9jYWxJbmZvLmlzRkZcclxuICAgICAgICA/ICdmaXJlZm94J1xyXG4gICAgICAgIDogbG9jYWxJbmZvLmlzU2FmYXJpXHJcbiAgICAgICAgICAgID8gJ3NhZmFyaSdcclxuICAgICAgICAgICAgOiBsb2NhbEluZm8uaXNFZGdlXHJcbiAgICAgICAgICAgICAgICA/ICdlZGdlJ1xyXG4gICAgICAgICAgICAgICAgOiBsb2NhbEluZm8uaXNJRTExXHJcbiAgICAgICAgICAgICAgICAgICAgPyAnaWUxMSdcclxuICAgICAgICAgICAgICAgICAgICA6IGxvY2FsSW5mby5pc0lFMTBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnaWUxMCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBsb2NhbEluZm8uaXNJRTlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2llOSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbG9jYWxJbmZvLmlzSUU4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnaWU4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyc7XHJcbmxvY2FsSW5mby5jdXJyZW50QnJvd3NlciA9IG9zICsgYnJvd3NlcjtcclxubGV0IGJhc2VEb21haW5zOiBzdHJpbmdbXXxzdHJpbmc7XHJcbmlmIChnaWd5YS5wYXJ0bmVyU2V0dGluZ3M/LmJhc2VEb21haW5zPy5sZW5ndGgpIHtcclxuICAgIGJhc2VEb21haW5zID0gZ2lneWEucGFydG5lclNldHRpbmdzLmJhc2VEb21haW5zIGFzIHN0cmluZ1tdfHN0cmluZztcclxufSBlbHNlIHtcclxuICAgIGlmICh3aW5kb3cuc2VsZiA9PT0gd2luZG93LnRvcCkge1xyXG4gICAgICAgIC8vIG9ubHkgaW4gdGhlIHRvcCBmcmFtZVxyXG4gICAgICAgIGdpZ3lhLmxvZ2dlci53YXJuKCdnaWd5YTogbWlzc2luZyBiYXNlIGRvbWFpbnMgZm9yIHNpdGUnKTtcclxuICAgIH1cclxuICAgIGJhc2VEb21haW5zID0gW2RvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lXTtcclxufVxyXG5sb2NhbEluZm8uYmFzZURvbWFpbiA9IGdldEJhc2VEb21haW4oYmFzZURvbWFpbnMpO1xyXG4iLCJpbXBvcnQge1xyXG4gICAgSUxvZ2dlckNvbmZpZyxcclxuICAgIExvZ0xldmVsLFxyXG4gICAgQ2xpZW50TXV0ZUxldmVsLFxyXG4gICAgTG9nVGhlbWUsXHJcbiAgICBHcm91cEJlaGF2aW9yLFxyXG4gICAgSUxvZ2dlcixcclxuICAgIElMb2dHcm91cCxcclxuICAgIEdpZ0dsb2JhbCxcclxuICAgIElGb3JtYXR0ZWRMb2dBcmdzLFxyXG4gICAgSUdyb3VwQ2xvc2VyLFxyXG4gICAgSUxvZ0Z1bmMsXHJcbn0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9pbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgZ2V0UmVxUGFyYW1WYWx1ZSwgZ2V0UGFyYW1WYWx1ZSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zdHJpbmdQYXJhbXMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdpZ0Vycm9yUmVwb3J0ID0gJ2dpZ0Vycm9yUmVwb3J0JztcclxuY29uc3QgZGVmYXVsdExvZ2dlckNvbmZpZzogSUxvZ2dlckNvbmZpZyA9IHtcclxuICAgIGxvZ0xldmVsOiBMb2dMZXZlbC5kaXNhYmxlZCxcclxuICAgIGNsaWVudE11dGVMZXZlbDogQ2xpZW50TXV0ZUxldmVsLm5vbmUsXHJcbiAgICBsb2dUaGVtZTogTG9nVGhlbWUuZGFyayxcclxufTtcclxuY29uc3QgdGhlbWVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZ1tdIH0gPSB7XHJcbiAgICBbTG9nVGhlbWUubm9uZV06IFsnJ10sXHJcbiAgICBbTG9nVGhlbWUuZGFya106IFtcclxuICAgICAgICAnMzhmNjg5JyxcclxuICAgICAgICAnMDA5RkQ0JyxcclxuICAgICAgICAnYjM4MWIzJyxcclxuICAgICAgICAnNzFiNmVmJyxcclxuICAgICAgICAnNjRjMTYyJyxcclxuICAgICAgICAnOTc3YmQ4JyxcclxuICAgICAgICAnZDE2OGE0JyxcclxuICAgICAgICAnNGM3MWQyJyxcclxuICAgICAgICAnODRiNDY2JyxcclxuICAgICAgICAnN2Q2MzhhJyxcclxuICAgICAgICAnNzk5ZmI3JyxcclxuICAgICAgICAnOGZkZjk4JyxcclxuICAgICAgICAnZGM3NzY3JyxcclxuICAgICAgICAnMGE3MGY1JyxcclxuICAgICAgICAnMzhiMTU5JyxcclxuICAgICAgICAnYWY3MjFiJyxcclxuICAgICAgICAnYmZhZjZmJyxcclxuICAgIF0sXHJcbiAgICBbTG9nVGhlbWUubGlnaHRdOiBbXHJcbiAgICAgICAgJzQwODA2QScsXHJcbiAgICAgICAgJzAwMzYzNicsXHJcbiAgICAgICAgJzlCNTlCNicsXHJcbiAgICAgICAgJ0RCMEE1QicsXHJcbiAgICAgICAgJzc5MjhBMScsXHJcbiAgICAgICAgJzUyMjAzMicsXHJcbiAgICAgICAgJzAwMDBFMCcsXHJcbiAgICAgICAgJzAwMjAyQScsXHJcbiAgICAgICAgJzAwMDAzNicsXHJcbiAgICAgICAgJzAwNTU1NScsXHJcbiAgICAgICAgJzFENzgxRCcsXHJcbiAgICAgICAgJzRGNUE2NScsXHJcbiAgICAgICAgJzc2NUFCMCcsXHJcbiAgICAgICAgJzAwMDAwMCcsXHJcbiAgICAgICAgJzNDMTM2MicsXHJcbiAgICAgICAgJzAwMDA2MCcsXHJcbiAgICAgICAgJzU5MUQ3NycsXHJcbiAgICBdLFxyXG59O1xyXG5jb25zdCBzZWxmTG9nc0Nzczogc3RyaW5nID0gJ2NvbG9yOiAjYjBiMGIwYjA7JztcclxuY29uc3Qgbm9Dc3MgPSAnJztcclxuY29uc3Qgc2V2ZXJpdHlUaHJlc2hvbGQ6IExvZ0xldmVsID0gTG9nTGV2ZWwud2FybjtcclxuY29uc3QgZGVmYXVsdEdyb3VwQmVoYXZpb3I6IEdyb3VwQmVoYXZpb3IgPSBHcm91cEJlaGF2aW9yLmNvbGxhcHNlZDtcclxuY29uc3Qgbm9vcExvZ2dlckZuID0gKG1lc3NhZ2U6IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7fTtcclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VMb2dnZXIgaW1wbGVtZW50cyBJTG9nZ2VyIHtcclxuICAgIHByaXZhdGUgX2NvbmZpZzogSUxvZ2dlckNvbmZpZztcclxuICAgIHByaXZhdGUgX2dyb3Vwc1N0YWNrOiBJTG9nR3JvdXBbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfY3VyckNvbG9ySWR4OiBudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbnNvbGU6IENvbnNvbGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uZmlnS2V5OiBzdHJpbmcgPSAnZ2lnX2xvZ2dlckNvbmZpZyc7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfZ2xvYmFsOiBHaWdHbG9iYWwpIHtcclxuICAgICAgICB0aGlzLl9jb25zb2xlID0gdGhpcy5fZ2xvYmFsLmNvbnNvbGU7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3ZlcnJpZGVDbGllbnRMb2dzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZXBvcnQobWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSwgaW5jbHVkZVN0YWNrPzogYm9vbGVhbik7XHJcblxyXG4gICAgcHVibGljIGdldENvbmZpZygpOiBJTG9nZ2VyQ29uZmlnIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb25maWcgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkTG9nZ2VyQ29uZmlnRnJvbUhhc2goKSB8fCAvLyBpbm5lciBmcmFtZXMgcmVhZHMgY29uZmlnIGZyb20gaGFzaFxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkTG9nZ2VyQ29uZmlnRnJvbUNvb2tpZSgpIHx8IC8vIHRvcCBmcmFtZXMgcmVhZHMgY29uZmlnIGZyb20gY29va2llXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0TG9nZ2VyQ29uZmlnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbmZpZygpLmxvZ0xldmVsID4gTG9nTGV2ZWwuZGlzYWJsZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXQgbG9nTGV2ZWwoKTogTG9nTGV2ZWwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbmZpZygpLmxvZ0xldmVsO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0IHBhbGV0dGUoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiB0aGVtZXNbdGhpcy5nZXRDb25maWcoKS5sb2dUaGVtZV07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXROZXh0Q29sb3IoKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRDb25maWcoKS5sb2dUaGVtZSA9PT0gTG9nVGhlbWUubm9uZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyQ29sb3JJZHggPj0gdGhpcy5wYWxldHRlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyQ29sb3JJZHggPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYCMke3RoaXMucGFsZXR0ZVt0aGlzLl9jdXJyQ29sb3JJZHgrK119YDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldCBjdXJyZW50R3JvdXAoKTogSUxvZ0dyb3VwIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ3JvdXBzU3RhY2tbdGhpcy5fZ3JvdXBzU3RhY2subGVuZ3RoIC0gMV07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkTG9nZ2VyQ29uZmlnRnJvbUhhc2goKTogSUxvZ2dlckNvbmZpZyB7XHJcbiAgICAgICAgbGV0IHJlczogSUxvZ2dlckNvbmZpZyA9IG51bGw7XHJcbiAgICAgICAgY29uc3QgbG9nZ2VyQ29uZmlnU3RyID0gZ2V0UmVxUGFyYW1WYWx1ZShsb2NhdGlvbi5oYXNoLCB0aGlzLmNvbmZpZ0tleSk7XHJcbiAgICAgICAgaWYgKGxvZ2dlckNvbmZpZ1N0cikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmVzID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQobG9nZ2VyQ29uZmlnU3RyKSkgYXMgSUxvZ2dlckNvbmZpZztcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW0dpZ3lhXTogZXhjZXB0aW9uIHdoaWxlIHRyeWluZyB0byBwYXJzZSBsb2dnZXIgY29uZmlnIGZyb20gaGFzaGAsIGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkTG9nZ2VyQ29uZmlnRnJvbUNvb2tpZSgpOiBJTG9nZ2VyQ29uZmlnIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgcmVzOiBJTG9nZ2VyQ29uZmlnID0gbnVsbDtcclxuICAgICAgICAgICAgY29uc3QgY29va2llID0gZ2V0UGFyYW1WYWx1ZShkb2N1bWVudC5jb29raWUsIHRoaXMuY29uZmlnS2V5LCAnOycpO1xyXG4gICAgICAgICAgICBpZiAoY29va2llKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IEpTT04ucGFyc2UoY29va2llKSBhcyBJTG9nZ2VyQ29uZmlnO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtHaWd5YV06IGV4Y2VwdGlvbiB3aGlsZSB0cnlpbmcgdG8gcGFyc2UgbG9nZ2VyIGNvbmZpZyBmcm9tIGNvb2tpZWAsIGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBpT1MgMTAgd2VidmlldyB0aHJvd3MgaW4gc29tZSBzY2VuYXJpb3NcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRMb2dnZXJDb25maWdDb29raWUobG9nZ2VyQ29uZmlnOiBJTG9nZ2VyQ29uZmlnKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gYCR7dGhpcy5jb25maWdLZXl9PSR7SlNPTi5zdHJpbmdpZnkobG9nZ2VyQ29uZmlnKX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb3ZlcnJpZGVDbGllbnRMb2dzKCkge1xyXG4gICAgICAgIGxldCBQcm94eSA9IHRoaXMuX2dsb2JhbFsnUHJveHknXTtcclxuXHJcbiAgICAgICAgaWYgKCFQcm94eSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMuZ2V0Q29uZmlnKCkuY2xpZW50TXV0ZUxldmVsKSB7XHJcbiAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcclxuICAgICAgICAgICAgY2FzZSBDbGllbnRNdXRlTGV2ZWwubm9uZTpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVwbGFjZSBuYXRpdmUgY29uc29sZSB3aXRoIGEgZHVtbXlcclxuICAgICAgICAgICAgY2FzZSBDbGllbnRNdXRlTGV2ZWwuYWxsOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2xvYmFsLmNvbnNvbGUgPSBuZXcgUHJveHkodGhpcy5fZ2xvYmFsLmNvbnNvbGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IG5vb3BMb2dnZXJGbixcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvLyBvdmVycmlkZSB0aGUgZ3JvdXAgYXBpIGFuZCBvdXRwdXQgYSBwcmVmaXhlZCBjbGllbnQgbG9nXHJcbiAgICAgICAgICAgIGNhc2UgQ2xpZW50TXV0ZUxldmVsLm5vcm1hbDpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JhbC5jb25zb2xlID0gbmV3IFByb3h5KHRoaXMuX2dsb2JhbC5jb25zb2xlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAodGFyZ2V0OiBhbnksIHByb3BlcnR5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsnZ3JvdXAnLCAnZ3JvdXBDb2xsYXBzZWQnLCAnZ3JvdXBFbmQnXS5pbmRleE9mKHByb3BlcnR5KSAhPT0gLTFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKC4uLmFyZ3MpID0+IHRoaXMuX2NvbnNvbGUubG9nKGBjbGllbnQgaGFzIGNhbGxlZCBjb25zb2xlLiR7cHJvcGVydHl9YCwgLi4uYXJncylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGFyZ2V0W3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGb3JtYXR0ZWRMb2dBcmdzKHRleHQ6IHN0cmluZyA9ICcnLCBsb2dHcm91cDogSUxvZ0dyb3VwID0gdGhpcy5jdXJyZW50R3JvdXApOiBJRm9ybWF0dGVkTG9nQXJncyB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGV4dDogbG9nR3JvdXAgPyBgJWPilogke3RleHR9YCA6IGAlYyR7dGV4dH1gLFxyXG4gICAgICAgICAgICBjc3M6IGxvZ0dyb3VwID8gYGNvbG9yOiAke2xvZ0dyb3VwLmNvbG9yfTtgIDogJycsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlc3RvcmVIYW5naW5nR3JvdXBzKGhhbmdpbmdHcm91cHM6IElMb2dHcm91cFtdKSB7XHJcbiAgICAgICAgLy8gcmVzdG9yZSBncm91cHMgc3RhY2sgYWZ0ZXIgYSBwYXJlbnQgZ3JvdXAgaGFzIGVuZGVkXHJcbiAgICAgICAgd2hpbGUgKGhhbmdpbmdHcm91cHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIHJlc3RvcmUgdGhlIGdyb3VwcyBzdGFja1xyXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IGhhbmdpbmdHcm91cHMuc2hpZnQoKTtcclxuICAgICAgICAgICAgdGhpcy5fZ3JvdXBzU3RhY2sucHVzaChncm91cCk7XHJcblxyXG4gICAgICAgICAgICAvLyBpbmRpY2F0ZSBncm91cCBoYXMgYmVlbiByZXN0b3JlZFxyXG4gICAgICAgICAgICBjb25zdCBsb2dBcmdzID0gdGhpcy5nZXRGb3JtYXR0ZWRMb2dBcmdzKGAgJWNbUkVTVE9SRUQgLSAke2dyb3VwLmdyb3VwVGl0bGV9XWApO1xyXG4gICAgICAgICAgICB0aGlzLl9jb25zb2xlLmdyb3VwQ29sbGFwc2VkKGxvZ0FyZ3MudGV4dCwgbG9nQXJncy5jc3MsIHNlbGZMb2dzQ3NzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBlbmRHcm91cChncm91cDogSUxvZ0dyb3VwKSB7XHJcbiAgICAgICAgY29uc3QgbG9nQXJncyA9IHRoaXMuZ2V0Rm9ybWF0dGVkTG9nQXJncyhgIFtFTkQgLSAke2dyb3VwLmdyb3VwVGl0bGV9XWAsIGdyb3VwKTtcclxuICAgICAgICB0aGlzLl9jb25zb2xlLmxvZyhsb2dBcmdzLnRleHQsIGxvZ0FyZ3MuY3NzKTtcclxuICAgICAgICB0aGlzLl9jb25zb2xlLmdyb3VwRW5kKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2coc2V2ZXJpdHk6IExvZ0xldmVsKTogSUxvZ0Z1bmMge1xyXG4gICAgICAgIC8vIGxvZyBpZiBvbmUgb2YgdGhlIGZvbGxvd2luZ1xyXG4gICAgICAgIC8vIFsxXSBsb2dnaW5nIGlzIGVuYWJsZWQgYW5kIHRoZSBsb2cncyBzZXZlcml0eSBpcyBncmVhdGVyIG9yIGVxdWFsIHRvIHRoZSBjb25maWd1cmVkIGxvZ0xldmVsXHJcbiAgICAgICAgLy8gWzJdIHNldmVyaXR5IGlzIGdyZWF0ZXIgdGhhbiB0aGUgdGhyZXNob2xkIGJ1dCB0aGUgY29uZmlndXJlZCBsb2dMZXZlbCBpcyBub3QgZ3JlYXRlciB0aGFuIHRoZSB0aHJlc2hvbGRcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICh0aGlzLmlzRW5hYmxlZCAmJiBzZXZlcml0eSA+PSB0aGlzLmxvZ0xldmVsKSB8fCAvLyBsb2dcclxuICAgICAgICAgICAgKHNldmVyaXR5ID49IHNldmVyaXR5VGhyZXNob2xkICYmIHRoaXMubG9nTGV2ZWwgPCBzZXZlcml0eVRocmVzaG9sZClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgLy8gbm9ybWFsaXplIGxvZyBsZXZlbFxyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbExvZ0xldmVsID0gTG9nTGV2ZWxbc2V2ZXJpdHldO1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkTG9nTGV2ZWwgPVxyXG4gICAgICAgICAgICAgICAgc2V2ZXJpdHkgPT09IExvZ0xldmVsLmRlYnVnXHJcbiAgICAgICAgICAgICAgICAgICAgPyBMb2dMZXZlbFtMb2dMZXZlbC5pbmZvXSAvLyB1c2luZyBjb25zb2xlLmluZm8gZm9yIGRlYnVnIGxldmVsXHJcbiAgICAgICAgICAgICAgICAgICAgOiBvcmlnaW5hbExvZ0xldmVsO1xyXG5cclxuICAgICAgICAgICAgLy8gZ2V0IGZvcm1hdHRlZCBhcmdzIGFuZCByZXR1cm4gdGhlIGJvdW5kIGxvZyBmdW5jdGlvblxyXG4gICAgICAgICAgICBjb25zdCBsb2dBcmdzID0gdGhpcy5nZXRGb3JtYXR0ZWRMb2dBcmdzKGAgJWNbJHtvcmlnaW5hbExvZ0xldmVsfV1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnNvbGVbbm9ybWFsaXplZExvZ0xldmVsXS5iaW5kKHRoaXMuX2NvbnNvbGUsIGxvZ0FyZ3MudGV4dCwgbG9nQXJncy5jc3MsIHNldmVyaXR5IDw9IExvZ0xldmVsLmluZm8gPyBzZWxmTG9nc0NzcyA6IG5vQ3NzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBub29wTG9nZ2VyRm47XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRKc29uRnJvbUVycm9yKGVycjogRXJyb3IpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lOiBlcnIubmFtZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgICAgICAgIHN0YWNrOiBlcnIuc3RhY2ssXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGVycm9yUGFyc2VyKGRldGFpbHM6IHtba2V5OiBzdHJpbmddOiBhbnl9KSB7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gKGssIHYpID0+IHYgaW5zdGFuY2VvZiBFcnJvciA/IHRoaXMuZ2V0SnNvbkZyb21FcnJvcih2KSA6IHY7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGV0YWlscywgZm9ybWF0dGVyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBkZWJ1ZygpOiBJTG9nRnVuYyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nKExvZ0xldmVsLmRlYnVnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGluZm8oKTogSUxvZ0Z1bmMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvZyhMb2dMZXZlbC5pbmZvKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHdhcm4oKTogSUxvZ0Z1bmMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvZyhMb2dMZXZlbC53YXJuKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGVycm9yKCk6IElMb2dGdW5jIHtcclxuICAgICAgICByZXR1cm4gKG1lc3NhZ2U6IGFueSwgZGV0YWlscz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgaWYgKGRldGFpbHMgJiYgdHlwZW9mIGRldGFpbHMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICBkZXRhaWxzID0gdGhpcy5lcnJvclBhcnNlcihkZXRhaWxzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2coTG9nTGV2ZWwuZXJyb3IpLmFwcGx5KHRoaXMsIFttZXNzYWdlXS5jb25jYXQoW2RldGFpbHNdKSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVwb3J0KG1lc3NhZ2UsIGRldGFpbHMpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdyb3VwKGdyb3VwVGl0bGU6IHN0cmluZywgY29sbGFwc2VkOiBib29sZWFuID0gZGVmYXVsdEdyb3VwQmVoYXZpb3IgPT09IEdyb3VwQmVoYXZpb3IuY29sbGFwc2VkKTogSUdyb3VwQ2xvc2VyIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLmdldE5leHRDb2xvcigpO1xyXG4gICAgICAgICAgICBjb25zdCBncm91cExvZyA9ICguLi5hcmdzKSA9PiAoY29sbGFwc2VkID8gdGhpcy5fY29uc29sZS5ncm91cENvbGxhcHNlZCguLi5hcmdzKSA6IHRoaXMuX2NvbnNvbGUuZ3JvdXAoLi4uYXJncykpO1xyXG4gICAgICAgICAgICB0aGlzLl9ncm91cHNTdGFjay5wdXNoKHsgZ3JvdXBUaXRsZSwgY29sb3IgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvZ0FyZ3MgPSB0aGlzLmdldEZvcm1hdHRlZExvZ0FyZ3MoYCBbU1RBUlQgLSAke2dyb3VwVGl0bGV9XWApO1xyXG4gICAgICAgICAgICBncm91cExvZyhsb2dBcmdzLnRleHQsIGxvZ0FyZ3MuY3NzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZW5kOiAoKSA9PiB0aGlzLmdyb3VwRW5kKGdyb3VwVGl0bGUpLFxyXG4gICAgICAgICAgICBlbmRXaGVuOiAoZG9uZTogUHJvbWlzZTxhbnk+IHwgKCgpID0+IHZvaWQgfCBQcm9taXNlPGFueT4pKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRvbmUgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSBkb25lKCkgYXMgUHJvbWlzZTxhbnk+IHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkb25lICYmIGRvbmUudGhlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUudGhlbigoKSA9PiB0aGlzLmdyb3VwRW5kKGdyb3VwVGl0bGUpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc3luY1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBFbmQoZ3JvdXBUaXRsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ3JvdXBFbmQoZ3JvdXBUaXRsZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhbmdpbmdHcm91cHM6IElMb2dHcm91cFtdID0gW107XHJcbiAgICAgICAgICAgIGxldCBjdXJyR3JvdXAgPSB0aGlzLl9ncm91cHNTdGFjay5wb3AoKTsgLy8gZ2V0IHRoZSBjdXJyZW50IGFjdGl2ZSBncm91cFxyXG5cclxuICAgICAgICAgICAgLy8gd2hpbGUgdGhlIGN1cnJlbnQgZ3JvdXAgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSBvbmUgdGhhdCB3ZSB3YW50IHRvIGVuZCBhbmQgd2UgaGF2ZSBvdGhlciBncm91cHMgaW4gdGhlIHN0YWNrXHJcbiAgICAgICAgICAgIHdoaWxlIChjdXJyR3JvdXAuZ3JvdXBUaXRsZSAhPT0gZ3JvdXBUaXRsZSAmJiB0aGlzLl9ncm91cHNTdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGhhbmdpbmdHcm91cHMudW5zaGlmdChjdXJyR3JvdXApOyAvLyBbMV0gcHVzaCBpdCB0aGUgY3VycmVudCBncm91cCBpbnRvIHRoZSB0ZW1wICdoYW5naW5nIGdyb3Vwcycgc3RhY2tcclxuICAgICAgICAgICAgICAgIGN1cnJHcm91cCA9IHRoaXMuX2dyb3Vwc1N0YWNrLnBvcCgpOyAvLyBbMl0gZ2V0IHRoZSBuZXh0IGdyb3VwIGluIHN0YWNrXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25zb2xlLmdyb3VwRW5kKCk7IC8vIFszXSBncm91cEVuZCBmb3IgZWFjaCBncm91cCB0aGF0IGlzIG5vdCB0aGUgY3VycmVudCBncm91cFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBlbmQgdGhlIGdyb3VwXHJcbiAgICAgICAgICAgIHRoaXMuZW5kR3JvdXAoY3Vyckdyb3VwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlc3VtZSBjaGlsZCBncm91cHNcclxuICAgICAgICAgICAgaWYgKGhhbmdpbmdHcm91cHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3RvcmVIYW5naW5nR3JvdXBzKGhhbmdpbmdHcm91cHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbmFibGUobG9nTGV2ZWwgPSBMb2dMZXZlbC5pbmZvLCBjbGllbnRNdXRlTGV2ZWwgPSBDbGllbnRNdXRlTGV2ZWwubm9ybWFsLCBsb2dUaGVtZSA9IExvZ1RoZW1lLmRhcmspIHtcclxuICAgICAgICB0aGlzLnNldExvZ2dlckNvbmZpZ0Nvb2tpZSh7IGxvZ0xldmVsLCBjbGllbnRNdXRlTGV2ZWwsIGxvZ1RoZW1lIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0TG9nZ2VyQ29uZmlnQ29va2llKHtcclxuICAgICAgICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLmRpc2FibGVkLFxyXG4gICAgICAgICAgICBjbGllbnRNdXRlTGV2ZWw6IGRlZmF1bHRMb2dnZXJDb25maWcuY2xpZW50TXV0ZUxldmVsLFxyXG4gICAgICAgICAgICBsb2dUaGVtZTogZGVmYXVsdExvZ2dlckNvbmZpZy5sb2dUaGVtZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBCYXNlTG9nZ2VyLCBnaWdFcnJvclJlcG9ydCB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvYmFzZUxvZ2dlcic7XHJcbmltcG9ydCB7IEdpZ0dsb2JhbCB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvaW50ZXJmYWNlcyc7XHJcbmltcG9ydCB7IGdldFJlcVBhcmFtVmFsdWUgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc3RyaW5nUGFyYW1zJztcclxuXHJcbmV4cG9ydCBjbGFzcyBJRnJhbWVMb2dnZXIgZXh0ZW5kcyBCYXNlTG9nZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfZ2xvYmFsOiBHaWdHbG9iYWwgPSB3aW5kb3cpIHtcclxuICAgICAgICBzdXBlcihfZ2xvYmFsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVwb3J0KG1lc3NhZ2U6IHN0cmluZywgZGV0YWlsczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSwgaW5jbHVkZVN0YWNrOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIC8vIHNlbmQgdGhlIHJlcG9ydCBmcm9tIHRoZSB0b3AgZnJhbWVcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHRvcCBmcmFtZSBvcmlnaW5cclxuICAgICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgYS5ocmVmID0gZ2V0UmVxUGFyYW1WYWx1ZShsb2NhdGlvbi5oYXNoLCAnb3JpZ2luJykgfHwgZ2V0UmVxUGFyYW1WYWx1ZShsb2NhdGlvbi5oYXNoLCAnZCcpO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRPcmlnaW4gPSBgJHthLnByb3RvY29sfS8vJHthLmhvc3RuYW1lfSR7YS5wb3J0ID8gYDoke2EucG9ydH1gIDogJyd9YDtcclxuXHJcbiAgICAgICAgICAgIC8vIHBvc3QgbWVzc2FnZVxyXG4gICAgICAgICAgICB0aGlzLl9nbG9iYWwudG9wLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogZ2lnRXJyb3JSZXBvcnQsIG1lc3NhZ2UsIGRldGFpbHMsIGluY2x1ZGVTdGFjayB9KSwgdGFyZ2V0T3JpZ2luKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBpbnRlcmZhY2UgR2lnR2xvYmFsIHtcclxuICAgIGNvbnNvbGU6IENvbnNvbGU7XHJcbiAgICBQcm94eT86IGFueTtcclxuICAgIGFkZEV2ZW50TGlzdGVuZXI/OiBhbnk7XHJcbiAgICB0b3A/OiBhbnk7XHJcbn1cclxuZXhwb3J0IGVudW0gTG9nTGV2ZWwge1xyXG4gICAgZGlzYWJsZWQgPSAwLFxyXG4gICAgZGVidWcsXHJcbiAgICBpbmZvLFxyXG4gICAgd2FybixcclxuICAgIGVycm9yLFxyXG59XHJcbmV4cG9ydCBjb25zdCBlbnVtIENsaWVudE11dGVMZXZlbCB7XHJcbiAgICBub25lID0gMCxcclxuICAgIG5vcm1hbCxcclxuICAgIGFsbCxcclxufVxyXG5leHBvcnQgY29uc3QgZW51bSBMb2dUaGVtZSB7XHJcbiAgICBub25lID0gMCxcclxuICAgIGRhcmssXHJcbiAgICBsaWdodCxcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElMb2dnZXJDb25maWcge1xyXG4gICAgbG9nTGV2ZWw6IExvZ0xldmVsO1xyXG4gICAgY2xpZW50TXV0ZUxldmVsOiBDbGllbnRNdXRlTGV2ZWw7XHJcbiAgICBsb2dUaGVtZTogTG9nVGhlbWU7XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJTG9nR3JvdXAge1xyXG4gICAgZ3JvdXBUaXRsZTogc3RyaW5nO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElGb3JtYXR0ZWRMb2dBcmdzIHtcclxuICAgIHRleHQ6IHN0cmluZztcclxuICAgIGNzczogc3RyaW5nO1xyXG59XHJcbmV4cG9ydCBjb25zdCBlbnVtIEdyb3VwQmVoYXZpb3Ige1xyXG4gICAgZXhwYW5kZWQgPSAwLFxyXG4gICAgY29sbGFwc2VkLFxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSUdyb3VwQ2xvc2VyIHtcclxuICAgIGVuZCgpOiB2b2lkO1xyXG4gICAgZW5kV2hlbihkb25lV2hlbjogUHJvbWlzZTxhbnk+IHwgKCgpID0+IHZvaWQgfCBQcm9taXNlPGFueT4pKTogdm9pZDtcclxufVxyXG5leHBvcnQgdHlwZSBJTG9nRnVuYyA9IChtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KSA9PiB2b2lkO1xyXG5leHBvcnQgaW50ZXJmYWNlIElMb2dnZXIge1xyXG4gICAgZGlzYWJsZSgpOiB2b2lkO1xyXG4gICAgZW5hYmxlKGxvZ0xldmVsPzogTG9nTGV2ZWwsIGNsaWVudE11dGVMZXZlbD86IENsaWVudE11dGVMZXZlbCwgbG9nVGhlbWU/OiBMb2dUaGVtZSk6IHZvaWQ7XHJcbiAgICBncm91cChncm91cFRpdGxlOiBzdHJpbmcsIGNvbGxhcHNlZD86IGJvb2xlYW4pOiBJR3JvdXBDbG9zZXI7XHJcbiAgICBncm91cEVuZChncm91cFRpdGxlOiBzdHJpbmcpOiB2b2lkO1xyXG4gICAgZGVidWcobWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSk6IHZvaWQ7XHJcbiAgICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiB2b2lkO1xyXG4gICAgd2FybihtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KTogdm9pZDtcclxuICAgIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiB2b2lkO1xyXG4gICAgcmVwb3J0KG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscz86IHsgW2tleTogc3RyaW5nXTogYW55IH0sIGluY2x1ZGVTdGFjaz86IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgZ2V0Q29uZmlnKCk6IElMb2dnZXJDb25maWc7XHJcbiAgICBpc0VuYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBjb25maWdLZXk6IHN0cmluZztcclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gbG9nZ2VySnNvbnAoZW5kcG9pbnQ6IHN0cmluZywgcGFyYW1zOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gICAgc2NyaXB0LnNyYyA9IGAke2VuZHBvaW50fT8ke3BhcmFtc31gO1xyXG4gICAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcclxuXHJcbiAgICBzY3JpcHQub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0ucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcclxuICAgIH07XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG59XHJcbiIsImltcG9ydCB7IFBhcmVudExvZ2dlciB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvcGFyZW50TG9nZ2VyJztcclxuaW1wb3J0IHsgSUZyYW1lTG9nZ2VyIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9pRnJhbWVMb2dnZXInO1xyXG5cclxuaWYoIWdpZ3lhLmxvZ2dlcikge1xyXG4gICAgT2JqZWN0LmFzc2lnbihnaWd5YSwge2xvZ2dlcjogIHdpbmRvdyA9PT0gd2luZG93LnRvcCA/IG5ldyBQYXJlbnRMb2dnZXIoKSA6IG5ldyBJRnJhbWVMb2dnZXIoKX0pO1xyXG59XHJcbiIsImltcG9ydCB7IEJhc2VMb2dnZXIsIGdpZ0Vycm9yUmVwb3J0IH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9iYXNlTG9nZ2VyJztcclxuaW1wb3J0IHsgR2lnR2xvYmFsIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9pbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgbG9nZ2VySnNvbnAgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL2xvZ2dlckpzb25wJztcclxuaW1wb3J0IHsgZ2V0R2lneWFTY3JpcHRFbGVtZW50IH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2dpZ3lhU2NyaXB0RWwnO1xyXG5pbXBvcnQgKiBhcyBVUkxVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVVJMJztcclxuaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFyZW50TG9nZ2VyIGV4dGVuZHMgQmFzZUxvZ2dlciB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pc0Vycm9yUmVwb3J0ZXI6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9ndWlkOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJvdGVjdGVkIF9nbG9iYWw6IEdpZ0dsb2JhbCA9IHdpbmRvdyxcclxuICAgICAgICBwcml2YXRlIF9lcnJvclJlcG9ydENvbmZpZzogeyBlbmFibGVkOiBib29sZWFuOyBwcm9iYWJpbGl0eTogbnVtYmVyIH0gPSBnaWd5YS5lcnJvclJlcG9ydCxcclxuICAgICAgICBwcml2YXRlIF9jYW5hcnlDb25maWc6IHsgaXNBY3RpdmU6IGJvb2xlYW4gfSA9IGdpZ3lhLmNhbmFyeSxcclxuICAgICAgICBwcml2YXRlIF9yYW5kb20gPSAoKSA9PiBNYXRoLnJhbmRvbSgpICogMTAwLFxyXG4gICAgICAgIHByaXZhdGUgX2pzb25wID0gbG9nZ2VySnNvbnAsXHJcbiAgICApIHtcclxuICAgICAgICBzdXBlcihfZ2xvYmFsKTtcclxuXHJcbiAgICAgICAgY29uc3QgZXJyb3JSZXBvcnRFbmFibGVkID0gdGhpcy5fZXJyb3JSZXBvcnRDb25maWcgJiYgdGhpcy5fZXJyb3JSZXBvcnRDb25maWcuZW5hYmxlZDtcclxuICAgICAgICBjb25zdCBydW5uaW5nQXNDYW5hcnkgPSB0aGlzLl9jYW5hcnlDb25maWcgJiYgdGhpcy5fY2FuYXJ5Q29uZmlnLmlzQWN0aXZlO1xyXG4gICAgICAgIGNvbnN0IGVucm9sbGVkVG9SZXBvcnRFcnJvcnMgPSB0aGlzLmVucm9sbEVycm9yUmVwb3J0aW5nKCk7XHJcblxyXG4gICAgICAgIGlmIChlcnJvclJlcG9ydEVuYWJsZWQgJiYgKHJ1bm5pbmdBc0NhbmFyeSB8fCBlbnJvbGxlZFRvUmVwb3J0RXJyb3JzKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0Vycm9yUmVwb3J0ZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNldHVwTWVzc2FnZUxpc3RlbmVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2d1aWQgPSB0aGlzLmdlbmVyYXRlR1VJRCgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZW5yb2xsRXJyb3JSZXBvcnRpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl9lcnJvclJlcG9ydENvbmZpZyAmJiB0aGlzLl9lcnJvclJlcG9ydENvbmZpZy5wcm9iYWJpbGl0eSkgPj0gdGhpcy5fcmFuZG9tKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR1cE1lc3NhZ2VMaXN0ZW5lcigpIHtcclxuICAgICAgICBjb25zdCBlcnJvclJlcG9ydE1lc3NhZ2VMaXN0ZW5lciA9IGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGMgPSBnaWd5YS5kYXRhQ2VudGVyO1xyXG4gICAgICAgICAgICBjb25zdCBnaWd5YURvbWFpbiA9IGdpZ3lhLmRlZmF1bHRBcGlEb21haW4ucmVwbGFjZSgvXFwuL2csICcuJyk7IC8vIHJlcGxhY2UgYWxsICcuJyB3aXRoICdcXC4nXHJcbiAgICAgICAgICAgIGNvbnN0IGFsbG93ZWRPcmlnaW5SZWdleCA9IG5ldyBSZWdFeHAoYGNkbnM/XFwuJHtkY31cXC4ke2dpZ3lhRG9tYWlufSRgKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZXZlbnQub3JpZ2luLm1hdGNoKGFsbG93ZWRPcmlnaW5SZWdleCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gZ2lnRXJyb3JSZXBvcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydChkYXRhLm1lc3NhZ2UsIGRhdGEuZGV0YWlscywgZGF0YS5pbmNsdWRlU3RhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fSAvLyB1bmV4cGVjdGVkIGV2ZW50LmRhdGFcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLl9nbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGVycm9yUmVwb3J0TWVzc2FnZUxpc3RlbmVyLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRBcGlLZXkoKSB7XHJcbiAgICAgICAgbGV0IGFwaUtleSA9IGdpZ3lhWyd0aGlzU2NyaXB0J10gJiYgZ2lneWFbJ3RoaXNTY3JpcHQnXS5BUElLZXk7XHJcblxyXG4gICAgICAgIGlmICghYXBpS2V5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmlwdEVsZW1lbnQgPSBnZXRHaWd5YVNjcmlwdEVsZW1lbnQoKTtcclxuICAgICAgICAgICAgY29uc3QgVVJMUGFyYW1zID0gVVJMVXRpbHMuZ2V0UGFyYW1zRnJvbVVSTChzY3JpcHRFbGVtZW50ICYmIHNjcmlwdEVsZW1lbnQuc3JjLCB0cnVlKSB8fCB7fTtcclxuICAgICAgICAgICAgYXBpS2V5ID0gVVJMUGFyYW1zWydhcGlrZXknXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBhcGlLZXk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVSZXBvcnRQYXJhbXMobWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzOiBzdHJpbmcgfCB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge30sIGluY2x1ZGVTdGFjazogYm9vbGVhbiA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UsXHJcbiAgICAgICAgICAgIGFwaUtleTogdGhpcy5nZXRBcGlLZXkoKSxcclxuICAgICAgICAgICAgc3RhY2s6IGluY2x1ZGVTdGFjayA/IG5ldyBFcnJvcigpLnN0YWNrIDogJycsXHJcbiAgICAgICAgICAgIHBhZ2U6IGxvY2FsSW5mbyAmJiBsb2NhbEluZm8ucGFnZURvbWFpbixcclxuICAgICAgICAgICAgYnJvd3NlcjogbG9jYWxJbmZvICYmIGxvY2FsSW5mby5jdXJyZW50QnJvd3NlcixcclxuICAgICAgICAgICAgYnVpbGRWZXJzaW9uOiBnaWd5YS5idWlsZC52ZXJzaW9uLFxyXG4gICAgICAgICAgICBidWlsZE51bWJlcjogZ2lneWEuYnVpbGQubnVtYmVyLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogJ2dpZ3lhLmNhbGxiYWNrJyxcclxuICAgICAgICAgICAgZm9ybWF0OiAnanNvbnAnLFxyXG4gICAgICAgICAgICBzZGs6ICd3ZWInLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgZGV0YWlscyA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBkZXRhaWxzID0ge21lc3NhZ2U6IGRldGFpbHN9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGV0YWlsc1snZ3VpZCddID0gdGhpcy5fZ3VpZDtcclxuICAgICAgICBwYXJhbXNbJ2RldGFpbHMnXSA9IEpTT04uc3RyaW5naWZ5KGRldGFpbHMpO1xyXG5cclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMocGFyYW1zKVxyXG4gICAgICAgICAgICAubWFwKGsgPT4gYCR7a309JHtlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW2tdKX1gKVxyXG4gICAgICAgICAgICAuam9pbignJicpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXBvcnQobWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9LCBpbmNsdWRlU3RhY2s6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc0Vycm9yUmVwb3J0ZXIpIHtcclxuICAgICAgICAgICAgLy8gZG9uJ3QgY29udGludWUgaWYgd2UgZG9uJ3QgbmVlZCB0byByZXBvcnRcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVwb3J0UGFyYW1zID0gdGhpcy5jcmVhdGVSZXBvcnRQYXJhbXMobWVzc2FnZSwgZGV0YWlscywgaW5jbHVkZVN0YWNrKTtcclxuICAgICAgICAgICAgY29uc3Qgc2RrRXJyb3JSZXBvcnRFbmRwb2ludCA9IGAke2xvY2F0aW9uLnByb3RvY29sfS8vYWNjb3VudHMuJHtnaWd5YS5kYXRhQ2VudGVyfS4ke2dpZ3lhLmRlZmF1bHRBcGlEb21haW59L3Nkay5lcnJvclJlcG9ydGA7XHJcbiAgICAgICAgICAgIHRoaXMuX2pzb25wKHNka0Vycm9yUmVwb3J0RW5kcG9pbnQsIHJlcG9ydFBhcmFtcyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge31cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdlbmVyYXRlR1VJRCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHRyeSB7IC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwNTAzNC9jcmVhdGUtZ3VpZC11dWlkLWluLWphdmFzY3JpcHRcclxuICAgICAgICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsIHYgPSBjID09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBKU09OVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0pTT04nO1xyXG5pbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcclxuXHJcbi8vIEN1c3RvbSBwdWJsaWMgcHJvdG90eXBlcyAoRnJpZW5kcywgVXNlckFjdGlvbiwgZXRjKVxyXG5cclxudmFyIGRlZmF1bHRPYmplY3RzID0ge307XHJcbnZhciBkZWZhdWx0T2JqZWN0c0RlZiA9IHtcclxuICAgIC8vbmFtZXxkZWZhdWx0VmFsdWUuIGlmIGRlZmF1bHQgbm90IHNwZWNpZmllZCB1c2UgZW1wdHkgc3RyaW5nXHJcbiAgICBVc2VyOlxyXG4gICAgICAgICdwZXJzb253aXRodWlkK2lzTG9nZ2VkSW58ZmFsc2UsaXNDb25uZWN0ZWR8ZmFsc2UsaXNTaXRlVXNlcnxmYWxzZSxpZGVudGl0aWVzfHt9LHByb3ZpZGVyc3xbXSx0aW1lc3RhbXAsVUlEU2lnLFVJRFNpZ25hdHVyZSxzaWduYXR1cmVUaW1lc3RhbXAsbG9naW5Qcm92aWRlcixsb2dpblByb3ZpZGVyVUlELGNhcGFiaWxpdGllc3x7fScsXHJcbiAgICBGcmllbmQ6ICdwZXJzb253aXRodWlkK3RpbWVzdGFtcCxmcmllbmRzaGlwU2lnLGZyaWVuZHNoaXBTaWduYXR1cmUsc2lnbmF0dXJlVGltZXN0YW1wLHRpbWVzdGFtcCxpc1NpdGVVc2VyfGZhbHNlLGlkZW50aXRpZXN8e30nLFxyXG4gICAgSWRlbnRpdHk6ICdwZXJzb24raXNFeHBpcmVkU2Vzc2lvbnxmYWxzZSxhbGxvd3NMb2dpbnxmYWxzZSxwcm92aWRlclVJRCxwcm92aWRlcixpc0xvZ2luSWRlbnRpdHl8ZmFsc2UsbWlzc2luZ1Blcm1pc3Npb25zJyxcclxuICAgIENvbnRhY3Q6ICdwcm92aWRlcixmaXJzdE5hbWUsbGFzdE5hbWUsbmlja25hbWUsZW1haWwscGhvdG9VUkwnLFxyXG4gICAgcGVyc29uOlxyXG4gICAgICAgICduaWNrbmFtZSxwaG90b1VSTCx0aHVtYm5haWxVUkwsYmlydGhEYXl8MCxiaXJ0aE1vbnRofDAsYmlydGhZZWFyfDAsZ2VuZGVyLGVtYWlsLHByb3hpZWRFbWFpbCxjb3VudHJ5LHN0YXRlLGNpdHksemlwLGZpcnN0TmFtZSxsYXN0TmFtZSxwcm9maWxlVVJMLGFnZXwwJyxcclxuICAgIHBlcnNvbndpdGh1aWQ6ICdwZXJzb24rVUlELGlzU2l0ZVVJRHxmYWxzZScsXHJcbiAgICBVc2VyQWN0aW9uOlxyXG4gICAgICAgICdhY3RvclVJRCxhY3Rvck5pY2tuYW1lLGFjdGlvbk5hbWUsZGF0ZXxuZXcgRGF0ZSgpLHRhcmdldHN8W10saW1hZ2VzfFtdLGFjdGlvbkRhdGExLGFjdGlvbkRhdGEyLGljb25VUkwsdGl0bGUsbGlua0JhY2ssdXNlck1lc3NhZ2UsZGVzY3JpcHRpb24sYWN0aW9uTGlua3N8W10sbWVkaWFJdGVtc3xbXSxzdWJ0aXRsZScsXHJcbn07XHJcbnZhciBjcmVhdGVEZWZhdWx0T2JqZWN0ID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgdmFyIG8gPSB7fTtcclxuICAgIHZhciBvYmplY3REZWYgPSBkZWZhdWx0T2JqZWN0c0RlZlt0eXBlXTtcclxuICAgIGlmIChvYmplY3REZWYuaW5kZXhPZignKycpICE9IC0xKSB7XHJcbiAgICAgICAgbyA9IGNyZWF0ZURlZmF1bHRPYmplY3Qob2JqZWN0RGVmLnNwbGl0KCcrJylbMF0pO1xyXG4gICAgICAgIG9iamVjdERlZiA9IG9iamVjdERlZi5zcGxpdCgnKycpWzFdO1xyXG4gICAgfVxyXG4gICAgdmFyIGFyRmllbGRzID0gb2JqZWN0RGVmLnNwbGl0KCcsJyk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhckZpZWxkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBkZWZhdWx0VmFsdWU6IGFueSA9ICcnO1xyXG4gICAgICAgIHZhciBhckZpZWxkID0gYXJGaWVsZHNbaV0uc3BsaXQoJ3wnKTtcclxuICAgICAgICBpZiAoYXJGaWVsZC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBKU09OVXRpbHMuZGVzZXJpYWxpemUoYXJGaWVsZFsxXSwgJycpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChleCkge31cclxuICAgICAgICB9XHJcbiAgICAgICAgb1thckZpZWxkWzBdXSA9IGRlZmF1bHRWYWx1ZSB8fCAnJztcclxuICAgIH1cclxuICAgIHJldHVybiBvO1xyXG59O1xyXG52YXIgX2NyZWF0ZUNvbnN0cnVjdG9yID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG8pIHtcclxuICAgICAgICB2YXIgZGVmYXVsdE9iamVjdCA9IGRlZmF1bHRPYmplY3RzW25hbWVdO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gZGVmYXVsdE9iamVjdCkge1xyXG4gICAgICAgICAgICB0aGlzW3BdID0gb2JqZWN0VXRpbHMuY2xvbmUoZGVmYXVsdE9iamVjdFtwXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgbyA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIG8pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb1twXSAhPSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1twXSA9IG9iamVjdFV0aWxzLmNsb25lKG9bcF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufTtcclxuZm9yICh2YXIgZGVmIGluIGRlZmF1bHRPYmplY3RzRGVmKSB7XHJcbiAgICBkZWZhdWx0T2JqZWN0c1tkZWZdID0gY3JlYXRlRGVmYXVsdE9iamVjdChkZWYpO1xyXG4gICAgZ2lneWEuc29jaWFsaXplW2RlZl0gPSBfY3JlYXRlQ29uc3RydWN0b3IoZGVmKTtcclxufVxyXG5cclxuZ2lneWEuc29jaWFsaXplLkNvbGxlY3Rpb24gPSBmdW5jdGlvbihhcnIsIGspIHtcclxuICAgIHRoaXMuYXJyID0gYXJyO1xyXG4gICAgdGhpcy5fa2V5ID0gayA/IGsgOiAnJztcclxufTtcclxuZ2lneWEuc29jaWFsaXplLkNvbGxlY3Rpb24ucHJvdG90eXBlID0ge1xyXG4gICAgYXNBcnJheTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyO1xyXG4gICAgfSxcclxuICAgIGVhY2g6IGZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgdmFyIGVsID0gdGhpcy5hcnJbaV07XHJcbiAgICAgICAgd2hpbGUgKGVsKSB7XHJcbiAgICAgICAgICAgIGYoZWwsIGkpO1xyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIGVsID0gdGhpcy5hcnJbaV07XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGdldEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9oYXNoID09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkSGFzaCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHRoaXMuX2hhc2ggPyB0aGlzLl9oYXNoIDogdGhpcy5hcnIpW2lkXTtcclxuICAgIH0sXHJcbiAgICBnZXRTaXplOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hcnIubGVuZ3RoO1xyXG4gICAgfSxcclxuICAgIF9idWlsZEhhc2g6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoID0gKHRoaXMuX2hhc2ggPSB7fSk7XHJcbiAgICAgICAgdmFyIGsgPSB0aGlzLl9rZXk7XHJcbiAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKG8sIGkpIHtcclxuICAgICAgICAgICAgaFt0eXBlb2Ygb1trXSA9PSAnZnVuY3Rpb24nID8gb1trXSgpIDogb1trXV0gPSBvO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxufTtcclxuZ2lneWEuc29jaWFsaXplLlVzZXJBY3Rpb24ucHJvdG90eXBlID0ge1xyXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgZ2lneWEuc29jaWFsaXplLlVzZXJBY3Rpb24oZ2lneWEudXRpbHMub2JqZWN0LmNsb25lKHRoaXMsIHRydWUsIHRydWUpKTtcclxuICAgIH0sXHJcbiAgICBnZXRUZW1wbGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGl0bGVUZW1wbGF0ZTtcclxuICAgIH0sXHJcbiAgICBzZXRUZW1wbGF0ZTogZnVuY3Rpb24oYSkge1xyXG4gICAgICAgIHRoaXMudGl0bGVUZW1wbGF0ZSA9IGE7XHJcbiAgICB9LFxyXG4gICAgZ2V0QWN0b3I6IGZ1bmN0aW9uKGEpIHtcclxuICAgICAgICByZXR1cm4geyBVSUQ6IHRoaXMuYWN0b3JVSUQsIG5pY2tuYW1lOiB0aGlzLmFjdG9yTmlja25hbWUgfTtcclxuICAgIH0sXHJcbiAgICBzZXRBY3Rpb25OYW1lOiBmdW5jdGlvbihhKSB7XHJcbiAgICAgICAgdGhpcy5hY3Rpb25OYW1lID0gYTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcbiAgICBnZXRBY3Rpb25OYW1lOiBmdW5jdGlvbihhKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uTmFtZTtcclxuICAgIH0sXHJcbiAgICBnZXRUZW1wbGF0ZUZpZWxkczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGZpZWxkc0FycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgZm4gaW4gdGhpcy50ZW1wbGF0ZUZpZWxkcykge1xyXG4gICAgICAgICAgICBmaWVsZHNBcnJheS5wdXNoKHRoaXMudGVtcGxhdGVGaWVsZHNbZm5dKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBnaWd5YS5zb2NpYWxpemUuQ29sbGVjdGlvbihmaWVsZHNBcnJheSwgJ2ZpZWxkTmFtZScpO1xyXG4gICAgfSxcclxuICAgIHNldFRlbXBsYXRlRmllbGQ6IGZ1bmN0aW9uKG4sIHQsIGgpIHtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRmllbGRzW25dID0geyBmaWVsZE5hbWU6IG4sIHRleHQ6IHQsIGhyZWY6IGggfTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcbiAgICBnZXRUZW1wbGF0ZUZpZWxkOiBmdW5jdGlvbihuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVGaWVsZHNbbl0gPyB0aGlzLnRlbXBsYXRlRmllbGRzW25dIDogbnVsbDtcclxuICAgIH0sXHJcbiAgICBhZGRUYXJnZXQ6IGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHQgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXRzLnB1c2goeyBVSUQ6IHQuVUlELCBuaWNrbmFtZTogdC5uaWNrbmFtZSA/IHQubmlja25hbWUgOiAnJyB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdCA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldHMucHVzaCh7IFVJRDogdCwgbmlja25hbWU6ICcnIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgYWRkQWN0aW9uTGluazogZnVuY3Rpb24odGl0bGUsIGhyZWYpIHtcclxuICAgICAgICB0aGlzLmFjdGlvbkxpbmtzLnB1c2goeyB0ZXh0OiB0aXRsZSwgaHJlZjogaHJlZiA/IGhyZWYgOiAnJyB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcbiAgICBhZGRNZWRpYUl0ZW06IGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgIHRoaXMubWVkaWFJdGVtcy5wdXNoKG9iaik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9LFxyXG4gICAgc2V0VGl0bGU6IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgICAgICBpZiAodGV4dCkgdGhpcy50aXRsZSA9IHRleHQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9LFxyXG4gICAgc2V0TGlua0JhY2s6IGZ1bmN0aW9uKGhyZWYpIHtcclxuICAgICAgICBpZiAoaHJlZiAmJiBocmVmLnRvU3RyaW5nKSBocmVmID0gaHJlZi50b1N0cmluZygpO1xyXG4gICAgICAgIGlmIChocmVmKSB0aGlzLmxpbmtCYWNrID0gaHJlZjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcbiAgICBzZXRVc2VyTWVzc2FnZTogZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICAgIHRoaXMudXNlck1lc3NhZ2UgPSB0ZXh0ID8gdGV4dCA6ICcnO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxuICAgIHNldERlc2NyaXB0aW9uOiBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IHRleHQgPyB0ZXh0IDogJyc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9LFxyXG4gICAgYWRkSW1hZ2U6IGZ1bmN0aW9uKHMsIGgpIHtcclxuICAgICAgICB0aGlzLmFkZE1lZGlhSXRlbSh7IHR5cGU6ICdpbWFnZScsIHNyYzogcywgaHJlZjogaCB9KTtcclxuICAgIH0sXHJcbiAgICBnZXRJbWFnZXM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgZ2lneWEuc29jaWFsaXplLkNvbGxlY3Rpb24odGhpcy5pbWFnZXMsICcnKTtcclxuICAgIH0sXHJcbiAgICBnZXRUYXJnZXRzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IGdpZ3lhLnNvY2lhbGl6ZS5Db2xsZWN0aW9uKHRoaXMudGFyZ2V0cywgJ1VJRCcpO1xyXG4gICAgfSxcclxuICAgIHNldEljb25VUkw6IGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICAgIHRoaXMuaWNvblVSTCA9IHVybDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcbiAgICBnZXRJY29uVVJMOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pY29uVVJMO1xyXG4gICAgfSxcclxuICAgIGdldERhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGU7XHJcbiAgICB9LFxyXG4gICAgc2V0QWN0aW9uRGF0YTE6IGZ1bmN0aW9uKGFkKSB7XHJcbiAgICAgICAgdGhpcy5hY3Rpb25EYXRhMSA9IGFkO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXRBY3Rpb25EYXRhMTogZnVuY3Rpb24oYWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb25EYXRhMTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0QWN0aW9uRGF0YTI6IGZ1bmN0aW9uKGFkKSB7XHJcbiAgICAgICAgdGhpcy5hY3Rpb25EYXRhMiA9IGFkO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXRBY3Rpb25EYXRhMjogZnVuY3Rpb24oYWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb25EYXRhMjtcclxuICAgIH0sXHJcbiAgICBzZXRTdWJ0aXRsZTogZnVuY3Rpb24ocykge1xyXG4gICAgICAgIHRoaXMuc3VidGl0bGUgPSBzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxuICAgIGdldFN1YnRpdGxlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdWJ0aXRsZTtcclxuICAgIH0sXHJcbn07XHJcbiIsImltcG9ydCAqIGFzIGFycmF5VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2FycmF5JztcclxuaW1wb3J0ICogYXMgZnVuY3Rpb25zVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Z1bmN0aW9ucyc7XHJcblxyXG4vLyBQcm92aWRlcnMgZW51bVxyXG5cclxuZXhwb3J0IHZhciBfYWxpYXNlcyA9IHt9O1xyXG5leHBvcnQgY2xhc3MgUHJvdmlkZXIge1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyBhckRlZmF1bHRDYXBhYmlsaXRpZXM6IHN0cmluZ1tdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyBJRDogbnVtYmVyLFxyXG4gICAgICAgIHB1YmxpYyBkaXNwbGF5TmFtZTogc3RyaW5nLFxyXG4gICAgICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyLFxyXG4gICAgICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcixcclxuICAgICAgICBkZWZhdWx0Q2FwYWJpbGl0aWVzOiBzdHJpbmcsXHJcbiAgICAgICAgcHVibGljIGV4cGxpY2l0T25seT86IGJvb2xlYW4sXHJcbiAgICAgICAgcHVibGljIGFsaWFzZXM/OiBzdHJpbmcsXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLmFyRGVmYXVsdENhcGFiaWxpdGllcyA9IGRlZmF1bHRDYXBhYmlsaXRpZXMuc3BsaXQoJywnKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBkaXNwbGF5TmFtZVxyXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICAuc3BsaXQoJyAnKVxyXG4gICAgICAgICAgICAuam9pbignJylcclxuICAgICAgICAgICAgLnNwbGl0KCchJylcclxuICAgICAgICAgICAgLmpvaW4oJycpXHJcbiAgICAgICAgICAgIC5zcGxpdCgnLicpXHJcbiAgICAgICAgICAgIC5qb2luKCcnKVxyXG4gICAgICAgICAgICAuc3BsaXQoJysnKVxyXG4gICAgICAgICAgICAuam9pbigncGx1cycpO1xyXG4gICAgICAgIGlmIChhbGlhc2VzKSB7XHJcbiAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBhbGlhc2VzIG1hcFxyXG4gICAgICAgICAgICBpZiAoIV9hbGlhc2VzKSB7XHJcbiAgICAgICAgICAgICAgICBfYWxpYXNlcyA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBNYXBwaW5nIHRoZSBhbGlhc2VzOiBBbGlhcyAtPiBSZWFsIG5hbWUgKGluIG9yZGVyIHRvIG1ha2UgdGhlIHNlYXJjaCBmb3IgYWxpYXNlcyBtb3JlIGVmZmVjdGl2ZSlcclxuICAgICAgICAgICAgdmFyIGFyQWxpYXNlcyA9IGFsaWFzZXMuc3BsaXQoJ3wnKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhckFsaWFzZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIF9hbGlhc2VzW2FyQWxpYXNlc1tpXV0gPSB0aGlzLm5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5uYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ21lc3Nlbmdlcic6XHJcbiAgICAgICAgICAgICAgICAvLyBSZWJyYW5kaW5nIC0gaXNzdWUgIzIyNDExLlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5TmFtZSA9ICdNaWNyb3NvZnQnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdnb29nbGVwbHVzJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU5hbWUgPSAnR29vZ2xlJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnY3VzdG9tb3BlbmlkJzpcclxuICAgICAgICAgICAgICAgIC8vIEN1c3RvbSBPcGVuIElEIGlzIGEgZGlmZmVyZW50IG5ldHdvcmsgb24gdGhlIHNlcnZlciBidXQgc2hvdWxkIGJlaGF2ZSB0aGUgc2FtZSBpbiBtb3N0IG9mIG91ciBwbHVnaW5zLlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5TmFtZSA9ICdPcGVuSUQnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdwYXlwYWxvYXV0aCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlOYW1lID0gJ1BheVBhbCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIC8vIE5vIG92ZXJyaWRlLlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB2YXIgYXJQcm92aWRlcnMgPSBbXHJcbiAgICBuZXcgUHJvdmlkZXIoNjQsICdGYWNlYm9vaycsIDY1MCwgNDAwLCAnbG9naW4sZnJpZW5kcyxwbGFjZXMsc3RhdHVzLGFjdGlvbnMscGhvdG9zJyksXHJcbiAgICBuZXcgUHJvdmlkZXIoOTAxMiwgJ1R3aXR0ZXInLCA4MDAsIDQ0MCwgJ2xvZ2luLGZyaWVuZHMsbm90aWZpY2F0aW9ucyxhY3Rpb25zLHN0YXR1cyxwbGFjZXMsY2hlY2tpbnMnKSxcclxuICAgIG5ldyBQcm92aWRlcig3MiwgJ0dvb2dsZSsnLCA1NjAsIDYwMCwgJ2xvZ2luLGNvbnRhY3RzJywgZmFsc2UsICdnb29nbGV8Z29vZ2xlcGx1cycpLFxyXG4gICAgbmV3IFByb3ZpZGVyKDkwNDIsICdMaW5rZWRJbicsIDg2NSwgNDUwLCAnbG9naW4sZnJpZW5kcyxzdGF0dXMsYWN0aW9ucyxub3RpZmljYXRpb25zLGNvbnRhY3RzJyksIC8vIFNpemUgYmFzZWQgb24gYnVnIzEwNjc4LlxyXG4gICAgbmV3IFByb3ZpZGVyKDkwNTgsICdBbWF6b24nLCA3ODUsIDUxMCwgJ2xvZ2luJyksXHJcbiAgICBuZXcgUHJvdmlkZXIoOTgwMywgJ1lhaG9vJywgNTAwLCA1NjcsICdsb2dpbixmcmllbmRzLGNvbnRhY3RzLG5vdGlmaWNhdGlvbnMnKSwgLy8gU2l6ZSBiYXNlZCBvbiBidWcjMTA2NzYuXHJcbiAgICBuZXcgUHJvdmlkZXIoMTA0NywgJ01lc3NlbmdlcicsIDM4MCwgNTQwLCAnbG9naW4sIGZyaWVuZHMnLCBmYWxzZSwgJ21lc3NlbmdlcnxtaWNyb3NvZnQnKSxcclxuXHJcbiAgICBuZXcgUHJvdmlkZXIoOTgzMiwgJ0luc3RhZ3JhbScsIDQ0MCwgNDIwLCAnbG9naW4scGhvdG9zJyksXHJcbiAgICBuZXcgUHJvdmlkZXIoOTIyMiwgJ09kbm9rbGFzc25pa2knLCA4ODgsIDQyNSwgJ2xvZ2luJyksXHJcblxyXG4gICAgbmV3IFByb3ZpZGVyKDkwMDcsICdGb3VyU3F1YXJlJywgMTAwMCwgNjUwLCAnbG9naW4sZnJpZW5kcyxwbGFjZXMsY2hlY2tpbnMnKSxcclxuICAgIG5ldyBQcm92aWRlcig4MTkxLCAnUmVucmVuJywgNDUwLCAzNTAsICdsb2dpbixmcmllbmRzLHN0YXR1cyxhY3Rpb25zJyksXHJcbiAgICBuZXcgUHJvdmlkZXIoODIwMywgJ1FRJywgNTcwLCA0NjAsICdsb2dpbixhY3Rpb25zJyksXHJcbiAgICBuZXcgUHJvdmlkZXIoOTgyMSwgJ1NpbmEnLCA2NDAsIDM4MCwgJ2xvZ2luLHN0YXR1cyxhY3Rpb25zJyksXHJcbiAgICBuZXcgUHJvdmlkZXIoNDIyOCwgJ01peGknLCAxMDAwLCA3MjAsICdsb2dpbixmcmllbmRzLGFjdGlvbnMscGhvdG9zJywgdHJ1ZSksXHJcbiAgICBuZXcgUHJvdmlkZXIoOTgzMCwgJ1lhaG9vISBKQVBBTicsIDk4MCwgNzAwLCAnbG9naW4nLCB0cnVlKSxcclxuICAgIG5ldyBQcm92aWRlcig4MjA1LCAnU3BpY2V3b3JrcycsIDY0MCwgMzgwLCAnbG9naW4nLCB0cnVlKSxcclxuXHJcbiAgICBuZXcgUHJvdmlkZXIoOTA0MSwgJ1ZLb250YWt0ZScsIDYxMCwgNTEwLCAnbG9naW4sZnJpZW5kcyxwaG90b3Msc3RhdHVzLGFjdGlvbnMnKSxcclxuXHJcbiAgICBuZXcgUHJvdmlkZXIoOTgwMCwgJ0FPTCcsIDUzMCwgNzIwLCAnbG9naW4nKSxcclxuICAgIG5ldyBQcm92aWRlcig0MDk2LCAnV29yZFByZXNzJywgNzAwLCA1NDAsICdsb2dpbicpLFxyXG4gICAgbmV3IFByb3ZpZGVyKDI1NiwgJ0Jsb2dnZXInLCA3NjAsIDQwMCwgJ2xvZ2luJyksXHJcblxyXG4gICAgbmV3IFByb3ZpZGVyKDQyMTgsICdOZXRsb2cnLCA3MzAsIDU5MCwgJ2xvZ2luJywgdHJ1ZSksXHJcbiAgICBuZXcgUHJvdmlkZXIoNDIyNCwgJ09yYW5nZSBGcmFuY2UnLCA3MzAsIDU5MCwgJ2xvZ2luJywgdHJ1ZSksXHJcblxyXG4gICAgbmV3IFByb3ZpZGVyKDUwMDIsICdMaXZlZG9vcicsIDk3MCwgNzAwLCAnbG9naW4nLCB0cnVlKSxcclxuXHJcbiAgICBuZXcgUHJvdmlkZXIoNTAwNCwgJ0ZveCBOZXdzJywgNzMwLCA1OTAsICdsb2dpbicsIHRydWUpLFxyXG4gICAgbmV3IFByb3ZpZGVyKDEwNTEsICdQYXlQYWwnLCA0MDAsIDU1MCwgJ2xvZ2luJywgdHJ1ZSksXHJcbiAgICBuZXcgUHJvdmlkZXIoOTIxOSwgJ1hpbmcnLCA3ODUsIDUxMCwgJ2xvZ2luLGZyaWVuZHMnLCB0cnVlKSxcclxuXHJcbiAgICBuZXcgUHJvdmlkZXIoODIwNiwgJ1dlQ2hhdCcsIDczMCwgNTkwLCAnbG9naW4nLCBmYWxzZSwgJ3dlY2hhdHx3ZWl4aW4nKSxcclxuXHJcbiAgICBuZXcgUHJvdmlkZXIoNDEyMSwgJ0N1c3RvbSBPcGVuSUQnLCA3MzAsIDU5MCwgJ2xvZ2luJywgdHJ1ZSksIC8vIGtlZXBpbmcgdGhpcyBkZXByZWNhdGVkIHByb3ZpZGVyIGluIG9yZGVyIHRvIGNvbnRpbnVlIHN1cHBvcnQgXCJldmVudG9ubHlcIiB0eXBlXHJcbiAgICBuZXcgUHJvdmlkZXIoNDEyMiwgJ0N1c3RvbSBTQU1MJywgNzMwLCA1OTAsICdsb2dpbicsIHRydWUpLFxyXG4gICAgbmV3IFByb3ZpZGVyKDEwMDAxLCAnT3BlbklEIENvbm5lY3QnLCA3MzAsIDU5MCwgJ2xvZ2luJywgdHJ1ZSksXHJcbiAgICBuZXcgUHJvdmlkZXIoNjAwMiwgJ1NpdGUnLCA3MzAsIDU5MCwgJycsIHRydWUpLFxyXG4gICAgbmV3IFByb3ZpZGVyKDEwNTIsICdQYXlQYWxPQXV0aCcsIDczMCwgNTkwLCAnbG9naW4nLCB0cnVlKSxcclxuICAgIG5ldyBQcm92aWRlcig4MjA3LCAnTGluZScsIDczMCwgNTkwLCAnbG9naW4nKSxcclxuICAgIG5ldyBQcm92aWRlcigyMDAwMSwgJ0tha2FvJywgNTAwLCA2MDAsICdsb2dpbicsIHRydWUpLFxyXG4gICAgbmV3IFByb3ZpZGVyKDIwMDAyLCAnTmF2ZXInLCA3ODAsIDU1NSwgJ2xvZ2luJywgdHJ1ZSksXHJcbiAgICBuZXcgUHJvdmlkZXIoMjAwMDMsICdEb2NDaGVjaycsIDg3NCwgODQ0LCAnbG9naW4nLCB0cnVlKSxcclxuICAgIG5ldyBQcm92aWRlcigyMDAwNCwgJ0FwcGxlJywgODc0LCA4NDQsICdsb2dpbicsIHRydWUpXHJcbl07XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm92aWRlckJ5TmFtZShwcm92aWRlciwgcHJvdmlkZXJzRW51bTogUHJvdmlkZXJbXSA9IGFyUHJvdmlkZXJzKTogUHJvdmlkZXIge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm92aWRlcnNFbnVtLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVyc0VudW1baV0ubmFtZS50b0xvd2VyQ2FzZSgpID09PSBwcm92aWRlci50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlcnNFbnVtW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZVByb3ZpZGVyQWxpYXNlcyhwcm92aWRlcnM6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAocHJvdmlkZXJzID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGFyclByb3ZpZGVycyA9IHByb3ZpZGVycy5zcGxpdCgnLCcpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyUHJvdmlkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGN1cnJQcm92aWRlciA9IGFyclByb3ZpZGVyc1tpXS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XHJcblxyXG4gICAgICAgIGlmIChfYWxpYXNlc1tjdXJyUHJvdmlkZXJdKSB7XHJcbiAgICAgICAgICAgIGFyclByb3ZpZGVyc1tpXSA9IF9hbGlhc2VzW2N1cnJQcm92aWRlcl07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnJQcm92aWRlcnMuam9pbignLCcpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm92aWRlckJ5SWQocHJvdmlkZXJJRCwgcHJvdmlkZXJzRW51bTogUHJvdmlkZXJbXSA9IGFyUHJvdmlkZXJzKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3ZpZGVyc0VudW0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAocHJvdmlkZXJzRW51bVtpXS5JRCA9PT0gcHJvdmlkZXJJRCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvdmlkZXJzRW51bVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVQcm92aWRlcnNCeU5hbWUocHJvdmlkZXJzOiBQcm92aWRlcltdLCBwcm92aWRlcnNUb0hpZGU6IHN0cmluZyA9ICcnLCBwcm92aWRlcnNFbnVtOiBQcm92aWRlcltdID0gYXJQcm92aWRlcnMpIHtcclxuICAgIHByb3ZpZGVyc1RvSGlkZSA9IHByb3ZpZGVyc1RvSGlkZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgdmFyIGFyUHJvdmlkZXJzVG9IaWRlID0gcHJvdmlkZXJzVG9IaWRlXHJcbiAgICAgICAgLnNwbGl0KCcgJylcclxuICAgICAgICAuam9pbignJylcclxuICAgICAgICAuc3BsaXQoJy4nKVxyXG4gICAgICAgIC5qb2luKCcnKVxyXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgLnNwbGl0KCcsJyk7XHJcbiAgICBhclByb3ZpZGVyc1RvSGlkZSA9IHJlcGxhY2VXaWxkY2FyZChhclByb3ZpZGVyc1RvSGlkZSwgcHJvdmlkZXJzRW51bSk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyUHJvdmlkZXJzVG9IaWRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgdSA9IDA7IHUgPCBwcm92aWRlcnMubGVuZ3RoOyB1KyspIHtcclxuICAgICAgICAgICAgdmFyIHByb3ZpZGVyID0gcHJvdmlkZXJzW3VdO1xyXG4gICAgICAgICAgICB2YXIgc1Byb3ZpZGVyID0gcHJvdmlkZXIubmFtZSB8fCBwcm92aWRlci50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBpZiAoc1Byb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICBzUHJvdmlkZXIgPSBzUHJvdmlkZXIudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc1Byb3ZpZGVyID09PSBhclByb3ZpZGVyc1RvSGlkZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJzLnNwbGljZSh1LCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwcm92aWRlcnM7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0ZvclJlcXVpcmVkQ2FwYWJpbGl0aWVzKHByb3ZpZGVycywgY2FwYWJpbGl0aWVzKSB7XHJcbiAgICBpZiAoY2FwYWJpbGl0aWVzID09IG51bGwpIHtcclxuICAgICAgICBjYXBhYmlsaXRpZXMgPSBbXTtcclxuICAgIH1cclxuICAgIHZhciBhclByb3ZpZGVyc1Jlc3VsdCA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgcHJvdmlkZXIgPSBwcm92aWRlcnNbaV07XHJcbiAgICAgICAgdmFyIHZhbGlkTmV0ID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKHZhciB1ID0gMDsgdSA8IGNhcGFiaWxpdGllcy5sZW5ndGg7IHUrKykge1xyXG4gICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBwcm92aWRlci5hckRlZmF1bHRDYXBhYmlsaXRpZXMubGVuZ3RoOyBhKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm92aWRlci5hckRlZmF1bHRDYXBhYmlsaXRpZXNbYV0udG9Mb3dlckNhc2UoKSA9PSBjYXBhYmlsaXRpZXNbdV0udG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZE5ldCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbGlkTmV0KSB7XHJcbiAgICAgICAgICAgIGFyUHJvdmlkZXJzUmVzdWx0LnB1c2gocHJvdmlkZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBhclByb3ZpZGVyc1Jlc3VsdDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsUHJvdmlkZXJzKCkge1xyXG4gICAgcmV0dXJuIGFyUHJvdmlkZXJzLmNvbmNhdCgpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm92aWRlcnNCeU5hbWUocHJvdmlkZXJzOiBzdHJpbmcsIHByb3ZpZGVyc0VudW06IFByb3ZpZGVyW10gPSBhclByb3ZpZGVycykge1xyXG4gICAgLy8gQ2FzdGluZyBwcm92aWRlcnMgdG8gc3RyaW5nIHRvIG92ZXJjb21lIGJ1ZyAjMTAzOTIuXHJcbiAgICBwcm92aWRlcnMgPSAoJycgKyBwcm92aWRlcnMpXHJcbiAgICAgICAgLnNwbGl0KCcgJylcclxuICAgICAgICAuam9pbignJylcclxuICAgICAgICAuc3BsaXQoJy4nKVxyXG4gICAgICAgIC5qb2luKCcnKVxyXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgcHJvdmlkZXJzID0gcmVwbGFjZVByb3ZpZGVyQWxpYXNlcyhwcm92aWRlcnMpO1xyXG4gICAgdmFyIGFyQWxsUHJvdmlkZXJzID0gKCcnICsgcHJvdmlkZXJzKS5zcGxpdCgnLCcpO1xyXG4gICAgYXJBbGxQcm92aWRlcnMgPSByZXBsYWNlV2lsZGNhcmQoYXJBbGxQcm92aWRlcnMsIHByb3ZpZGVyc0VudW0pO1xyXG4gICAgdmFyIGFyUHJvdmlkZXJzUmVzdWx0ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyQWxsUHJvdmlkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHByb3ZpZGVyT2JqZWN0ID0gZ2V0UHJvdmlkZXJCeU5hbWUoYXJBbGxQcm92aWRlcnNbaV0sIHByb3ZpZGVyc0VudW0pO1xyXG4gICAgICAgIGlmIChwcm92aWRlck9iamVjdCAhPSBudWxsICYmIGFycmF5VXRpbHMuaW5kZXhPZihhclByb3ZpZGVyc1Jlc3VsdCwgcHJvdmlkZXJPYmplY3QpID09IC0xKSB7XHJcbiAgICAgICAgICAgIGFyUHJvdmlkZXJzUmVzdWx0LnB1c2gocHJvdmlkZXJPYmplY3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBhclByb3ZpZGVyc1Jlc3VsdDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZVdpbGRjYXJkKHByb3ZpZGVyc1RvUmVwbGFjZTogc3RyaW5nW10sIHByb3ZpZGVyc0VudW06IFByb3ZpZGVyW10pIHtcclxuICAgIGlmICghcHJvdmlkZXJzRW51bSkge1xyXG4gICAgICAgIHByb3ZpZGVyc0VudW0gPSBhclByb3ZpZGVycztcclxuICAgIH1cclxuICAgIHZhciBhclByb3ZpZGVyc05ldyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm92aWRlcnNUb1JlcGxhY2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAocHJvdmlkZXJzVG9SZXBsYWNlW2ldID09ICcqJykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpUHJvdmlkZXIgPSAwOyBpUHJvdmlkZXIgPCBwcm92aWRlcnNFbnVtLmxlbmd0aDsgaVByb3ZpZGVyKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdSA9IDA7IHUgPCBwcm92aWRlcnNUb1JlcGxhY2UubGVuZ3RoOyB1KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvdmlkZXJzVG9SZXBsYWNlW3VdLnRvTG93ZXJDYXNlKCkgPT09IHByb3ZpZGVyc0VudW1baVByb3ZpZGVyXS5uYW1lLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghZm91bmQgJiYgIXByb3ZpZGVyc0VudW1baVByb3ZpZGVyXS5leHBsaWNpdE9ubHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhclByb3ZpZGVyc05ldy5wdXNoKHByb3ZpZGVyc0VudW1baVByb3ZpZGVyXS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFyUHJvdmlkZXJzTmV3LnB1c2gocHJvdmlkZXJzVG9SZXBsYWNlW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJQcm92aWRlcnNOZXc7XHJcbn1cclxuZnVuY3Rpb25zVXRpbHMuY3JlYXRlQWxpYXMoJ2dpZ3lhLnNvY2lhbGl6ZS5nZXRBbGxQcm92aWRlcnMnLCBnZXRBbGxQcm92aWRlcnMpO1xyXG5mdW5jdGlvbnNVdGlscy5jcmVhdGVBbGlhcygnZ2lneWEuc29jaWFsaXplLnJlcGxhY2VQcm92aWRlckFsaWFzZXMnLCByZXBsYWNlUHJvdmlkZXJBbGlhc2VzKTtcclxuZnVuY3Rpb25zVXRpbHMuY3JlYXRlQWxpYXMoJ2dpZ3lhLnNvY2lhbGl6ZS5nZXRQcm92aWRlcnNCeU5hbWUnLCBnZXRQcm92aWRlcnNCeU5hbWUpO1xyXG5mdW5jdGlvbnNVdGlscy5jcmVhdGVBbGlhcygnZ2lneWEuc29jaWFsaXplLl9nZXRQcm92aWRlckJ5TmFtZScsIGdldFByb3ZpZGVyQnlOYW1lKTtcclxuZnVuY3Rpb25zVXRpbHMuY3JlYXRlQWxpYXMoJ2dpZ3lhLnNvY2lhbGl6ZS5oaWRlUHJvdmlkZXJzQnlOYW1lJywgaGlkZVByb3ZpZGVyc0J5TmFtZSk7XHJcbmZ1bmN0aW9uc1V0aWxzLmNyZWF0ZUFsaWFzKCdnaWd5YS5zb2NpYWxpemUuX2dldFByb3ZpZGVyQnlJRCcsIGdldFByb3ZpZGVyQnlJZCk7XHJcbmZ1bmN0aW9uc1V0aWxzLmNyZWF0ZUFsaWFzKCdnaWd5YS5zb2NpYWxpemUuZ2V0UHJvdmlkZXJzRm9yUmVxdWlyZWRDYXBhYmlsaXRpZXMnLCBnZXRQcm92aWRlcnNGb3JSZXF1aXJlZENhcGFiaWxpdGllcyk7XHJcbiIsImltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9vYmplY3QnO1xyXG5cclxuLy8gUmVwb3J0cyB0byBzZXJ2ZXJcclxuZXhwb3J0IGludGVyZmFjZSBSZXBvcnQge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgdGltZTogc3RyaW5nO1xyXG4gICAgc291cmNlPzogc3RyaW5nO1xyXG4gICAgc291cmNlRGF0YT86IE9iamVjdDtcclxuICAgIHJlcG9ydERhdGE/OiBPYmplY3Q7XHJcbiAgICBjaWQ/OiBzdHJpbmc7XHJcbn1cclxuZXhwb3J0IHZhciBxdWV1ZTogUmVwb3J0W107XHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFja0FkZHJlc3NCYXJTaGFyZXMoKSB7XHJcbiAgICBpZiAoZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mWyd0cmFja0FkZHJlc3NCYXJTaGFyZXMnXSkge1xyXG4gICAgICAgIHZhciB1dWlkID0gZ2lneWEuXy5hcGlBZGFwdGVyLmdldFRva2VuUGFyYW0oZ2lneWEudGhpc1NjcmlwdC5BUElLZXksICdVVUlEJyk7XHJcbiAgICAgICAgdmFyIGFyRnJhZ21lbnQgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnNwbGl0KCcjJyk7XHJcbiAgICAgICAgaWYgKGFyRnJhZ21lbnQubGVuZ3RoID09IDEgfHwgYXJGcmFnbWVudFsxXSA9PSAnJyB8fCBhckZyYWdtZW50WzFdID09ICdndWlkPV8nKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLnJlcGxhY2UoJyNndWlkPScgKyAodXVpZCA/IHV1aWQgOiAnXycpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcG9ydChldmVudCwgQVBJS2V5LCBjaWQsIHNvdXJjZSwgc291cmNlRGF0YSwgcGFyYW1zID0ge30sIGlnbm9yZVF1ZXVlID0gZmFsc2UpIHtcclxuICAgIHZhciByZXBvcnQgPSBvYmplY3RVdGlscy5yZW1vdmVVbmRlZmluZWQoe1xyXG4gICAgICAgIG5hbWU6IGV2ZW50LFxyXG4gICAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLnRvU3RyaW5nKCksXHJcbiAgICAgICAgc291cmNlOiBzb3VyY2UsXHJcbiAgICAgICAgc291cmNlRGF0YTogc291cmNlRGF0YSxcclxuICAgICAgICByZXBvcnREYXRhOiBwYXJhbXMsXHJcbiAgICAgICAgY2lkOiBjaWQsXHJcbiAgICB9KSBhcyBSZXBvcnQ7XHJcblxyXG4gICAgaWYgKCFpZ25vcmVRdWV1ZSkge1xyXG4gICAgICAgIGlmICghcXVldWUpIHF1ZXVlID0gW107XHJcblxyXG4gICAgICAgIHF1ZXVlLnB1c2gocmVwb3J0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gW3JlcG9ydF07XHJcbiAgICAgICAgZ2lneWEuZ3Njb3VudGVycy5zZW5kUmVwb3J0KHtcclxuICAgICAgICAgICAgcmVwb3J0czogYXJyYXksXHJcbiAgICAgICAgICAgIG5vQXV0aDogIWlzQXV0aERhdGFSZXF1aXJlZChhcnJheSksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBzZXRJbnRlcnZhbChzZW5kUmVwb3J0cywgNTAwMCk7XHJcbn1cclxuZnVuY3Rpb24gc2VuZFJlcG9ydHMoKSB7XHJcbiAgICB3aGlsZSAocXVldWUgJiYgcXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBiYXRjaCA9IG9iamVjdFV0aWxzLmNsb25lKHF1ZXVlLnNwbGljZSgwLCA1KSwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgZ2lneWEuZ3Njb3VudGVycy5zZW5kUmVwb3J0KHtcclxuICAgICAgICAgICAgcmVwb3J0czogYmF0Y2gsXHJcbiAgICAgICAgICAgIG5vQXV0aDogIWlzQXV0aERhdGFSZXF1aXJlZChiYXRjaCksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNBdXRoRGF0YVJlcXVpcmVkKHJlcG9ydHMpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVwb3J0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciByZXBvcnQ6IFJlcG9ydCA9IHJlcG9ydHNbaV07XHJcbiAgICAgICAgaWYgKChyZXBvcnQubmFtZSAhPT0gJ2xvYWRjJyAmJiByZXBvcnQubmFtZSAhPT0gJ2xvYWQnKSB8fCAocmVwb3J0Lm5hbWUgPT09ICdsb2FkYycgJiYgcmVwb3J0LnJlcG9ydERhdGEgJiYgcmVwb3J0LnJlcG9ydERhdGFbJ2FjdGlvbkNvdW50ZXJQYXRoJ10pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcG9ydExvYWQobWV0aG9kTmFtZSwgcGFyYW1zKSB7XHJcbiAgICBpZiAoIXBhcmFtcy5fcmVwb3J0ZWRMb2FkKSB7XHJcbiAgICAgICAgcGFyYW1zLl9yZXBvcnRlZExvYWQgPSB0cnVlO1xyXG4gICAgICAgIHZhciBldmVudCA9ICdsb2FkJztcclxuICAgICAgICBpZiAobWV0aG9kTmFtZSA9PSAnZ2lneWEuc29jaWFsaXplLnBsdWdpbnMucmVhY3Rpb25zLnNob3dSZWFjdGlvbnNCYXJVSScpIHJldHVybjsgLy9yZWFjdGlvbnNCYXJVSSByZXBvcnRzIGxvYWQgd2l0aCBnZXRSZWFjdGlvbnNDb3VudFxyXG4gICAgICAgIGlmIChtZXRob2ROYW1lID09ICdnaWd5YS5zb2NpYWxpemUucGx1Z2lucy5zaW1wbGVzaGFyZS5zaG93U2ltcGxlU2hhcmVVSScpIHtcclxuICAgICAgICAgICAgZXZlbnQgPSAnbG9hZFNpbXBsZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcG9ydChldmVudCwgcGFyYW1zLkFQSUtleSwgcGFyYW1zLmNpZCwgcGFyYW1zLnNvdXJjZSwgcGFyYW1zLnNvdXJjZURhdGEpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGRhdGVVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZGF0ZSc7XHJcbmltcG9ydCB7IEdTRXJyb3JzIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0dTRXJyb3JzJztcclxuaW1wb3J0ICogYXMgY29va2llVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Nvb2tpZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElBY2NvdW50U2VydmljZSB7XHJcbiAgICB2ZXJpZnlMb2dpbigpOiBQcm9taXNlPGJvb2xlYW4+O1xyXG59XHJcbmV4cG9ydCBjbGFzcyBBY2NvdW50U2VydmljZSBpbXBsZW1lbnRzIElBY2NvdW50U2VydmljZSB7XHJcbiAgICBwdWJsaWMgYXN5bmMgdmVyaWZ5TG9naW4oKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgbGV0IHZlcmlmeUxvZ2luSW50ZXJ2YWxDb25mID0gTnVtYmVyKGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsndmVyaWZ5TG9naW5JbnRlcnZhbCddKTtcclxuICAgICAgICBpZiAoaXNOYU4odmVyaWZ5TG9naW5JbnRlcnZhbENvbmYpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKHZlcmlmeUxvZ2luSW50ZXJ2YWxDb25mIDw9IDApIHZlcmlmeUxvZ2luSW50ZXJ2YWxDb25mID0gMTsgLy8gQXZvaWQgc2V0dGluZyB6ZXJvIGludGVydmFsIHRvIG1pbmltaXplIHJlcXVlc3RzXHJcbiAgICAgICAgY29uc3QgdmVyaWZ5TG9naW5JbnRlcnZhbEluTWlsbGlzID0gTWF0aC5jZWlsKHZlcmlmeUxvZ2luSW50ZXJ2YWxDb25mKSAqIDM2MDAgKiAxMDAwO1xyXG4gICAgICAgIGlmIChkYXRlVXRpbHMubm93KCkgPCB0aGlzLmxhc3RWZXJpZmljYXRpb24gKyB2ZXJpZnlMb2dpbkludGVydmFsSW5NaWxsaXMpIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmxhc3RWZXJpZmljYXRpb24gPSBkYXRlVXRpbHMubm93KCk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxib29sZWFuPihyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgZ2lneWEuYWNjb3VudHMudmVyaWZ5TG9naW4oe1xyXG4gICAgICAgICAgICAgICAgaWdub3JlQXBpUXVldWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogcmVzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc1snZXJyb3JDb2RlJ10gPT09IEdTRXJyb3JzLk9LKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0IGxhc3RWZXJpZmljYXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTnVtYmVyKGNvb2tpZVV0aWxzLmdldCgnZ2lnX2xhc3RfdmVyXycgKyBnaWd5YS50aGlzU2NyaXB0LkFQSUtleSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0IGxhc3RWZXJpZmljYXRpb24odGltZXN0YW1wOiBudW1iZXIpIHtcclxuICAgICAgICBjb29raWVVdGlscy5zZXQoJ2dpZ19sYXN0X3Zlcl8nICsgZ2lneWEudGhpc1NjcmlwdC5BUElLZXksIFN0cmluZyh0aW1lc3RhbXApKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgbGV0IGFjY291bnRTZXJ2aWNlOiBJQWNjb3VudFNlcnZpY2UgPSBuZXcgQWNjb3VudFNlcnZpY2UoKTtcclxuIiwiZXhwb3J0IGxldCBpc1JlYWR5ID0gZmFsc2U7XHJcbmV4cG9ydCB2YXIgdGhpc1NjcmlwdDoge1xyXG4gICAgQVBJS2V5OiBzdHJpbmc7XHJcbiAgICBwcm90b2NvbDogc3RyaW5nO1xyXG4gICAgYmFzZURvbWFpbjogc3RyaW5nO1xyXG4gICAgVVJMUGFyYW1zOiBPYmplY3Q7XHJcbiAgICBnbG9iYWxDb25mOiBPYmplY3Q7XHJcbiAgICBsYW5nOiBMYW5nO1xyXG4gICAgc2NyaXB0RWxlbWVudDogSFRNTFNjcmlwdEVsZW1lbnQ7XHJcbn07XHJcbiIsImltcG9ydCB7IGxvY2FsSW5mbyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2NhbEluZm8nO1xyXG5pbXBvcnQgKiBhcyB2aWV3cG9ydFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy92aWV3cG9ydCc7XHJcbmltcG9ydCAqIGFzIGZ1bmN0aW9uc1V0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9mdW5jdGlvbnMnO1xyXG5cclxuZXhwb3J0IHZhciBfcG9wdXBDb250YWluZXJzID0gW107XHJcbmV4cG9ydCB2YXIgX3BzZXVkb0NvbnRhaW5lcnMgPSBbXTtcclxubGV0IF9uZXh0WkluZGV4ID0gOTk5OTk5OTk5O1xyXG52YXIgYmFja0xpc3RlbmVyID0gbnVsbDtcclxuZXhwb3J0IGZ1bmN0aW9uIGdldE5leHRaSW5kZXgoKSB7XHJcbiAgICBfbmV4dFpJbmRleCsrO1xyXG4gICAgcmV0dXJuIF9uZXh0WkluZGV4O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRHaWd5YVNjcmlwdEVsZW1lbnQoZmlsZU5hbWVzOiBzdHJpbmdbXSk6IEhUTUxTY3JpcHRFbGVtZW50IHtcclxuICAgIHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xyXG4gICAgdmFyIHNjcmlwdEVsZW1lbnQ6IEhUTUxTY3JpcHRFbGVtZW50O1xyXG4gICAgdmFyIGdpZ3lhQ2RuUmVnZXggPSAvXFwvXFwvY2RuKHMpP1xcLihydTFcXC4pP2dpZ3lhLmNvbS87XHJcbiAgICBmb3IgKHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIHZhciBzY3JpcHQgPSBzY3JpcHRzW2ldO1xyXG4gICAgICAgIHZhciBzcmMgPSBzY3JpcHQuc3JjLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKHNyYyAhPT0gJycpIHtcclxuICAgICAgICAgICAgaWYgKGdpZ3lhQ2RuUmVnZXgudGVzdChzcmMpIHx8IHNyYy5pbmRleE9mKCc/YXBpa2V5PScpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc0ZpbGVOYW1lRXhpc3RJblNyYyA9IGZpbGVOYW1lcy5sZW5ndGggPT09IDAgfHwgZmlsZU5hbWVzLnNvbWUoZmlsZU5hbWUgPT4gc3JjLmluZGV4T2YoZmlsZU5hbWUpID4gLTEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRmlsZU5hbWVFeGlzdEluU3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0RWxlbWVudCA9IHNjcmlwdDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzY3JpcHRFbGVtZW50O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaChlbDogSFRNTEVsZW1lbnQsIGV2ZW50TmFtZTogc3RyaW5nKSB7XHJcbiAgICB2YXIgZXZlbnQ7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBldmVudCA9IG5ldyBFdmVudChldmVudE5hbWUpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIElFMTAgYW5kIGJlbG93IHN1cHBvcnRcclxuICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xyXG4gICAgICAgIGV2ZW50LmluaXRDdXN0b21FdmVudChldmVudE5hbWUsIHRydWUsIHRydWUsIHt9KTtcclxuICAgIH1cclxuXHJcbiAgICBlbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIoZWw6IEhUTUxFbGVtZW50LCBoYW5kbGVyOiBGdW5jdGlvbiwgZXZlbnQ6ICdjbGljaycgfCAndG91Y2hlbmQnID0gJ2NsaWNrJywgZGVidWdOYW1lPzogc3RyaW5nKSB7XHJcbiAgICAvLyBKdXN0IGluIGNhc2UgdGhlIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXHJcbiAgICBpZiAoIWVsKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGVsLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcclxuICAgIGlmIChlbC5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JykgIT0gJy0xJykge1xyXG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xyXG4gICAgfVxyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIChlOiBNb3VzZUV2ZW50KSA9PiBoYW5kbGVyKGUpKTtcclxuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdrZXlkb3duJywgKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoKGUud2hpY2ggfHwgZS5rZXlDb2RlKSA9PSAxMykge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGhhbmRsZXIoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZWw6IGFueSwgZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBpZiAoIWVsIHx8ICFoYW5kbGVyKSByZXR1cm47XHJcblxyXG4gICAgaWYgKGVsLmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgdHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudE5hbWUsIGhhbmRsZXIpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKGVsOiBhbnksIGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgaWYgKCFoYW5kbGVyKSByZXR1cm47XHJcbiAgICBpZiAoZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCB0cnVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWwuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50TmFtZSwgaGFuZGxlcik7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVEZWZhdWx0RXZlbnRIYW5kbGluZyhldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0gZWxzZSBpZiAod2luZG93LmV2ZW50KSB7XHJcbiAgICAgICAgd2luZG93LmV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZERpYWxvZ0JhY2tMaXN0ZW5lcihoYW5kbGVyOiAoZTogRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIF9yZW1vdmVEaWFsb2dCYWNrTGlzdGVuZXIoKTtcclxuXHJcbiAgICAvLyBUaGlzIHNob3VsZCBmaXJlIHdoZW4gYmFjayBpcyBjbGlja2VkXHJcbiAgICBiYWNrTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYgKGUgJiYgZS5uZXdVUkwgJiYgZS5uZXdVUkwuaW5kZXhPZignfGdpZ3lhTW9iaWxlRGlhbG9nJykgPT0gLTEpIHtcclxuICAgICAgICAgICAgaGFuZGxlcihlKTtcclxuICAgICAgICAgICAgX3JlbW92ZURpYWxvZ0JhY2tMaXN0ZW5lcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gaGFzaCBjb3VsZCBjaGFuZ2UgcmlnaHQgYWZ0ZXIgdGhlIGNhbGwgaWYgaXQgd2FzIGluaXRpYXRlZCBmcm9tIGEgbGluayB0aGF0IGRpZG4ndCByZXR1cm4gZmFsc2VcclxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaC5pbmRleE9mKCd8Z2lneWFNb2JpbGVEaWFsb2cnKSA9PSAtMSkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoICsgJ3xnaWd5YU1vYmlsZURpYWxvZyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAnaGFzaGNoYW5nZScsIGJhY2tMaXN0ZW5lcik7XHJcbiAgICB9LCA1MCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIF9yZW1vdmVEaWFsb2dCYWNrTGlzdGVuZXIoKSB7XHJcbiAgICBpZiAoIWJhY2tMaXN0ZW5lcikgcmV0dXJuO1xyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csICdoYXNoY2hhbmdlJywgYmFja0xpc3RlbmVyKTtcclxuICAgIGJhY2tMaXN0ZW5lciA9IG51bGw7XHJcbiAgICAvL3Jlc3RvcmUgcHJldmlvdXMgaGFzaFxyXG4gICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCd8Z2lneWFNb2JpbGVEaWFsb2cnLCAnJyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZFRvQm9keShlbDogSFRNTEVsZW1lbnQsIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50KTogdm9pZCB7XHJcbiAgICBpZiAoIWRvY3VtZW50LmJvZHkpIHJldHVybjtcclxuICAgIGlmIChkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZSAmJiBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShlbCwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICBpZiAoZWwgJiYgZWwucGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgIGVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWwpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpc0NoaWxkT2YoY2hpbGQ6IE5vZGUsIHBhcmVudDogTm9kZSkge1xyXG4gICAgdmFyIGRpcmVjdFBhcmVudCA9IGNoaWxkLnBhcmVudE5vZGU7XHJcblxyXG4gICAgd2hpbGUgKGRpcmVjdFBhcmVudCkge1xyXG4gICAgICAgIGlmIChwYXJlbnQgPT0gZGlyZWN0UGFyZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGlyZWN0UGFyZW50ID0gZGlyZWN0UGFyZW50LnBhcmVudE5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoZWw6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XHJcbiAgICB3aGlsZSAoZWwpIHtcclxuICAgICAgICB2YXIgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWwpO1xyXG4gICAgICAgIGlmIChjb21wdXRlZFN0eWxlLmRpc3BsYXkgPT09ICdub25lJyB8fCBjb21wdXRlZFN0eWxlLnZpc2liaWxpdHkgPT09ICdoaWRkZW4nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENlbnRlcmVkRGl2SUQobmFtZTogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gJ2dpZ18nICsgbG9jYWxJbmZvLmluaXRUaW1lLmdldFRpbWUoKS50b1N0cmluZygpICsgJ18nICsgbmFtZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhBdHRyaWJ1dGVzKGRvbUVsZW1OYW1lOiBzdHJpbmcsIGRvbUVsZW1BdHRycz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0pOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBuZXdEb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChkb21FbGVtTmFtZSk7XHJcblxyXG4gICAgaWYgKGRvbUVsZW1BdHRycykge1xyXG4gICAgICAgIGZvciAobGV0IGVsZW1BdHRyIGluIGRvbUVsZW1BdHRycykge1xyXG4gICAgICAgICAgICBuZXdEb21FbGVtW2VsZW1BdHRyXSA9IGRvbUVsZW1BdHRyc1tlbGVtQXR0cl07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXdEb21FbGVtO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb3BMZXZlbERpdihpZD86IHN0cmluZyk6IEhUTUxEaXZFbGVtZW50IHtcclxuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIGlmIChlbC5zdHlsZS56SW5kZXggIT0gbnVsbCkge1xyXG4gICAgICAgIGVsLnN0eWxlLnpJbmRleCA9ICcnICsgZ2V0TmV4dFpJbmRleCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGVsLmlubmVySFRNTCA9ICcnO1xyXG4gICAgaWYgKGlkKSB7XHJcbiAgICAgICAgZWwuaWQgPSBpZDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZG9jdW1lbnQuYm9keSkge1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZSAmJiBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoZWwsIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBlbDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaGlkZUJ5SUQoaWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgdmFyIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgaWYgKGVsKSB7XHJcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gc2hvd0J5SUQoaWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgdmFyIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgaWYgKGVsKSB7XHJcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IGxvY2FsSW5mby5pc0lFNiA/IChlbC50YWdOYW1lID09ICdURCcgPyAndGFibGUtY2VsbCcgOiBlbC50YWdOYW1lID09ICdUUicgPyAnJyA6IGVsLnRhZ05hbWUgPT0gJ1RBQkxFJyA/ICcnIDogJ2Jsb2NrJykgOiAnJztcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJCeUlEKGlkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgaWYgKGMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHt9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEhUTUxTaXplKGh0bWw6IHN0cmluZywgY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfSB7XHJcbiAgICB2YXIgZGl2TWVhc3VyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgZGl2TWVhc3VyZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICBkaXZNZWFzdXJlLnN0eWxlLmxlZnQgPSAnLTEwMDBweCc7XHJcbiAgICBkaXZNZWFzdXJlLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2TWVhc3VyZSk7XHJcbiAgICB2YXIgdyA9IGRpdk1lYXN1cmUub2Zmc2V0V2lkdGg7XHJcbiAgICB2YXIgaCA9IGRpdk1lYXN1cmUub2Zmc2V0SGVpZ2h0O1xyXG4gICAgZGl2TWVhc3VyZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRpdk1lYXN1cmUpO1xyXG4gICAgcmV0dXJuIHsgdzogdywgaDogaCB9O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50c0J5Q2xhc3MocGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQsIGNsYXNzTmFtZTogc3RyaW5nLCBpbmNsdWRlUGFyZW50PzogYm9vbGVhbik6IEhUTUxFbGVtZW50W10ge1xyXG4gICAgaWYgKCFwYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgdmFyIGFyRWxzID0gW107XHJcblxyXG4gICAgaWYgKGluY2x1ZGVQYXJlbnQgJiYgaXNFbGVtZW50Q2xhc3MocGFyZW50RWxlbWVudCwgY2xhc3NOYW1lKSkge1xyXG4gICAgICAgIGFyRWxzLnB1c2gocGFyZW50RWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGVsczogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4gPSBwYXJlbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJykgYXMgYW55O1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoaXNFbGVtZW50Q2xhc3MoZWxzW2ldLCBjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgIGFyRWxzLnB1c2goZWxzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJFbHMgfHwgW107XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlBdHRyaWJ1dGUocGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQsIHRhZ05hbWU6IHN0cmluZywgYXR0cmlidXRlTmFtZTogc3RyaW5nLCBhdHRyaWJ1dGVWYWx1ZTogc3RyaW5nKTogSFRNTEVsZW1lbnRbXSB7XHJcbiAgICB2YXIgYXJFbHMgPSBbXTtcclxuICAgIHZhciBlbHM6IE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+ID0gcGFyZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKSBhcyBhbnk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChlbHNbaV0uZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpID09IGF0dHJpYnV0ZVZhbHVlKSB7XHJcbiAgICAgICAgICAgIGFyRWxzLnB1c2goZWxzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJFbHM7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRQb3NpdGlvbihlbDogSFRNTEVsZW1lbnQpOiB7IGxlZnQ6IG51bWJlcjsgdG9wOiBudW1iZXI7IHJpZ2h0OiBudW1iZXI7IGJvdHRvbTogbnVtYmVyIH0ge1xyXG4gICAgaWYgKCFlbCkge1xyXG4gICAgICAgIHJldHVybiB7IGxlZnQ6IDAsIHRvcDogMCwgYm90dG9tOiAwLCByaWdodDogMCB9O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICB2YXIgc2Nyb2xsID0gdmlld3BvcnRVdGlscy5nZXRTY3JvbGwoKTtcclxuICAgIHZhciBsZWZ0ID0gcmVjdC5sZWZ0ICsgc2Nyb2xsLmxlZnQ7XHJcbiAgICB2YXIgdG9wID0gcmVjdC50b3AgKyBzY3JvbGwudG9wO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbGVmdDogbGVmdCxcclxuICAgICAgICB0b3A6IHRvcCxcclxuICAgICAgICByaWdodDogbGVmdCArIHJlY3Qud2lkdGgsXHJcbiAgICAgICAgYm90dG9tOiB0b3AgKyByZWN0LmhlaWdodCxcclxuICAgIH07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZENsYXNzVG9FbGVtZW50KGVsOiBIVE1MRWxlbWVudCwgY2xhc3NOYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGlmICghZWwpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgZXhpc3RpbmdDbGFzc2VzID0gZWwuY2xhc3NOYW1lID8gZ2V0Q2xhc3NOYW1lcyhlbCkgOiBbXTtcclxuICAgIHZhciBleGlzdGluZ09yaWdpbmFsTGVuZ3RoID0gZXhpc3RpbmdDbGFzc2VzLmxlbmd0aDtcclxuICAgIHZhciBuZXdDbGFzc2VzID0gY2xhc3NOYW1lLnNwbGl0KCcgJyk7XHJcblxyXG4gICAgZm9yICh2YXIgaiBpbiBuZXdDbGFzc2VzKSB7XHJcbiAgICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghbmV3Q2xhc3Nlc1tqXSkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBleGlzdGluZ0NsYXNzZXMpIHtcclxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ2xhc3Nlc1tpXSA9PT0gbmV3Q2xhc3Nlc1tqXSkge1xyXG4gICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICAgICAgICBleGlzdGluZ0NsYXNzZXMucHVzaChuZXdDbGFzc2VzW2pdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV4aXN0aW5nQ2xhc3Nlcy5sZW5ndGggIT09IGV4aXN0aW5nT3JpZ2luYWxMZW5ndGgpIHtcclxuICAgICAgICBlbC5jbGFzc05hbWUgPSBleGlzdGluZ0NsYXNzZXMuam9pbignICcpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDbGFzc0Zyb21FbGVtZW50KGVsOiBIVE1MRWxlbWVudCwgY2xhc3NOYW1lOiBzdHJpbmcsIHN1YnN0cmluZzogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XHJcbiAgICBpZiAoIWVsKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGFyQ2xhc3MgPSBnZXRDbGFzc05hbWVzKGVsKTtcclxuICAgIGZvciAodmFyIGkgPSBhckNsYXNzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgaWYgKGFyQ2xhc3NbaV0gPT09IGNsYXNzTmFtZSB8fCAoc3Vic3RyaW5nICYmIGFyQ2xhc3NbaV0uaW5kZXhPZihjbGFzc05hbWUpICE9PSAtMSkpIHtcclxuICAgICAgICAgICAgYXJDbGFzcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWwuY2xhc3NOYW1lID0gYXJDbGFzcy5qb2luKCcgJyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENsYXNzTmFtZXMoZWw6IEhUTUxFbGVtZW50KTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICB2YXIgY2xhc3NlczogQXJyYXk8c3RyaW5nPiA9IFtdO1xyXG4gICAgaWYgKHR5cGVvZiBlbC5jbGFzc05hbWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgnICcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNsYXNzZXM7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbWVudENsYXNzKGVsOiBIVE1MRWxlbWVudCwgY2xhc3NOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGlmICghZWwpIHJldHVybiBmYWxzZTtcclxuICAgIGVsc2UgaWYgKCFjbGFzc05hbWUpIHJldHVybiB0cnVlO1xyXG4gICAgZWxzZSBpZiAoIWVsLmNsYXNzTmFtZSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIHZhciBleGlzdHMgPSBmYWxzZTtcclxuICAgIHZhciBhckNsYXNzID0gZ2V0Q2xhc3NOYW1lcyhlbCk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyQ2xhc3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoYXJDbGFzc1tpXSA9PT0gY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBleGlzdHM7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbEV2ZW50KGV2ZW50OiBhbnkpOiB2b2lkIHtcclxuICAgIGlmICghZXZlbnQpIHJldHVybjtcclxuICAgIGlmICgnY2FuY2VsYWJsZScgaW4gZXZlbnQpXHJcbiAgICAgICAgLy8gQWxsIGJyb3dzZXJzIGV4Y2VwdCA8SUU5XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGVsc2UgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlOiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xyXG4gICAgdmFyIGRpdkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgbmFtZSA9IG5hbWUgfHwgJyc7XHJcbiAgICBkaXZDb250YWluZXIuaW5uZXJIVE1MID0gJzwnICsgdHlwZSArICcgbmFtZT1cIicgKyBuYW1lICsgJ1wiIGlkPVwiJyArIG5hbWUgKyAnXCI+PC8nICsgdHlwZSArICc+JztcclxuICAgIHJldHVybiBkaXZDb250YWluZXIuZmlyc3RDaGlsZDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gc2V0U2l6ZShjb250YWluZXI6IEhUTUxFbGVtZW50LCB3OiBhbnksIGg6IGFueSwgY2VudGVyPzogYm9vbGVhbikge1xyXG4gICAgaWYgKGNvbnRhaW5lciA9PSBudWxsIHx8IGNvbnRhaW5lci5zdHlsZSA9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh3KSB7XHJcbiAgICAgICAgdyA9ICcnICsgdztcclxuICAgICAgICB2YXIgaXNXaWR0aFByZWNlbnRhZ2UgPSB3LmluZGV4T2YoJyUnKSA+IDA7XHJcblxyXG4gICAgICAgIGlmICghaXNOYU4odykgfHwgaXNXaWR0aFByZWNlbnRhZ2UpIHtcclxuICAgICAgICAgICAgdmFyIHdpZHRoVmFsdWU6IHN0cmluZyA9ICcnICsgKGlzV2lkdGhQcmVjZW50YWdlID8gdyA6IHcgKyAncHgnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250YWluZXIuc3R5bGUud2lkdGggIT0gd2lkdGhWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gd2lkdGhWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaCkge1xyXG4gICAgICAgIGggPSAnJyArIGg7XHJcbiAgICAgICAgdmFyIGlzSGVpZ2h0UHJlY2VudGFnZSA9IGguaW5kZXhPZignJScpID4gMDtcclxuXHJcbiAgICAgICAgaWYgKCFpc05hTih3KSB8fCBpc0hlaWdodFByZWNlbnRhZ2UpIHtcclxuICAgICAgICAgICAgdmFyIGhlaWdodFZhbHVlOiBzdHJpbmcgPSAnJyArIChpc0hlaWdodFByZWNlbnRhZ2UgPyBoIDogaCArICdweCcpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgIT09IGhlaWdodFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNlbnRlciAmJiB3ICYmIGgpIHtcclxuICAgICAgICBpZiAoY29udGFpbmVyLnN0eWxlLnpJbmRleCA9PSBudWxsIHx8IGNlbnRlcikge1xyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUuekluZGV4ID0gJycgKyBnZXROZXh0WkluZGV4KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdnAgPSB2aWV3cG9ydFV0aWxzLmdldElubmVyU2l6ZSgpO1xyXG4gICAgICAgIHZhciBzY3JsID0gdmlld3BvcnRVdGlscy5nZXRTY3JvbGwoKTtcclxuXHJcbiAgICAgICAgdmFyIHZwdCA9IHNjcmwudG9wO1xyXG4gICAgICAgIHZhciB2cGwgPSBzY3JsLmxlZnQ7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSAnJyArIE1hdGgubWF4KDAsIHZwdCArIE1hdGguZmxvb3IoKHZwLmggLSBoKSAvIDIpKSArICdweCc7XHJcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnJyArIE1hdGgubWF4KDAsIHZwbCArIE1hdGguZmxvb3IoKHZwLncgLSB3KSAvIDIpKSArICdweCc7XHJcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGlkZGVuSWZyYW1lKHNyYzogc3RyaW5nKTogSFRNTElGcmFtZUVsZW1lbnQge1xyXG4gICAgdmFyIGlmciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xyXG4gICAgaWZyLnNyYyA9IHNyYztcclxuICAgIGlmci5zdHlsZS53aWR0aCA9ICczMHB4JztcclxuICAgIGlmci5zdHlsZS5oZWlnaHQgPSAnMTBweCc7XHJcbiAgICBpZnIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgaWZyLnN0eWxlLnRvcCA9ICctMTAwMHB4JztcclxuICAgIGlmci5zdHlsZS5sZWZ0ID0gJy0xMDAwcHgnO1xyXG5cclxuICAgIGlmIChkb2N1bWVudC5ib2R5KSB7XHJcbiAgICAgICAgYXBwZW5kVG9Cb2R5KGlmcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZ1bmN0aW9uc1V0aWxzLmludm9rZU9uUGFnZUxvYWQoKCkgPT4ge1xyXG4gICAgICAgICAgICBhcHBlbmRUb0JvZHkoaWZyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaWZyO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBhdHRyaWJ1dGVFbmNvZGUodmFsdWU6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxyXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcclxuICAgICAgICAucmVwbGFjZSgvXFxcIi9nLCAnJnF1b3Q7JylcclxuICAgICAgICAucmVwbGFjZSgvXFwnL2csICcmIzM5OycpOyAvLyBJRTggZG9lc24ndCBzdXBwb3J0ICZhcG9zO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBtYW5pcHVsYXRlQXR0cmlidXRlcyhcclxuICAgIGVsZW1lbnRzOiBFbGVtZW50W10sXHJcbiAgICBtYXRjaGVyOiBSZWdFeHAsXHJcbiAgICByZXBsYWNlUHJlZGljYXRlOiAobWF0Y2g6IHN0cmluZykgPT4gdm9pZCxcclxuICAgIGNyaXRlcmlhOiAoYXR0cj86IEF0dHIpID0+IGJvb2xlYW4gPSAoKSA9PiB0cnVlLFxyXG4pOiB2b2lkIHtcclxuICAgIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgIGlmICghZWwuYXR0cmlidXRlcykgcmV0dXJuO1xyXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVsLmF0dHJpYnV0ZXMpLmZvckVhY2goYXR0ciA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYShhdHRyKSkge1xyXG4gICAgICAgICAgICAgICAgYXR0ci52YWx1ZSA9IGF0dHIudmFsdWUucmVwbGFjZShtYXRjaGVyLCByZXBsYWNlUHJlZGljYXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHRleHROb2Rlc1VuZGVyKGVsOiBIVE1MRWxlbWVudCkge1xyXG4gICAgbGV0IG47XHJcbiAgICBjb25zdCB0ZXh0Tm9kZXM6IFRleHRbXSA9IFtdO1xyXG4gICAgY29uc3QgdHJlZVdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWwsIE5vZGVGaWx0ZXIuU0hPV19URVhULCBudWxsLCBmYWxzZSk7XHJcbiAgICB3aGlsZSAoKG4gPSB0cmVlV2Fsa2VyLm5leHROb2RlKCkgYXMgVGV4dCkpIHtcclxuICAgICAgICB0ZXh0Tm9kZXMucHVzaChuKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0ZXh0Tm9kZXM7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGlzSFRNTEJvb2xlYW5BdHRyaWJ1dGUoYXR0ck5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIFsnYXV0b2NvbXBsZXRlJywgJ2F1dG9mb2N1cycsICdjaGVja2VkJywgJ2Rpc2FibGVkJywgJ2hpZGRlbicsICdyZWFkb25seScsICdyZXF1aXJlZCcsICdzZWxlY3RlZCddLmluZGV4T2YoYXR0ck5hbWUpID4gLTE7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0JlbG9uZ1RvR2lneWFGaWVsZHNldChlbDogRWxlbWVudCk6IGJvb2xlYW4ge1xyXG5cclxuICAgIGlmICghZWwgfHwgZWwgaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGVuZCBvZiByZWN1cnNpb24gLSBlbGVtZW50IGlzIG5vdCBhIGNoaWxkIG9mIGEgZmllbGRzZXRcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNFbGVtZW50Q2xhc3MoZWwucGFyZW50RWxlbWVudCwgJ2dpZ3lhLWZpZWxkc2V0Jykpe1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc0JlbG9uZ1RvR2lneWFGaWVsZHNldChlbC5wYXJlbnRFbGVtZW50KTtcclxufVxyXG4iLCJpbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcclxuaW1wb3J0ICogYXMgRE9NVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0RPTSc7XHJcbmltcG9ydCB7IFVyaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VcmknO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZGlyZWN0KHVybDogc3RyaW5nLCBhclBhcmFtczogYW55W10sIG1ldGhvZD86IHN0cmluZywgdGFyZ2V0Pzogc3RyaW5nLCB3b3JrRG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQpIHtcclxuICAgIGlmIChtZXRob2QgJiYgbWV0aG9kLnRvTG93ZXJDYXNlKCkgPT0gJ3Bvc3QnKSB7XHJcbiAgICAgICAgdmFyIGZvcm0gPSB3b3JrRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xyXG4gICAgICAgIHZhciBhckZpZWxkc0hUTUwgPSBbXTtcclxuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnYWNjZXB0LWNoYXJzZXQnLCAnVVRGLTgnKTtcclxuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnbWV0aG9kJywgJ1BPU1QnKTtcclxuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnYWN0aW9uJywgdXJsKTtcclxuICAgICAgICBpZiAodGFyZ2V0KSBmb3JtLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgdGFyZ2V0KTtcclxuICAgICAgICB2YXIgcGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoYXJQYXJhbXMpO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcGFyYW1zKSB7XHJcbiAgICAgICAgICAgIGlmICgodHlwZW9mIHBhcmFtc1twXSA9PSAnbnVtYmVyJyB8fCB0eXBlb2YgcGFyYW1zW3BdID09ICdib29sZWFuJyB8fCB0eXBlb2YgcGFyYW1zW3BdID09ICdzdHJpbmcnKSAmJiBwICE9ICdldmVudE5hbWUnKSB7XHJcbiAgICAgICAgICAgICAgICBhckZpZWxkc0hUTUwucHVzaCgnPHRleHRhcmVhIG5hbWU9XCInICsgZW5jb2RlVVJJQ29tcG9uZW50KHApICsgJ1wiPicgKyBwYXJhbXNbcF0udG9TdHJpbmcoKS5yZXBsYWNlKC9cXCYvZywgJyZhbXA7JykgKyAnPC90ZXh0YXJlYT4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3JtLmlubmVySFRNTCA9IGFyRmllbGRzSFRNTC5qb2luKCcnKTtcclxuICAgICAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgRE9NVXRpbHMuYXBwZW5kVG9Cb2R5KGZvcm0sIHdvcmtEb2N1bWVudCk7XHJcbiAgICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgdXJpID0gbmV3IFVyaSh1cmwpO1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0ge307XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhclBhcmFtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcGFyYW1zID0gYXJQYXJhbXNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gcGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gcGFyYW1zW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5W25hbWVdID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVyaS5hZGRUb1NlYXJjaChxdWVyeSk7XHJcbiAgICAgICAgd29ya0RvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSB1cmkudG9TdHJpbmcoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBsb2NhbEluZm8gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9jYWxJbmZvJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemUob2JqOiBhbnksIGluY2x1ZGVGdW5jdGlvbnMgPSBmYWxzZSwgcHJldHR5UHJpbnQgPSBmYWxzZSwgbCA9IDAsIG1heExldmVsID0gMjApOiBzdHJpbmcge1xyXG4gICAgaWYgKCFsb2NhbEluZm8uaXNJRTgpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93WydKU09OJ10uc3RyaW5naWZ5KG9iaik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICghbCkgbCA9IDA7XHJcblxyXG4gICAgICAgIGlmIChsID4gbWF4TGV2ZWwpIHJldHVybiAnW1RvbyBkZWVwXSc7XHJcblxyXG4gICAgICAgIHZhciBwcmVmaXggPSAnJztcclxuICAgICAgICB2YXIgbmV3bGluZSA9ICcnO1xyXG4gICAgICAgIHZhciB0YWIgPSAnJztcclxuICAgICAgICBpZiAocHJldHR5UHJpbnQpIHtcclxuICAgICAgICAgICAgdGFiID0gJ1xcdCc7XHJcbiAgICAgICAgICAgIG5ld2xpbmUgPSAnXFxuJztcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsICsgMTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVmaXggKz0gdGFiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0ID0gdHlwZW9mIG9iajtcclxuICAgICAgICBpZiAodCA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0ICE9ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBzaW1wbGUgZGF0YSB0eXBlXHJcblxyXG4gICAgICAgICAgICBpZiAodCA9PSAnc3RyaW5nJykgb2JqID0gJ1wiJyArIG9iai5yZXBsYWNlKC8oXFxcInxcXFxcKS9nLCAnXFxcXCQxJykucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZywgJ1xcXFxuJykgKyAnXCInO1xyXG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKG9iaik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIG4sXHJcbiAgICAgICAgICAgICAgICB2LFxyXG4gICAgICAgICAgICAgICAganNvbiA9IFtdLFxyXG4gICAgICAgICAgICAgICAgYXJyID0gb2JqICYmIG9iai5jb25zdHJ1Y3RvciA9PSBBcnJheTtcclxuICAgICAgICAgICAgaWYgKGFycikge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2ID0gb2JqW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHQgPSB0eXBlb2YgdjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodiA9PSBudWxsIHx8IHQgPT0gJ3VuZGVmaW5lZCcpIHYgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09ICdzdHJpbmcnKSB2ID0gJ1wiJyArIHYucmVwbGFjZSgvKFxcXCJ8XFxcXCkvZywgJ1xcXFwkMScpLnJlcGxhY2UoL1xcclxcbnxcXHJ8XFxuL2csICdcXFxcbicpICsgJ1wiJztcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVGdW5jdGlvbnMpIHYgPSAnRnVuY3Rpb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHYgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHYucGFyZW50Tm9kZSAmJiB2LmlubmVySFRNTCkgdiA9ICdIVE1MRWxlbWVudCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodi5jb25zdHJ1Y3RvciA9PSBEYXRlKSB2ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodCA9PSAnb2JqZWN0JyAmJiB2ICE9PSBudWxsKSB2ID0gc2VyaWFsaXplKHYsIGluY2x1ZGVGdW5jdGlvbnMsIHByZXR0eVByaW50LCBsICsgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChTdHJpbmcodikgIT0gJycpIGpzb24ucHVzaChwcmVmaXggKyB0YWIgKyBTdHJpbmcodikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yIChuIGluIG9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgIHYgPSBvYmpbbl07XHJcbiAgICAgICAgICAgICAgICAgICAgdCA9IHR5cGVvZiB2O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2ID09IG51bGwgfHwgdCA9PSAndW5kZWZpbmVkJykgdiA9IFN0cmluZyh2KTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09ICdzdHJpbmcnKSB2ID0gJ1wiJyArIHYucmVwbGFjZSgvKFxcXCJ8XFxcXCkvZywgJ1xcXFwkMScpLnJlcGxhY2UoL1xcclxcbnxcXHJ8XFxuL2csICdcXFxcbicpICsgJ1wiJztcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVGdW5jdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSAnRnVuY3Rpb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2LnBhcmVudE5vZGUgJiYgdi5pbm5lckhUTUwpIHYgPSAnSFRNTEVsZW1lbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHYuY29uc3RydWN0b3IgPT0gRGF0ZSkgdiA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHQgPT0gJ29iamVjdCcgJiYgdiAhPT0gbnVsbCkgdiA9IG5ld2xpbmUgKyBzZXJpYWxpemUodiwgaW5jbHVkZUZ1bmN0aW9ucywgcHJldHR5UHJpbnQsIGwgKyAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFN0cmluZyh2KSAhPSAnJykganNvbi5wdXNoKHByZWZpeCArIHRhYiArICdcIicgKyBuLnJlcGxhY2UoLyhcXFwifFxcXFwpL2csICdcXFxcJDEnKS5yZXBsYWNlKC9cXHJcXG58XFxyfFxcbi9nLCAnXFxcXG4nKSArICdcIjonICsgU3RyaW5nKHYpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3bGluZSArIHByZWZpeCArIChhcnIgPyAnWycgOiAneycpICsgbmV3bGluZSArIGpzb24uam9pbignLCcgKyBuZXdsaW5lKSArIG5ld2xpbmUgKyBwcmVmaXggKyAoYXJyID8gJ10nIDogJ30nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VyaWFsaXplPFQ+KGpzb246IHN0cmluZywgZGVmYXVsdFZhbHVlPzogVCwgc2NvcGU/OiBhbnkpOiBUIHtcclxuICAgIC8vIFJldHVybiBkZWZhdWx0IHZhbHVlIGlmIGlzIGVtcHR5IHN0cmluZyAob3Igc2ltaWxhcikuXHJcbiAgICBpZiAoIWpzb24gfHwgIWpzb24ucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpKSB7XHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSB8fCAoe30gYXMgVCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXR0ZW1wdCB0byBwYXJzZS4gT24gZXJyb3IsIHdhcm4gaW4gY29uc29sZSBhbmQgcmV0dXJuIGRlZmF1bHQgdmFsdWUuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGtleXMgPSBbXTtcclxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcclxuICAgICAgICBpZiAoc2NvcGUpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goc2NvcGVba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZuOiBGdW5jdGlvbiA9IGV2YWwoYChmdW5jdGlvbigke2tleXMuam9pbignLCcpfSkgeyByZXR1cm4gJHtqc29uLnRyaW0oKX07IH0pYCk7XHJcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHVuZGVmaW5lZCwgdmFsdWVzKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGRlc2VyaWFsaXppbmcgSmF2YVNjcmlwdCcsIGUpO1xyXG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWUgfHwgKHt9IGFzIFQpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZTxUPihqc29uOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IFQpOiBUIHtcclxuICAgIGlmIChsb2NhbEluZm8uaXNJRTgpIHtcclxuICAgICAgICByZXR1cm4gZGVzZXJpYWxpemU8VD4oanNvbiwgZGVmYXVsdFZhbHVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvd1snSlNPTiddLnBhcnNlKGpzb24pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSB8fCAoe30gYXMgVCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGtleVZhbHVlVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2tleVZhbHVlJztcclxuaW1wb3J0ICogYXMgb2JqZWN0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL29iamVjdCc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVVJMRW5jb2RlKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIFVSTERlY29kZSh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQodmFsdWUucmVwbGFjZSgvXFwrL2csICcgJykpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBVUkxEZWNvZGVSZWN1cnNpdmUodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBsZXQgcHJldkRlY29kaW5nUmVzID0gJyc7XHJcbiAgICBsZXQgY3VyckRlY29kaW5nUmVzID0gdmFsdWU7XHJcblxyXG4gICAgLy8ga2VlcCBkZWNvZGluZyB1bnRpbCB3ZSBjYW4ndCBkZWNvZGUgYW55bW9yZVxyXG4gICAgd2hpbGUgKGN1cnJEZWNvZGluZ1JlcyAhPSBwcmV2RGVjb2RpbmdSZXMpIHtcclxuICAgICAgICAvLyBzdG9yZSB0aGUgbGFzdCBkZWNvZGluZyByZXN1bHRcclxuICAgICAgICBwcmV2RGVjb2RpbmdSZXMgPSBjdXJyRGVjb2RpbmdSZXM7XHJcblxyXG4gICAgICAgIC8vIGRlY29kZSB0aGUgc3RyaW5nIG9uY2UgYWdhaW5cclxuICAgICAgICBjdXJyRGVjb2RpbmdSZXMgPSBVUkxEZWNvZGUocHJldkRlY29kaW5nUmVzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY3VyckRlY29kaW5nUmVzO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJhbXNGcm9tVVJMKHVybDogc3RyaW5nLCBrZXlzVG9Mb3dlcj86IGJvb2xlYW4pOiBPYmplY3Qge1xyXG4gICAgaWYgKCF1cmwgfHwgdXJsLmluZGV4T2YoJz8nKSA9PT0gLTEpIHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcbiAgICByZXR1cm4ga2V5VmFsdWVVdGlscy5kZXNlcmlhbGl6ZSh1cmwuc3BsaXQoJyMnKVswXS5zcGxpdCgnPycpWzFdLCAnJicsIGtleXNUb0xvd2VyKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyYW1WYWx1ZUZyb21VUkwocGFyYW06IHN0cmluZywgdXJsOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmIChudWxsID09IHVybCB8fCAnJyA9PSB1cmwpIHtcclxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlxbSA9IHVybC5pbmRleE9mKCc/Jyk7XHJcbiAgICBpZiAoaXFtID09PSAtMSkge1xyXG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcXMgPSAnJicgKyB1cmwuc3Vic3RyKGlxbSArIDEpO1xyXG5cclxuICAgIGxldCBpZHggPSBxcy50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJyYnICsgcGFyYW0udG9Mb3dlckNhc2UoKSArICc9Jyk7XHJcbiAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmFsQW5kTW9yZSA9IHFzLnN1YnN0cihpZHggKyAoMSArIHBhcmFtLmxlbmd0aCArIDEpKSArICcmJztcclxuICAgIGlkeCA9IHZhbEFuZE1vcmUuaW5kZXhPZignJicpO1xyXG5cclxuICAgIHJldHVybiB2YWxBbmRNb3JlLnN1YnN0cigwLCBpZHgpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRQYXJhbXNUb1VSTCh1cmw6IHN0cmluZywgb1BhcmFtczogT2JqZWN0KTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IGdldFBhcmFtc0Zyb21VUkwodXJsKTtcclxuICAgIG9iamVjdFV0aWxzLmFkZChwYXJhbXMsIG9QYXJhbXMpO1xyXG4gICAgY29uc3QgdXJsSGFzaFNwbGl0ID0gdXJsLnNwbGl0KCcjJyk7XHJcbiAgICBsZXQgZmluYWxVcmwgPSB1cmxIYXNoU3BsaXRbMF0uc3BsaXQoJz8nKVswXSArICc/JyArIGtleVZhbHVlVXRpbHMuc2VyaWFsaXplKHBhcmFtcywgJyYnKTtcclxuICAgIGlmICh1cmxIYXNoU3BsaXQubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGZpbmFsVXJsICs9ICcjJyArIHVybEhhc2hTcGxpdFsxXTtcclxuICAgIH1cclxuICAgIHJldHVybiBmaW5hbFVybDtcclxufVxyXG4iLCJpbXBvcnQgKiBhcyBzdHJpbmdVdGlsc1V0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zdHJpbmdVdGlscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVXJpIHtcclxuICAgIHByaXZhdGUgX2FuY2hvcjogSFRNTEFuY2hvckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblxyXG4gICAgY29uc3RydWN0b3IodXJsOiBzdHJpbmcsIGlzQWJzb2x1dGUgPSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA9PSAnaHR0cDonID8gJ2h0dHAnIDogJ2h0dHBzJztcclxuICAgICAgICBpZiAoaXNBYnNvbHV0ZSAmJiB1cmwuaW5kZXhPZignOi8vJykgPT09IC0xICYmIHVybC5jaGFyQXQoMCkgIT09ICcvJykgdXJsID0gYCR7cHJvdG9jb2x9Oi8vJHt1cmx9YDtcclxuICAgICAgICB0aGlzLl9hbmNob3IuaHJlZiA9IHVybDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGRvbWFpbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yLmhvc3RuYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgcGF0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yLnBhdGhuYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaHJlZigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yLmhyZWY7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBzZWFyY2goKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvci5zZWFyY2guc2xpY2UoMSk7XHJcbiAgICB9IC8vIGRyb3BwaW5nICc/J1xyXG4gICAgcHVibGljIGdldCBoYXNoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hbmNob3IuaGFzaC5zbGljZSgxKTtcclxuICAgIH0gLy8gZHJvcHBpbmcgJyMnXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yLmhyZWY7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFRvU2VhcmNoKHBhcmFtczogT2JqZWN0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBwYXJhbXMpIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsID0gcGFyYW1zW25hbWVdO1xyXG4gICAgICAgICAgICBpZiAoKHR5cGVvZiB2YWwgPT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiB2YWwgPT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbCA9PSAnc3RyaW5nJykgJiYgbmFtZSAhPSAnZXZlbnROYW1lJykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFkZGl0aW9uID0gdGhpcy5fYW5jaG9yLnNlYXJjaCA/ICcmJyA6ICcnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLnNlYXJjaCArPSBgJHthZGRpdGlvbn0ke25hbWV9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1tuYW1lXSl9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZmV0Y2g8VD4ocmV0cmllcyA9IDApOiBQcm9taXNlPFQ+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LmZldGNoID8gYXdhaXQgdGhpcy5icm93c2VyRmV0Y2g8VD4oKSA6IGF3YWl0IHRoaXMueGhyPFQ+KCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpZiAocmV0cmllcyA8PSAwKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmZXRjaCBmYWlsZWQ6ICR7ZX1gKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5kZWxheSgxKTtcclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2gocmV0cmllcyAtIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNCYXNlT2YodXJsOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gVXJpLnBhcnNlKHVybCkuaXNJbih0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNJbihiYXNlOiBzdHJpbmcpOiBib29sZWFuO1xyXG4gICAgcHVibGljIGlzSW4oYmFzZTogVXJpKTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBpc0luKGJhc2U6IFVyaSB8IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYmFzZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgYmFzZSA9IFVyaS5wYXJzZShiYXNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICh0aGlzLmRvbWFpbiA9PSBiYXNlLmRvbWFpbiB8fCAvLyBwYWdlIGlzIHRoZSBiYXNlIGRvbWFpblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1N1YkRvbWFpbk9mKGJhc2UpKSAmJiAvLyBvciBzdWItZG9tYWluIG9mIGl0XHJcbiAgICAgICAgICAgICghYmFzZS5wYXRoIHx8IHRoaXMucGF0aC5pbmRleE9mKGJhc2UucGF0aCkgPT0gMClcclxuICAgICAgICApOyAvLyBwYWdlIGlzIGFsc28gaW4gYmFzZSdzIGRlZmluZWQgcGF0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNGb3JTdWJEb21haW5zKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRvbWFpbi5pbmRleE9mKCcuJykgPT0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNTdWJEb21haW5PZihiYXNlOiBVcmkpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgZG9tYWluID0gJyc7XHJcblxyXG4gICAgICAgIGlmICghYmFzZS5pc0ZvclN1YkRvbWFpbnMoKSkgZG9tYWluID0gJy4nO1xyXG5cclxuICAgICAgICBkb21haW4gKz0gYmFzZS5kb21haW47XHJcblxyXG4gICAgICAgIHJldHVybiBzdHJpbmdVdGlsc1V0aWxzLmVuZHNXaXRoKHRoaXMuZG9tYWluLCBkb21haW4pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2UodXJsOiBzdHJpbmcsIGlzQWJzb2x1dGUgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKCF1cmwpIHJldHVybiB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVXJpKHVybCwgaXNBYnNvbHV0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBicm93c2VyRmV0Y2g8VD4oKTogUHJvbWlzZTxUPiB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy50b1N0cmluZygpO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgd2luZG93LmZldGNoKHVybCk7XHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaylcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmZXRjaCBmYWlsZWRgKTtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgeGhyPFQ+KCk6IFByb21pc2U8VD4ge1xyXG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMudG9TdHJpbmcoKTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8VD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XHJcbiAgICAgICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICAgICAgICAgIHhoci5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgICAgICB4aHIub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlICE9PSA0IHx8IHhoci5zdGF0dXMgIT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChgeGhyIGZhaWxlZCAtICR7eGhyLnN0YXR1c30gLSAke3hoci5zdGF0dXNUZXh0fWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uUmVzcG9uc2UgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGpzb25SZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGRlbGF5KG1zOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIG1zKSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGludGVyZmFjZSBJTnVtZXJpY01hcDxUPiB7XHJcbiAgICBba2V5OiBudW1iZXJdOiBUO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1hcDxUPiB7XHJcbiAgICBba2V5OiBzdHJpbmddOiBUO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSUVudW1lcmFibGU8VD4ge1xyXG4gICAgbGVuZ3RoOiBudW1iZXI7XHJcbiAgICBbaTogbnVtYmVyXTogVDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcjogYW55W10sIG86IGFueSk6IG51bWJlciB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyW2ldID09IG8pIHJldHVybiBpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhcjogYW55W10pIHtcclxuICAgIHZhciBhcjIgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBhcjJbaV0gPSBhcltpXTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcjI7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUJ5VmFsdWUoYXI6IGFueVtdLCB2YWx1ZTogT2JqZWN0KSB7XHJcbiAgICBpZiAoIWFyKSByZXR1cm47XHJcbiAgICBmb3IgKHZhciBpID0gYXIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBpZiAoYXJbaV0gPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgYXIuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQnlQcm9wZXJ0eShhcjogYW55W10sIHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIGlmICghYXIpIHJldHVybjtcclxuICAgIGZvciAodmFyIGkgPSBhci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGlmIChhcltpXVtwcm9wZXJ0eV0gPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgYXIuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJyYXlGcm9tU3RyaW5nKHN0cjogc3RyaW5nLCBkZWxpbWl0ZXI6IHN0cmluZywgbG93ZXJDYXNlPzogYm9vbGVhbikge1xyXG4gICAgLy8gY2hlY2sgZm9yIHN0cmluZyB0eXBlIGluIHRoZSBpbnB1dCBhbmQgbm90IGVtcHR5LlxyXG4gICAgaWYgKCFzdHIgfHwgdHlwZW9mIHN0ciAhPSAnc3RyaW5nJykgcmV0dXJuIFtdO1xyXG5cclxuICAgIC8vIGxvd2VyY2FzZSBpZiBkZW1lbmRlZFxyXG4gICAgaWYgKGxvd2VyQ2FzZSkgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgLy8gY2xlYW4gdGhlIHN0cmluZzpcclxuICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9bIF0vZywgJycpLnJlcGxhY2UoLywsL2csICcsJyk7XHJcblxyXG4gICAgLy8gaWYgc3RyaW5nIGVtcHR5XHJcbiAgICBpZiAoIXN0cikgcmV0dXJuIFtdO1xyXG5cclxuICAgIC8vIHJldHVybiBhcnJheSBmcm9tIHN0cmluZ1xyXG4gICAgcmV0dXJuIHN0ci5zcGxpdChkZWxpbWl0ZXIpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3QoYXJyYXk6IGFueVtdLCAuLi5hcmdzOiBhbnlbXSk6IGFueVtdIHtcclxuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gW107XHJcbiAgICB2YXIgcmVzdWx0OiBhbnlbXSA9IFtdO1xyXG4gICAgdmFyIGFyZ3NMZW5ndGg6IG51bWJlciA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgaXRlbTogYW55ID0gYXJyYXlbaV07XHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXhPZihyZXN1bHQsIGl0ZW0pICE9IC0xKSBjb250aW51ZTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8IGFyZ3NMZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICB2YXIgYXJyOiBhbnlbXSA9IGFyZ3VtZW50c1tqXTtcclxuICAgICAgICAgICAgaWYgKGFyciA9PSBudWxsIHx8IHRoaXMuaW5kZXhPZihhcnIsIGl0ZW0pID09IC0xKSBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGogPT09IGFyZ3NMZW5ndGgpIHJlc3VsdC5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gbGFzdEluZGV4T2Y8VD4oYXJyOiBJRW51bWVyYWJsZTxUPiwgdmFsOiBULCBmcm9tSW5kZXggPSAwKTogbnVtYmVyIHtcclxuICAgIGZvciAodmFyIGkgPSBhcnIubGVuZ3RoOyAtLWkgPj0gZnJvbUluZGV4OyApIHtcclxuICAgICAgICBpZiAoYXJyW2ldID09PSB2YWwpIHJldHVybiBpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAtMTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaDxUPihhcnI6IElFbnVtZXJhYmxlPFQ+LCBhY3Rpb246IChlbGVtZW50OiBULCBpbmRleD86IG51bWJlciwgYXJyPzogSUVudW1lcmFibGU8VD4pID0+IHZvaWQpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSBhY3Rpb24oYXJyW2ldLCBpLCBhcnIpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoUHJvcDxUPihvYmo6IElNYXA8VD4sIGFjdGlvbjogKHByb3A6IFQsIG5hbWU6IHN0cmluZywgb2JqOiBJTWFwPFQ+KSA9PiB2b2lkKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2hQcm9wPFQgZXh0ZW5kcyBPYmplY3Q+KG9iajogVCwgYWN0aW9uOiAocHJvcDogYW55LCBuYW1lOiBzdHJpbmcsIG9iajogVCkgPT4gdm9pZCk7XHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoUHJvcChvYmo6IE9iamVjdCwgYWN0aW9uOiAocHJvcDogYW55LCBuYW1lOiBzdHJpbmcsIG9iajogT2JqZWN0KSA9PiB2b2lkKSB7XHJcbiAgICBmb3IgKHZhciBuYW1lIGluIG9iaikge1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkobmFtZSkpIGFjdGlvbihvYmpbbmFtZV0sIG5hbWUsIG9iaik7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNvbWU8VD4oYXJyOiBJRW51bWVyYWJsZTxUPiwgY29uZGl0aW9uOiAoZWxlbWVudDogVCwgaW5kZXg/OiBudW1iZXIsIGFycj86IElFbnVtZXJhYmxlPFQ+KSA9PiBib29sZWFuKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGlmIChjb25kaXRpb24oYXJyW2ldLCBpLCBhcnIpKSByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGV2ZXJ5PFQ+KGFycjogSUVudW1lcmFibGU8VD4sIGNvbmRpdGlvbjogKGVsZW1lbnQ6IFQsIGluZGV4PzogbnVtYmVyLCBhcnI/OiBJRW51bWVyYWJsZTxUPikgPT4gYm9vbGVhbikge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICBpZiAoIWNvbmRpdGlvbihhcnJbaV0sIGksIGFycikpIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZXZlcnlQcm9wPFQ+KG9iajogSU1hcDxUPiwgY29uZGl0aW9uOiAocHJvcDogVCwgbmFtZTogc3RyaW5nLCBvYmo6IElNYXA8VD4pID0+IGJvb2xlYW4pO1xyXG5leHBvcnQgZnVuY3Rpb24gZXZlcnlQcm9wPFQ+KG9iajogVCwgY29uZGl0aW9uOiAocHJvcCwgbmFtZTogc3RyaW5nLCBvYmo6IFQpID0+IGJvb2xlYW4pO1xyXG5leHBvcnQgZnVuY3Rpb24gZXZlcnlQcm9wKG9iajogT2JqZWN0LCBjb25kaXRpb246IChwcm9wLCBuYW1lOiBzdHJpbmcsIG9iajogT2JqZWN0KSA9PiBib29sZWFuKSB7XHJcbiAgICBmb3IgKHZhciBuYW1lIGluIG9iaikge1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkobmFtZSkgJiYgIWNvbmRpdGlvbihvYmpbbmFtZV0sIG5hbWUsIG9iaikpIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gbWFwPFMsIFQ+KGFycjogSUVudW1lcmFibGU8Uz4sIGFjdGlvbjogKGVsZW1lbnQ6IFMsIGluZGV4PzogbnVtYmVyLCBhcnI/OiBJRW51bWVyYWJsZTxTPikgPT4gVCkge1xyXG4gICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheTxUPigpO1xyXG5cclxuICAgIGZvckVhY2goYXJyLCAoaXRlbSwgaWR4LCBhcnIpID0+IHJlc3VsdC5wdXNoKGFjdGlvbihpdGVtLCBpZHgsIGFycikpKTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdEluZGV4PFQ+KGFycjogSUVudW1lcmFibGU8VD4sIGNvbmRpdGlvbjogKGVsZW1lbnQ6IFQsIGluZGV4PzogbnVtYmVyLCBhcnI/OiBJRW51bWVyYWJsZTxUPikgPT4gYm9vbGVhbik6IG51bWJlciB7XHJcbiAgICB2YXIgcmVzdWx0OiBudW1iZXIgPSAtMTtcclxuICAgIHNvbWUoYXJyLCAoaXRlbSwgaW5kZXgsIGFycikgPT4ge1xyXG4gICAgICAgIGlmIChjb25kaXRpb24oaXRlbSwgaW5kZXgsIGFycikpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZmlyc3Q8VD4oYXJyOiBJRW51bWVyYWJsZTxUPiwgY29uZGl0aW9uOiAoZWxlbWVudDogVCwgaW5kZXg/OiBudW1iZXIsIGFycj86IElFbnVtZXJhYmxlPFQ+KSA9PiBib29sZWFuKTogVCB7XHJcbiAgICByZXR1cm4gYXJyW2ZpcnN0SW5kZXgoYXJyLCBjb25kaXRpb24pXTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsRW51bVZhbHVlczxUPihlbnVtVHlwZSk6IFRbXSB7XHJcbiAgICB2YXIgcmVzdWx0czogVFtdID0gW107XHJcblxyXG4gICAgZm9yICh2YXIgaSBpbiBlbnVtVHlwZSkgaWYgKHR5cGVvZiBlbnVtVHlwZVtpXSA9PSAnbnVtYmVyJykgcmVzdWx0cy5wdXNoKGVudW1UeXBlW2ldKTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0cztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VW5pcXVlVmFsdWVzPFQ+KGFycjogVFtdKTogVFtdIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IGkgKyAxOyBqIDwgYXJyLmxlbmd0aDsgaisrKVxyXG4gICAgICAgICAgICBpZiAoYXJyW2ldID09PSBhcnJbal0pIHtcclxuICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoaiwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcnI7XHJcbn1cclxuIiwiaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XHJcblxyXG52YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xyXG52YXIgX2NhY2hlID0ge1xyXG4gICAgdmVyc2lvbjogbnVsbCxcclxufTtcclxuZXhwb3J0IGZ1bmN0aW9uIGlzTW9kZXJuKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBsb2NhbEluZm8uaXNDaHJvbWUgfHxcclxuICAgICAgICBsb2NhbEluZm8uaXNGRiB8fFxyXG4gICAgICAgIGxvY2FsSW5mby5pc09wZXJhIHx8XHJcbiAgICAgICAgbG9jYWxJbmZvLmlzSU9TV2ViVmlldyB8fFxyXG4gICAgICAgIChsb2NhbEluZm8uaXNJRSAmJiBnZXRWZXJzaW9uKCkgPj0gOSkgfHxcclxuICAgICAgICBsb2NhbEluZm8uaXNFZGdlIHx8XHJcbiAgICAgICAgKGxvY2FsSW5mby5pc1NhZmFyaSAmJiBnZXRWZXJzaW9uKCkgPj0gNCkgfHxcclxuICAgICAgICBsb2NhbEluZm8uaXNHb29nbGVCb3RcclxuICAgICk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFZlcnNpb24oKSB7XHJcbiAgICBpZiAoX2NhY2hlLnZlcnNpb24pIHJldHVybiBfY2FjaGUudmVyc2lvbjtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIHZlcnNpb25BcnJheSA9IHVzZXJBZ2VudC5tYXRjaCgvKG9wZXJhfGNocm9tZXxzYWZhcml8ZmlyZWZveHxtc2llfHRyaWRlbnQuKnJ2OilcXC8/XFxzKihcXC4/XFxkKyhcXC5cXGQrKSopL2kpO1xyXG4gICAgICAgIGlmICh2ZXJzaW9uQXJyYXlbMl0pIHtcclxuICAgICAgICAgICAgdmFyIG1ham9yVmVyID0gdmVyc2lvbkFycmF5WzJdLnNwbGl0KCcuJylbMF07XHJcbiAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VJbnQobWFqb3JWZXIpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChfY2FjaGUudmVyc2lvbiA9IHBhcnNlSW50KG1ham9yVmVyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHt9XHJcbiAgICByZXR1cm4gMDtcclxufVxyXG4iLCJpbXBvcnQgeyBsb2NhbEluZm8gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9jYWxJbmZvJztcclxuXHJcbmRlY2xhcmUgZnVuY3Rpb24gdW5lc2NhcGUoZXNjYXBlZFN0cjogc3RyaW5nKTogc3RyaW5nO1xyXG5kZWNsYXJlIGZ1bmN0aW9uIGVzY2FwZSh1bmVzY2FwZWRTdHI6IHN0cmluZyk6IHN0cmluZztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfZ2V0QmFzZURvbWFpbigpIHtcclxuICAgIHJldHVybiBsb2NhbEluZm8uYmFzZURvbWFpbiB8fCAnJztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdERvbWFpbihwYWdlRG9tYWluID0gbG9jYWxJbmZvLnBhZ2VEb21haW4sIGJhc2VEb21haW4gPSBfZ2V0QmFzZURvbWFpbigpKTogc3RyaW5nIHtcclxuICAgIGxldCBjb29raWVEb21haW47XHJcbiAgICBjb29raWVEb21haW4gPVxyXG4gICAgICAgIGJhc2VEb21haW4ubGVuZ3RoID4gMCAmJiBwYWdlRG9tYWluLmxlbmd0aCA+PSBiYXNlRG9tYWluLmxlbmd0aCAmJiBwYWdlRG9tYWluLmxhc3RJbmRleE9mKGJhc2VEb21haW4pID09PSBwYWdlRG9tYWluLmxlbmd0aCAtIGJhc2VEb21haW4ubGVuZ3RoXHJcbiAgICAgICAgICAgID8gYmFzZURvbWFpblxyXG4gICAgICAgICAgICA6IHBhZ2VEb21haW47XHJcbiAgICByZXR1cm4gY29va2llRG9tYWluO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXQobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKS5yZXBsYWNlKC9eWyBcXHRdK3xbIFxcdF0rJC9nLCAnJyk7XHJcbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCcoPzpefDspXFxcXHM/JyArIG5hbWUgKyAnPSguKj8pKD86O3wkKScpO1xyXG4gICAgdmFyIG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKHJlZ2V4KTtcclxuICAgIHJldHVybiBtYXRjaCAmJiB1bmVzY2FwZShtYXRjaFsxXSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNldChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXNfaW4/OiBhbnksIGNvb2tpZURvbWFpbj86IHN0cmluZywgZG9udFVzZVJvb3RQYXRoPzogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgY29uc3QgcGFnZURvbWFpbiA9IGxvY2FsSW5mby5wYWdlRG9tYWluO1xyXG4gICAgaWYgKGNvb2tpZURvbWFpbiA9PSBudWxsKSB7XHJcbiAgICAgICAgY29va2llRG9tYWluID0gZ2V0RGVmYXVsdERvbWFpbigpO1xyXG4gICAgfVxyXG4gICAgbGV0IGV4cGlyZU1zOiBudW1iZXI7XHJcbiAgICBpZiAoZXhwaXJlc19pbiA9PSBudWxsIHx8IGV4cGlyZXNfaW4gPT09ICcnIHx8IGlzTmFOKGV4cGlyZXNfaW4pKSB7XHJcbiAgICAgICAgZXhwaXJlTXMgPSAxMDAwICogZ2V0SW5maW5pdGVFeHBpcmF0aW9uVGltZUluU2Vjb25kcygpO1xyXG4gICAgfSBlbHNlIGlmIChleHBpcmVzX2luID09IDApIHtcclxuICAgICAgICAvLyAwIG1lYW5zIFNlc3Npb25cclxuICAgICAgICBleHBpcmVNcyA9IG51bGw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEFueSBvdGhlciB2YWx1ZSBpcyBudW1iZXIgb2Ygc2Vjb25kcyAoQSBuZWdhdGl2ZSB2YWx1ZSB3b3VsZCBtZWFuIGV4cGlyZSBub3chKVxyXG4gICAgICAgIGV4cGlyZU1zID0gZXhwaXJlc19pbiAqIDEwMDA7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGV4ZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICBleGRhdGUuc2V0VGltZShleGRhdGUuZ2V0VGltZSgpICsgZXhwaXJlTXMpO1xyXG5cclxuICAgIHZhciBjb29raWVTdHJpbmcgPVxyXG4gICAgICAgIG5hbWUgK1xyXG4gICAgICAgICc9JyArXHJcbiAgICAgICAgZXNjYXBlKHZhbHVlKSArXHJcbiAgICAgICAgKGRvbnRVc2VSb290UGF0aCA/ICcnIDogJzsgcGF0aD0vJykgK1xyXG4gICAgICAgIChleHBpcmVNcyA9PSBudWxsID8gJycgOiAnOyBleHBpcmVzPScgKyBleGRhdGUudG9VVENTdHJpbmcoKSkgK1xyXG4gICAgICAgIChjb29raWVEb21haW4gJiYgY29va2llRG9tYWluICE9ICcnICYmIGNvb2tpZURvbWFpbi5pbmRleE9mKCcuJykgIT0gLTEgPyAnOyBkb21haW49JyArIGNvb2tpZURvbWFpbiA6ICcnKTtcclxuICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZVN0cmluZztcclxuXHJcbiAgICAvLyBTb21lIGJyb3dzZXJzIGxpa2UgSUU4IGRvbid0IGxpa2Ugc29tZSBkb21haW5zIChlLmcuIGRvbWFpbnMgb2YgdGhlIGZvcm0geHgueXkpXHJcbiAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzExODk2MzgvaW50ZXJuZXQtZXhwbG9yZXIteHgteXktd2Vic2l0ZS1pc3N1ZVxyXG4gICAgaWYgKCghZXhwaXJlTXMgfHwgZXhwaXJlTXMgPiAwKSAmJiAhZ2V0KG5hbWUpKSB7XHJcbiAgICAgICAgY29va2llU3RyaW5nID1cclxuICAgICAgICAgICAgbmFtZSArXHJcbiAgICAgICAgICAgICc9JyArXHJcbiAgICAgICAgICAgIGVzY2FwZSh2YWx1ZSkgK1xyXG4gICAgICAgICAgICAoZG9udFVzZVJvb3RQYXRoID8gJycgOiAnOyBwYXRoPS8nKSArXHJcbiAgICAgICAgICAgIChleHBpcmVNcyA9PSBudWxsID8gJycgOiAnOyBleHBpcmVzPScgKyBleGRhdGUudG9VVENTdHJpbmcoKSkgK1xyXG4gICAgICAgICAgICAocGFnZURvbWFpbiAmJiBwYWdlRG9tYWluICE9ICcnICYmIHBhZ2VEb21haW4uaW5kZXhPZignLicpICE9IC0xID8gJzsgZG9tYWluPScgKyBwYWdlRG9tYWluIDogJycpO1xyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZVN0cmluZztcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgdmFyIHBhZ2VEb21haW4gPSBsb2NhbEluZm8ucGFnZURvbWFpbjtcclxuICAgIHZhciBiYXNlRG9tYWluID0gX2dldEJhc2VEb21haW4oKTtcclxuXHJcbiAgICBpZiAoYmFzZURvbWFpbi5sZW5ndGggPiAwICYmIHBhZ2VEb21haW4ubGVuZ3RoID49IGJhc2VEb21haW4ubGVuZ3RoICYmIHBhZ2VEb21haW4ubGFzdEluZGV4T2YoYmFzZURvbWFpbikgPT09IHBhZ2VEb21haW4ubGVuZ3RoIC0gYmFzZURvbWFpbi5sZW5ndGgpIHtcclxuICAgICAgICBzZXQobmFtZSwgJycsIC0xLCBiYXNlRG9tYWluKTsgLy8gcmVtb3ZlIGFsc28gZnJvbSB0aGUgc3ViRG9tYWluLlxyXG4gICAgICAgIHNldChuYW1lLCAnJywgLTEsIGJhc2VEb21haW4sIHRydWUpO1xyXG4gICAgfVxyXG4gICAgc2V0KG5hbWUsICcnLCAtMSwgbG9jYWxJbmZvLnBhZ2VEb21haW4pO1xyXG4gICAgc2V0KG5hbWUsICcnLCAtMSwgbG9jYWxJbmZvLnBhZ2VEb21haW4sIHRydWUpO1xyXG4gICAgc2V0KG5hbWUsICcnLCAtMSwgJycpO1xyXG4gICAgc2V0KG5hbWUsICcnLCAtMSwgJycsIHRydWUpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRJbmZpbml0ZUV4cGlyYXRpb25UaW1lSW5TZWNvbmRzKCkge1xyXG4gICAgLy8gU2V0IGV4cGlyYXRpb24gdGltZSB0byAxIHllYXJzXHJcbiAgICByZXR1cm4gNjAgKiA2MCAqIDI0ICogMzY1O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjYW5TYXZlQ29va2llKGRvYyA9IGRvY3VtZW50KSB7XHJcbiAgICB2YXIgZCA9IG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgMTAwMCk7IC8vIDEgc2Vjb25kIGV4cGlyYXRpb24uXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBkb2MuY29va2llID0gJ2dpZzNwY3Rlc3Q9dHJ1ZTtleHBpcmVzPScgKyBkWyd0b0dNVFN0cmluZyddKCk7XHJcbiAgICAgICAgcmV0dXJuIGRvYy5jb29raWUuaW5kZXhPZignZ2lnM3BjdGVzdCcpICE9PSAtMTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAvLyBpT1MgMTAgd2VidmlldyB0aHJvd3MgaW4gc29tZSBzY2VuYXJpb3NcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIG5vdygpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIERhdGUubm93KCk7XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShzY29wZSwgbWV0aG9kOiBGdW5jdGlvbikge1xyXG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiBtZXRob2QuYXBwbHkoc2NvcGUsIGFyZ3MpO1xyXG59XHJcbiIsImltcG9ydCB7IFVyaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VcmknO1xyXG5pbXBvcnQgKiBhcyBzdHJpbmdVdGlsc1V0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zdHJpbmdVdGlscyc7XHJcbmltcG9ydCB7IGxvY2FsSW5mbyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2NhbEluZm8nO1xyXG5cclxuZXhwb3J0IGRlY2xhcmUgdmFyIGdldEFwaURvbWFpbjogKG5hbWVzcGFjZT86IHN0cmluZykgPT4gc3RyaW5nO1xyXG5jb25zdCBnaWd5YURvbWFpbk5hbWVzcGFjZXMgPSBbJ3NvY2lhbGl6ZScsICdhY2NvdW50cycsICdmaWRtJywgJ2dtJywgJ2NvbW1lbnRzJywgJ2djcycsICdpZHMnLCAnZHMnLCAnZ3Njb3VudGVycyddO1xyXG5leHBvcnQgZnVuY3Rpb24gYXBpRG9tYWluRmFjdG9yeShhcGlEb21haW4gPSByZXNvbHZlQXBpRG9tYWluKCksIGRlZmF1bHRBcGlEb21haW4gPSBnaWd5YS5kZWZhdWx0QXBpRG9tYWluKTogKG5hbWVzcGFjZT86IHN0cmluZykgPT4gc3RyaW5nIHtcclxuICAgIGNvbnN0IHNob3VsZEFkZE5hbWVzcGFjZSA9IFVyaS5wYXJzZShhcGlEb21haW4pLmlzSW4oVXJpLnBhcnNlKGRlZmF1bHRBcGlEb21haW4pKTtcclxuXHJcbiAgICByZXR1cm4gKG5hbWVzcGFjZT86IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGlmIChuYW1lc3BhY2UgJiYgc2hvdWxkQWRkTmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICAgIGxldCBzdWJEb21haW4gPSBuYW1lc3BhY2Uuc3BsaXQoJy4nKVswXTtcclxuICAgICAgICAgICAgaWYgKGdpZ3lhRG9tYWluTmFtZXNwYWNlcy5pbmRleE9mKHN1YkRvbWFpbikgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5lcnJvcihgdHJ5aW5nIHRvIHNlbmQgcmVxdWVzdCB0byBhbiBpbnZhbGlkIGRvbWFpbmApO1xyXG4gICAgICAgICAgICAgICAgc3ViRG9tYWluID0gZ2lneWFEb21haW5OYW1lc3BhY2VzWzBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYCR7c3ViRG9tYWlufS4ke2FwaURvbWFpbn1gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcGlEb21haW47XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2lneWFEb21haW4obmFtZXNwYWNlPzogc3RyaW5nLCBkYXRhQ2VudGVyID0gZ2lneWEuZGF0YUNlbnRlciwgZGVmYXVsdERvbWFpbiA9IGdpZ3lhLmRlZmF1bHRBcGlEb21haW4pIHtcclxuICAgIGNvbnN0IGRvbWFpbiA9IGAke2RhdGFDZW50ZXJ9LiR7ZGVmYXVsdERvbWFpbn1gO1xyXG5cclxuICAgIGlmIChuYW1lc3BhY2UpIHJldHVybiBgJHtuYW1lc3BhY2V9LiR7ZG9tYWlufWA7XHJcbiAgICBlbHNlIHJldHVybiBkb21haW47XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJhc2VEb21haW4oXHJcbiAgICBiYXNlRG9tYWluczogc3RyaW5nW118c3RyaW5nID0gZ2lneWEucGFydG5lclNldHRpbmdzLmJhc2VEb21haW5zLFxyXG4gICAgY3VycmVudERvbWFpbiA9IGxvY2F0aW9uLmhvc3RuYW1lLFxyXG4gICAgZGVmYXVsdERvbWFpbnMgPSBbJ2dpZ3lhLmNvbScsICdnaWd5YS1hcGkuY24nLCBnaWd5YS5kZWZhdWx0QXBpRG9tYWluXSxcclxuKTogc3RyaW5nIHtcclxuICAgIC8vICM0OTc4NiAtIFN1cHBvcnQgd2VidmlldyB3aXRob3V0IGhvc3RuYW1lLlxyXG4gICAgaWYgKCFjdXJyZW50RG9tYWluKSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgYmFzZURvbWFpbnMgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICBiYXNlRG9tYWlucyA9IGJhc2VEb21haW5zLnNwbGl0KCcsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG9yaWdpblVSSSA9IFVyaS5wYXJzZShjdXJyZW50RG9tYWluKTtcclxuXHJcbiAgICBpZiAoZGVmYXVsdERvbWFpbnMpIHtcclxuICAgICAgICBiYXNlRG9tYWlucyA9IGJhc2VEb21haW5zLmNvbmNhdChkZWZhdWx0RG9tYWlucyk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IHJhd0RvbWFpbiBvZiBiYXNlRG9tYWlucykge1xyXG4gICAgICAgIC8vIFRoaXMgZG9lcyBub3QgdGFrZSBjYXJlIG9mIHdpbGRjYXJkcyBpbiB0aGUgbWlkZGxlIG9mIHN0cmluZy5cclxuICAgICAgICBjb25zdCBiYXNlRG9tYWluID0gc3RyaW5nVXRpbHNVdGlscy5yZXBsYWNlQWxsKHJhd0RvbWFpbiwgJyonLCAnJyk7XHJcbiAgICAgICAgY29uc3QgYmFzZVVyaSA9IFVyaS5wYXJzZShiYXNlRG9tYWluKTtcclxuICAgICAgICBpZiAoYmFzZVVyaSAmJiBvcmlnaW5VUkkuaXNJbihiYXNlVXJpKSkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVVyaS5pc0ZvclN1YkRvbWFpbnMoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpblVSSS5kb21haW47XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZVVyaS5kb21haW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmFsbGJhY2sgdG8gdGhlIHBhcmVudCdzIHdpbmRvdyBkb21haW4gKGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5KS5cclxuICAgIHJldHVybiBvcmlnaW5VUkkuZG9tYWluO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXBpRG9tYWluKFxyXG4gICAgY3VzdG9tQXBpRG9tYWluUHJlZml4ID0gZ2lneWEucGFydG5lclNldHRpbmdzICYmIGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5jdXN0b21BUElEb21haW5QcmVmaXgsXHJcbiAgICBiYXNlRG9tYWluID0gbG9jYWxJbmZvLmJhc2VEb21haW4sXHJcbiAgICBkYXRhQ2VudGVyID0gZ2lneWEuZGF0YUNlbnRlcixcclxuICAgIGRlZmF1bHRBcGlEb21haW4gPSBnaWd5YS5kZWZhdWx0QXBpRG9tYWluLFxyXG4pIHtcclxuICAgIGlmIChjdXN0b21BcGlEb21haW5QcmVmaXggJiYgYmFzZURvbWFpbiAmJiBiYXNlRG9tYWluICE9PSBkZWZhdWx0QXBpRG9tYWluKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke2N1c3RvbUFwaURvbWFpblByZWZpeH0uJHtiYXNlRG9tYWlufWA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBnZXRHaWd5YURvbWFpbih1bmRlZmluZWQsIGRhdGFDZW50ZXIsIGRlZmF1bHRBcGlEb21haW4pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIERPTVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9ET00nO1xyXG5pbXBvcnQgeyBnZXRDZG5SZXNvdXJjZSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9jZG4nO1xyXG5pbXBvcnQgeyBsb2NhbEluZm8gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9jYWxJbmZvJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxsRnVuY3Rpb24obmFtZTogc3RyaW5nLCBhclBhcmFtczogYW55W10pOiB2b2lkIHtcclxuICAgIHZhciBmbiA9IGV2YWwobmFtZSk7XHJcbiAgICB2YXIgYXJQYXJ0cyA9IG5hbWUuc3BsaXQoJy4nKTtcclxuICAgIGFyUGFydHMuc3BsaWNlKGFyUGFydHMubGVuZ3RoIC0gMSwgMSk7XHJcbiAgICB2YXIgc2NvcGUgPSBldmFsKGFyUGFydHMuam9pbignLicpKTtcclxuICAgIGZuLmFwcGx5KHNjb3BlLCBhclBhcmFtcyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGludm9rZU9uUGFnZUxvYWQoZnVuYzogRnVuY3Rpb24sIGNvbXBsZXRlT25seT86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIGlmIChcclxuICAgICAgICAoIWRvY3VtZW50LnJlYWR5U3RhdGUgJiYgZG9jdW1lbnQuYm9keSkgfHxcclxuICAgICAgICBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnIHx8XHJcbiAgICAgICAgKCFjb21wbGV0ZU9ubHkgJiYgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2ludGVyYWN0aXZlJyAmJiBkb2N1bWVudC5ib2R5KVxyXG4gICAgKSB7XHJcbiAgICAgICAgZnVuYygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgZm5PbkxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCFjYWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBmdW5jKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmbk9uTG9hZCwgMjAwMDApOyAvLyBmYWxsYmFjayAtIHNvbWV0aW1lcyByZWFkeXN0YXRlIHN0YXlzIHN0dWNrIG9uIGludGVyYWN0aXZlXHJcblxyXG4gICAgICAgIERPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAnbG9hZCcsIGZuT25Mb2FkKTtcclxuICAgICAgICBET01VdGlscy5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCAnRE9NQ29udGVudExvYWRlZCcsIGZuT25Mb2FkKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWxpYXMocHVibGljTmFtZTogc3RyaW5nLCBmbmM6IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBjb25zdCBhck5hbWVTZWdtZW50cyA9IHB1YmxpY05hbWUuc3BsaXQoJy4nKTtcclxuICAgIGxldCBvQ3VycmVudFNlZ21lbnQgPSB3aW5kb3c7XHJcbiAgICBmb3IgKGxldCBpU2VnbWVudCA9IDA7IGlTZWdtZW50IDwgYXJOYW1lU2VnbWVudHMubGVuZ3RoIC0gMTsgaVNlZ21lbnQrKykge1xyXG4gICAgICAgIGNvbnN0IHNTZWdtZW50ID0gYXJOYW1lU2VnbWVudHNbaVNlZ21lbnRdO1xyXG4gICAgICAgIGlmICghb0N1cnJlbnRTZWdtZW50W3NTZWdtZW50XSkge1xyXG4gICAgICAgICAgICBvQ3VycmVudFNlZ21lbnRbc1NlZ21lbnRdID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9DdXJyZW50U2VnbWVudCA9IG9DdXJyZW50U2VnbWVudFtzU2VnbWVudF07XHJcbiAgICB9XHJcbiAgICBvQ3VycmVudFNlZ21lbnRbYXJOYW1lU2VnbWVudHNbYXJOYW1lU2VnbWVudHMubGVuZ3RoIC0gMV1dID0gZm5jO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShmbjogKCkgPT4gdm9pZCwgZGVsYXlNaWxsaXNlY29uZHM6IG51bWJlcik6ICgpID0+IHZvaWQge1xyXG4gICAgbGV0IHRpbWVyOiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRpbWVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGltZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGZuKCk7XHJcbiAgICAgICAgfSwgZGVsYXlNaWxsaXNlY29uZHMpIGFzIGFueTtcclxuICAgIH07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFNyY1RvSUZyYW1lSWZOZWVkZWQoaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCwgc3JjOiBzdHJpbmcgPSBnZXRDZG5SZXNvdXJjZSgnLycpKSB7XHJcbiAgICBpZiAobG9jYWxJbmZvLmlzSU9TV2ViVmlldyB8fCAobG9jYWxJbmZvLmlzSU9TICYmIGxvY2FsSW5mby5pc1dlQ2hhdCkpIHtcclxuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzcmMnLCBzcmMpO1xyXG4gICAgfVxyXG59XHJcbiIsImNvbnN0IGdpZ3lhQ2RuUmVnZXggPSAvXFwvXFwvY2RuKHMpP1xcLihydTFcXC4pP2dpZ3lhLmNvbS87XHJcbmNvbnN0IGZpbGVOYW1lcyA9IFsnZ2lneWEuanMnLCAnc29jaWFsaXplLmpzJywgJ3NvY2lhbGl6ZTIuanMnLCAnZ3Nqc3Nkay5qcyddO1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2lneWFTY3JpcHRFbGVtZW50KCk6IEhUTUxTY3JpcHRFbGVtZW50IHtcclxuICAgIGxldCBzY3JpcHRFbGVtZW50OiBIVE1MU2NyaXB0RWxlbWVudDtcclxuICAgIGNvbnN0IHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0Jyk7XHJcbiAgICBmb3IgKGxldCBpID0gc2NyaXB0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGxldCBzY3JpcHQgPSBzY3JpcHRzW2ldO1xyXG4gICAgICAgIGxldCBzcmMgPSBzY3JpcHQuc3JjLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKHNyYyAhPT0gJycpIHtcclxuICAgICAgICAgICAgaWYgKGdpZ3lhQ2RuUmVnZXgudGVzdChzcmMpIHx8IHNyYy5pbmRleE9mKCc/YXBpa2V5PScpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc0ZpbGVOYW1lRXhpc3RJblNyYyA9IGZpbGVOYW1lcy5sZW5ndGggPT09IDAgfHwgZmlsZU5hbWVzLnNvbWUoZmlsZU5hbWUgPT4gc3JjLmluZGV4T2YoZmlsZU5hbWUpID4gLTEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRmlsZU5hbWVFeGlzdEluU3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0RWxlbWVudCA9IHNjcmlwdDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzY3JpcHRFbGVtZW50O1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkKGdsdGV4cDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gZ2V0TWlsbGlzKGdsdGV4cCkgPiBEYXRlLm5vdygpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXgoLi4uZ2x0ZXhwczogc3RyaW5nW10pOiBzdHJpbmcge1xyXG4gICAgaWYgKCFnbHRleHBzIHx8ICFnbHRleHBzLmxlbmd0aCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIHJldHVybiBnbHRleHBzLnNvcnQoKGdsdGV4cEEsIGdsdGV4cEIpID0+IGdldE1pbGxpcyhnbHRleHBCKSAtIGdldE1pbGxpcyhnbHRleHBBKSlbMF07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE1pbGxpcyhnbHRFeHA6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xyXG4gICAgcmV0dXJuICFnbHRFeHAgPyAwIDogTnVtYmVyKGdsdEV4cC5zdWJzdHIoMCwgZ2x0RXhwLmluZGV4T2YoJ18nKSkpICogMTAwMDtcclxufVxyXG4iLCJpbXBvcnQgKiBhcyBHaWd5YVV0aWxzQXJyYXkgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2FycmF5JztcclxuaW1wb3J0ICogYXMgR2lneWFVdGlsc0Jyb3dzZXIgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Jyb3dzZXInO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzQ29va2llIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9jb29raWUnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzRGF0ZSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZGF0ZSc7XHJcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNEZWxlZ2F0ZSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZGVsZWdhdGUnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzRE9NIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9ET00nO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzRG9tYWlucyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZG9tYWlucyc7XHJcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNGdW5jdGlvbnMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2dpZ3lhU2NyaXB0RWwnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzR2x0ZXhwIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9nbHRleHAnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzSFRUUCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSFRUUCc7XHJcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNKU09OIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9KU09OJztcclxuaW1wb3J0ICogYXMgR2lneWFVdGlsc0tleWJvYXJkIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9rZXlib2FyZCc7XHJcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNLZXlWYWx1ZSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMva2V5VmFsdWUnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzTG9jYWxTdG9yYWdlIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9sb2NhbFN0b3JhZ2UnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzTW91c2UgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL21vdXNlJztcclxuaW1wb3J0ICogYXMgR2lneWFVdGlsc09iamVjdCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcclxuaW1wb3J0ICogYXMgR2lneWFVdGlsc1F1ZXVlIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9xdWV1ZSc7XHJcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNTYW5pdGl6ZSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2FuaXRpemUnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzU2NyaXB0IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zY3JpcHQnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzU2Vzc2lvbkNhY2hlIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zZXNzaW9uQ2FjaGUnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzXzEgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3N0cmluZ1BhcmFtcyc7XHJcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNTdHJpbmdVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc3RyaW5nVXRpbHMnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzXzIgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3RhYmJhYmxlJztcclxuaW1wb3J0ICogYXMgR2lneWFVdGlsc1RlbXBsYXRlcyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvdGVtcGxhdGVzJztcclxuaW1wb3J0ICogYXMgR2lneWFVdGlsc1VyaSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVXJpJztcclxuaW1wb3J0ICogYXMgR2lneWFVdGlsc1VSTCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVVJMJztcclxuaW1wb3J0ICogYXMgR2lneWFVdGlsc1ZhbGlkYXRpb24gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3ZhbGlkYXRpb24nO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzVmlld3BvcnQgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3ZpZXdwb3J0JztcclxuaW1wb3J0ICogYXMgR2lneWFVdGlsc1dpbiBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvd2luJztcclxuaW1wb3J0ICogYXMgR2lneWFVdGlsc1hkIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy94ZCc7XHJcblxyXG5cclxuZGVjbGFyZSBjb25zdCBnaWd5YTogYW55O1xyXG5cclxuaWYgKCFnaWd5YS5fKSB7XHJcbiAgICBnaWd5YS5fID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS51dGlscykge1xyXG4gICAgZ2lneWEudXRpbHMgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLnV0aWxzLmFycmF5KSB7XHJcbiAgICBnaWd5YS51dGlscy5hcnJheSA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEudXRpbHMuYnJvd3Nlcikge1xyXG4gICAgZ2lneWEudXRpbHMuYnJvd3NlciA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEudXRpbHMuY29va2llKSB7XHJcbiAgICBnaWd5YS51dGlscy5jb29raWUgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLnV0aWxzLmRhdGUpIHtcclxuICAgIGdpZ3lhLnV0aWxzLmRhdGUgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLnV0aWxzLmRlbGVnYXRlKSB7XHJcbiAgICBnaWd5YS51dGlscy5kZWxlZ2F0ZSA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEudXRpbHMuRE9NKSB7XHJcbiAgICBnaWd5YS51dGlscy5ET00gPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLnV0aWxzLmZ1bmN0aW9ucykge1xyXG4gICAgZ2lneWEudXRpbHMuZnVuY3Rpb25zID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS51dGlscy5nbHRleHApIHtcclxuICAgIGdpZ3lhLnV0aWxzLmdsdGV4cCA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEudXRpbHMuSFRUUCkge1xyXG4gICAgZ2lneWEudXRpbHMuSFRUUCA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEudXRpbHMuSlNPTikge1xyXG4gICAgZ2lneWEudXRpbHMuSlNPTiA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEudXRpbHMua2V5Ym9hcmQpIHtcclxuICAgIGdpZ3lhLnV0aWxzLmtleWJvYXJkID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS51dGlscy5rZXlWYWx1ZSkge1xyXG4gICAgZ2lneWEudXRpbHMua2V5VmFsdWUgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLnV0aWxzLmxvY2FsU3RvcmFnZSkge1xyXG4gICAgZ2lneWEudXRpbHMubG9jYWxTdG9yYWdlID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS51dGlscy5tb3VzZSkge1xyXG4gICAgZ2lneWEudXRpbHMubW91c2UgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLnV0aWxzLm9iamVjdCkge1xyXG4gICAgZ2lneWEudXRpbHMub2JqZWN0ID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS51dGlscy5xdWV1ZSkge1xyXG4gICAgZ2lneWEudXRpbHMucXVldWUgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLnV0aWxzLnNhbml0aXplKSB7XHJcbiAgICBnaWd5YS51dGlscy5zYW5pdGl6ZSA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEudXRpbHMuc2NyaXB0KSB7XHJcbiAgICBnaWd5YS51dGlscy5zY3JpcHQgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLnV0aWxzLnNlc3Npb25DYWNoZSkge1xyXG4gICAgZ2lneWEudXRpbHMuc2Vzc2lvbkNhY2hlID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS51dGlscy5zdHJpbmdVdGlscykge1xyXG4gICAgZ2lneWEudXRpbHMuc3RyaW5nVXRpbHMgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLnV0aWxzLnRlbXBsYXRlcykge1xyXG4gICAgZ2lneWEudXRpbHMudGVtcGxhdGVzID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS51dGlscy5VUkwpIHtcclxuICAgIGdpZ3lhLnV0aWxzLlVSTCA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEudXRpbHMudmFsaWRhdGlvbikge1xyXG4gICAgZ2lneWEudXRpbHMudmFsaWRhdGlvbiA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEudXRpbHMudmlld3BvcnQpIHtcclxuICAgIGdpZ3lhLnV0aWxzLnZpZXdwb3J0ID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS51dGlscy53aW4pIHtcclxuICAgIGdpZ3lhLnV0aWxzLndpbiA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEudXRpbHMueGQpIHtcclxuICAgIGdpZ3lhLnV0aWxzLnhkID0ge307XHJcbn1cclxuT2JqZWN0LmFzc2lnbihnaWd5YS5fLCBHaWd5YVV0aWxzVXJpLCBHaWd5YVV0aWxzRG9tYWlucyk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuYXJyYXksIEdpZ3lhVXRpbHNBcnJheSk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuYnJvd3NlciwgR2lneWFVdGlsc0Jyb3dzZXIpO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLmNvb2tpZSwgR2lneWFVdGlsc0Nvb2tpZSk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuZGF0ZSwgR2lneWFVdGlsc0RhdGUpO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLmRlbGVnYXRlLCBHaWd5YVV0aWxzRGVsZWdhdGUpO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLkRPTSwgR2lneWFVdGlsc0RPTSk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuZnVuY3Rpb25zLCBHaWd5YVV0aWxzRnVuY3Rpb25zKTtcclxuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscywgR2lneWFVdGlscywgR2lneWFVdGlsc18xLCBHaWd5YVV0aWxzXzIpO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLmdsdGV4cCwgR2lneWFVdGlsc0dsdGV4cCk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuSFRUUCwgR2lneWFVdGlsc0hUVFApO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLkpTT04sIEdpZ3lhVXRpbHNKU09OKTtcclxuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5rZXlib2FyZCwgR2lneWFVdGlsc0tleWJvYXJkKTtcclxuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5rZXlWYWx1ZSwgR2lneWFVdGlsc0tleVZhbHVlKTtcclxuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5sb2NhbFN0b3JhZ2UsIEdpZ3lhVXRpbHNMb2NhbFN0b3JhZ2UpO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLm1vdXNlLCBHaWd5YVV0aWxzTW91c2UpO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLm9iamVjdCwgR2lneWFVdGlsc09iamVjdCk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMucXVldWUsIEdpZ3lhVXRpbHNRdWV1ZSk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuc2FuaXRpemUsIEdpZ3lhVXRpbHNTYW5pdGl6ZSk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuc2NyaXB0LCBHaWd5YVV0aWxzU2NyaXB0KTtcclxuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5zZXNzaW9uQ2FjaGUsIEdpZ3lhVXRpbHNTZXNzaW9uQ2FjaGUpO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLnN0cmluZ1V0aWxzLCBHaWd5YVV0aWxzU3RyaW5nVXRpbHMpO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLnRlbXBsYXRlcywgR2lneWFVdGlsc1RlbXBsYXRlcyk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuVVJMLCBHaWd5YVV0aWxzVVJMKTtcclxuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy52YWxpZGF0aW9uLCBHaWd5YVV0aWxzVmFsaWRhdGlvbik7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMudmlld3BvcnQsIEdpZ3lhVXRpbHNWaWV3cG9ydCk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMud2luLCBHaWd5YVV0aWxzV2luKTtcclxuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy54ZCwgR2lneWFVdGlsc1hkKTtcclxuIiwiaW1wb3J0ICogYXMgVVJMVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL1VSTCc7XHJcbmltcG9ydCAqIGFzIEpTT05VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSlNPTic7XHJcbmRlY2xhcmUgZnVuY3Rpb24gdW5lc2NhcGUoZXNjYXBlZFN0cjogc3RyaW5nKTogc3RyaW5nO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZShvS2V5VmFsdWU6IE9iamVjdCwgZGVsaW1pdGVyPzogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGEgPSBbXTtcclxuICAgIGlmICghZGVsaW1pdGVyKSB7XHJcbiAgICAgICAgZGVsaW1pdGVyID0gJyYnO1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBwIGluIG9LZXlWYWx1ZSkge1xyXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIG9LZXlWYWx1ZVtwXSkge1xyXG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgICAgICAgICAgICBpZiAob0tleVZhbHVlW3BdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBhLnB1c2gocCArICc9JyArIFVSTFV0aWxzLlVSTEVuY29kZShKU09OVXRpbHMuc2VyaWFsaXplKG9LZXlWYWx1ZVtwXSkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGEucHVzaChwICsgJz0nICsgVVJMVXRpbHMuVVJMRW5jb2RlKG9LZXlWYWx1ZVtwXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHMgPSBhLmpvaW4oZGVsaW1pdGVyKTtcclxuICAgIHJldHVybiBzO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZSh1cmxFbmNvZGVkU3RyaW5nOiBzdHJpbmcsIGRlbGltaXRlcj86IHN0cmluZywga2V5c1RvTG93ZXI/OiBib29sZWFuLCB1c2VVbmVzY2FwZT86IGJvb2xlYW4pOiBhbnkge1xyXG4gICAgY29uc3QgbyA9IHt9O1xyXG4gICAgaWYgKCF1cmxFbmNvZGVkU3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIG87XHJcbiAgICB9XHJcbiAgICBpZiAoIWRlbGltaXRlcikge1xyXG4gICAgICAgIGRlbGltaXRlciA9ICcmJztcclxuICAgIH1cclxuICAgIGNvbnN0IHBhaXJzID0gdXJsRW5jb2RlZFN0cmluZy5zcGxpdChkZWxpbWl0ZXIpO1xyXG4gICAgZm9yIChsZXQgaVBhaXIgPSAwOyBpUGFpciA8IHBhaXJzLmxlbmd0aDsgaVBhaXIrKykge1xyXG4gICAgICAgIGNvbnN0IHBhaXIgPSBwYWlyc1tpUGFpcl07XHJcbiAgICAgICAgY29uc3QgZXFQb3MgPSBwYWlyLmluZGV4T2YoJz0nKTtcclxuICAgICAgICBpZiAoZXFQb3MgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNUb0xvd2VyID8gcGFpci50b0xvd2VyQ2FzZSgpIDogcGFpcjtcclxuICAgICAgICAgICAgb1trZXldID0gJzEnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBrZXkgPSBwYWlyLnN1YnN0cigwLCBlcVBvcyk7XHJcbiAgICAgICAgICAgIGlmIChrZXlzVG9Mb3dlcikge1xyXG4gICAgICAgICAgICAgICAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZFZhbHVlID0gcGFpci5zdWJzdHIoZXFQb3MgKyAxKS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIG9ba2V5XSA9IHVzZVVuZXNjYXBlID8gdW5lc2NhcGUoc2VyaWFsaXplZFZhbHVlKSA6IFVSTFV0aWxzLlVSTERlY29kZShzZXJpYWxpemVkVmFsdWUpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICAgICAgb1trZXldID0gdW5lc2NhcGUoc2VyaWFsaXplZFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvO1xyXG59XHJcbiIsImltcG9ydCAqIGFzIERPTVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9ET00nO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVudW0gS2V5cyB7XHJcbiAgICBlc2NhcGUgPSAyNyxcclxuICAgIGJhY2tzcGFjZSA9IDgsXHJcbiAgICBlbnRlciA9IDEzLFxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSUhvdEtleSB7XHJcbiAgICBrZXk6IEtleXM7XHJcbiAgICBlbGVtZW50Q29udGV4dD86IEhUTUxFbGVtZW50O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBvbkhvdEtleUNsaWNrZWQoaG90S2V5RGF0YTogSUhvdEtleSwgaGFuZGxlcjogKCkgPT4gdm9pZCkge1xyXG4gICAgdmFyIGh0bWxDb250ZXh0ID0gaG90S2V5RGF0YS5lbGVtZW50Q29udGV4dCA/IGhvdEtleURhdGEuZWxlbWVudENvbnRleHQgOiBkb2N1bWVudC5ib2R5O1xyXG4gICAgRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcihodG1sQ29udGV4dCwgJ2tleXVwJywgZXZlbnQgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC53aGljaCA9PSBob3RLZXlEYXRhLmtleSkge1xyXG4gICAgICAgICAgICBoYW5kbGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgSlNPTlV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9KU09OJztcclxuaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XHJcbmltcG9ydCAqIGFzIHNjcmlwdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zY3JpcHQnO1xyXG5pbXBvcnQgKiBhcyBjb29raWVVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvY29va2llJztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXROYW1lKCkge1xyXG4gICAgICAgIHJldHVybiAnQWJzdHJhY3RBZGFwdGVyJztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0SXRlbShrZXk6IHN0cmluZyk6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0SXRlbShrZXk6IHN0cmluZywgY2FsbGJhY2s6ICgpID0+IHN0cmluZyk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHNldEl0ZW0oa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXNJbj86IG51bWJlciwgZG9tYWluPzogc3RyaW5nKTogdm9pZDtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVtb3ZlSXRlbShrZXk6IHN0cmluZyk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgb2JqZWN0IHRvIHN0b3JhZ2UuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRPYmplY3Qoa2V5OiBzdHJpbmcsIG86IE9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0SXRlbShrZXksIEpTT05VdGlscy5zZXJpYWxpemUobykpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IG9iamVjdCBmcm9tIGxvY2FsIHN0b3JhZ2UuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRPYmplY3Qoa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IGFueSk6IE9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIEpTT05VdGlscy5kZXNlcmlhbGl6ZSh0aGlzLmdldEl0ZW0oa2V5KSwgZGVmYXVsdFZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIElzIHBlcnNpc3RlbnQgc3RvcmFnZS4gUmV0dXJucyBmYWxzZSB3aGVuIGRhdGEgaXMgbm90IHBlcnNpc3RlZC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzUGVyc2lzdGVudCgpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RBc3luY0xvY2FsU3RvcmFnZUFkYXB0ZXIgZXh0ZW5kcyBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXIge1xyXG4gICAgcHJvdGVjdGVkIGlzTG9hZGVkOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1JlYWR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzTG9hZGVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXNlZCB3aGVuIHRoZXJlIGlzIGluaXRpYWxpemF0aW9uIHRpbWUgb24gdGhlIGxvY2FsIHN0b3JhZ2UgYWRhcHRlci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHdhaXRGb3JTZXJ2aWNlKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWFkeSgpKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMud2FpdEZvclNlcnZpY2UoY2FsbGJhY2spLCA1MCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmFic3RyYWN0IGNsYXNzIFN0b3JhZ2VBZGFwdGVyIGV4dGVuZHMgQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyIHtcclxuICAgIHByb3RlY3RlZCBzdG9yYWdlOiBhbnk7XHJcblxyXG4gICAgcHVibGljIGdldEl0ZW0oa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2Vba2V5XTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0SXRlbShrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZXhwaXJlc0luPzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5zdG9yYWdlW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9IGNhdGNoIChleCkge31cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlSXRlbShrZXk6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgTG9jYWxTdG9yYWdlQWRhcHRlciBleHRlbmRzIFN0b3JhZ2VBZGFwdGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE5hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuICdMb2NhbFN0b3JhZ2VBZGFwdGVyJztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBsb2NhbEluZm8uc3VwcG9ydHNMb2NhbFN0b3JhZ2U7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgU2Vzc2lvblN0b3JhZ2VBZGFwdGVyIGV4dGVuZHMgU3RvcmFnZUFkYXB0ZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnN0b3JhZ2UgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXROYW1lKCkge1xyXG4gICAgICAgIHJldHVybiAnU2Vzc2lvblN0b3JhZ2VBZGFwdGVyJztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBsb2NhbEluZm8uc3VwcG9ydHNTZXNzaW9uU3RvcmFnZTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBGaXJlZm94U3RvcmFnZUFkYXB0ZXIgZXh0ZW5kcyBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gbG9jYWxJbmZvLmlzRkYgJiYgd2luZG93WydnbG9iYWxTdG9yYWdlJ107XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXROYW1lKCkge1xyXG4gICAgICAgIHJldHVybiAnRmlyZWZveFN0b3JhZ2VBZGFwdGVyJztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SXRlbShrZXk6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvd1snZ2xvYmFsU3RvcmFnZSddW2xvY2F0aW9uLmhvc3RuYW1lXVtrZXldO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRJdGVtKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBleHBpcmVzSW4/OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB3aW5kb3dbJ2dsb2JhbFN0b3JhZ2UnXVtsb2NhdGlvbi5ob3N0bmFtZV1ba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7fVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVJdGVtKGtleTogc3RyaW5nKSB7XHJcbiAgICAgICAgZGVsZXRlIHdpbmRvd1snZ2xvYmFsU3RvcmFnZSddW2xvY2F0aW9uLmhvc3RuYW1lXVtrZXldO1xyXG4gICAgfVxyXG59XHJcbmRlY2xhcmUgY2xhc3MgU3dmU3RvcmUge1xyXG4gICAgY29uc3RydWN0b3IocHJvcGVydGllczogYW55KTtcclxuICAgIHB1YmxpYyBnZXQoa2V5OiBzdHJpbmcpOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogdm9pZDtcclxuICAgIHB1YmxpYyBjbGVhcihrZXk6IHN0cmluZyk6IHZvaWQ7XHJcbn1cclxuY2xhc3MgRmxhc2hBc3luY1N0b3JhZ2VBZGFwdGVyIGV4dGVuZHMgQWJzdHJhY3RBc3luY0xvY2FsU3RvcmFnZUFkYXB0ZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICAvLyBUaGVyZSBpcyBubyBjdXJyZW50IHNjZW5hcmlvIHdoZXJlIHVzaW5nIEZsYXNoIFN0b3JhZ2UgaXMgaGVscGZ1bCBvdXRzaWRlIG9mIElFLlxyXG4gICAgICAgIHJldHVybiBsb2NhbEluZm8uc3VwcG9ydHNGbGFzaCAmJiAobG9jYWxJbmZvLmlzSUUgfHwgbG9jYWxJbmZvLmlzRWRnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN3ZlN0b3JlOiBTd2ZTdG9yZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICAvLyBMb2FkIFNXRiBzdG9yZSBsaWJyYXJ5LlxyXG4gICAgICAgIHRoaXMubG9hZFN3ZlN0b3JlKGlzU3VjY2VzcyA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gJ0ZsYXNoQXN5bmNTdG9yYWdlQWRhcHRlcic7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJzdCwgbG9hZCB0aGUgSmF2YVNjcmlwdCBzd2ZzdG9yZSBTREsuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBsb2FkU3dmU3RvcmUoY2FsbGJhY2s6IChpc1N1Y2Nlc3M6IGJvb2xlYW4pID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAvLyBMb2FkIFN3ZlN0b3JlIGlmIG5lY2Vzc2FyeS5cclxuICAgICAgICBpZiAod2luZG93WydTd2ZTdG9yZSddKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVN3ZlN0b3JlKCgpID0+IHRoaXMubG9hZFN3ZlN0b3JlKGNhbGxiYWNrKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjcmlwdFV0aWxzLmxvYWQoXHJcbiAgICAgICAgICAgICdodHRwczovL2NkbnMuZ2lneWEuY29tL2dzL2pzL3N3ZnN0b3JlLm1pbi5qcycsXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIEVycm9yIGhhbmRsZXIuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGxvYWQgR2lneWEgU3dmU3RvcmUuJyk7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFN1Y2Nlc3MgaGFuZGxlci5cclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVN3ZlN0b3JlKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdHJ1ZSwgLy8gTG9hZCBvbmx5IG9uY2VcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5paXRhbGl6ZSB0aGUgU3dmU3RvcmUgY2xhc3MuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBpbml0aWFsaXplU3dmU3RvcmUoY2FsbGJhY2s6IChpc1N1Y2Nlc3M6IGJvb2xlYW4pID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnN3ZlN0b3JlID0gbmV3IFN3ZlN0b3JlKHtcclxuICAgICAgICAgICAgbmFtZXNwYWNlOiAnZ2lnU1NPJyxcclxuICAgICAgICAgICAgc3dmX3VybDogJ2h0dHBzOi8vY2Rucy5naWd5YS5jb20vZ3Mvc3dmL3N3ZnN0b3JlLnN3ZicsXHJcbiAgICAgICAgICAgIG9ucmVhZHk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBpbml0aWFsaXplIEdpZ3lhIFN3ZlN0b3JlLicpO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJdGVtKGtleTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zd2ZTdG9yZS5nZXQoa2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0SXRlbShrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZXhwaXJlc0luPzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zd2ZTdG9yZS5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUl0ZW0oa2V5OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnN3ZlN0b3JlLmNsZWFyKGtleSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIENvb2tpZVN0b3JhZ2VBZGFwdGVyIGV4dGVuZHMgQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgaXNBdmFpbGFibGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGNvb2tpZVV0aWxzLmNhblNhdmVDb29raWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE5hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuICdDb29raWVTdG9yYWdlQWRhcHRlcic7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEl0ZW0oa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBjb29raWVVdGlscy5nZXQoa2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0SXRlbShrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZXhwaXJlc0luPzogbnVtYmVyLCBkb21haW4/OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb29raWVVdGlscy5zZXQoa2V5LCB2YWx1ZSwgZXhwaXJlc0luLCBkb21haW4pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVJdGVtKGtleTogc3RyaW5nKSB7XHJcbiAgICAgICAgY29va2llVXRpbHMucmVtb3ZlKGtleSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIE1lbW9yeVN0b3JhZ2VBZGFwdGVyIGV4dGVuZHMgQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgaXNBdmFpbGFibGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG1lbW9yeTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMubWVtb3J5ID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXROYW1lKCkge1xyXG4gICAgICAgIHJldHVybiAnTWVtb3J5U3RvcmFnZUFkYXB0ZXInO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJdGVtKGtleTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZW1vcnlba2V5XTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0SXRlbShrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZXhwaXJlc0luPzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tZW1vcnlba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVJdGVtKGtleTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMubWVtb3J5W2tleV07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJcyBwZXJzaXN0ZW50IHN0b3JhZ2UuIFJldHVybnMgZmFsc2Ugd2hlbiBkYXRhIGlzIG5vdCBwZXJzaXN0ZWQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc1BlcnNpc3RlbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjb25zdCBhZGFwdGVyczogQXJyYXk8YW55PiA9IFtcclxuICAgIExvY2FsU3RvcmFnZUFkYXB0ZXIsXHJcbiAgICBTZXNzaW9uU3RvcmFnZUFkYXB0ZXIsXHJcbiAgICBGaXJlZm94U3RvcmFnZUFkYXB0ZXIsXHJcbiAgICBGbGFzaEFzeW5jU3RvcmFnZUFkYXB0ZXIsXHJcbiAgICBDb29raWVTdG9yYWdlQWRhcHRlcixcclxuICAgIE1lbW9yeVN0b3JhZ2VBZGFwdGVyLFxyXG5dO1xyXG5leHBvcnQgY29uc3QgaW5zdGFuY2VzOiB7IFtrZXk6IHN0cmluZ106IEFic3RyYWN0TG9jYWxTdG9yYWdlQWRhcHRlciB9ID0ge307XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplQWRhcHRlcihhZGFwdGVyOiB7IG5hbWU/OiBzdHJpbmc7IGdldE5hbWU6ICgpID0+IHN0cmluZyB9ICYgKG5ldyAoKSA9PiBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXIpKSB7XHJcbiAgICBjb25zdCBhZGFwdGVyTmFtZSA9IGFkYXB0ZXIuZ2V0TmFtZSgpIHx8IGFkYXB0ZXIubmFtZTtcclxuICAgIGlmICghaW5zdGFuY2VzW2FkYXB0ZXJOYW1lXSkge1xyXG4gICAgICAgIGluc3RhbmNlc1thZGFwdGVyTmFtZV0gPSBuZXcgYWRhcHRlcigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluc3RhbmNlc1thZGFwdGVyTmFtZV07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JTZXJ2aWNlKCk6IEFic3RyYWN0TG9jYWxTdG9yYWdlQWRhcHRlcjtcclxuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JTZXJ2aWNlKGNhbGxiYWNrOiAoc3RvcmFnZTogQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyKSA9PiB2b2lkKTogQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyO1xyXG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvclNlcnZpY2UoY2FsbGJhY2s/OiAoc3RvcmFnZTogQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyKSA9PiB2b2lkKTogQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyIHtcclxuICAgIC8vIFNlbGVjdCBjb21wYXRpYmxlIGFkYXB0ZXIuXHJcbiAgICBsZXQgc3RvcmFnZTogQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyO1xyXG4gICAgZm9yIChjb25zdCBhZGFwdGVyIG9mIGFkYXB0ZXJzKSB7XHJcbiAgICAgICAgaWYgKGFkYXB0ZXIuaXNBdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAvLyBEb24ndCBzZWxlY3QgYWRhcHRlciBpZiBpdCdzIGFzeW5jIGFuZCBhIGNhbGxiYWNrIHdhc24ndCBwcm92aWRlZC5cclxuICAgICAgICAgICAgaWYgKGFkYXB0ZXIucHJvdG90eXBlIGluc3RhbmNlb2YgQWJzdHJhY3RBc3luY0xvY2FsU3RvcmFnZUFkYXB0ZXIgJiYgIWNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3RvcmFnZSA9IGluaXRpYWxpemVBZGFwdGVyKGFkYXB0ZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmFsbGJhY2sgdG8gbWVtb3J5LWJhc2VkIG5vbi1wZXJzaXN0ZW50IHN0b3JhZ2UuXHJcbiAgICBpZiAoIXN0b3JhZ2UpIHtcclxuICAgICAgICBzdG9yYWdlID0gaW5pdGlhbGl6ZUFkYXB0ZXIoTWVtb3J5U3RvcmFnZUFkYXB0ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRyaWdnZXIgY2FsbGJhY2sgd2hlbiBhZGFwdGVyIGZpbmlzaGVzIGxvYWRpbmcgKG9yIGluc3RhbnRseSwgaWYgbm90IHJlcXVpcmVkIHRvIHdhaXQpLlxyXG4gICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKHN0b3JhZ2UgaW5zdGFuY2VvZiBBYnN0cmFjdEFzeW5jTG9jYWxTdG9yYWdlQWRhcHRlcikge1xyXG4gICAgICAgICAgICBzdG9yYWdlLndhaXRGb3JTZXJ2aWNlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHN0b3JhZ2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhzdG9yYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RvcmFnZTtcclxufVxyXG5jb25zdCBhZGFwdGVyID0gd2FpdEZvclNlcnZpY2UoKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGdldEl0ZW0oa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGFkYXB0ZXIuZ2V0SXRlbShrZXkpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRJdGVtKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBleHBpcmVzSW4/OiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHJldHVybiBhZGFwdGVyLnNldEl0ZW0oa2V5LCB2YWx1ZSwgZXhwaXJlc0luKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXk6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgcmV0dXJuIGFkYXB0ZXIucmVtb3ZlSXRlbShrZXkpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRPYmplY3Qoa2V5OiBzdHJpbmcsIG86IE9iamVjdCk6IHZvaWQge1xyXG4gICAgcmV0dXJuIGFkYXB0ZXIuc2V0T2JqZWN0KGtleSwgbyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE9iamVjdChrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlPzogYW55KTogT2JqZWN0IHtcclxuICAgIHJldHVybiBhZGFwdGVyLmdldE9iamVjdChrZXksIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuIiwidmFyIG1vdXNlRXZlbnRPYmplY3QgPSBudWxsO1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zaXRpb24oKSB7XHJcbiAgICB2YXIgcG9zeCA9IDA7XHJcbiAgICB2YXIgcG9zeSA9IDA7XHJcbiAgICBpZiAoZG9jdW1lbnQuYm9keSkge1xyXG4gICAgICAgIHZhciBlID0gbW91c2VFdmVudE9iamVjdDtcclxuICAgICAgICBpZiAoIWUpIGUgPSB7IGNsaWVudFg6IDAsIGNsaWVudFk6IDAgfTtcclxuICAgICAgICBpZiAoZS5wYWdlWCB8fCBlLnBhZ2VZKSB7XHJcbiAgICAgICAgICAgIHBvc3ggPSBlLnBhZ2VYO1xyXG4gICAgICAgICAgICBwb3N5ID0gZS5wYWdlWTtcclxuICAgICAgICB9IGVsc2UgaWYgKGUuY2xpZW50WCB8fCBlLmNsaWVudFkpIHtcclxuICAgICAgICAgICAgcG9zeCA9IGUuY2xpZW50WCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xyXG4gICAgICAgICAgICBwb3N5ID0gZS5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyB4OiBwb3N4LCB5OiBwb3N5IH07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgSlNPTlV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9KU09OJztcclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVVuZGVmaW5lZChvOiBPYmplY3QpOiBPYmplY3Qge1xyXG4gICAgdmFyIG8yID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIG8pIHtcclxuICAgICAgICBpZiAob1twXSAhPSBudWxsICYmIG9bcF0gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG8yW3BdID0gb1twXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbzI7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cHJlc3Npb25IZWxwZXIoY29udGV4dCkge1xyXG4gICAgY29udGV4dCA9IGNvbnRleHQgfHwge307XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdldEZpZWxkOiBmdW5jdGlvbihwYXRoKSB7XHJcbiAgICAgICAgICAgIGlmICghcGF0aCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdmFyIHBhdGhzID0gcGF0aC5zcGxpdCgnLicpLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNvbnRleHQsXHJcbiAgICAgICAgICAgICAgICBpO1xyXG5cclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFtwYXRoc1tpXV0gPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGF0aHNbaV1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9wZXJ0eUJ5U2VyaWFsaXplZE5hbWUobzogT2JqZWN0LCBuYW1lOiBzdHJpbmcsIGNyZWF0ZU1pc3NpbmdPYmplY3RzOiBib29sZWFuKTogYW55IHtcclxuICAgIGlmICghbmFtZSkgcmV0dXJuIG87XHJcbiAgICB2YXIgb1Jlc3VsdCA9IG87XHJcbiAgICB2YXIgYXJOYW1lU2VnbWVudHMgPSBuYW1lLnNwbGl0KCcuJyk7XHJcbiAgICBmb3IgKHZhciBpU2VnbWVudCA9IDA7IGlTZWdtZW50IDwgYXJOYW1lU2VnbWVudHMubGVuZ3RoOyBpU2VnbWVudCsrKSB7XHJcbiAgICAgICAgdmFyIHNTZWdtZW50ID0gYXJOYW1lU2VnbWVudHNbaVNlZ21lbnRdO1xyXG4gICAgICAgIHZhciBzSW5kZXggPSBudWxsO1xyXG4gICAgICAgIC8vU3VwcG9ydCBmb3IgYXJyYXkgYWNjZXNzLiBpLmUuIFwib2JqLnByb3AxWzBdLnByb3AyXCJcclxuICAgICAgICBpZiAoc1NlZ21lbnQubWF0Y2goL1xcW1swLTldXS8pKSB7XHJcbiAgICAgICAgICAgIHNJbmRleCA9IE51bWJlcihzU2VnbWVudC5tYXRjaCgvXFxbWzAtOV1dLylbMF0ucmVwbGFjZSgvW1xcW1xcXV0vZywgJycpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc1NlZ21lbnQgPSBzU2VnbWVudC5zcGxpdCgvXFxbWzAtOV1dLykuam9pbignJyk7XHJcbiAgICAgICAgdmFyIHJlcyA9IChzSW5kZXggfHwgc0luZGV4ID09PSAwKSAmJiBvUmVzdWx0W3NTZWdtZW50XSA/IG9SZXN1bHRbc1NlZ21lbnRdW3NJbmRleF0gOiBvUmVzdWx0W3NTZWdtZW50XTtcclxuICAgICAgICBpZiAoY3JlYXRlTWlzc2luZ09iamVjdHMgJiYgIW9SZXN1bHRbc1NlZ21lbnRdKSB7XHJcbiAgICAgICAgICAgIG9SZXN1bHRbc1NlZ21lbnRdID0ge307XHJcbiAgICAgICAgfSBlbHNlIGlmIChjcmVhdGVNaXNzaW5nT2JqZWN0cyAmJiAhcmVzICYmIHJlcyAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgb1Jlc3VsdFtzU2VnbWVudF0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcyB8fCByZXMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIG9SZXN1bHQgPSByZXM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9SZXN1bHQ7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFByb3BlcnR5QnlTZXJpYWxpemVkTmFtZShvOiBPYmplY3QsIG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQge1xyXG4gICAgdmFyIGFyTmFtZVNlZ21lbnRzID0gbmFtZS5zcGxpdCgnLicpO1xyXG4gICAgdmFyIHByb3BlcnR5TmFtZSA9IGFyTmFtZVNlZ21lbnRzLnBvcCgpO1xyXG4gICAgZ2V0UHJvcGVydHlCeVNlcmlhbGl6ZWROYW1lKG8sIGFyTmFtZVNlZ21lbnRzLmpvaW4oJy4nKSwgdHJ1ZSlbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBhZGQob1RhcmdldDogT2JqZWN0LCBvOiBPYmplY3QsIGRvbnRPdmVycmlkZT86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIGZvciAodmFyIHAgaW4gbykge1xyXG4gICAgICAgIGlmICghZG9udE92ZXJyaWRlIHx8IHR5cGVvZiBvVGFyZ2V0W3BdID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBvVGFyZ2V0W3BdID0gb1twXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEhhc2gobzogYW55KTogc3RyaW5nIHtcclxuICAgIHZhciBhciA9IFtdO1xyXG4gICAgZm9yICh2YXIgcCBpbiBvKSB7XHJcbiAgICAgICAgdmFyIHM7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2Ygb1twXSA9PSAnb2JqZWN0JykgcyA9IEpTT05VdGlscy5zZXJpYWxpemUob1twXSwgZmFsc2UpO1xyXG4gICAgICAgIGVsc2UgaWYgKG9bcF0pIHMgPSBvW3BdLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIGFyLnB1c2gocCArICc9JyArIHMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyLnNvcnQoKS5qb2luKCcmJyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE11cm11ckhhc2goa2V5OiBzdHJpbmcsIHNlZWQ/OiBudW1iZXIpIHtcclxuICAgIGlmICghc2VlZCkgc2VlZCA9IDA7XHJcbiAgICB2YXIgcmVtYWluZGVyLCBieXRlcywgaDEsIGgxYiwgYzEsIGMxYiwgYzIsIGMyYiwgazEsIGk7XHJcblxyXG4gICAgcmVtYWluZGVyID0ga2V5Lmxlbmd0aCAmIDM7IC8vIGtleS5sZW5ndGggJSA0XHJcbiAgICBieXRlcyA9IGtleS5sZW5ndGggLSByZW1haW5kZXI7XHJcbiAgICBoMSA9IHNlZWQ7XHJcbiAgICBjMSA9IDB4Y2M5ZTJkNTE7XHJcbiAgICBjMiA9IDB4MWI4NzM1OTM7XHJcbiAgICBpID0gMDtcclxuXHJcbiAgICB3aGlsZSAoaSA8IGJ5dGVzKSB7XHJcbiAgICAgICAgazEgPSAoa2V5LmNoYXJDb2RlQXQoaSkgJiAweGZmKSB8ICgoa2V5LmNoYXJDb2RlQXQoKytpKSAmIDB4ZmYpIDw8IDgpIHwgKChrZXkuY2hhckNvZGVBdCgrK2kpICYgMHhmZikgPDwgMTYpIHwgKChrZXkuY2hhckNvZGVBdCgrK2kpICYgMHhmZikgPDwgMjQpO1xyXG4gICAgICAgICsraTtcclxuXHJcbiAgICAgICAgazEgPSAoKGsxICYgMHhmZmZmKSAqIGMxICsgKCgoKGsxID4+PiAxNikgKiBjMSkgJiAweGZmZmYpIDw8IDE2KSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIGsxID0gKGsxIDw8IDE1KSB8IChrMSA+Pj4gMTcpO1xyXG4gICAgICAgIGsxID0gKChrMSAmIDB4ZmZmZikgKiBjMiArICgoKChrMSA+Pj4gMTYpICogYzIpICYgMHhmZmZmKSA8PCAxNikpICYgMHhmZmZmZmZmZjtcclxuXHJcbiAgICAgICAgaDEgXj0gazE7XHJcbiAgICAgICAgaDEgPSAoaDEgPDwgMTMpIHwgKGgxID4+PiAxOSk7XHJcbiAgICAgICAgaDFiID0gKChoMSAmIDB4ZmZmZikgKiA1ICsgKCgoKGgxID4+PiAxNikgKiA1KSAmIDB4ZmZmZikgPDwgMTYpKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgaDEgPSAoaDFiICYgMHhmZmZmKSArIDB4NmI2NCArICgoKChoMWIgPj4+IDE2KSArIDB4ZTY1NCkgJiAweGZmZmYpIDw8IDE2KTtcclxuICAgIH1cclxuXHJcbiAgICBrMSA9IDA7XHJcblxyXG4gICAgc3dpdGNoIChyZW1haW5kZXIpIHtcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgIGsxIF49IChrZXkuY2hhckNvZGVBdChpICsgMikgJiAweGZmKSA8PCAxNjtcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIGsxIF49IChrZXkuY2hhckNvZGVBdChpICsgMSkgJiAweGZmKSA8PCA4O1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgazEgXj0ga2V5LmNoYXJDb2RlQXQoaSkgJiAweGZmO1xyXG5cclxuICAgICAgICAgICAgazEgPSAoKGsxICYgMHhmZmZmKSAqIGMxICsgKCgoKGsxID4+PiAxNikgKiBjMSkgJiAweGZmZmYpIDw8IDE2KSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgICAgICBrMSA9IChrMSA8PCAxNSkgfCAoazEgPj4+IDE3KTtcclxuICAgICAgICAgICAgazEgPSAoKGsxICYgMHhmZmZmKSAqIGMyICsgKCgoKGsxID4+PiAxNikgKiBjMikgJiAweGZmZmYpIDw8IDE2KSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgICAgICBoMSBePSBrMTtcclxuICAgIH1cclxuXHJcbiAgICBoMSBePSBrZXkubGVuZ3RoO1xyXG5cclxuICAgIGgxIF49IGgxID4+PiAxNjtcclxuICAgIGgxID0gKChoMSAmIDB4ZmZmZikgKiAweDg1ZWJjYTZiICsgKCgoKGgxID4+PiAxNikgKiAweDg1ZWJjYTZiKSAmIDB4ZmZmZikgPDwgMTYpKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICBoMSBePSBoMSA+Pj4gMTM7XHJcbiAgICBoMSA9ICgoaDEgJiAweGZmZmYpICogMHhjMmIyYWUzNSArICgoKChoMSA+Pj4gMTYpICogMHhjMmIyYWUzNSkgJiAweGZmZmYpIDw8IDE2KSkgJiAweGZmZmZmZmZmO1xyXG4gICAgaDEgXj0gaDEgPj4+IDE2O1xyXG5cclxuICAgIHJldHVybiBoMSA+Pj4gMDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUob2JqOiBhbnksIGRlZXBDb3B5PzogYm9vbGVhbiwgaWdub3JlRnVuY3Rpb25zPzogYm9vbGVhbiwgbWF4TGV2ZWw6IG51bWJlciA9IDIwLCBsZXZlbDogbnVtYmVyID0gMCwgaWdub3JlQ29udGV4dD86IGJvb2xlYW4pOiBhbnkge1xyXG4gICAgaWYgKGxldmVsID4gbWF4TGV2ZWwpIHJldHVybiBudWxsOyAvLyBUb28gZGVlcFxyXG4gICAgaWYgKHR5cGVvZiBvYmogPT0gJ3VuZGVmaW5lZCcgfHwgb2JqID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nICYmIGlnbm9yZUZ1bmN0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSBlbHNlIGlmIChvYmouY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcclxuICAgICAgICB2YXIgYXIgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoIWlnbm9yZUZ1bmN0aW9ucyB8fCB0eXBlb2Ygb2JqW2ldICE9ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZWVwQ29weSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyW2ldID0gY2xvbmUob2JqW2ldLCBkZWVwQ29weSwgaWdub3JlRnVuY3Rpb25zLCBtYXhMZXZlbCwgbGV2ZWwgKyAxLCBpZ25vcmVDb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJbaV0gPSBvYmpbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFyO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgdmFyIG8gPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIG9iaikge1xyXG4gICAgICAgICAgICBpZiAoaWdub3JlQ29udGV4dCAmJiBwID09ICdjb250ZXh0JykgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmICghaWdub3JlRnVuY3Rpb25zIHx8IHR5cGVvZiBvYmpbcF0gIT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZXBDb3B5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb1twXSA9IGNsb25lKG9ialtwXSwgZGVlcENvcHksIGlnbm9yZUZ1bmN0aW9ucywgbWF4TGV2ZWwsIGxldmVsICsgMSwgaWdub3JlQ29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG9bcF0gPSBvYmpbcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG87XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKGFyZ3M6IE9iamVjdFtdLCBpc0RlZXBNZXJnZT86IGJvb2xlYW4pOiBPYmplY3Q7XHJcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZShhcmdzOiBhbnlbXSwgaXNEZWVwTWVyZ2U/OiBib29sZWFuKTogT2JqZWN0IHtcclxuICAgIHZhciBvID0ge307XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoYXJnc1tpXSAmJiBhcmdzW2ldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciB1ID0gMDsgdSA8IGFyZ3NbaV0ubGVuZ3RoOyB1KyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gYXJnc1tpXVt1XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9bcF0gPSBhcmdzW2ldW3VdW3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTWVyZ2Ugb2JqZWN0cy5cclxuICAgICAgICAgICAgaWYgKCFpc0RlZXBNZXJnZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gRmxhdCBtZXJnZS5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gYXJnc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9bcF0gPSBhcmdzW2ldW3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gRGVlcCBtZXJnZS5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gYXJnc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vd2Ugb3ZlcnJpZGUgcHJpbWl0aXZlIC8gYXJyYXlcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9bcF0gIT09ICdvYmplY3QnIHx8IG9bcF0gaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvW3BdID0gYXJnc1tpXVtwXTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvW3BdID0gbWVyZ2UoW29bcF0sIGFyZ3NbaV1bcF1dLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdW5mbGF0dGVuKGRhdGE6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0pOiBPYmplY3Qge1xyXG4gICAgaWYgKE9iamVjdChkYXRhKSAhPT0gZGF0YSB8fCBBcnJheS5pc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcclxuICAgIGZvciAobGV0IHAgaW4gZGF0YSkge1xyXG4gICAgICAgIGxldCBjdXIgPSByZXN1bHQ7XHJcbiAgICAgICAgbGV0IHByb3AgPSAnJztcclxuICAgICAgICBjb25zdCBwYXJ0cyA9IHAuc3BsaXQoJy4nKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkeCA9ICFpc05hTihOdW1iZXIocGFydHNbaV0pKTtcclxuICAgICAgICAgICAgY3VyID0gY3VyW3Byb3BdIHx8IChjdXJbcHJvcF0gPSBpZHggPyBbXSA6IHt9KTtcclxuICAgICAgICAgICAgcHJvcCA9IHBhcnRzW2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJbcHJvcF0gPSBkYXRhW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdFsnJ10gfHwge307XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oZGF0YTogYW55LCB3aXRoQnJhY2tldCA9IGZhbHNlKTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcclxuICAgIGZ1bmN0aW9uIHJlY3Vyc2UoY3VyOiBhbnksIHByb3A6IHN0cmluZykge1xyXG4gICAgICAgIGlmIChPYmplY3QoY3VyKSAhPT0gY3VyKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IGN1cjtcclxuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY3VyKSkge1xyXG4gICAgICAgICAgICBjb25zdCBsID0gY3VyLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXN0ZWRQcm9wZXJ0eSA9IHdpdGhCcmFja2V0ID8gYCR7cHJvcH1bJHtpfV1gIDogYCR7cHJvcH0uJHtpfWA7XHJcbiAgICAgICAgICAgICAgICByZWN1cnNlKGN1cltpXSwgcHJvcCA/IG5lc3RlZFByb3BlcnR5IDogU3RyaW5nKGkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W3Byb3BdID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgaXNFbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcCBpbiBjdXIpIHtcclxuICAgICAgICAgICAgICAgIGlzRW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJlY3Vyc2UoY3VyW3BdLCBwcm9wID8gYCR7cHJvcH0uJHtwfWAgOiBwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNFbXB0eSAmJiBwcm9wICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W3Byb3BdID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZWN1cnNlKGRhdGEsICcnKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RQcm9wZXJ0aWVzKHNyYzogYW55LCBkZXN0PzogYW55LCBzY2hlbWE/OiBTdHJpbmcpOiBPYmplY3Qge1xyXG4gICAgaWYgKHNyYyA9PSBudWxsKSByZXR1cm47XHJcbiAgICBpZiAoZGVzdCA9PSBudWxsKSBkZXN0ID0ge307XHJcbiAgICBpZiAoc3JjLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaVNyYyA9IDA7IGlTcmMgPCBzcmMubGVuZ3RoOyBpU3JjKyspIHtcclxuICAgICAgICAgICAgZXh0cmFjdFByb3BlcnRpZXMoc3JjW2lTcmNdLCBkZXN0LCBzY2hlbWEpO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoc2NoZW1hKSB7XHJcbiAgICAgICAgdmFyIGFyU2NoZW1hID0gc2NoZW1hLnNwbGl0KCd8Jyk7XHJcbiAgICAgICAgdmFyIHNyY0xDYXNlID0ge307XHJcbiAgICAgICAgZm9yICh2YXIgZmllbGROYW1lIGluIHNyYykge1xyXG4gICAgICAgICAgICBzcmNMQ2FzZVtmaWVsZE5hbWUudG9Mb3dlckNhc2UoKV0gPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyU2NoZW1hLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBmaWVsZE5hbWUyID0gYXJTY2hlbWFbaV07XHJcbiAgICAgICAgICAgIGlmIChzcmNMQ2FzZVtmaWVsZE5hbWUyLnRvTG93ZXJDYXNlKCldKSBkZXN0W2ZpZWxkTmFtZTJdID0gc3JjW2ZpZWxkTmFtZTJdO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGVzdCA9IGNsb25lKHNyYywgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRlc3Q7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RQcm9wZXJ0eShzcmM6IGFueSwgcGFyYW1OYW1lOiBzdHJpbmcpOiBhbnkge1xyXG4gICAgdmFyIHBhcmFtcztcclxuICAgIHJldHVybiBleHRyYWN0UHJvcGVydGllcyhzcmMsIHBhcmFtcywgcGFyYW1OYW1lKVtwYXJhbU5hbWVdO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVRvT2JqZWN0KHN0cjogc3RyaW5nKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHBhcnNlZFZhbCA9IHdpbmRvd1snSlNPTiddLnBhcnNlKHN0cik7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJzZWRWYWwgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFZhbDtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7fVxyXG5cclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbn1cclxuIiwiXHJcbnZhciBfcSA9IHt9O1xyXG5leHBvcnQgZnVuY3Rpb24gX3NlcnZpY2VzU3RhdHVzKCkge1xyXG4gICAgdmFyIHNlcnZpY2VzID0ge307XHJcblxyXG4gICAgZm9yICh2YXIgc2VydmljZSBpbiBfcSkge1xyXG4gICAgICAgIHZhciBhY3RpdmUgPSBpc0FjdGl2ZShzZXJ2aWNlKTtcclxuXHJcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xyXG4gICAgICAgICAgICBzZXJ2aWNlc1tzZXJ2aWNlXSA9IHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHdhaXRpbmdGb3I6IF9xW3NlcnZpY2VdLmlkcyxcclxuICAgICAgICAgICAgICAgIHF1ZXVlZENvdW50OiBfcVtzZXJ2aWNlXS5xLmxlbmd0aCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXJ2aWNlc1tzZXJ2aWNlXSA9IHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZXJ2aWNlcztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaXNBY3RpdmUoc2VydmljZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIV9xW3NlcnZpY2VdKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgZm9yICh2YXIgaWQgaW4gX3Fbc2VydmljZV0uaWRzKSByZXR1cm4gdHJ1ZTtcclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVsZWFzZShpZDogc3RyaW5nLCBzZXJ2aWNlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGdpZ3lhLmxvZ2dlci5kZWJ1ZyhgcmVsZWFzaW5nICR7c2VydmljZX0gcXVldWUgYnkgJHtpZH1gKTtcclxuICAgIGlmICghX3Fbc2VydmljZV0pIHJldHVybjtcclxuICAgIGRlbGV0ZSBfcVtzZXJ2aWNlXS5pZHNbaWRdO1xyXG4gICAgaWYgKCFpc0FjdGl2ZShzZXJ2aWNlKSkge1xyXG4gICAgICAgIHZhciBxID0gX3Fbc2VydmljZV0ucTtcclxuICAgICAgICBfcVtzZXJ2aWNlXS5xID0gW107XHJcbiAgICAgICAgd2hpbGUgKHEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgbyA9IHEuc3BsaWNlKDAsIDEpWzBdO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgby5mdW5jLmFwcGx5KHRoaXMsIG8uYXJncyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT0gJ29iamVjdCcgJiYgY29uc29sZS5sb2cpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnR2lneWE6IEV4Y2VwdGlvbiB3aGlsZSBpbnZva2luZyBxdWV1ZWQgbWV0aG9kICgnICsgc2VydmljZSArICc6ICcgKyBpZCArICcpJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzQWN0aXZlKHNlcnZpY2UpKSB7XHJcbiAgICAgICAgICAgICAgICAvL3F1ZXVlIGJlY2FtZSBpbmFjdGl2ZVxyXG4gICAgICAgICAgICAgICAgX3Fbc2VydmljZV0ucSA9IHE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaG9sZChpZDogc3RyaW5nLCBzZXJ2aWNlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGdpZ3lhLmxvZ2dlci5kZWJ1ZyhgbG9ja2luZyBxdWV1ZSAke3NlcnZpY2V9IGJ5ICR7aWR9YCk7XHJcblxyXG4gICAgaWYgKCFfcVtzZXJ2aWNlXSkgX3Fbc2VydmljZV0gPSB7IHE6IFtdLCBpZHM6IHt9IH07XHJcbiAgICBfcVtzZXJ2aWNlXS5pZHNbaWRdID0gdHJ1ZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvcihzZXJ2aWNlOiBzdHJpbmcsIGZuYzogRnVuY3Rpb24sIGFyZ3M6IGFueVtdKTogdm9pZDtcclxuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3Ioc2VydmljZTogc3RyaW5nLCBmbmM6IEZ1bmN0aW9uLCBhcmdzOiBJQXJndW1lbnRzKTogdm9pZDtcclxuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3Ioc2VydmljZTogc3RyaW5nLCBmbmM6IEZ1bmN0aW9uLCBhcmdzOiBhbnkpOiB2b2lkIHtcclxuICAgIGlmICghX3Fbc2VydmljZV0pIF9xW3NlcnZpY2VdID0geyBxOiBbXSwgaWRzOiB7fSB9O1xyXG4gICAgX3Fbc2VydmljZV0ucS5wdXNoKHsgZnVuYzogZm5jLCBhcmdzOiBhcmdzIH0pO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZUZvckV4ZWN1dGlvbihzZXJ2aWNlOiBzdHJpbmcsIGZ1bmM6IEZ1bmN0aW9uLCBhcmdzPzogYW55W10pIHtcclxuICAgIGFyZ3MgPSBhcmdzIHx8IFtdO1xyXG4gICAgaWYgKGlzQWN0aXZlKHNlcnZpY2UpKSB7XHJcbiAgICAgICAgd2FpdEZvcihzZXJ2aWNlLCBmdW5jLCBhcmdzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gc2FuaXRpemVIVE1MKGh0bWw6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoaHRtbCA9PSBudWxsIHx8IHR5cGVvZiBodG1sID09ICd1bmRlZmluZWQnKSByZXR1cm4gaHRtbDtcclxuICAgIHJldHVybiBodG1sXHJcbiAgICAgICAgLnJlcGxhY2UoLyYvZywgJyYjMzg7JylcclxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJiM2MDsnKVxyXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmIzYyOycpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcXCIvZywgJyYjMzQ7JylcclxuICAgICAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKVxyXG4gICAgICAgIC5yZXBsYWNlKC8mIzM4OyMxNzM7L2csICcmIzE3MzsnKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVBdHRyaWJ1dGUoYXR0cmlidXRlVmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoYXR0cmlidXRlVmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgYXR0cmlidXRlVmFsdWUgPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBhdHRyaWJ1dGVWYWx1ZTtcclxuICAgIHJldHVybiBhdHRyaWJ1dGVWYWx1ZVxyXG4gICAgICAgIC5yZXBsYWNlKC8mL2csICcmIzM4OycpXHJcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgJyYjNjA7JylcclxuICAgICAgICAucmVwbGFjZSgvPi9nLCAnJiM2MjsnKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXFwiL2csICcmIzM0OycpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcPS9nLCAnJiM2MTsnKTtcclxufVxyXG4iLCJpbXBvcnQgeyBVcmkgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVXJpJztcclxuaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XHJcbmltcG9ydCAqIGFzIGFycmF5VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2FycmF5JztcclxuaW1wb3J0ICogYXMgZnVuY3Rpb25zVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCAqIGFzIERPTVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9ET00nO1xyXG5pbXBvcnQgeyBnZXRDZG5SZXNvdXJjZSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9jZG4nO1xyXG5cclxuaW50ZXJmYWNlIElTY3JpcHRQZW5kaW5nIHtcclxuICAgIGxvYWRlZDogYm9vbGVhbjtcclxuICAgIG9uTG9hZDogRnVuY3Rpb25bXTtcclxuICAgIG9uRXJyb3I6IEZ1bmN0aW9uW107XHJcbn1cclxudmFyIHBlbmRpbmc6IHsgW3NyYzogc3RyaW5nXTogSVNjcmlwdFBlbmRpbmcgfSA9IHt9O1xyXG5mdW5jdGlvbiBhZGRTZGtWZXJzaW9uKHVybDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGxldCBzY3JpcHRVcmwgPSBVcmkucGFyc2UodXJsKTtcclxuICAgIHNjcmlwdFVybC5hZGRUb1NlYXJjaCh7IHZlcnNpb246IGdpZ3lhLmJ1aWxkLnZlcnNpb24gfSk7XHJcbiAgICByZXR1cm4gc2NyaXB0VXJsLnRvU3RyaW5nKCk7XHJcbn1cclxuZnVuY3Rpb24gZm9ybWF0U3JjVXJsKHNyYzogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIC8vIHJlbW92ZSBjZG4gZG9tYWluIG51bWJlclxyXG4gICAgcmV0dXJuIHNyYy5yZXBsYWNlKC9eaHR0cChzPyk6XFwvXFwvY2RuKHM/KVswLTldKi5naWd5YS5jb21cXC8vLCAnaHR0cCQxOi8vY2RuJDIuZ2lneWEuY29tLycpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpc0xvYWRlZChzcmM6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgdmFyIHBlbmRpbmdTcmMgPSBmb3JtYXRTcmNVcmwoc3JjKTtcclxuXHJcbiAgICByZXR1cm4gQm9vbGVhbihwZW5kaW5nW3BlbmRpbmdTcmNdICYmIHBlbmRpbmdbcGVuZGluZ1NyY10ubG9hZGVkKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gbG9hZChcclxuICAgIHNyYzogc3RyaW5nLFxyXG4gICAgZm5PbkVycm9yPzogKCkgPT4gdm9pZCxcclxuICAgIGZuT25Mb2FkPzogKCkgPT4gdm9pZCxcclxuICAgIGxvYWRPbmNlPzogYm9vbGVhbixcclxuICAgIHJlbW92ZUFmdGVyOiBudW1iZXIgfCBib29sZWFuID0gNTAwMCxcclxuICAgIHRyZWF0VG9nZXRoZXI/OiBzdHJpbmdbXSxcclxuKTogdm9pZCB7XHJcbiAgICB2YXIgb1NjcmlwdDogSVNjcmlwdFBlbmRpbmc7XHJcblxyXG4gICAgaWYgKHNyYy5pbmRleE9mKCcvLycpID09PSAwKSB7XHJcbiAgICAgICAgc3JjID0gbG9jYWxJbmZvLnByb3RvY29sICsgJzonICsgc3JjO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChsb2FkT25jZSkge1xyXG4gICAgICAgIHZhciBwZW5kaW5nU3JjID0gZm9ybWF0U3JjVXJsKHNyYyk7XHJcblxyXG4gICAgICAgIGlmIChwZW5kaW5nW3BlbmRpbmdTcmNdKSB7XHJcbiAgICAgICAgICAgIGlmIChwZW5kaW5nW3BlbmRpbmdTcmNdLmxvYWRlZCkge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmRlYnVnKGBzY3JpcHQgd2FzIGFscmVhZHkgbG9hZGVkOmAsIHsgc3JjIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZuT25Mb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm5PbkxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBlbmRpbmdbcGVuZGluZ1NyY10ub25Mb2FkLnB1c2goZm5PbkxvYWQpO1xyXG4gICAgICAgICAgICAgICAgcGVuZGluZ1twZW5kaW5nU3JjXS5vbkVycm9yLnB1c2goZm5PbkVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvU2NyaXB0ID0gcGVuZGluZ1twZW5kaW5nU3JjXSA9IHsgbG9hZGVkOiBmYWxzZSwgb25Mb2FkOiBbZm5PbkxvYWRdLCBvbkVycm9yOiBbZm5PbkVycm9yXSB9O1xyXG5cclxuICAgICAgICBpZiAodHJlYXRUb2dldGhlciAmJiB0cmVhdFRvZ2V0aGVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgYXJyYXlVdGlscy5mb3JFYWNoKHRyZWF0VG9nZXRoZXIsIHVybCA9PiB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nW3VybF0gPSBvU2NyaXB0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIG11bHRpcGxlIGxvYWRzXHJcbiAgICAgICAgb1NjcmlwdCA9IHsgbG9hZGVkOiBmYWxzZSwgb25Mb2FkOiBbZm5PbkxvYWRdLCBvbkVycm9yOiBbZm5PbkVycm9yXSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzY3JpcHRMb2FkZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcclxuICAgICAgICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xyXG4gICAgICAgIHNjcmlwdC5jaGFyc2V0ID0gJ1VURi04JztcclxuXHJcbiAgICAgICAgdmFyIGRvbmUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgZm5PblNjcmlwdExvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9TY3JpcHQub25Mb2FkICYmIG9TY3JpcHQub25Mb2FkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb1NjcmlwdC5vbkxvYWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvU2NyaXB0Lm9uTG9hZFtpXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb1NjcmlwdC5vbkxvYWRbaV0oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBvU2NyaXB0LmxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBvU2NyaXB0Lm9uRXJyb3IgPSBvU2NyaXB0Lm9uTG9hZCA9IG51bGw7IC8vIHJlbW92ZSBtZW1vcnkgbGVha1xyXG5cclxuICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVBZnRlciA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUFmdGVyID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVBZnRlciAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjcmlwdC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgcmVtb3ZlQWZ0ZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzY3JpcHQub25sb2FkID0gZm5PblNjcmlwdExvYWQ7XHJcbiAgICAgICAgc2NyaXB0WydvbnJlYWR5c3RhdGVjaGFuZ2UnXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSAnbG9hZGVkJykge1xyXG4gICAgICAgICAgICAgICAgZm5PblNjcmlwdExvYWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb1NjcmlwdC5vbkVycm9yLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9TY3JpcHQub25FcnJvcltpXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG9TY3JpcHQub25FcnJvcltpXSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSBwZW5kaW5nW3NyY107XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpO1xyXG4gICAgICAgIGlmIChoZWFkICYmIGhlYWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBoZWFkWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBmblNldFNjcmlwdFNyYyA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgd2ViU2RrUmVzb3VyY2VzRG9tYWluID0gbmV3IFJlZ0V4cChgXmh0dHBzPzpcXC9cXC9jZG5zPy4qJHtnaWd5YS5kZWZhdWx0QXBpRG9tYWlufWApO1xyXG4gICAgICAgICAgICBjb25zdCBzY3JpcHRTcmMgPSB3ZWJTZGtSZXNvdXJjZXNEb21haW4udGVzdChzcmMpID8gYWRkU2RrVmVyc2lvbihzcmMpIDogc3JjO1xyXG4gICAgICAgICAgICBzY3JpcHQuc3JjID0gc2NyaXB0U3JjO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGxvY2FsSW5mby5pb3NWZXJzaW9uID49IDYpIHtcclxuICAgICAgICAgICAgLy8gaU9TIDYgYnJlYWtzIHNldFRpbWVvdXQgd2hlbiBhbmltYXRpb24gaXMgYWN0aXZlIChzd2l0Y2hpbmcgdGFicyBiYWNrIGZyb20gYSBsb2dpbiBzZXF1ZW5jZSlcclxuICAgICAgICAgICAgZm5TZXRTY3JpcHRTcmMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZuU2V0U2NyaXB0U3JjLCAxKTsgLy8gRG9pbmcgdGhpcyBhc3luYyBnaXZlcyBiZXR0ZXIgcGVyZm9ybWFuY2UgaW4gb2xkZXIgYnJvd3NlcnNcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChsb2NhbEluZm8uaXNJRSkge1xyXG4gICAgICAgIGZ1bmN0aW9uc1V0aWxzLmludm9rZU9uUGFnZUxvYWQoc2NyaXB0TG9hZGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2NyaXB0TG9hZGVyKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGVudW0gUmVzb3VyY2VUeXBlcyB7XHJcbiAgICBzY3JpcHQsXHJcbiAgICBpbWFnZSxcclxuICAgIGlmcmFtZSxcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclJlc291cmNlKHVybDogc3RyaW5nLCBjYWxsYmFjaz86ICgpID0+IHZvaWQsIHJlc291cmNlVHlwZSA9IFJlc291cmNlVHlwZXMuaW1hZ2UsIHJlbW92ZUFmdGVyOiBudW1iZXIgfCBib29sZWFuID0gNTAwMCkge1xyXG4gICAgc3dpdGNoIChyZXNvdXJjZVR5cGUpIHtcclxuICAgICAgICBjYXNlIFJlc291cmNlVHlwZXMuc2NyaXB0OlxyXG4gICAgICAgICAgICBsb2FkKHVybCwgY2FsbGJhY2ssIGNhbGxiYWNrLCBmYWxzZSwgcmVtb3ZlQWZ0ZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFJlc291cmNlVHlwZXMuaW1hZ2U6XHJcbiAgICAgICAgICAgIGxvYWRJbWFnZSh1cmwsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBSZXNvdXJjZVR5cGVzLmlmcmFtZTpcclxuICAgICAgICAgICAgbG9hZElmcmFtZSh1cmwsIGNhbGxiYWNrLCByZW1vdmVBZnRlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgcmVzb3VyY2UgdHlwZScpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGxvYWRJbWFnZSh1cmw6IHN0cmluZywgY2FsbGJhY2s/OiBGdW5jdGlvbikge1xyXG4gICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgdmFyIGxvYWRlZCA9IGZhbHNlO1xyXG5cclxuICAgIHZhciBmbk9uTG9hZCA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIWxvYWRlZCkge1xyXG4gICAgICAgICAgICBsb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaW1nLm9ubG9hZCA9IGltZy5vbmVycm9yID0gZm5PbkxvYWQ7XHJcblxyXG4gICAgaW1nLnNyYyA9IHVybDtcclxufVxyXG5mdW5jdGlvbiBsb2FkSWZyYW1lKHVybDogc3RyaW5nLCBjYWxsYmFjaz86ICgpID0+IHZvaWQsIHJlbW92ZUFmdGVyOiBudW1iZXIgfCBib29sZWFuID0gNTAwMCkge1xyXG4gICAgdmFyIGlmciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xyXG4gICAgaWZyLnN0eWxlLndpZHRoID0gJzMwcHgnO1xyXG4gICAgaWZyLnN0eWxlLmhlaWdodCA9ICcxMHB4JztcclxuICAgIGlmci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICBpZnIuc3R5bGUudG9wID0gJy0xMDAwcHgnO1xyXG4gICAgaWZyLnN0eWxlLmxlZnQgPSAnLTEwMDBweCc7XHJcblxyXG4gICAgaWYgKHJlbW92ZUFmdGVyID09PSB0cnVlKSB7XHJcbiAgICAgICAgcmVtb3ZlQWZ0ZXIgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBmbk9uTG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgZWw7XHJcbiAgICAgICAgaWYgKGUgJiYgZS5zcmNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsID0gZS5zcmNFbGVtZW50O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZSAmJiBlLnRhcmdldCkge1xyXG4gICAgICAgICAgICBlbCA9IGUudGFyZ2V0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVsID0gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghZWwubG9hZGVkICYmIGVsLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgZWwubG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgaWYgKHJlbW92ZUFmdGVyICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoXHJcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7fVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQWZ0ZXIgYXMgYW55LFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcihpZnIsICdsb2FkJywgZm5PbkxvYWQpO1xyXG4gICAgRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcihpZnIsICdlcnJvcicsIGZuT25Mb2FkKTtcclxuICAgIGlmci5vbmxvYWQgPSBlID0+IHtcclxuICAgICAgICBmbk9uTG9hZChlKTtcclxuICAgIH07XHJcbiAgICBpZnIub25lcnJvciA9IGZuT25Mb2FkO1xyXG5cclxuICAgIGlmci5zcmMgPSB1cmw7XHJcbiAgICBET01VdGlscy5hcHBlbmRUb0JvZHkoaWZyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRTZXJ2aWNlKHNlcnZpY2VOYW1lOiBzdHJpbmcsIGZuT25FcnJvcj86ICgpID0+IHZvaWQsIGZuT25Mb2FkPzogKCkgPT4gdm9pZCkge1xyXG4gICAgdmFyIHVybCA9IGdldENkblJlc291cmNlKCkgKyAnL2pzL2dpZ3lhLnNlcnZpY2VzLicgKyBzZXJ2aWNlTmFtZSArICcuanMnO1xyXG4gICAgbG9hZChcclxuICAgICAgICB1cmwsXHJcbiAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT09ICdvYmplY3QnICYmIGNvbnNvbGUuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Vycm9yIGxvYWRpbmcgZ2lneWEgc2VydmljZSAnICsgc2VydmljZU5hbWUgKyAnIGZyb20gdXJsOiAnICsgdXJsKTtcclxuICAgICAgICAgICAgICAgIGlmIChmbk9uRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBmbk9uRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm5PbkxvYWQsXHJcbiAgICAgICAgdHJ1ZSxcclxuICAgICk7XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgSlNPTlV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9KU09OJztcclxuaW1wb3J0ICogYXMgcXVldWVVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvcXVldWUnO1xyXG52YXIgc2Vzc2lvblN0b3JhZ2VFbmFibGVkO1xyXG50cnkge1xyXG4gICAgc2Vzc2lvblN0b3JhZ2VFbmFibGVkID0gQm9vbGVhbih3aW5kb3cuc2Vzc2lvblN0b3JhZ2UpOyAvLyB3aGVuIDNwYyBibG9ja2VkLCBjaHJvbWUgdGhyb3dzIHdoZW4gdHJ5aW5nIHRvIGFjY2VzcyBzZXNzaW9uIHN0b3JhZ2UuXHJcbn0gY2F0Y2ggKGV4KSB7XHJcbiAgICBzZXNzaW9uU3RvcmFnZUVuYWJsZWQgPSBmYWxzZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gc2V0KGtleTogc3RyaW5nLCByZXNwb25zZTogT2JqZWN0KSB7XHJcbiAgICBpZiAoIXNlc3Npb25TdG9yYWdlRW5hYmxlZCkgcmV0dXJuO1xyXG4gICAgdmFyIG9HaWd5YTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgb0dpZ3lhID0gSlNPTlV0aWxzLmRlc2VyaWFsaXplKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdnaWd5YUNhY2hlJykpO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2UgPT0gbnVsbCAmJiBvR2lneWFba2V5XSkge1xyXG4gICAgICAgICAgICBkZWxldGUgb0dpZ3lhW2tleV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb0dpZ3lhW2tleV0gPSB7IHJlc3BvbnNlOiByZXNwb25zZSwgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdnaWd5YUNhY2hlJywgSlNPTlV0aWxzLnNlcmlhbGl6ZShvR2lneWEpKTtcclxuICAgIH0gY2F0Y2ggKGV4KSB7fVxyXG5cclxuICAgIHF1ZXVlVXRpbHMucmVsZWFzZSgnY2FjaGUnLCAnY2FjaGVfJyArIGtleSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldChrZXk6IHN0cmluZywgY2FjaGVUaW1lb3V0OiBudW1iZXIsIGNhbGxiYWNrOiAocmVzcG9uc2U6IE9iamVjdCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgaWYgKCFzZXNzaW9uU3RvcmFnZUVuYWJsZWQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIGNhbGxiYWNrKG51bGwpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciByZXQ7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGlmICghcXVldWVVdGlscy5pc0FjdGl2ZSgnY2FjaGVfJyArIGtleSkpIHtcclxuICAgICAgICAgICAgdmFyIHNHaWd5YUNhY2hlID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2dpZ3lhQ2FjaGUnKTtcclxuICAgICAgICAgICAgdmFyIG9HaWd5YSA9IEpTT05VdGlscy5kZXNlcmlhbGl6ZShzR2lneWFDYWNoZSk7XHJcbiAgICAgICAgICAgIHZhciBjYWNoZWQgPSBvR2lneWFba2V5XTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlVGltZW91dCAmJiBjYWNoZVRpbWVvdXQgKyBjYWNoZWQudGltZSA+IG5ldyBEYXRlKCkuZ2V0VGltZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jYWNoZWRcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhjYWNoZWQucmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9leHBpcmVkXHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFjYWNoZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vbm90IGNhY2hlZCAoZmlyc3QgdGltZSlcclxuICAgICAgICAgICAgICAgIHF1ZXVlVXRpbHMuaG9sZCgnY2FjaGUnLCAnY2FjaGVfJyArIGtleSk7IC8vc28gdGhhdCBmdXR1cmUgcmVxdWVzdHMgd2lsbCB3YWl0IGZvciB0aGUgZmlyc3Qgb25lJ3MgcmVzcG9uc2UuXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHF1ZXVlVXRpbHMuaXNBY3RpdmUoJ2NhY2hlXycgKyBrZXkpKSB7XHJcbiAgICAgICAgICAgIC8vd2FpdCBmb3IgZmlyc3QgcmVzcG9uc2VcclxuICAgICAgICAgICAgcXVldWVVdGlscy53YWl0Rm9yKCdjYWNoZV8nICsga2V5LCBnZXQsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgIGNhbGxiYWNrKG51bGwpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoa2V5OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHNldChrZXksIG51bGwpO1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRQYXJhbVZhbHVlKHN0cjogc3RyaW5nLCBrZXk6IHN0cmluZywgZGVsOiBzdHJpbmcgPSAnJicpOiBzdHJpbmcge1xyXG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMTkyMDY5Ny9ob3ctdG8tZ2V0LWhhc2gtdmFsdWUtaW4tYS11cmwtaW4tanNcclxuICAgIGNvbnN0IG1hdGNoZXMgPSBzdHIubWF0Y2gobmV3IFJlZ0V4cChgJHtrZXl9PShbXiR7ZGVsfV0qKWApKTtcclxuICAgIHJldHVybiBtYXRjaGVzID8gbWF0Y2hlc1sxXSA6IG51bGw7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlcVBhcmFtVmFsdWUoc3RyOiBzdHJpbmcsIGtleTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHZhbCA9IGdldFBhcmFtVmFsdWUoc3RyLCBrZXkpO1xyXG4gICAgcmV0dXJuIHZhbCA/IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpIDogbnVsbDtcclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gdHJpbShzOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHMucmVwbGFjZSgvXlxccyooXFxTKiguKlxcUyk/KVxccyokLywgJyQxJyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdChzOiBzdHJpbmcsIC4uLnJlc3Q6IHN0cmluZ1tdKTogc3RyaW5nIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgIGlmIChhcmd1bWVudHNbaSArIDFdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgcyA9IHMuc3BsaXQoJ3snICsgaSArICd9Jykuam9pbihhcmd1bWVudHNbaSArIDFdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2FwaXRhbGl6ZShzOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHMuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBzLnN1YnN0cmluZygxKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZW5kc1dpdGgoczogc3RyaW5nLCBzdWZmaXg6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHMuaW5kZXhPZihzdWZmaXgsIHMubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCkgIT09IC0xO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8XFxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUFsbChzdHI6IHN0cmluZywgZmluZDogc3RyaW5nLCByZXBsYWNlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgaWYgKCFmaW5kKSByZXR1cm4gc3RyO1xyXG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlUmVnRXhwKGZpbmQpLCAnZycpLCByZXBsYWNlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQ29tbWFTZXBhcmF0ZWRWYWx1ZXMoc3RyMTogc3RyaW5nID0gJycsIHN0cjI6IHN0cmluZyA9ICcnKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGFyciA9IHN0cjEuY29uY2F0KCcsJywgc3RyMikuc3BsaXQoJywnKTtcclxuICAgIHJldHVybiBnaWd5YS51dGlscy5hcnJheS5nZXRVbmlxdWVWYWx1ZXMoYXJyKS5maWx0ZXIoeCA9PiB4KS5qb2luKCcsJyk7XHJcbn0iLCJpbXBvcnQgKiBhcyBET01VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvRE9NJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWJiYWJsZSB7XHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIHNlbGY6IFRhYmJhYmxlO1xyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgbmF0dXJhbFRhYk9yZGVyID0gJ2RhdGEtbmF0dXJhbC10YWItb3JkZXInO1xyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgc2VsZWN0b3IgPSBbJ2E6bm90KFtkaXNhYmxlZF0pJywgJ2J1dHRvbjpub3QoW2Rpc2FibGVkXSknLCAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pJywgJ1t0YWJpbmRleF06bm90KFtkaXNhYmxlZF0pJ10uam9pbignLCcpO1xyXG5cclxuICAgIHByb3RlY3RlZCBiaW5kaW5nczogQXJyYXk8eyBjb250YWluZXI6IEhUTUxFbGVtZW50OyBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lciB9PiA9IFtdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRG8gbm90IHVzZSAtIGFjY2VzcyB2aWEgYGdpZ3lhLnV0aWxzLnRhYmJhYmxlYC5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgICAvKipcclxuICAgICAqIERvIG5vdCB1c2UgLSBhY2Nlc3MgdmlhIGBnaWd5YS51dGlscy50YWJiYWJsZWAuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcclxuICAgICAgICBpZiAoIVRhYmJhYmxlLnNlbGYpIHtcclxuICAgICAgICAgICAgVGFiYmFibGUuc2VsZiA9IG5ldyBUYWJiYWJsZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gVGFiYmFibGUuc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZW4gYm91bmQsIHRoZSB1c2VyIHdpbGwgaGF2ZSB0aGVpciB0YWIgZm9jdXNlZCBsb2NrZWQgaW50byB0aGUgY29udGFpbmVyIHdoaWxlIHRoZWlyIGZvY3VzIGlzIG9uIGFuIGVsZW1lbnQgaW4gdGhlIGNvbnRhaW5lci5cclxuICAgICAqXHJcbiAgICAgKiAtIEhpdHRpbmcgdGFiIHdoaWxlIGZvY3VzZWQgb24gdGhlIGxhc3QgdGFiYmFibGUgZWxlbWVudCB3aWxsIHNldCBmb2N1cyB0byB0aGUgZmlyc3QgdGFiYmFibGUgZWxlbWVudC5cclxuICAgICAqIC0gSGl0dGluZyBzaGlmdCt0YWIgd2hpbGUgZm9jdXNlZCBvbiB0aGUgZmlyc3QgZWxlbWVudCB3aWxsIHNldCBmb2N1cyB0byB0aGUgbGFzdCB0YWJiYWJsZSBlbGVtZW50LlxyXG4gICAgICovXHJcbiAgICBiaW5kVGFiTG9vcGluZyhjb250YWluZXI6IEhUTUxFbGVtZW50LCBmaWx0ZXJTZWxlY3Rvcj86IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIC8vIERvbid0IGJpbmQgdHdpY2Ugd2hlbiBzY3JlZW4tc2V0cyBtb3ZlIGJldHdlZW4gc2NyZWVucy5cclxuICAgICAgICBpZiAodGhpcy5nZXRMaXN0ZW5lckJ5Q29udGFpbmVyKGNvbnRhaW5lcikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSB0aGlzLmNyZWF0ZUxpc3RlbmVyKGNvbnRhaW5lciwgZmlsdGVyU2VsZWN0b3IpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgbGlzdGVuZXIsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzdG9yZSBuYXR1cmFsIHRhYmJpbmcgYmVoYXZpb3IuXHJcbiAgICAgKi9cclxuICAgIHVuYmluZFRhYkxvb3BpbmcoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gdGhpcy5nZXRMaXN0ZW5lckJ5Q29udGFpbmVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgaWYgKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgbGlzdGVuZXIsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBzb3J0ZWQgbGlzdCBvZiB0YWJiYWJsZSBlbGVtZW50cy5cclxuICAgICAqL1xyXG4gICAgZ2V0U29ydGVkVGFiYmFibGVFbGVtZW50cyhjb250YWluZXI6IEVsZW1lbnQsIGZpbHRlclNlbGVjdG9yPzogc3RyaW5nKTogQXJyYXk8SFRNTEVsZW1lbnQ+IHtcclxuICAgICAgICBsZXQgdGFiSW5kZXggPSAwO1xyXG5cclxuICAgICAgICBjb25zdCBlbHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChUYWJiYWJsZS5zZWxlY3Rvcik7XHJcbiAgICAgICAgY29uc3QgdGFiYmFibGU6IEFycmF5PEhUTUxFbGVtZW50PiA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVscy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxzW2ldIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1RhYmJhYmxlKGVsZW1lbnQsIGZpbHRlclNlbGVjdG9yKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTmVjZXNzYXJ5IHRvIHRyYWNrIG5hdHVyYWwgc29ydCBvcmRlciBmb3Igc3RhYmxlIHNvcnQgaW1wbGVtZW50YXRpb24uXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShUYWJiYWJsZS5uYXR1cmFsVGFiT3JkZXIsIFN0cmluZyh0YWJJbmRleCkpO1xyXG4gICAgICAgICAgICAgICAgdGFiSW5kZXgrKztcclxuICAgICAgICAgICAgICAgIHRhYmJhYmxlLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRhYmJhYmxlLnNvcnQoKGEsIGIpID0+IHRoaXMuc29ydChhLCBiKSk7XHJcbiAgICAgICAgcmV0dXJuIHRhYmJhYmxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuZCB0cmFjayBsaXN0ZW5lciBmdW5jdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUxpc3RlbmVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGZpbHRlclNlbGVjdG9yPzogc3RyaW5nKTogRXZlbnRMaXN0ZW5lciB7XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBUYWIga2V5IGhpdCBhbmQgdGhlIGN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnQgaXMgaW4gdGhlIGNvbnRhaW5lciB3ZSBjYXJlIGFib3V0LlxyXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gOSAmJiBjb250YWluZXIuY29udGFpbnMoYWN0aXZlRWxlbWVudCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdG8ga2V5IHRoZSBuZXh0IGVsZW1lbnQuIFNoaWZ0IGtleSByZXZlcnNlcyB0YWIgb3JkZXIuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9ICFlLnNoaWZ0S2V5XHJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmdldE5leHRUYWJiYWJsZUVsZW1lbnQoY29udGFpbmVyLCBhY3RpdmVFbGVtZW50LCBmaWx0ZXJTZWxlY3RvcilcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0UHJldmlvdXNUYWJiYWJsZUVsZW1lbnQoY29udGFpbmVyLCBhY3RpdmVFbGVtZW50LCBmaWx0ZXJTZWxlY3Rvcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5mb2N1cygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDYW5jZWwgZGVmYXVsdCBzdWJtaXQgZXZlbnQgb25seSBpZiBuZXh0IGVsZW1lbnQgaW4gbGluZSBjb3VsZCBiZSBmb3VuZC5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBmb2N1cyBpcyBzZXQgb24gYW4gdW50YWJiYWJsZSBlbGVtZW50cywgdGhlIHRhYiBrZXlwcmVzcyB3aWxsIGFsd2F5cyBiZSBoYW5kbGVkIG5hdGl2ZWx5LlxyXG4gICAgICAgICAgICAgICAgICAgIERPTVV0aWxzLmNhbmNlbEV2ZW50KGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmJpbmRpbmdzLnB1c2goeyBjb250YWluZXIsIGxpc3RlbmVyIH0pO1xyXG4gICAgICAgIHJldHVybiBsaXN0ZW5lcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbHRlciBvdXQgZWxlbWVudHMgdGhhdCBhcmVuJ3QgdGFiYmFibGUuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBpc1RhYmJhYmxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBmaWx0ZXJTZWxlY3Rvcj86IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IG1hdGNoZXM6IHR5cGVvZiBlbGVtZW50Lm1hdGNoZXMgPSBlbGVtZW50Lm1hdGNoZXMgfHwgZWxlbWVudFsnbXNNYXRjaGVzU2VsZWN0b3InXTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICBlbGVtZW50LnRhYkluZGV4ICE9PSAtMSAmJiAvLyBFeGNsdWRlZCBmcm9tIHRhYiBvcmRlci5cclxuICAgICAgICAgICAgKGVsZW1lbnQub2Zmc2V0V2lkdGggPiAwIHx8IGVsZW1lbnQub2Zmc2V0SGVpZ2h0ID4gMCkgJiYgLy8gSXMgdmlzaWJsZS5cclxuICAgICAgICAgICAgKCFmaWx0ZXJTZWxlY3RvciB8fCBtYXRjaGVzLmNhbGwoZWxlbWVudCwgZmlsdGVyU2VsZWN0b3IpKVxyXG4gICAgICAgICk7IC8vIElzIGluIGZpbHRlcmVkIHNldCBvZiBlbGVtZW50cy5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBuZXh0IHRhYmJhYmxlIGVsZW1lbnQsIGxvb3BpbmcgaWYgbmVjZXNzYXJ5LiBSZXR1cm5zIHVuZGVmaW5lZCBpZiB0aGUgY3VycmVudCBlbGVtZW50IGlzbid0IGluIHRoZSBsaXN0IG9mIHRhYmJhYmxlIGVsZW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZ2V0TmV4dFRhYmJhYmxlRWxlbWVudChjb250YWluZXI6IEhUTUxFbGVtZW50LCBjdXJyZW50RWxlbWVudDogSFRNTEVsZW1lbnQsIGZpbHRlclNlbGVjdG9yPzogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGNvbnN0IGVscyA9IHRoaXMuZ2V0U29ydGVkVGFiYmFibGVFbGVtZW50cyhjb250YWluZXIsIGZpbHRlclNlbGVjdG9yKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBlbHMuaW5kZXhPZihjdXJyZW50RWxlbWVudCk7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgLy8gVGhlIGN1cnJlbnQgZWxlbWVudCB3YXNuJ3QgZm91bmQgaW4gdGhlIGxpc3Qgb2YgdGFiYmFibGUgZWxlbWVudHMuXHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50SW5kZXggIT09IGVscy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIC8vIE5leHQgZWxlbWVudCBpbiBsaXN0LlxyXG4gICAgICAgICAgICByZXR1cm4gZWxzW2N1cnJlbnRJbmRleCArIDFdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIExhc3QgZWxlbWVudCByZWFjaGVkLCBsb29wIGJhY2sgdG8gZmlyc3QuXHJcbiAgICAgICAgICAgIHJldHVybiBlbHNbMF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHByZXZpb3VzIHRhYmJhYmxlIGVsZW1lbnQsIGxvb3BpbmcgaWYgbmVjZXNzYXJ5LiBSZXR1cm5zIHVuZGVmaW5lZCBpZiB0aGUgY3VycmVudCBlbGVtZW50IGlzbid0IGluIHRoZSBsaXN0IG9mIHRhYmJhYmxlIGVsZW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZ2V0UHJldmlvdXNUYWJiYWJsZUVsZW1lbnQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgY3VycmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBmaWx0ZXJTZWxlY3Rvcj86IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBjb25zdCBlbHMgPSB0aGlzLmdldFNvcnRlZFRhYmJhYmxlRWxlbWVudHMoY29udGFpbmVyLCBmaWx0ZXJTZWxlY3Rvcik7XHJcbiAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gZWxzLmluZGV4T2YoY3VycmVudEVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgIC8vIFRoZSBjdXJyZW50IGVsZW1lbnQgd2Fzbid0IGZvdW5kIGluIHRoZSBsaXN0IG9mIHRhYmJhYmxlIGVsZW1lbnRzLlxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEluZGV4ICE9PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIFByZXZpb3VzIGVsZW1lbnQgaW4gbGlzdC5cclxuICAgICAgICAgICAgcmV0dXJuIGVsc1tjdXJyZW50SW5kZXggLSAxXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBGaXJzdCBlbGVtZW50IHJlYWNoZWQsIGxvb3AgYmFjayB0byBsYXN0LlxyXG4gICAgICAgICAgICByZXR1cm4gZWxzW2Vscy5sZW5ndGggLSAxXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTb3J0IGFsZ29yaXRobSB0aGF0IHRha2VzIGludG8gYWNjb3VudCB0aGUgdGFiIGluZGV4IGFuZCBuYXR1cmFsIHNvcnQgb3JkZXIgZm9yIGVhY2ggZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBOT1RFOlxyXG4gICAgICogTm90IGFsbCBicm93c2VycyBpbXBsZW1lbnQgc3RhYmxlIHNvcnRpbmcuIFNwZWNpZmljYWxseSBDaHJvbWUncyBzb3J0IGlzIE5PVCBzdGFibGUuXHJcbiAgICAgKiBBIHNvcnRpbmcgYWxnb3JpdGhtIGlzIFwic3RhYmxlXCIgd2hlbiB0d28gb2JqZWN0cyB3aXRoIGVxdWFsIGtleXMgYXBwZWFyIGluIHRoZSBzYW1lIG9yZGVyIGFmdGVyIGJlaW5nIHNvcnRlZC5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIHNvcnQoYTogSFRNTEVsZW1lbnQsIGI6IEhUTUxFbGVtZW50KTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCB0YWJJbmRleERpZmYgPSB0aGlzLmdldFRhYkluZGV4KGEpIC0gdGhpcy5nZXRUYWJJbmRleChiKTtcclxuICAgICAgICBpZiAodGFiSW5kZXhEaWZmICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YWJJbmRleERpZmY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBOdW1iZXIoYS5nZXRBdHRyaWJ1dGUoVGFiYmFibGUubmF0dXJhbFRhYk9yZGVyKSkgLSBOdW1iZXIoYi5nZXRBdHRyaWJ1dGUoVGFiYmFibGUubmF0dXJhbFRhYk9yZGVyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbGVtZW50cyB3aXRoIGEgdGFiIGluZGV4IG9mIDAgc2hvdWxkIGFwcGVhciBhZnRlciBhbGwgZWxlbWVudHMgd2l0aCBhIHRhYiBpbmRleC5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldFRhYkluZGV4KGVsOiBIVE1MRWxlbWVudCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIGVsLnRhYkluZGV4ID09PSAwID8gOTk5OTk5OTkgOiBlbC50YWJJbmRleDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbmQgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24gYnkgY29udGFpbmVyIGVsZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRMaXN0ZW5lckJ5Q29udGFpbmVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0IHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGJpbmRpbmcgb2YgdGhpcy5iaW5kaW5ncykge1xyXG4gICAgICAgICAgICBpZiAoYmluZGluZy5jb250YWluZXIgPT09IGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpbmRpbmcubGlzdGVuZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNvbnN0IHRhYmJhYmxlID0gVGFiYmFibGUuZ2V0SW5zdGFuY2UoKTtcclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGZpbGwodGVtcGxhdGU6IEZ1bmN0aW9uLCBvUGxhY2Vob2xkZXJzOiBhbnkpOiBzdHJpbmc7XHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsKHRlbXBsYXRlOiBzdHJpbmcsIG9QbGFjZWhvbGRlcnM6IGFueSk6IHN0cmluZztcclxuZXhwb3J0IGZ1bmN0aW9uIGZpbGwodGVtcGxhdGU6IGFueSwgbzogYW55KTogc3RyaW5nIHtcclxuICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUobyk7XHJcbiAgICB9XHJcbiAgICBpZiAodGVtcGxhdGUgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUuam9pbignJyk7XHJcbiAgICB9XHJcbiAgICB2YXIgcCA9IC8oXFwkKSghPykoW2Etel9dW2Etel8uXFxkXSopKFsoXVteKCldKlspXSk/fChcXCQpKCE/KVxceyhbYS16X11bYS16Xy5cXGRdKikoWyhdW14oKV0qWyldKT9cXH0vZ2k7XHJcbiAgICBwLmxhc3RJbmRleCA9IDA7XHJcbiAgICB2YXIgcmVzID0gdGVtcGxhdGU7XHJcbiAgICB2YXIgbWF0Y2hlcyA9IHAuZXhlYyhyZXMpO1xyXG4gICAgdmFyIG9mZnNldDtcclxuICAgIHdoaWxlIChtYXRjaGVzICE9IG51bGwpIHtcclxuICAgICAgICBpZiAobWF0Y2hlc1sxXSA9PSAnJCcpIHtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSA0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmxuRG9udEluamVjdCA9IG1hdGNoZXNbMiArIG9mZnNldF0gPT0gJyEnO1xyXG4gICAgICAgIHZhciBpZGVudGlmaWVyID0gbWF0Y2hlc1szICsgb2Zmc2V0XTsgLy8gMCBpcyB0aGUgZW50aXJlIGV4cHIgYW5kIDEvNT0kIDIvNj0hIDMvNz1pZGVudGlmaWVyIDQvOD0oKSdzXHJcbiAgICAgICAgdmFyIHBhcmEgPSBtYXRjaGVzWzQgKyBvZmZzZXRdO1xyXG4gICAgICAgIGlmIChwYXJhID09IG51bGwpIHBhcmEgPSAnJztcclxuXHJcbiAgICAgICAgdmFyIGRiZyA9IDA7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIuc3Vic3RyaW5nKDAsIDEpID09ICcuJykge1xyXG4gICAgICAgICAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllci5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpZGVudGlmaWVyLnN1YnN0cmluZygwLCAzKSA9PSAnREJHJykge1xyXG4gICAgICAgICAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllci5zdWJzdHJpbmcoMyk7XHJcbiAgICAgICAgICAgIGRiZyA9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcHJlVGVtcCA9ICcnO1xyXG4gICAgICAgIHZhciBwb3N0VGVtcCA9IGlkZW50aWZpZXIgKyBwYXJhO1xyXG4gICAgICAgIHdoaWxlIChwb3N0VGVtcCAhPSBwcmVUZW1wKSB7XHJcbiAgICAgICAgICAgIHByZVRlbXAgPSBwb3N0VGVtcDtcclxuXHJcbiAgICAgICAgICAgIHZhciBsYXN0SW5kZXggPSBwLmxhc3RJbmRleDtcclxuICAgICAgICAgICAgcG9zdFRlbXAgPSBmaWxsKHByZVRlbXAsIG8pO1xyXG4gICAgICAgICAgICBwLmxhc3RJbmRleCA9IGxhc3RJbmRleDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB2ID0gJyc7XHJcbiAgICAgICAgdmFyIHNraXBDaGFycyA9IDA7XHJcbiAgICAgICAgaWYgKG9baWRlbnRpZmllci5zcGxpdCgnLicpWzBdXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2ID0gbmV3IEZ1bmN0aW9uKCdvJywgJ3AnLCAncmV0dXJuIGV2YWwoXCJvLlwiICsgcCknKShvLCBwb3N0VGVtcCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdiA9ICckJyArIChibG5Eb250SW5qZWN0ID8gJyEnIDogJycpICsgcG9zdFRlbXA7XHJcbiAgICAgICAgICAgIHNraXBDaGFycyA9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYmxuRG9udEluamVjdCkge1xyXG4gICAgICAgICAgICByZXMgPSByZXMucmVwbGFjZShtYXRjaGVzWzBdLCAnJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzID0gcmVzLnN1YnN0cigwLCBtYXRjaGVzLmluZGV4KSArIHYgKyByZXMuc3Vic3RyKG1hdGNoZXMuaW5kZXggKyBtYXRjaGVzWzBdLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIC8vcmVzPXJlcy5zcGxpdChtYXRjaGVzWzBdKS5qb2luKHYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwLmxhc3RJbmRleCA9IG1hdGNoZXMuaW5kZXggKyBza2lwQ2hhcnM7IC8vIHRvIGFsbG93IHJlY3Vyc2l2ZSBjaGFuZ2VzIGluIHRlbXBsYXRlcyB0aGF0IGNvbnRhaW4gdGVtcGxhdGVzLlxyXG4gICAgICAgIG1hdGNoZXMgPSBwLmV4ZWMocmVzKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGlzRXhwbGljaXRUcnVlKHZhbDogYW55KTogYm9vbGVhbiB7XHJcbiAgICB2YXIgbGMgPSAoJycgKyB2YWwpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICByZXR1cm4gbGMgPT0gJ3RydWUnIHx8IGxjID09ICcxJztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaXNFeHBsaWNpdEZhbHNlKHZhbDogYW55KTogYm9vbGVhbiB7XHJcbiAgICB2YXIgbGMgPSAoJycgKyB2YWwpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICByZXR1cm4gbGMgPT0gJ2ZhbHNlJyB8fCBsYyA9PSAnMCc7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTGF0ZXJUaGFuTm93KGV4cGlyYXRpb25UaW1lOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBleHBpcmF0aW9uVGltZSA+IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBhbGxEZWZpbmVkT3JBbGxVbmRlZmluZWQoLi4uYXJncykge1xyXG4gICAgY29uc3QgYW55VW5kZWZpbmVkID0gYXJncy5zb21lKHggPT4gdHlwZW9mIHggPT09ICd1bmRlZmluZWQnKTtcclxuICAgIGNvbnN0IGFueURlZmluZWQgPSBhcmdzLnNvbWUoeCA9PiB0eXBlb2YgeCAhPT0gJ3VuZGVmaW5lZCcpO1xyXG4gICAgcmV0dXJuIChhbnlEZWZpbmVkICYmICFhbnlVbmRlZmluZWQpIHx8ICghYW55RGVmaW5lZCAmJiBhbnlVbmRlZmluZWQpO1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGwoKTogeyB0b3A6IG51bWJlcjsgbGVmdDogbnVtYmVyIH0ge1xyXG4gICAgdmFyIHNjck9mWCA9IDAsXHJcbiAgICAgICAgc2NyT2ZZID0gMDtcclxuICAgIGlmICh0eXBlb2Ygd2luZG93LnBhZ2VZT2Zmc2V0ID09ICdudW1iZXInKSB7XHJcbiAgICAgICAgc2NyT2ZZID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xyXG4gICAgICAgIHNjck9mWCA9IHdpbmRvdy5wYWdlWE9mZnNldDtcclxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYm9keSAmJiAoZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSkge1xyXG4gICAgICAgIHNjck9mWSA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xyXG4gICAgICAgIHNjck9mWCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdDtcclxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSkge1xyXG4gICAgICAgIHNjck9mWSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICAgICAgc2NyT2ZYID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4geyBsZWZ0OiBzY3JPZlgsIHRvcDogc2NyT2ZZIH07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bGxTaXplKCk6IHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfSB7XHJcbiAgICB2YXIgZGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICB2YXIgZGIgPSBkb2N1bWVudC5ib2R5O1xyXG5cclxuICAgIHZhciBoID0gZGUuY2xpZW50SGVpZ2h0O1xyXG4gICAgaWYgKGggPT0gMCkgaCA9IGRiLmNsaWVudEhlaWdodDtcclxuICAgIHZhciB3ID0gZGUuY2xpZW50V2lkdGg7XHJcbiAgICBpZiAodyA9PSAwKSB3ID0gZGIuY2xpZW50V2lkdGg7XHJcbiAgICByZXR1cm4geyB3OiB3LCBoOiBoIH07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE9yaWVudGF0aW9uKCk6IG51bWJlciB7XHJcbiAgICB2YXIgb3JpZW50YXRpb24gPSBwYXJzZUludCgod2luZG93WydvcmllbnRhdGlvbiddIGFzIHN0cmluZykgfHwgJzAnKTtcclxuICAgIGlmIChvcmllbnRhdGlvbiA8IDApIG9yaWVudGF0aW9uICs9IDM2MDtcclxuXHJcbiAgICByZXR1cm4gb3JpZW50YXRpb247XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldElubmVyU2l6ZSgpOiB7IHc6IG51bWJlcjsgaDogbnVtYmVyIH0ge1xyXG4gICAgdmFyIGg7XHJcbiAgICB2YXIgdztcclxuXHJcbiAgICB2YXIgZGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICB2YXIgZGIgPSBkb2N1bWVudC5ib2R5O1xyXG5cclxuICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQpIHtcclxuICAgICAgICBoID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICAgIHcgPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaCA9IGRlLmNsaWVudEhlaWdodDtcclxuICAgICAgICBpZiAoaCA9PSAwKSBoID0gZGIuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIHcgPSBkZS5jbGllbnRXaWR0aDtcclxuICAgICAgICBpZiAodyA9PSAwKSB3ID0gZGIuY2xpZW50V2lkdGg7XHJcbiAgICB9XHJcbiAgICByZXR1cm4geyB3OiB3LCBoOiBoIH07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE1pZGRsZUNlbnRlcigpOiB7IHRvcDogbnVtYmVyOyBsZWZ0OiBudW1iZXIgfSB7XHJcbiAgICB2YXIgc2Nyb2xsID0gZ2V0U2Nyb2xsKCk7XHJcbiAgICB2YXIgc2l6ZSA9IGdldElubmVyU2l6ZSgpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0b3A6IHNjcm9sbC50b3AgKyBNYXRoLmZsb29yKHNpemUuaCAvIDIpLFxyXG4gICAgICAgIGxlZnQ6IHNjcm9sbC5sZWZ0ICsgTWF0aC5mbG9vcihzaXplLncgLyAyKSxcclxuICAgIH07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVjdEhvcml6b250YWxseVZpc2libGUocmVjdDogeyB0b3A6IG51bWJlcjsgYm90dG9tOiBudW1iZXI7IGxlZnQ6IG51bWJlcjsgcmlnaHQ6IG51bWJlciB9KSB7XHJcbiAgICB2YXIgc2Nyb2xsID0gZ2V0U2Nyb2xsKCk7XHJcbiAgICB2YXIgc2l6ZSA9IGdldElubmVyU2l6ZSgpO1xyXG4gICAgcmV0dXJuIHJlY3QubGVmdCA+PSBzY3JvbGwubGVmdCAmJiByZWN0LnJpZ2h0IDw9IHNjcm9sbC5sZWZ0ICsgc2l6ZS53O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpc1JlY3RGdWxseVZpc2libGUocmVjdDogeyB0b3A6IG51bWJlcjsgYm90dG9tOiBudW1iZXI7IGxlZnQ6IG51bWJlcjsgcmlnaHQ6IG51bWJlciB9KSB7XHJcbiAgICB2YXIgc2Nyb2xsID0gZ2V0U2Nyb2xsKCk7XHJcbiAgICB2YXIgc2l6ZSA9IGdldElubmVyU2l6ZSgpO1xyXG4gICAgcmV0dXJuIHJlY3QudG9wID49IHNjcm9sbC50b3AgJiYgcmVjdC5ib3R0b20gPD0gc2Nyb2xsLnRvcCArIHNpemUuaCAmJiByZWN0LmxlZnQgPj0gc2Nyb2xsLmxlZnQgJiYgcmVjdC5yaWdodCA8PSBzY3JvbGwubGVmdCArIHNpemUudztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcpIHtcclxuICAgICAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XHJcbmltcG9ydCAqIGFzIFVSTFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VUkwnO1xyXG5pbXBvcnQgKiBhcyBIVFRQVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0hUVFAnO1xyXG5pbXBvcnQgKiBhcyBnbG9iYWxFdmVudHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0dsb2JhbEV2ZW50cyc7XHJcblxyXG5leHBvcnQgdmFyIF9vcGVuZWRXaW5kb3dzID0ge307XHJcbmV4cG9ydCB2YXIgX3VuaXF1ZVdpbmRvd0NvdW50ZXIgPSAwO1xyXG5leHBvcnQgaW50ZXJmYWNlIFdpbmRvd09wdGlvbnMge1xyXG4gICAgbWVudWJhcj86IG51bWJlcjtcclxuICAgIHRvb2xiYXI/OiBudW1iZXI7XHJcbiAgICByZXNpemFibGU/OiBudW1iZXI7XHJcbiAgICBzY3JvbGxiYXJzPzogbnVtYmVyO1xyXG4gICAgbG9jYXRpb24/OiBudW1iZXI7XHJcbiAgICB3aWR0aD86IHN0cmluZyB8IG51bWJlcjtcclxuICAgIGhlaWdodD86IHN0cmluZyB8IG51bWJlcjtcclxuICAgIGxlZnQ/OiBzdHJpbmcgfCBudW1iZXI7XHJcbiAgICB0b3A/OiBzdHJpbmcgfCBudW1iZXI7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIF9jYWxjUGl4ZWxzKHZhbHVlOiBzdHJpbmcgfCBudW1iZXIsIG1heD86IG51bWJlciwgZGVmPzogc3RyaW5nIHwgbnVtYmVyLCBwb3NpdGlvbkFkanVzdG1lbnQ/OiBhbnkpOiBudW1iZXIge1xyXG4gICAgdmFyIHBpeGVsczogbnVtYmVyO1xyXG5cclxuICAgIC8vIEhhbmRsZSBzdHJpbmcgYXMgYXJndW1lbnQuXHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIC8vIFR5cGVjYXN0IHN0cmluZyB0byBudW1iZXIuIE1heSBiZSBwZXJjZW50YWdlLlxyXG4gICAgICAgIHBpeGVscyA9IHBhcnNlSW50KHZhbHVlKTtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBwZXJjZW50YWdlIHdpZHRoIGFuZCBoZWlnaHQgdG8gbnVtYmVyLlxyXG4gICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKCclJykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHBpeGVscyA9IHBhcnNlSW50KHZhbHVlKSAqIDAuMDEgKiBtYXg7XHJcblxyXG4gICAgICAgICAgICAvLyBXaGVuIHBvc2l0aW9uaW5nIChhcyBvcHBvc2VkIHRvIGRpbWVuc2lvbiksIG5lZWQgdG8gcGxhY2Ugd2luZG93IGluIGNlbnRlci5cclxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uQWRqdXN0bWVudCkge1xyXG4gICAgICAgICAgICAgICAgcGl4ZWxzIC09IHBvc2l0aW9uQWRqdXN0bWVudCAvIDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBpeGVscyA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJvdW5kIHRvIHdob2xlIHZhbHVlLlxyXG4gICAgcGl4ZWxzID0gTWF0aC5yb3VuZChwaXhlbHMpO1xyXG5cclxuICAgIC8vIFR5cGVjYXN0IHRvIG51bWJlciBhbmQgZmFsbGJhY2sgdG8gZGVmYXVsdCBpZiBuZWNlc3NhcnkuXHJcbiAgICBpZiAoaXNOYU4ocGl4ZWxzKSAmJiBkZWYgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHBpeGVscyA9IF9jYWxjUGl4ZWxzKGRlZiwgbWF4LCB1bmRlZmluZWQsIHBvc2l0aW9uQWRqdXN0bWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHBpeGVscztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gb3Blbih1cmw6IHN0cmluZywgd2luZG93TmFtZT86IHN0cmluZywgd2luZG93T3B0aW9ucz86IFdpbmRvd09wdGlvbnMpOiBib29sZWFuIHtcclxuICAgIGlmICghd2luZG93T3B0aW9ucykge1xyXG4gICAgICAgIHdpbmRvd09wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIG1lbnViYXI6IDAsXHJcbiAgICAgICAgICAgIHRvb2xiYXI6IDAsXHJcbiAgICAgICAgICAgIHJlc2l6YWJsZTogMSxcclxuICAgICAgICAgICAgc2Nyb2xsYmFyczogMSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGN1bGF0ZSBkaW1lbnNpb25zIGFuZCBwb3NpdGlvbmluZywgaW5jbHVkaW5nIGRlZmF1bHRzLlxyXG4gICAgd2luZG93T3B0aW9ucy53aWR0aCA9IF9jYWxjUGl4ZWxzKHdpbmRvd09wdGlvbnMud2lkdGgsIHNjcmVlbi53aWR0aCwgOTYwKTtcclxuICAgIHdpbmRvd09wdGlvbnMuaGVpZ2h0ID0gX2NhbGNQaXhlbHMod2luZG93T3B0aW9ucy5oZWlnaHQsIHNjcmVlbi5oZWlnaHQsIDY4MCk7XHJcbiAgICB3aW5kb3dPcHRpb25zLmxlZnQgPSBfY2FsY1BpeGVscyh3aW5kb3dPcHRpb25zLmxlZnQsIHNjcmVlbi53aWR0aCwgJzUwJScsIHdpbmRvd09wdGlvbnMud2lkdGgpO1xyXG4gICAgd2luZG93T3B0aW9ucy50b3AgPSBfY2FsY1BpeGVscyh3aW5kb3dPcHRpb25zLnRvcCwgc2NyZWVuLmhlaWdodCwgJzUwJScsIHdpbmRvd09wdGlvbnMuaGVpZ2h0KTtcclxuXHJcbiAgICAvLyBDb252ZXJ0IHdpbmRvdyBvcHRpb25zIG9iamVjdCB0byBzdHJpbmcuXHJcbiAgICAvLyBFeGFtcGxlOiBtZW51YmFyPTAsdG9vbGJhcj0wLC4uLlxyXG4gICAgdmFyIHdpbmRvd09wdGlvbnNTdHJpbmcgPSAnJztcclxuICAgIGZvciAodmFyIGtleSBpbiB3aW5kb3dPcHRpb25zKSB7XHJcbiAgICAgICAgd2luZG93T3B0aW9uc1N0cmluZyArPSAnLCcgKyBrZXkgKyAnPScgKyB3aW5kb3dPcHRpb25zW2tleV07XHJcbiAgICB9XHJcbiAgICB3aW5kb3dPcHRpb25zU3RyaW5nID0gd2luZG93T3B0aW9uc1N0cmluZy5zdWJzdHIoMSk7XHJcblxyXG4gICAgLy8gNGsgaXMgb3VyIHFzIGxlbmd0aCBsaW1pdC4gQW55dGhpbmcgbW9yZSB3aWxsIHRyaWdnZXIgUE9TVC5cclxuICAgIHZhciBwb3N0VG9XaW5kb3cgPSAobG9jYWxJbmZvLmlzSUUgJiYgdXJsLmxlbmd0aCA+IDIwNDgpIHx8IHVybC5sZW5ndGggPiA0MDk2O1xyXG4gICAgdmFyIHdpbmRvd1VybCA9IHVybDtcclxuICAgIGlmIChwb3N0VG9XaW5kb3cpIHtcclxuICAgICAgICB3aW5kb3dVcmwgPSAnJztcclxuICAgICAgICBpZiAobG9jYWxJbmZvLmlzSUUpIHtcclxuICAgICAgICAgICAgd2luZG93VXJsID0gJ2Fib3V0OmJsYW5rJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRHluYW1pY2FsbHkgYXNzaWduIHdpbmRvdyBuYW1lIGlmIG5lY2Vzc2FyeS5cclxuICAgIGlmICghd2luZG93TmFtZSkge1xyXG4gICAgICAgIHdpbmRvd05hbWUgPSAnX2dpZ1dpbmRvd18nICsgbmV3IERhdGUoKS5nZXRUaW1lKCkgKyAnXycgKyArK191bmlxdWVXaW5kb3dDb3VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9wZW4gYW5kIGZvY3VzIHdpbmRvdy5cclxuICAgIHZhciBuZXdXaW4gPSB3aW5kb3cub3Blbih3aW5kb3dVcmwsIHdpbmRvd05hbWUsIHdpbmRvd09wdGlvbnNTdHJpbmcpO1xyXG4gICAgaWYgKG5ld1dpbiAmJiBuZXdXaW4uZm9jdXMpIHtcclxuICAgICAgICBuZXdXaW4uZm9jdXMoKTtcclxuICAgIH1cclxuICAgIF9vcGVuZWRXaW5kb3dzW3dpbmRvd05hbWVdID0gbmV3V2luO1xyXG5cclxuICAgIC8vIFBvc3QgdG8gd2luZG93IGlmIG5lY2Vzc2FyeS5cclxuICAgIHZhciBwYXJhbXMgPSBVUkxVdGlscy5nZXRQYXJhbXNGcm9tVVJMKHVybCk7XHJcbiAgICBpZiAocG9zdFRvV2luZG93KSB7XHJcbiAgICAgICAgSFRUUFV0aWxzLnJlZGlyZWN0KHVybC5zcGxpdCgnPycpWzBdLCBbcGFyYW1zXSwgJ1BPU1QnLCB3aW5kb3dOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEaXNwYXRjaCB3aW5kb3dPcGVuZWQgZXZlbnQuXHJcbiAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goe1xyXG4gICAgICAgIGV2ZW50TmFtZTogJ3dpbmRvd09wZW5lZCcsXHJcbiAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgcGFyYW1zOiBwYXJhbXMsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gX29wZW5lZFdpbmRvd3Nbd2luZG93TmFtZV0gIT0gbnVsbDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2Uod2luZG93TmFtZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoX29wZW5lZFdpbmRvd3Nbd2luZG93TmFtZV0gIT0gbnVsbCkge1xyXG4gICAgICAgIHZhciBmbkNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9vcGVuZWRXaW5kb3dzW3dpbmRvd05hbWVdICE9IG51bGwpIF9vcGVuZWRXaW5kb3dzW3dpbmRvd05hbWVdLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgX29wZW5lZFdpbmRvd3Nbd2luZG93TmFtZV07XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAobG9jYWxJbmZvLmlvc1ZlcnNpb24gPj0gNikge1xyXG4gICAgICAgICAgICBmbkNsb3NlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZm5DbG9zZSwgMTApOyAvL3RpbWVvdXQgYmVjYXVzZSBvZiBpUGFkIGJ1ZyAoY3Jhc2hlcyBzb21ldGltZXMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIGtleVZhbHVlVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2tleVZhbHVlJztcclxuaW1wb3J0ICogYXMgb2JqZWN0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL29iamVjdCc7XHJcbmltcG9ydCAqIGFzIERPTVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9ET00nO1xyXG5pbXBvcnQgeyBNZXNzYWdpbmdNZXRob2QgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvSW50ZXJuYWxGbG93cyc7XHJcbmltcG9ydCAqIGFzIGZ1bmN0aW9uc1V0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9mdW5jdGlvbnMnO1xyXG5cclxudmFyIF9saXN0ZW5lcnMgPSB7fTtcclxuZXhwb3J0IHZhciBfZmxhc2hMaXN0ZW5lcklEID0gJ2ZsaWQnICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbnZhciBfYWRkZWQgPSBmYWxzZTtcclxudmFyIF9hZGRlZExlZ2FjeU1ldGhvZHMgPSB7fTtcclxuZXhwb3J0IGZ1bmN0aW9uIF9vbkZsYXNoTWVzc2FnZShzZXJpYWxpemVkRXZlbnQpIHtcclxuICAgIHZhciBvRXZlbnQgPSBrZXlWYWx1ZVV0aWxzLmRlc2VyaWFsaXplKHNlcmlhbGl6ZWRFdmVudCwgbnVsbCwgbnVsbCwgdHJ1ZSk7XHJcbiAgICB2YXIgZXZlbnRLZXkgPSBvRXZlbnRbJ2lkJ107XHJcbiAgICB2YXIgaGFuZGxlciA9IF9saXN0ZW5lcnNbZXZlbnRLZXldO1xyXG4gICAgaWYgKGhhbmRsZXIgIT0gbnVsbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgaGFuZGxlci5jYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gaGFuZGxlci5jb250ZXh0O1xyXG4gICAgICAgICAgICBoYW5kbGVyLmNhbGxiYWNrKG9FdmVudCwgY29udGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlbW92ZU1lc3NhZ2VMaXN0ZW5lcihldmVudEtleSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gX29uTWVzc2FnZShldnQpIHtcclxuICAgIGV2dCA9IG9iamVjdFV0aWxzLmNsb25lKGV2dCk7XHJcbiAgICB2YXIgX19mbk9uTWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBrZXlWYWwgPSBldnQuZGF0YS5zcGxpdCgnPScpO1xyXG4gICAgICAgIHZhciBoYW5kbGVyID0gX2xpc3RlbmVyc1trZXlWYWxbMF1dO1xyXG4gICAgICAgIGlmIChoYW5kbGVyICE9IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyLmNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbmNvZGVkRXZlbnRPYmogPSB1bmVzY2FwZShrZXlWYWxbMV0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50T2JqID0ga2V5VmFsdWVVdGlscy5kZXNlcmlhbGl6ZShlbmNvZGVkRXZlbnRPYmosIG51bGwsIG51bGwsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBoYW5kbGVyLmNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGxiYWNrKGV2ZW50T2JqLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZW1vdmVNZXNzYWdlTGlzdGVuZXIoa2V5VmFsWzBdKTtcclxuICAgICAgICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGtleVZhbFswXSk7IC8vIElmIG1lc3NhZ2luZ01ldGhvZCA9PSBsb2NhbCBzdG9yYWdlIGxpc3RlbmVyXHJcbiAgICAgICAgICAgIGlmIChpZnJhbWUgJiYgaWZyYW1lLnBhcmVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmcmFtZS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGlmcmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKGV2dCAmJiBldnQuZGF0YSAmJiBldnQuZGF0YS5zcGxpdCkge1xyXG4gICAgICAgIGlmIChnaWd5YS5sb2NhbEluZm8uaW9zVmVyc2lvbiA+PSA2KSB7XHJcbiAgICAgICAgICAgIF9fZm5Pbk1lc3NhZ2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChfX2ZuT25NZXNzYWdlLCAxMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBfY3JlYXRlTG9jYWxTdG9yYWdlTGlzdGVuZXJJRnJhbWUobWVzc2FnZU5hbWU6IHN0cmluZyk6IEhUTUxJRnJhbWVFbGVtZW50IHtcclxuICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcclxuICAgIGlmcmFtZS5zdHlsZS53aWR0aCA9ICczMHB4JztcclxuICAgIGlmcmFtZS5zdHlsZS5oZWlnaHQgPSAnMTBweCc7XHJcbiAgICBpZnJhbWUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgaWZyYW1lLnN0eWxlLnRvcCA9ICctMTAwMHB4JztcclxuICAgIGlmcmFtZS5zdHlsZS5sZWZ0ID0gJy0xMDAwcHgnO1xyXG4gICAgaWZyYW1lLmlkID0gbWVzc2FnZU5hbWU7XHJcbiAgICBpZnJhbWUuc3JjID0gJ2h0dHBzOi8vY2Rucy5naWd5YS5jb20vZ3MvTG9jYWxTdG9yYWdlTGlzdGVuZXIuaHRtP21vZGU9cmVjZWl2ZSZpZD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG1lc3NhZ2VOYW1lKTtcclxuXHJcbiAgICBET01VdGlscy5hcHBlbmRUb0JvZHkoaWZyYW1lKTtcclxuICAgIHJldHVybiBpZnJhbWU7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZE1lc3NhZ2VMaXN0ZW5lcihcclxuICAgIG1lc3NhZ2VOYW1lOiBzdHJpbmcsXHJcbiAgICBwYXJhbXM6IGFueSxcclxuICAgIGlzUG9wdXA6IGJvb2xlYW4sXHJcbiAgICBjYWxsYmFjazogKG9FdmVudDogT2JqZWN0LCBjb250ZXh0OiBhbnkpID0+IHZvaWQsXHJcbiAgICBtZXNzYWdpbmdNZXRob2Q/OiBNZXNzYWdpbmdNZXRob2QsXHJcbik6IHZvaWQge1xyXG4gICAgX2xpc3RlbmVyc1ttZXNzYWdlTmFtZV0gPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgY29udGV4dDogcGFyYW1zLCB0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSB9O1xyXG4gICAgaWYgKCFtZXNzYWdpbmdNZXRob2QpIHtcclxuICAgICAgICBtZXNzYWdpbmdNZXRob2QgPSBnaWd5YS5sb2NhbEluZm8ubWVzc2FnaW5nTWV0aG9kO1xyXG5cclxuICAgICAgICBpZiAoZ2lneWEubG9jYWxJbmZvLmlzSUUxMSAmJiBpc1BvcHVwICYmIHdpbmRvdy5pbmRleGVkREIpIG1lc3NhZ2luZ01ldGhvZCA9IE1lc3NhZ2luZ01ldGhvZC5Mb2NhbFN0b3JhZ2VMaXN0ZW5lcjtcclxuXHJcbiAgICAgICAgLy8gWyM2NzY0MV0gLSBodHRwczovL2dpZ3lhLnRwb25kZW1hbmQuY29tL2VudGl0eS82NzY0MS1sb2NjaXRhbmUtc29jaWFsLWxvZ2luLXRvLWxpbmUtaGFuZ3NcclxuICAgICAgICAvLyBpZiBwcm92aWRlciBpcyBMaW5lLCB1c2UgTG9jYWxTdG9yYWdlTGlzdGVuZXIgYmVjYXVzZSBpZiBMaW5lJ3MgbmF0aXZlIGFwcCBpcyBpbnN0YWxsZWQgb24gdGhlIGRldmljZVxyXG4gICAgICAgIC8vIGl0IG1heSBcImhpamFja1wiIChkZWVwLWxpbmspIHRoZSBPQXV0aCByZXF1ZXN0IGFuZCBwcmV2ZW50IHRoZSBQb3N0TWVzc2FnZSBtZWNoYW5pc20gZnJvbSB3b3JraW5nLlxyXG4gICAgICAgIGlmIChnaWd5YS5sb2NhbEluZm8uaXNBbmRyb2lkICYmIHBhcmFtcyAmJiBwYXJhbXNbJ3Byb3ZpZGVyJ10gJiYgcGFyYW1zWydwcm92aWRlciddLnRvTG93ZXJDYXNlKCkgPT0gJ2xpbmUnKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2luZ01ldGhvZCA9IE1lc3NhZ2luZ01ldGhvZC5Mb2NhbFN0b3JhZ2VMaXN0ZW5lcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1lc3NhZ2luZ01ldGhvZCA9PSBNZXNzYWdpbmdNZXRob2QuTG9jYWxTdG9yYWdlTGlzdGVuZXIgfHwgbWVzc2FnaW5nTWV0aG9kID09IE1lc3NhZ2luZ01ldGhvZC5Qb3N0TWVzc2FnZSkge1xyXG4gICAgICAgIGlmIChtZXNzYWdpbmdNZXRob2QgPT0gTWVzc2FnaW5nTWV0aG9kLkxvY2FsU3RvcmFnZUxpc3RlbmVyICYmIGlzUG9wdXApIHtcclxuICAgICAgICAgICAgdmFyIGlmcmFtZSA9IF9jcmVhdGVMb2NhbFN0b3JhZ2VMaXN0ZW5lcklGcmFtZShtZXNzYWdlTmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIV9hZGRlZCkge1xyXG4gICAgICAgICAgICB2YXIgZm5Pbk1lc3NhZ2UgPSBlID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlICYmIGUuZGF0YSAmJiB0eXBlb2YgZS5kYXRhID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IGUuZGF0YS5zcGxpdCgnPScpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfbGlzdGVuZXJzW2lkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb25NZXNzYWdlKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmbk9uTWVzc2FnZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvd1snYXR0YWNoRXZlbnQnXSkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93WydhdHRhY2hFdmVudCddKCdvbm1lc3NhZ2UnLCBmbk9uTWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX2FkZGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vbGVnYWN5XHJcbiAgICAgICAgdmFyIGxlZ2FjeUNyb3NzU2l0ZU1ldGhvZCA9ICdsb2NhbHN0b3JhZ2UnO1xyXG4gICAgICAgIGlmIChnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmZbJ2xlZ2FjeUNyb3NzU2l0ZU1ldGhvZCddICYmIGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsnbGVnYWN5Q3Jvc3NTaXRlTWV0aG9kJ10udG9Mb3dlckNhc2UoKSAhPSAnbG9jYWxzdG9yYWdlJykge1xyXG4gICAgICAgICAgICBsZWdhY3lDcm9zc1NpdGVNZXRob2QgPSBnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmZbJ2xlZ2FjeUNyb3NzU2l0ZU1ldGhvZCddO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFfYWRkZWRMZWdhY3lNZXRob2RzW2xlZ2FjeUNyb3NzU2l0ZU1ldGhvZF0pIHtcclxuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSAnMXB4JztcclxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSAnMXB4JztcclxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gJy0xMDAwcHgnO1xyXG4gICAgICAgICAgICAgICAgLy9kaXYuc3R5bGUuZGlzcGxheT0nbm9uZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGlkID0gX2ZsYXNoTGlzdGVuZXJJRDtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdhY3lDcm9zc1NpdGVNZXRob2QgIT0gJ2xvY2Fsc3RvcmFnZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZCA9IGxlZ2FjeUNyb3NzU2l0ZU1ldGhvZCArICc6JyArIF9mbGFzaExpc3RlbmVySUQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRvbWFpbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEubG9jYWxJbmZvLnByb3RvY29sICtcclxuICAgICAgICAgICAgICAgICAgICAnOi8vJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJz8nKVswXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJyMnKVswXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJy8nKVsyXTtcclxuICAgICAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBzd2YgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvYmplY3QnKTtcclxuICAgICAgICAgICAgICAgIHZhciBzcmMgPSAnaHR0cHM6Ly9jZG5zLmdpZ3lhLmNvbS9HUy9zd2YvZXZlbnRzQnJvYWRjYXN0ZXIyLnN3Zic7XHJcblxyXG4gICAgICAgICAgICAgICAgc3dmLnNldEF0dHJpYnV0ZSgnaWQnLCAnZXZlbnRzQnJvYWRjYXN0ZXInICsgbm93KTtcclxuICAgICAgICAgICAgICAgIC8vc3dmLnNldEF0dHJpYnV0ZSgnbmFtZScsICdldmVudHNCcm9hZGNhc3Rlcl8nICsgbm93KTtcclxuICAgICAgICAgICAgICAgIHN3Zi5zZXRBdHRyaWJ1dGUoJ2NvZGViYXNlJywgJ2h0dHBzOi8vZG93bmxvYWQubWFjcm9tZWRpYS5jb20vcHViL3Nob2Nrd2F2ZS9jYWJzL2ZsYXNoL3N3Zmxhc2guY2FiI3ZlcnNpb249OSwwLDAsMCcpO1xyXG4gICAgICAgICAgICAgICAgc3dmLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnNTAnKTtcclxuICAgICAgICAgICAgICAgIHN3Zi5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsICc1MCcpO1xyXG4gICAgICAgICAgICAgICAgc3dmLnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKTtcclxuICAgICAgICAgICAgICAgIHN3Zi5zZXRBdHRyaWJ1dGUoJ2RhdGEnLCBzcmMpO1xyXG4gICAgICAgICAgICAgICAgc3dmLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTppbmxpbmUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyYW07XHJcbiAgICAgICAgICAgICAgICBwYXJhbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3BhcmFtJyk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5uYW1lID0gJ21vdmllJztcclxuICAgICAgICAgICAgICAgIHBhcmFtLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBzcmMpO1xyXG4gICAgICAgICAgICAgICAgc3dmLmFwcGVuZENoaWxkKHBhcmFtKTtcclxuXHJcbiAgICAgICAgICAgICAgICBwYXJhbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3BhcmFtJyk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnYWxsb3dTY3JpcHRBY2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnNldEF0dHJpYnV0ZSgndmFsdWUnLCAnYWx3YXlzJyk7XHJcbiAgICAgICAgICAgICAgICBzd2YuYXBwZW5kQ2hpbGQocGFyYW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHBhcmFtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncGFyYW0nKTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnNldEF0dHJpYnV0ZSgnbmFtZScsICdGbGFzaFZhcnMnKTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnNldEF0dHJpYnV0ZSgndmFsdWUnLCAnYWN0aW9uPWxpc3RlbiZpZD0nICsgaWQgKyAnJmV2ZW50TmFtZT1sb2dpbkNvbXBsZXRlJmNhbGxiYWNrPWdpZ3lhLnV0aWxzLnhkLl9vbkZsYXNoTWVzc2FnZSZkb21haW49JyArIGRvbWFpbik7XHJcbiAgICAgICAgICAgICAgICBzd2YuYXBwZW5kQ2hpbGQocGFyYW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChzd2YpO1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb25zVXRpbHMuaW52b2tlT25QYWdlTG9hZChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBET01VdGlscy5hcHBlbmRUb0JvZHkoZGl2KTtcclxuICAgICAgICAgICAgICAgICAgICBzd2Yuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2FwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dmLnNldEF0dHJpYnV0ZSgnY2xhc3NpZCcsICdjbHNpZDpkMjdjZGI2ZS1hZTZkLTExY2YtOTZiOC00NDQ1NTM1NDAwMDAnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgX2FkZGVkTGVnYWN5TWV0aG9kc1tsZWdhY3lDcm9zc1NpdGVNZXRob2RdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU1lc3NhZ2VMaXN0ZW5lcihtZXNzYWdlTmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBkZWxldGUgX2xpc3RlbmVyc1ttZXNzYWdlTmFtZV07XHJcbn1cclxuIiwiXHJcbmxldCBzZWxlY3RlZENkbkhvc3RzSW5kZXggPSAwO1xyXG5leHBvcnQgY29uc3QgQ0ROX0hPU1RTID0ge1xyXG4gICAgaHR0cDogWydjZG4uZ2lneWEuY29tJywgJ2NkbjEuZ2lneWEuY29tJywgJ2NkbjIuZ2lneWEuY29tJywgJ2NkbjMuZ2lneWEuY29tJ10sXHJcbiAgICBodHRwczogWydjZG5zLmdpZ3lhLmNvbScsICdjZG5zMS5naWd5YS5jb20nLCAnY2RuczIuZ2lneWEuY29tJywgJ2NkbnMzLmdpZ3lhLmNvbSddLFxyXG59O1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2RuUmVzb3VyY2UocGF0aD86IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAvLyBnaWd5YS50aGlzU2NyaXB0IG1heSBub3QgZXhpc3QgaWYgbG9hZGVkIGZvciBzc29PcmlnLlxyXG4gICAgbGV0IGJhc2VEb21haW4gPSBnaWd5YS50aGlzU2NyaXB0Py5iYXNlRG9tYWluID8/ICcnO1xyXG4gICAgY29uc3QgcHJvdG9jb2wgPSBnaWd5YS50aGlzU2NyaXB0Py5wcm90b2NvbCA/PyAnaHR0cHMnO1xyXG5cclxuICAgIC8vIElmIG5vIGJhc2UgZG9tYWluIG9yIGlmIGJhc2UgZG9tYWluIGVuZHMgd2l0aCAuZ2lneWEuY29tLCB1c2UgR2lneWEgQ0ROLlxyXG4gICAgLy8gT3RoZXJ3aXNlIHVzZSB0aGUgYmFzZSBkb21haW4uXHJcbiAgICBpZiAoIWJhc2VEb21haW4gfHwgL2NkbnM/XFwuZ2lneWFcXC5jb20kLy50ZXN0KGJhc2VEb21haW4pKSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRTY2hlbWFSZXBvc2l0b3J5ID0gQ0ROX0hPU1RTW3Byb3RvY29sXTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRTY2hlbWFSZXBvc2l0b3J5Lmxlbmd0aCA8PSBzZWxlY3RlZENkbkhvc3RzSW5kZXgpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRDZG5Ib3N0c0luZGV4ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgYmFzZURvbWFpbiA9IHNlbGVjdGVkU2NoZW1hUmVwb3NpdG9yeVtzZWxlY3RlZENkbkhvc3RzSW5kZXgrK107XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW5zdXJlIHRoZSBwYXRoIHN0YXJ0cyB3aXRoIFwiL1wiLlxyXG4gICAgaWYgKHBhdGgpIHtcclxuICAgICAgICBpZiAocGF0aC5pbmRleE9mKCcvJykgIT09IDApIHtcclxuICAgICAgICAgICAgcGF0aCA9ICcvJyArIHBhdGg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwcm90b2NvbCArICc6Ly8nICsgYmFzZURvbWFpbiArIChwYXRoIHx8ICcnKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1nQ2RuUmVzb3VyY2UoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBnZXRDZG5SZXNvdXJjZSgnL2dzL2kvJyk7XHJcbn1cclxuIiwiaW1wb3J0ICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR2lneWFHbG9iYWxzJztcclxuaW1wb3J0ICogYXMgVGhpc1NjcmlwdCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVGhpc1NjcmlwdCc7XHJcbmltcG9ydCAqIGFzIENETiBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvY2RuJztcclxuaW1wb3J0ICogYXMgRGVmYXVsdEV2ZW50c01hcCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRGVmYXVsdEV2ZW50c01hcCc7XHJcbmltcG9ydCAqIGFzIEV2ZW50cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXZlbnRzJztcclxuaW1wb3J0ICogYXMgR2xvYmFsRXZlbnRzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HbG9iYWxFdmVudHMnO1xyXG5pbXBvcnQgKiBhcyBHU0Vycm9ycyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR1NFcnJvcnMnO1xyXG5pbXBvcnQgKiBhcyBJbnRlcmZhY2VzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9JbnRlcmZhY2VzJztcclxuaW1wb3J0ICogYXMgSW50ZXJuYWxGbG93cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvSW50ZXJuYWxGbG93cyc7XHJcbmltcG9ydCAqIGFzIEdpZ3lhTG9nIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9MZWdhY3lMb2dnZXInO1xyXG5pbXBvcnQgKiBhcyBMb2NhbEluZm8gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XHJcbmltcG9ydCAqIGFzIEdpZ3lhX1Byb3ZpZGVycyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvUHJvdmlkZXJzJztcclxuaW1wb3J0ICogYXMgR2lneWFSZXBvcnRzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9SZXBvcnRzJztcclxuaW1wb3J0ICogYXMgR2lneWFfQXBpQWRhcHRlcnMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvaW50ZXJmYWNlcy9JQXBpQWRhcHRlcic7XHJcbmltcG9ydCAqIGFzIElEaXNwb3NhYmxlIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2ludGVyZmFjZXMvSURpc3Bvc2FibGUnO1xyXG5pbXBvcnQgKiBhcyBCYXNlQXBpIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvQmFzZUFwaSc7XHJcbmltcG9ydCAqIGFzIFVpQXBpIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVWlBcGknO1xyXG5pbXBvcnQgKiBhcyBHaWd5YV9QbHVnaW5zIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVWlBcGlIZWxwZXJzJztcclxuaW1wb3J0ICogYXMgR2lneWFfVUkgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9VaUFwaVJlZ2lzdHJ5JztcclxuaW1wb3J0ICogYXMgR2lneWFfQXBpIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVmVyc2lvblNlbGVjdG9yJztcclxuaW1wb3J0ICogYXMgQmFzZU9iamVjdCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQmFzZU9iamVjdC9CYXNlT2JqZWN0JztcclxuaW1wb3J0ICogYXMgRXZlbnRXcmFwcGVyIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9CYXNlT2JqZWN0L0V2ZW50V3JhcHBlcic7XHJcbmltcG9ydCAqIGFzIEJhc2VPYmplY3RJbnRlcmZhY2VzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9CYXNlT2JqZWN0L0lCYXNlT2JqZWN0Q29uZmlnJztcclxuaW1wb3J0ICogYXMgQ3VzdG9tQXBpcyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQ2xpZW50QVBJL0N1c3RvbUFwaXMnO1xyXG5pbXBvcnQgKiBhcyBJU2FtbENvbmZpZyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQ2xpZW50QVBJL0lTYW1sQ29uZmlnJztcclxuaW1wb3J0ICogYXMgU2FtbEFwaSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQ2xpZW50QVBJL1NhbWxBcGknO1xyXG5pbXBvcnQgKiBhcyBBY2NvdW50U2VydmljZSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvU2VydmljZXMvQWNjb3VudFNlcnZpY2UnO1xyXG5pbXBvcnQgJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscyc7XHJcbmltcG9ydCAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Jvb3RzdHJhcCc7XHJcbmltcG9ydCAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Byb3RvdHlwZXMnO1xyXG5pbXBvcnQgJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvbWFpbic7XHJcblxyXG5kZWNsYXJlIGNvbnN0IGdpZ3lhOiBhbnk7XHJcbmlmICghZ2lneWEuXykge1xyXG4gICAgZ2lneWEuXyA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEuZXZlbnRzKSB7XHJcbiAgICBnaWd5YS5ldmVudHMgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLmV2ZW50cy5nbG9iYWwpIHtcclxuICAgIGdpZ3lhLmV2ZW50cy5nbG9iYWwgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLmxvZykge1xyXG4gICAgZ2lneWEubG9nID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS5fLnByb3ZpZGVycykge1xyXG4gICAgZ2lneWEuXy5wcm92aWRlcnMgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLnJlcG9ydHMpIHtcclxuICAgIGdpZ3lhLnJlcG9ydHMgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLl8uYXBpQWRhcHRlcnMpIHtcclxuICAgIGdpZ3lhLl8uYXBpQWRhcHRlcnMgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLl8ucGx1Z2lucykge1xyXG4gICAgZ2lneWEuXy5wbHVnaW5zID0gR2lneWFfUGx1Z2luc1xyXG59XHJcbmlmICghZ2lneWEuXy5VSSkge1xyXG4gICAgZ2lneWEuXy5VSSA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEuXy5hcGkpIHtcclxuICAgIGdpZ3lhLl8uYXBpID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS5fLnNhbWwpIHtcclxuICAgIGdpZ3lhLl8uc2FtbCA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEuZmlkbSkge1xyXG4gICAgZ2lneWEuZmlkbSA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEuZmlkbS5zYW1sKSB7XHJcbiAgICBnaWd5YS5maWRtLnNhbWwgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLnNlcnZpY2VzKSB7XHJcbiAgICBnaWd5YS5zZXJ2aWNlcyA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEuZ2xvYmFsQWNjb3VudCkge1xyXG4gICAgZ2lneWEuZ2xvYmFsQWNjb3VudCA9IHt9O1xyXG59XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEsIFRoaXNTY3JpcHQsIEdTRXJyb3JzLCBJbnRlcmZhY2VzLCBMb2NhbEluZm8sIElEaXNwb3NhYmxlLCBEZWZhdWx0RXZlbnRzTWFwLCB7IFByb21pc2UgfSk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEuXywgQ0ROLCBJbnRlcm5hbEZsb3dzLCBCYXNlQXBpLCBVaUFwaSwgQmFzZU9iamVjdCwgRXZlbnRXcmFwcGVyLCBCYXNlT2JqZWN0SW50ZXJmYWNlcywgQ3VzdG9tQXBpcyk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEuZXZlbnRzLCBFdmVudHMpO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLmV2ZW50cy5nbG9iYWwsIEdsb2JhbEV2ZW50cyk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEubG9nLCBHaWd5YUxvZyk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEuXy5wcm92aWRlcnMsIEdpZ3lhX1Byb3ZpZGVycyk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEucmVwb3J0cywgR2lneWFSZXBvcnRzKTtcclxuT2JqZWN0LmFzc2lnbihnaWd5YS5fLmFwaUFkYXB0ZXJzLCBHaWd5YV9BcGlBZGFwdGVycyk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEuXy5VSSwgR2lneWFfVUkpO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLl8uYXBpLCBHaWd5YV9BcGkpO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLl8uc2FtbCwgSVNhbWxDb25maWcpO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLmZpZG0uc2FtbCwgU2FtbEFwaSk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEuc2VydmljZXMsIEFjY291bnRTZXJ2aWNlKTtcclxuIiwiaW1wb3J0ICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvaW5kZXgnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YUV4dGVybmFsRmFjZWJvb2sgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0V4dGVybmFsSW50ZWdyYXRpb25zL0ZhY2Vib29rJztcclxuaW1wb3J0ICogYXMgR2lneWFFeHRlcm5hbEdvb2dsZVBsdXMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0V4dGVybmFsSW50ZWdyYXRpb25zL0dvb2dsZVBsdXMnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YUV4dGVybmFsT3BlbmdyYXBoIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9FeHRlcm5hbEludGVncmF0aW9ucy9PcGVuZ3JhcGgnO1xyXG5pbXBvcnQgKiBhcyBCb290c3RyYXAgZnJvbSAnLi9Cb290c3RyYXAnO1xyXG5pbXBvcnQgKiBhcyBBcGlzTGlzdCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL0FwaXNMaXN0JztcclxuaW1wb3J0ICogYXMgU2VydmVyQXBpIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvU2VydmVyQXBpJztcclxuaW1wb3J0ICogYXMgU2VydmVyQXBpUmVxdWVzdCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL1NlcnZlckFwaVJlcXVlc3QnO1xyXG5cclxuZGVjbGFyZSBjb25zdCBnaWd5YTogYW55O1xyXG5pZiAoIWdpZ3lhLl8pIHtcclxuICAgIGdpZ3lhLl8gPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLl8uYm9vdHN0cmFwKSB7XHJcbiAgICBnaWd5YS5fLmJvb3RzdHJhcCA9IHt9O1xyXG59XHJcbmlmICghZ2lneWEuZXh0ZXJuYWwpIHtcclxuICAgIGdpZ3lhLmV4dGVybmFsID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS5leHRlcm5hbC5mYWNlYm9vaykge1xyXG4gICAgZ2lneWEuZXh0ZXJuYWwuZmFjZWJvb2sgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLmV4dGVybmFsLmdvb2dsZVBsdXMpIHtcclxuICAgIGdpZ3lhLmV4dGVybmFsLmdvb2dsZVBsdXMgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLmV4dGVybmFsLm9wZW5ncmFwaCkge1xyXG4gICAgZ2lneWEuZXh0ZXJuYWwub3BlbmdyYXBoID0ge307XHJcbn1cclxuT2JqZWN0LmFzc2lnbihnaWd5YS5fLCBBcGlzTGlzdCwgU2VydmVyQXBpLCBTZXJ2ZXJBcGlSZXF1ZXN0KTtcclxuT2JqZWN0LmFzc2lnbihnaWd5YS5fLmJvb3RzdHJhcCwgQm9vdHN0cmFwKTtcclxuT2JqZWN0LmFzc2lnbihnaWd5YS5leHRlcm5hbC5mYWNlYm9vaywgR2lneWFFeHRlcm5hbEZhY2Vib29rKTtcclxuT2JqZWN0LmFzc2lnbihnaWd5YS5leHRlcm5hbC5nb29nbGVQbHVzLCBHaWd5YUV4dGVybmFsR29vZ2xlUGx1cyk7XHJcbk9iamVjdC5hc3NpZ24oZ2lneWEuZXh0ZXJuYWwub3BlbmdyYXBoLCBHaWd5YUV4dGVybmFsT3BlbmdyYXBoKTtcclxuXHJcbmlmICghZ2lneWEuYnVpbGQpIGdpZ3lhLmJ1aWxkID0geyB2ZXJzaW9uOiAnJywgbnVtYmVyOiAwIH07XHJcbmlmICghZ2lneWEucHJvdmlkZXJzQ29uZmlnKSBnaWd5YS5wcm92aWRlcnNDb25maWcgPSB7fTtcclxuaWYgKCFnaWd5YS5pc0dpZ3lhKSBnaWd5YS5pc0dpZ3lhID0gdHJ1ZTtcclxuaWYgKCFnaWd5YS5wYXJ0bmVyU2V0dGluZ3MpIHtcclxuICAgIGdpZ3lhLnBhcnRuZXJTZXR0aW5ncyA9IHtcclxuICAgICAgICBhdXRoTW9kZTogJ2Nvb2tpZScsXHJcbiAgICAgICAgYmFzZURvbWFpbnM6ICcnLFxyXG4gICAgICAgIGNhcHRjaGFQcm92aWRlcjogJ0dvb2dsZScsXHJcbiAgICAgICAgcGx1Z2luczogeyBhcGlEb21haW46ICd1czEuZ2lneWEtYXBpLmNvbScgfSxcclxuICAgICAgICBpbnZpc2libGVSZWNhcHRjaGE6IHtcclxuICAgICAgICAgICAgc2l0ZUtleTogJycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICByZWNhcHRjaGFWMjoge1xyXG4gICAgICAgICAgICBzaXRlS2V5OiAnJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bkNhcHRjaGE6IHtcclxuICAgICAgICAgICAgc2l0ZUtleTogJycsXHJcbiAgICAgICAgfSxcclxuICAgIH07XHJcbn1cclxuXHJcbkJvb3RzdHJhcC5pbml0KCk7XHJcbiIsImltcG9ydCB7QWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyfSBmcm9tIFwiLi4vYXBwL1V0aWxzL2xvY2FsU3RvcmFnZVwiO1xyXG5cclxuZXhwb3J0IHZhciBpc1Nlc3Npb25Gcm9tU3NvID0gZmFsc2U7XHJcbmV4cG9ydCBpbnRlcmZhY2UgSUdtaWRUaWNrZXRSZXNwb25zZSB7XHJcbiAgICBnbWlkVGlja2V0OiBzdHJpbmc7XHJcbiAgICBleHBpcmF0aW9uVGltZTogbnVtYmVyO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgQXBpQWRhcHRlclNldHRpbmdzIHtcclxuICAgIGZvcmNlSHR0cHM/OiBib29sZWFuOyAvLyByZXF1aXJlZCBmb3Igb2xkIG1vYmlsZSBzZGtzXHJcbiAgICBmb3JjZVBvc3Q/OiBib29sZWFuO1xyXG4gICAgZm9yY2VHaWd5YURvbWFpbj86IGJvb2xlYW47IC8vIGZvciBhbm9ueW1vdXMgdXNlcnNcclxuICAgIGRpc2FibGVDYWNoZT86IGJvb2xlYW47XHJcbiAgICByZXF1aXJlc1Nlc3Npb24/OiAoKSA9PiBib29sZWFuO1xyXG4gICAgY2xlYXJTZXNzaW9uPzogYm9vbGVhbjtcclxuICAgIGNsZWFyU2Vzc2lvbkNvbmRpdGlvbj86IChwYXJhbXM6IGFueSkgPT4gYm9vbGVhbjtcclxuICAgIGNhY2hlVGltZW91dD86IG51bWJlcjtcclxuICAgIGpzU2RrUmVxdWVzdElkPzogc3RyaW5nO1xyXG4gICAgcHJlcHJvY2Vzc29yPzogKHBhcmFtcywgY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHZvaWQ7XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBBcGlBZGFwdGVyT2F1dGhTZXR0aW5ncyBleHRlbmRzIEFwaUFkYXB0ZXJTZXR0aW5ncyB7fVxyXG5leHBvcnQgaW50ZXJmYWNlIElBcGlBZGFwdGVySW5pdFNldHRpbmdzIHtcclxuICAgIGdldEFkYXB0ZXJOYW1lPzogKCkgPT4gc3RyaW5nO1xyXG4gICAgZ2V0QVBJS2V5PzogKCkgPT4gc3RyaW5nO1xyXG4gICAgZ2V0RmVhdHVyZXM/OiAoKSA9PiBzdHJpbmc7XHJcbiAgICBnZXRTZXR0aW5ncz86ICgpID0+IHN0cmluZztcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElBcGlBZGFwdGVyIHtcclxuICAgIGluaXQoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBQcm9taXNlPHZvaWQ+O1xyXG4gICAgaXNTZXNzaW9uVmFsaWQocGFyYW1zOiBPYmplY3QsIGNhbGxiYWNrOiAoaXNWYWxpZDogYm9vbGVhbikgPT4gdm9pZCk6IHZvaWQ7XHJcbiAgICBnZXRTdG9yYWdlKCk6IEFic3RyYWN0TG9jYWxTdG9yYWdlQWRhcHRlcjtcclxuICAgIHNlbmRSZXF1ZXN0KG1ldGhvZE5hbWU6IHN0cmluZywgcGFyYW1zOiBPYmplY3QsIGNhbGxiYWNrPzogKHJlc3BvbnNlOiBPYmplY3QpID0+IHZvaWQsIHNldHRpbmdzPzogQXBpQWRhcHRlclNldHRpbmdzKTogdm9pZDtcclxuICAgIHNlbmRPYXV0aFJlcXVlc3QobWV0aG9kTmFtZTogc3RyaW5nLCBwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s/OiAocmVzcG9uc2U6IE9iamVjdCkgPT4gdm9pZCwgc2V0dGluZ3M/OiBBcGlBZGFwdGVyT2F1dGhTZXR0aW5ncyk6IHZvaWQ7XHJcbiAgICBnZXRUb2tlblBhcmFtKEFQSUtleTogc3RyaW5nLCBwYXJhbU5hbWU6IHN0cmluZyk6IHN0cmluZzsgLy8gbW9zdGx5IGZvciBVVUlEXHJcbiAgICBvblBsdWdpbkV2ZW50KGV2ZW50OiBhbnkpOiB2b2lkO1xyXG4gICAgc2V0R2x0ZXhwRnJvbVNTTyhhcGlLZXk/OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+O1xyXG4gICAgcmVnaXN0ZXJGb3JOYW1lc3BhY2VFdmVudHMobmFtZXNwYWNlOiBzdHJpbmcpOiB2b2lkO1xyXG4gICAgb25TREtFdmVudChldmVudE9iamVjdDogT2JqZWN0KTogdm9pZDtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIGNsZWFyU2Vzc2lvbihwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s/OiAocmVzPzogYW55KSA9PiB2b2lkKTogdm9pZDtcclxuICAgIG9uSlNMb2cobG9nVHlwZTogc3RyaW5nLCBsb2dJbmZvOiBzdHJpbmcpOiB2b2lkO1xyXG4gICAgZ2V0R21pZFRpY2tldCgpOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==