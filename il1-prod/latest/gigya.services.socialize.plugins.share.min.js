!function(e){var i={};function t(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=i,t.d=function(e,i,o){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var n in e)t.d(o,n,function(i){return e[i]}.bind(null,n));return o},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.p="",t(t.s=380)}({380:function(e,t){!function(){void 0===window.gigya.services.socialize.plugins&&(window.gigya.services.socialize.plugins={});var e=window.gigya.services.socialize.plugins;void 0===e.common&&(e.common={addCSS:function(e){if(e&&""!=e){e instanceof Array&&(e=e.join(""));var i=document.createElement("style");i.type="text/css";var t=document.createTextNode(e);i.styleSheet?i.styleSheet.cssText=t.nodeValue:i.appendChild(t);var o=document.getElementsByTagName("head"),n=document.body;(o.length>0?o[0]:n).appendChild(i)}}}),void 0===e.share&&(e.share={modules:{},contexts:{},contextCounter:0,onChange:function(i){for(var t in e.share.modules){var o,n=e.share.modules[t];if(n.user=i.user,i&&i.user)if(i.user.email&&""!=i.user.email&&(o=i.user.email),o){var a=document.getElementById(t+"_tbYourEmail");a&&(a.value=o,a.placeholderCleared=!0),document.cookie="_gig_email="+encodeURIComponent(o)+";expires=Wed, 01 Jan 2020 12:00:00 GMT;path=/;"}("permissions"==i.eventName||("login"==i.eventName||"connect"==i.eventName)&&i.provider)&&n.contacts&&(n.gettingContacts=!0,window.gigya.services.socialize.getContacts(n.c,{callback:n.This.onContacts,context:n,enabledProviders:i.provider}));for(var r=0;r<n.i.arProviders.length;r++){var s=n.i.arProviders[r];if("facebook"!=s.name.toLowerCase()||!e.share.canUseFacebookShare(t)){var l=document.getElementById(t+"_cb"+s.ID);l&&!i.user.identities[s.name.toLowerCase()]&&(l.checked=!1,s.context.connected=!1,n.This.updateProviderButton(t,s.ID))}}}},closeAllModules:function(i){var t={};for(var o in e.share.modules)t[o]=!0;for(o in t)e.share.closeShare(o)},refreshFB:function(i){for(var t in e.share.modules){if(e.share.modules[t].sidebarDisabled||e.share.modules[t].p.hideSidebar)return;var o=document.getElementById(t+"_cb64");o&&o.checked&&e.share.canUseFacebookShare(t)?e.share.showFacebookShareDialog(t):(e.share.hideFacebooklanghareDialog(t),e.share.showSidebar(t))}},TEXT:function(e,i,t,o){return window.gigya.pluginUtils.lang.getLocalizedText("gigya.services.socialize.plugins.share.js",i,e,t,o)},canUseFacebookShare:function(e){var i=this.modules[e];return!window.gigya.utils.validation.isExplicitTrue(i.p.hideSidebar)&&!i.p.autoShareActionID&&null==i.p.initialView&&window.gigya.utils.validation.isExplicitTrue(i.i.isPopup)&&window.gigya.utils.validation.isExplicitTrue(i.p.useFBDialog)&&null!=window.gigya.external.facebook.getParams().fb_at},storeContext:function(i){var t="shareUI_context_"+e.share.contextCounter;return e.share.contexts[t]=i,e.share.contextCounter++,t},fetchCotnext:function(i){var t=e.share.contexts[i];return delete e.share.contexts[i],t},showShareUI:function(e,i,t){var o=window.gigya.services.socialize;t.rid;if(!t.redraw){var n=o.getProvidersByName(i.enabledProviders?i.enabledProviders:e.enabledProviders?e.enabledProviders:"*");n=o.hideProvidersByName(n,i.disabledProviders?i.disabledProviders:e.disabledProviders?e.disabledProviders:""),(n=o.getProvidersForRequiredCapabilities(n,["actions"])).length>6&&(n=n.splice(0,6)),t.arProviders=n,t.moduleID=i.containerID;for(var a=0;a<t.arProviders.length;a++)t.arProviders[a].context={}}var r=this,s={This:this,conf:e,params:i,internals:t},l=this.storeContext(s),d={cid:i.cid,callback:function(e){e.context=s,r.afterGetInfo(e)},context:l,enabledProviders:i.enabledProviders,disabledProviders:i.disabledProviders,oauth_token:i.oauth_token};null!=i.autoShareActionID&&(d.settings=i.autoShareActionID,d.group="gigyaShareSettings"),this.showUI(e,i,t),t.redraw||window.gigya.events.dispatchForWidget({eventName:"load",containerID:i.containerID},i),t.redraw=!1,window.gigya.services.socialize.getUserInfo(e,d)},afterGetInfo:function(e){var i=window.gigya.services.socialize,t=e.context,o=t.This;if(o)var n=o.modules[t.internals.moduleID];if(n){if(0!=e.errorCode)return void window.gigya.events.dispatchErrorFromResponse(t.params,e);var a="";if(e.user&&(n.user=e.user),e.user&&e.user.email&&""!=e.user.email&&(a=e.user.email),a){var r=document.getElementById(t.internals.moduleID+"_tbYourEmail");null!=r&&(r.value=a,r.placeholderCleared=!0),document.cookie="_gig_email="+encodeURIComponent(a)+";expires=Wed, 01 Jan 2020 12:00:00 GMT;path=/;"}if(e.settings){var s=e.settings[n.p.autoShareActionID];if(s&&(!s.expiration||s.expiration>(new Date).getTime())){if(s.neverShare)return void o.closeShare(n.i.moduleID);if(s.alwaysShare&&!n.i.neverAutoPublish)return n.i.neverRetry=!0,n.i.neverAutoPublish=!0,void o.publishToProviders(n.i.moduleID,s.providers.split(","))}}if(e.requestParams.provider&&("login"==e.operation||"addConnection"==e.operation||"requestPermissions"==e.operation))(c=i._getProviderByName(e.requestParams.provider)).context={connected:!0},o.selectProviders(t.internals.moduleID,[c]);if(e.user&&e.user.identities){e.user.UID&&o.getCookie("_gig_shareUI_lastUID")!=e.user.UID&&o.clearSaveSelections();var l=[];for(var d in e.user.identities){var c,g=e.user.identities[d];g.connected=!0,(c=i._getProviderByName(d)).context=g,!o.getProviderSelection(n.i.moduleID,c.name)||g.missingPermissions&&-1!=g.missingPermissions.toLowerCase().indexOf("actions")||(!0,l.push(c),64==c.ID&&!0)}e.requestParams.provider||o.selectProviders(t.internals.moduleID,l)}o.canUseFacebookShare(n.i.moduleID)&&o.getProviderSelection(n.i.moduleID,"facebook")||(o.hideFacebookShareDialog(t.internals.moduleID),window.gigya.utils.validation.isExplicitTrue(n.p.hideSidebar)||window.gigya.utils.DOM.showByID(t.internals.moduleID+"_sidebar"),o.changeView(t.params.initialView,n.i.moduleID),"none"==document.getElementById(n.i.moduleID+"_emailCanvas").style.display&&"none"==document.getElementById(n.i.moduleID+"_bookmarksCanvas").style.display||o.disableSidebar(n.i.moduleID))}},publishToProviders:function(e,i){var t=this.modules[e],o=this;if(i.length>0){var n={};for(var a in t.p)n[a]=t.p[a];(n.scope&&"internal"==n.scope.toLowerCase()||t.i.deleteScopeParams)&&(delete n.scope,delete t.c.scope),n.enabledProviders=i.join(","),t.duringPublish=!0,n.callback=function(e){t.duringPublish&&(o.onPublish(e),t.duringPublish=!1)};var r=this.storeContext({This:this,m:t});n.context=r;var s=t.p.shareTimeout;s&&s>0&&(s*=1e3,window.setTimeout(function(){t.duringPublish&&(t.duringPublish=!1,window.gigya.events.dispatchErrorFromResponse(t.p,{status:"FAIL",statusMessage:"Request timeout",errorCode:504001,errorMessage:"Timeout"}),o.onShareComplete(t))},s)),window.gigya.services.socialize.publishUserAction(t.c,n)}else this.onShareComplete(t)},getCookie:function(e){for(var i=document.cookie.split(";"),t=0;t<i.length;t++){for(var o=i[t];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(e))return o.substring(e.length+1,o.length)}return null},showContactsDropdown:function(i,t){var o=this.modules[i],n=document.getElementById(i+"_tbFriendsEmail");if(!t||n.lastValue!=n.value){n.lastValue=n.value;var a=this;this.hideContactsDropdown(i);var r=document.createElement("div");r.style.position="absolute";var s=window.gigya.global._GetElementPos(n);if(e.addedContactsCSS||(e.common.addCSS(".gig-contactList {width:280px;border:1px solid #C2C2C2; background-color: #F9F9F9}"),e.common.addCSS(".gig-contact {padding:0px 5px 0px 5px;font-family:arial;font-size:12px;color:#777777;overflow:hidden;white-space: nowrap;}"),e.addedContactsCSS=!0),r.style.left=s.left+"px",r.style.top=s.top+n.offsetHeight-1+"px",r.className="gig-contactList",r.style.zIndex=window.gigya.utils.DOM.getNextZIndex(),r.id=i+"_contacts",o.contacts&&0!=o.contacts.length||!o.gettingContacts){if(o.contacts){var l=n.value.split(","),d=l[l.length-1],c=(l=l.splice(0,l.length-1)).join(",");""!=c&&(c+=", ");var g=d.replace(/ /g,"").toLowerCase();if(""!=g){var h=0;o.contactsDropdown={location:0,arDivs:[]};for(var u=0;u<o.contacts.length&&h<5;u++){var p=o.contacts[u];if(-1!=(p.firstName+p.lastName+p.email).toLowerCase().indexOf(g)){h++;var v=document.createElement("div");v.style.height="20px";var m="",y=window.gigya.utils.sanitize.sanitizeHTML(p.firstName+" "+p.lastName);" "!=y&&(m='"'+y+'" '),m+="&#60;"+p.email+"&#62;,",v.innerHTML=m,v.contactData=m.replace("&#60;","<").replace("&#62;",">")+" ",v.style.cursor="pointer",v.className="gig-contact",v.divIndex=h-1,v.onmouseover=function(){o.contactsDropdown.arDivs[o.contactsDropdown.location]&&o.contactsDropdown.arDivs[o.contactsDropdown.location].onmouseout(),this.style.backgroundColor="#D6EDFB",o.contactsDropdown.location=this.divIndex},v.onmouseout=function(){this.style.backgroundColor="transparent"},v.onclick=function(){n.watermarkCleared=!0,n.value=c+this.contactData,a.setCaretPosition(n,n.value.length)},r.appendChild(v),o.contactsDropdown.arDivs.push(v)}}o.contactsDropdown.arDivs.length>0&&o.contactsDropdown.arDivs[0].onmouseover()}}}else r.innerHTML='<table role="presentation" cellpadding="0" cellspacing="0" style="width:100%"><tr><td style="vertical-align:middle;text-align:center;height:90px"><img style="margin:auto;display:block;" src="'+window.gigya._.getCdnResource("/gs/i/Share/loader.gif")+'" alt="" /></td></tr></table>';""!=r.innerHTML?(document.body.appendChild(r),r.fncHide=function(e){if(e){if(e.target&&e.target==n)return;if(e.srcElement&&e.srcElement==n)return}a.hideContactsDropdown(i)},r.fncOnkeyup=function(e){var i=o.contactsDropdown;if(i&&i.arDivs.length>0){var t=i.location;if(38==e.keyCode)t--;else if(40==e.keyCode)t++;else if(13==e.keyCode)return i.arDivs[t].onclick(),void r.fncHide();t<0&&(t=0),t>=i.arDivs.length&&(t=i.arDivs.length-1),i.arDivs[t].onmouseover()}},document.attachEvent?(document.attachEvent("onclick",r.fncHide),document.attachEvent("onkeyup",r.fncOnkeyup)):document.addEventListener&&(document.addEventListener("click",r.fncHide,!1),document.addEventListener("keyup",r.fncOnkeyup,!1))):a.hideContactsDropdown(i)}},setCaretPosition:function(e,i){if(e.setSelectionRange)e.focus(),e.setSelectionRange(i,i);else if(e.createTextRange){var t=e.createTextRange();t.collapse(!0),t.moveEnd("character",i),t.moveStart("character",i),t.select()}},hideContactsDropdown:function(e){this.modules[e];var i=document.getElementById(e+"_contacts");i&&(document.attachEvent?(document.detachEvent("onclick",i.fncHide),document.detachEvent("onkeyup",i.fncOnkeyup)):document.addEventListener&&(document.removeEventListener("click",i.fncHide,!1),document.removeEventListener("keyup",i.fncOnkeyup,!1)),i.parentNode.removeChild(i))},onContacts:function(e){var i=e.context,t=i.This;i.gettingContacts=!1,e&&e.contacts?(i.contacts?i.contacts=i.contacts.concat(e.contacts.asArray()):i.contacts=e.contacts.asArray(),t.showContactsDropdown(i.i.moduleID)):(i.contacts=[],t.hideContactsDropdown(i.i.moduleID))},getProviderSelection:function(e,i){this.modules[e];return"0"!=this.getCookie("_gig_shareUI_cb_"+i)},getCheckedProviders:function(e,i){for(var t=this.modules[e],o=[],n=0;n<t.i.arProviders.length;n++){var a;a=!1;var r=t.i.arProviders[n];if(i)for(var s=0;s<i.length;s++)i[s]==r.ID&&(a=!0);if(!a){var l=document.getElementById(e+"_cb"+r.ID);l&&l.checked&&o.push(r)}}return o},btnShare_OnClick:function(e,i){if(this.shareToProviders(e),i){var t=this.modules[e];document.getElementById(t.originalP.containerID).style.display="none"}},clearSaveSelections:function(){for(var e=window.gigya.services.socialize.getAllProviders(),i=0;i<e.length;i++)document.cookie="_gig_shareUI_cb_"+e[i]+'=x;expires=Wed, 01 Jan 1999 12:00:00 GMT";path=/;"'},shareToProviders:function(e,i){var t=this.modules[e],o=this.getCheckedProviders(e,i);if(o.length>0||i&&i.length>0){document.cookie="_gig_shareUI_lastUID="+t.user.UID+';expires=Wed, 01 Jan 2020 12:00:00 GMT";path=/;"';for(var n=0;n<t.i.arProviders.length;n++){var a=t.i.arProviders[n],r=document.getElementById(e+"_cb"+a.ID);r&&(document.cookie="_gig_shareUI_cb_"+a+"="+(r.checked?1:0)+';expires=Wed, 01 Jan 2020 12:00:00 GMT";path=/;"')}var s=document.getElementById(e+"_cbAlwaysShare");s&&s.checked&&(this.setSettings(e,!0,!1,o.join(",")),t.i.neverAutoPublish=!0),t.sidebarDisabled=!0;var l=document.getElementById(e+"_comment");l&&this.setUserMessage(t,1==l.placeholderCleared?l.value:""),this.setWorkingText(t.i.moduleID,this.TEXT(t.lang,"publishing_please_wait")),this.publishToProviders(e,o)}else this.showErrorMessage(e,this.TEXT(t.lang,"to_share_please_select_your_social_networks"))},showErrorMessage:function(e,i){var t=this.modules[e],o=document.getElementById(e+"_errorMessage");o||((o=document.createElement("div")).style.position="absolute",o.style.visibility="hidden",o.id=e+"_errorMessage",o.setAttribute("role","alert"),o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","true"),document.body.appendChild(o)),o.style.zIndex=window.gigya.utils.DOM.getNextZIndex(),o.innerHTML='<table role="presentation" width="389" height="81" cellpadding="0" cellspacing="0" style="width:389;height:81px;text-align:center;vertical-align:middle"><tr><td style="text-align:center;vertical-align:middle;background-image:url(\''+window.gigya._.getCdnResource("/gs/i/Share/Bubble.png")+'\')"><div style="font-size:14px;font-weight:bold;color:#FFFFFF; font-family:arial;position:relative;left:17px;width:362px;padding:5px;">'+i+"</div></td></tr></table>";var n=document.getElementById(e),a=window.gigya.global._GetElementPos(n);t.i.isPopup?o.style.left=a.left+"px":o.style.left=a.left+57+"px",o.style.top=a.top+(parseInt(n.style.height)-o.offsetHeight)/2+"px",o.style.visibility="visible",window.setTimeout(function(){o.style.visibility="hidden"},3500)},setWorkingText:function(e,i){window.gigya.utils.DOM.hideByID(e+"_commentCanvas"),window.gigya.utils.DOM.hideByID(e+"_emailCanvas"),window.gigya.utils.DOM.hideByID(e+"_bookmarksCanvas"),window.gigya.utils.DOM.showByID(e+"_workingCanvas");var t=document.getElementById(e+"_workingText");t&&(t.innerHTML=i)},closeShare:function(i){var t=this.modules[i];if(t){var o=document.getElementById(t.originalP.containerID),n=document.getElementById(t.i.moduleID+"_sidebar");e.share.unfixDivPosition(o),e.share.unfixDivPosition(n),window.gigya.services.socialize._closeComponent(t.i.rid,!0),(n=document.getElementById(i+"_sidebar"))&&n.parentNode.removeChild(n);var a=document.getElementById("gigya_ifr_"+i+"_sidebar");a&&a.parentNode.removeChild(a),delete this.modules[i]}},showEmail:function(i){var t=this.modules[i];if(!t.sidebarDisabled&&(this.showBack(i),window.gigya.utils.DOM.showByID(i+"_emailCanvas"),window.gigya.utils.DOM.hideByID(i+"_commentCanvas"),this.disableSidebar(i),this.hideFacebookShareDialog(i),t.contacts||(t.gettingContacts=!0,window.gigya.services.socialize.getContacts(t.c,{callback:this.onContacts,context:t,enabledProviders:t.p.emailProviders?t.p.emailProviders:"*",disabledProviders:""})),document.getElementById(i+"_emailConnect")&&""==document.getElementById(i+"_emailConnect").innerHTML)){var o="*";null!=t.p.emailProviders&&(o=t.p.emailProviders);var n=window.gigya.services.socialize.getProvidersByName(o);n=window.gigya.services.socialize.getProvidersForRequiredCapabilities(n,["contacts"]);var a={pendingRegistration:t.p.pendingRegistration,cid:t.p.cid,context:t.p.context,requiredCapabilities:"contacts",useHTML:!0,showTermsLink:!1,showEditLink:!1,height:30,width:35*n.length-5,containerID:i+"_emailConnect",UIConfig:'<config><body><background frame-color="Transparent" /></body></config>',enabledProviders:n.join(","),extraPermissions:"contacts",onPermissions:e.share.onChange};window.gigya.services.socialize.showAddConnectionsUI(t.c,a)}},sendEmail:function(e,t){var o=this.modules[e],n=document.getElementById(e+"_tbFriendsEmail"),a=document.getElementById(e+"_tbYourEmail"),r=document.getElementById(e+"_tbMessage"),s=o.p.userAction,l=o.p.emailBody?o.p.emailBody:"Hi,<br /><br />$userMsg$<br /><br />I thought you'd like this:<br />$URL$<br /><br />"+(s.title?s.title:"")+"<br />"+(s.description?s.description:"")+"<br />",d=n.value.split(",");if(window.gigya.utils.array.forEach(d,function(e){e.trim()||d.splice(i,1)}),n.value=d.join(","),!n.watermarkCleared||!window.gigya.pluginUtils.validation.isEmailListValid(n.value))return n.style.borderColor="#E70707",void n.focus();if(n.style.borderColor="#CCCCCC",""==a.value.replace(/ /g,"")||!window.gigya.pluginUtils.validation.isEmailValid(a.value))return a.style.borderColor="#E70707",void a.focus();a.style.borderColor="#CCCCCC";var c=this.getRecipientsArray(n.value);this.setWorkingText(o.i.moduleID,this.TEXT(o.lang,"sending_email"));var g={emailSubject:o.p.emailSubject?o.p.emailSubject:s.title,emailBody:l,senderEmail:a.value,userMsg:r.value,emails:n.value,linkBack:s.linkBack?s.linkBack:document.location.href,userAction:s,callback:function(){window.gigya.events.dispatchForWidget({eventName:"send",provider:"email",recipients:c,sender:a.value,userMessage:r.value},o.p),o.arPublishedProviders=["email"],document.cookie="_gig_email="+encodeURIComponent(a.value)+";expires=Wed, 01 Jan 2020 12:00:00 GMT;path=/;",o.This.onShareComplete(o)}};window.gigya.services.socialize.sendEmail(o.c,g)},getMyEmail:function(){for(var e=document.cookie.split(";"),i=0;i<e.length;i++){for(var t=e[i];" "==t.charAt(0);)t=t.substring(1,t.length);if(0==t.indexOf("_gig_email="))return decodeURIComponent(t.substring("_gig_email=".length,t.length))}return null},showBack:function(e){window.gigya.utils.DOM.showByID(e+"_lnkBack"),window.gigya.utils.DOM.hideByID(e+"_lnkMore"),window.gigya.utils.DOM.hideByID(e+"_lnkEmail")},showBookmarks:function(e){var i=this.modules[e];if(!i.sidebarDisabled){this.showBack(e);var t=i.p.moreEnabledProviders,o=i.p.moreDisabledProviders;t&&"*"!=t||(t="facebook,*",o&&-1!=o.indexOf("facebook")&&(t="*")),o?o+=",":o="",t=t.toLowerCase(),o=o.toLowerCase(),window.gigya.utils.validation.isExplicitTrue(i.p.hideSidebar)||(o+=i.i.arProviders.join(",").toLowerCase());for(var n=t.split(","),a=o.split(","),r=[],s=0;s<a.length;s++){for(var l=!1,d=0;d<n.length;d++)a[s]==n[d]&&(l=!0);l||r.push(a[s])}o=r.join(",");var c={cid:i.p.cid,containerID:e+"_bookmarksWidget",width:i.p.width-71,height:i.p.height-100,onBookmarkWindowOpened:this.onBookmarkDone,UIConfig:'<config><body><controls><snbuttons type="textUnder" color="#9b9b9b" /></controls></body></config>',enabledBookmarks:t,disabledBookmarks:o,context:{m:i},onLoad:function(){window.gigya.utils.DOM.hideByID(i.i.moduleID+"_progress"),window.gigya.utils.DOM.showByID(i.i.moduleID+"_bookmarksWidget"),setTimeout(function(){document.querySelector("#"+i.i.moduleID+"_bookmarksWidget button").focus()},100)}};window.gigya.services.socialize.showBookmarkUI(i.c,c),window.gigya.utils.DOM.showByID(e+"_bookmarksCanvas"),window.gigya.utils.DOM.hideByID(e+"_commentCanvas"),this.disableSidebar(e),this.hideFacebookShareDialog(e)}},onBookmarkDone:function(e){var i=e.context.m;window.gigya.events.dispatchForWidget({eventName:"send",provider:e.provider},i.p),i.arPublishedProviders=[e.provider],i.This.onShareComplete(i)},lnkBack_OnClick:function(e){var i=this.modules[e];window.gigya.utils.DOM.hideByID(e+"_lnkBack"),window.gigya.utils.DOM.showByID(e+"_lnkMore"),window.gigya.utils.DOM.showByID(e+"_lnkEmail"),window.gigya.utils.DOM.hideByID(e+"_workingCanvas"),window.gigya.utils.DOM.hideByID(e+"_bookmarksCanvas"),window.gigya.utils.DOM.hideByID(e+"_emailCanvas");var t=document.getElementById(e+"_captcha");t&&t.parentNode&&t.parentNode.removeChild(t),document.getElementById(e+"_workingText").style.display="",i.fbShareVisible&&this.showFacebookShareDialog(e),window.gigya.utils.DOM.showByID(e+"_commentCanvas"),this.enableSidebar(e),setTimeout(function(){document.querySelector("#"+e+"_commentCanvas *[tabindex]").focus()},100)},getBackLink:function(e){var i=e.resolver.Resolve("+/config/elements/lblWorking/links | +/config/body/texts/links");return'<span style="'+window.gigya.services.socialize.getStyleString(i,!0)+'" onclick="gigya.services.socialize.plugins.share.uncheckSentProviders(\''+e.i.moduleID+"')\">"+this.TEXT(e.lang,"back")+"</span>"},getRetryLink:function(e){var i=e.resolver.Resolve("+/config/elements/lblWorking/links | +/config/body/texts/links");return'<span style="'+window.gigya.services.socialize.getStyleString(i,!0)+'" onclick="gigya.services.socialize.plugins.share.lnkRetry_OnClick(\''+e.i.moduleID+"')\">"+this.TEXT(e.lang,"retry")+"</span>"},getCloseLink:function(e){var i=e.resolver.Resolve("+/config/elements/lblWorking/links | +/config/body/texts/links");return'<span style="'+window.gigya.services.socialize.getStyleString(i,!0)+'" onclick="gigya.services.socialize.plugins.share.lnkClose_OnClick(\''+e.i.moduleID+"')\">"+this.TEXT(e.lang,"close")+"</span>"},uncheckSentProviders:function(e){for(var i=this.modules[e],t=0;t<i.arPublishedProviders.length;t++){var o=i.arPublishedProviders[t];(n=document.getElementById(e+"_cb"+o.ID))&&(n.checked=!1)}for(t=0;t<i.arExpiredProviders.length;t++){var n;o=window.gigya.services.socialize._getProviderByName(i.arExpiredProviders[t]);(n=document.getElementById(e+"_cb"+o.ID))&&(n.checked=!1),o.context.connected=!1}this.lnkBack_OnClick(e)},lnkRetry_OnClick:function(e){var i=this.modules[e];this.publishToProviders(e,i.arErrorProviders)},lnkClose_OnClick:function(e){var i=this.modules[e];this.onShareComplete(i,!0)},connectToProvider:function(e,i){var t=window.gigya.services.socialize._getProviderByID(i),o=t.context&&t.context.connected;o&&(t.context.triedGettingPermisions=!0);t.ID,t.ID,window.gigya.services.socialize._listenerID;var n={pendingRegistration:e.p.pendingRegistration,provider:t.name,context:e.p.context,permissions:"actions",enabledProviders:e.p.enabledProviders,disabledProviders:e.p.disabledProviders,cid:e.p.cid,sessionExpiration:e.p.sessionExpiration},a={This:this,conf:e.c,params:e.p,internals:e.i},r=this;o?(n.callback=function(e){0==e.errorCode&&(e.context=a,t.context.missingPermissions="",r.afterGetInfo(e))},window.gigya.services.socialize.requestPermissions(e.c,n)):(n.callback=function(e){e.context=a,r.afterGetInfo(e)},window.gigya.services.socialize.addConnection(e.c,n))},getRecipientsArray:function(e){for(var i=e.split(","),t=[],o=0;o<i.length;o++){var n,a,r=i[o],s=r.indexOf("<"),l=r.indexOf(">");r&&""!=r.replace(/ /g,"")&&(-1!=s&&l>s?(n=r.split("<")[0].replace(/"/g,"").replace(new RegExp("^[\\s]+","g"),"").replace(new RegExp('[\\s"]+$',"g"),""),a=r.split("<")[1].split(">")[0]):(n="",a=r.replace(new RegExp("^[\\s]+","g"),"").replace(new RegExp('[\\s"]+$',"g"),"")),t.push({name:n,email:a}))}return t},onShareComplete:function(e,i){window.gigya.services.socialize;if(e.arPublishedProviders&&e.arPublishedProviders.length>0){var t={eventName:"sendDone",providers:e.arPublishedProviders.join(","),userMessage:e.p.userAction.userMessage,targetURL:e.p.userAction.linkBack};if(e.providerPostIDs&&(t.providerPostIDs=e.providerPostIDs),"email"==t.providers){var o=document.getElementById(e.i.moduleID+"_tbFriendsEmail"),n=document.getElementById(e.i.moduleID+"_tbYourEmail"),a=document.getElementById(e.i.moduleID+"_tbMessage");t.userMessage=a.value,t.recipients=e.This.getRecipientsArray(o.value),t.sender=n.value}window.gigya.events.dispatchForWidget(t,e.p)}if(e.arErrorProviders&&(e.arErrorProviders.length>0||e.arLimitReachedProviders.length>0)&&(window.gigya.events.dispatchForWidget({eventName:"error",errorCode:500023,errorMessage:"Provider error",status:"FAIL",statusMessage:"Provider error",failedProviders:e.arErrorProviders.concat(e.arLimitReachedProviders).join(","),context:e.p.context},e.p),e.arErrorProviders=[]),e.arPublishedProviders.length>0&&!i&&!window.gigya.utils.validation.isExplicitFalse(e.p.successMessage)&&!window.gigya.utils.validation.isExplicitFalse(e.p.showSuccessMessage)){var r=this.TEXT(e.lang,"message_shared_successfully");"email"==e.arPublishedProviders.join("")&&(r=this.TEXT(e.lang,"message_sent_successfully")),e.arPublishedProviders=[],this.setWorkingText(e.i.moduleID,r),e.i.closeTimeout=setTimeout(function(){e.This.onShareDone(e.i.moduleID,e.This)},2e3)}else e.This.onShareDone(e.i.moduleID)},onShareDone:function(e,i){i||(i=this);var t=i.modules[e];null!=t&&null!=t.i&&(clearTimeout(t.i.closeTimeout),t.i.isPopup?window.gigya.services.socialize.plugins.share.closeShare(t.i.moduleID):(document.getElementById(t.p.containerID).innerHTML="&#160;",t.i.redraw=!0,i.showShareUI(t.originalC,t.originalP,t.i)))},onPublish:function(e){var i=this.fetchCotnext(e.context),t=i.m,o=i.This;window.gigya.services.socialize;t.i.deleteScopeParams=!0,t.arErrorProviders=[],t.arExpiredProviders=[],t.arLimitReachedProviders=[],e.providerPostIDs&&(t.providerPostIDs=e.providerPostIDs);var n=e.providerErrorCodes;if(0!=e.errorCode&&403024!=e.errorCode||!n){var a=e.requestParams.enabledProviders.split(",");403009==e.errorCode&&(t.arExpiredProviders=a),t.arErrorProviders=a}else for(var r=0;r<e.providerErrorCodes.length;r++){var s=window.gigya.services.socialize._getProviderByName(n[r].provider);0==n[r].errorCode?(t.arPublishedProviders.push(s),window.gigya.events.dispatchForWidget({eventName:"send",provider:s.name},t.p)):403024==n[r].errorCode?t.arLimitReachedProviders.push(s):(403009==n[r].errorCode&&(t.arExpiredProviders.push(s.displayName),s.context.connected=!1),t.arErrorProviders.push(s.displayName))}if(0==t.arErrorProviders.length||t.i.neverRetry)o.onShareComplete(t);else if(t.arExpiredProviders.length>0){var l=o.TEXT(t.lang,"the_connection_to_the_following_provider_had_been_disconnected"),d=o.TEXT(t.lang,"back_or_close").replace("%back",o.getBackLink(t)).replace("%close",o.getCloseLink(t));o.setWorkingText(t.i.moduleID,l+"<br />"+t.arExpiredProviders.join(",")+"<br /><br />"+d)}else{l=o.TEXT(t.lang,"there_was_an_error_sharing_to_the_following_networks");var c=o.TEXT(t.lang,"please_retry_or_close").replace("%retry",o.getRetryLink(t)).replace("%close",o.getCloseLink(t));o.setWorkingText(t.i.moduleID,l+"<br />"+t.arErrorProviders.join(",")+"<br /><br />"+c)}},selectProviders:function(e,i){for(var t=0;t<i.length;t++){var o=e+"_cb"+i[t].ID,n=document.getElementById(o);n&&(n.checked=!0),this.updateProviderButton(e,i[t].ID)}},btnProvider_OnClick:function(e,i,t){var o=e+"_cb"+i,n=document.getElementById(o);if(n){var a=window.gigya.services.socialize._getProviderByID(i),r=this.modules[e];r.sidebarDisabled||(n.checked?n.checked=!1:64==i&&this.canUseFacebookShare(e)?n.checked=!0:!a.context||!a.context.connected||a.context.missingPermissions&&-1!=a.context.missingPermissions.toLowerCase().indexOf("actions")?this.connectToProvider(r,i):n.checked=!0,this.updateProviderButton(e,i))}},updateProviderButton:function(e,i){var t=this.modules[e],o=window.gigya.services.socialize._getProviderByID(i),n=e+"_cb"+i,a=e+"_btn"+i,r=document.getElementById(n),s=document.getElementById(a),l=window.gigya._.getCdnResource("/gs/i/Share/");r&&s&&(r.checked?r.src=l+"Checked.png":r.src=l+"NotChecked.png"),64==o.ID&&(r&&r.checked&&this.canUseFacebookShare(e)?(t.fbShareVisible=!0,this.showFacebookShareDialog(e)):(t.fbShareVisible=!1,this.hideFacebookShareDialog(e)))},setUserMessage:function(e,i){var t=/(.*?)(u|U)serAction/;for(var o in e.p)t.test(o)&&(e.p[o].userMessage=i)},showFacebookShareDialog:function(i){var t=this.modules[i];this.hideShareCanvas(t);var o=document.getElementById("fb-root");if(t.loadedFBShare)1==t.loadedFBShare&&o&&(o.style.visibility="visible");else{o&&(o.style.visibility="hidden"),this.hideSidebar(i);var n=this.showSidebar;t.loadedFBShare="notYet";var a=document.getElementById(i+"_comment");this.setUserMessage(t,1==a.placeholderCleared?a.value:""),window.setTimeout(function(){var o=document.getElementById(i+"_sidebar");if(o&&"none"==o.style.display){t.loadedFBShare=!1,n(i),e.share.hideFacebookShareDialog(i);var a=window.gigya.services.socialize._getProviderByName("facebook");if(!a.context||!a.context.connected){var r=document.getElementById(i+"_cb64");r&&(r.checked=!1),t.This.updateProviderButton(i,64)}}},2e4);var r=this.storeContext({This:this,m:t});window.gigya.services.socialize.convertAction({APIKey:t.c.APIKey},{provider:"facebook",userAction:t.p.userAction,callback:this.onAction,context:r})}},hideFacebookShareDialog:function(i){var t=e.share.modules[i];if(this.showShareCanvas(t),t.i.isPopup){var o=document.getElementById("fb-root");o&&(o.style.visibility="hidden")}},showShareCanvas:function(e){if(e.i.grayedOutScreenOpacity>0&&e.i.isPopup&&window.gigya.services.socialize.GrayOut(!0,{zindex:document.getElementById(e.originalP.containerID).style.zIndex-1,opacity:e.i.grayedOutScreenOpacity}),e.i.isPopup){var i=document.getElementById(e.originalP.containerID);i.setAttribute("role","dialog"),i.setAttribute("tabindex","-1"),i.focus()}window.gigya.utils.DOM.showByID(e.originalP.containerID),window.gigya.utils.DOM.showByID("gigya_ifr_"+e.originalP.containerID)},hideShareCanvas:function(e){(e.i.grayedOutScreenOpacity>0&&e.i.isPopup&&window.gigya.services.socialize.GrayOut(!1),window.gigya.utils.DOM.hideByID(e.originalP.containerID),window.gigya.utils.DOM.hideByID("gigya_ifr_"+e.originalP.containerID),e.i.isPopup)&&document.getElementById(e.originalP.containerID).removeAttribute("role")},hideSidebar:function(i){var t=e.share.modules[i];(window.gigya.utils.DOM.hideByID(t.originalP.containerID+"_sidebar"),window.gigya.utils.DOM.hideByID("gigya_ifr_"+t.originalP.containerID+"_sidebar"),t.i.isPopup)&&document.getElementById(t.originalP.containerID+"_sidebar").removeAttribute("role","dialog")},showSidebar:function(i){var t=e.share.modules[i];if(t.i.isPopup){var o=document.getElementById(t.originalP.containerID+"_sidebar");o.setAttribute("role","dialog"),o.setAttribute("tabindex","-1")}window.gigya.utils.DOM.showByID(t.originalP.containerID+"_sidebar"),window.gigya.utils.DOM.showByID("gigya_ifr_"+t.originalP.containerID+"_sidebar")},waitforFacebookDialog:function(i){for(var t=!1,o=document.body.getElementsByTagName("iframe"),n=0;n<o.length;n++){var a=o[n];if("FB_UI_Dialog"==a.className){window.gigya.services.socialize.GrayOut(!1),i.i.grayedOutScreenOpacity=0;var r=window.gigya.global._GetElementPos(a),s=r.top,l=r.left;if(s&&s>0){t=!0;var d=document.getElementById(i.originalP.containerID),c=document.getElementById(i.i.moduleID+"_sidebar");e.share.unfixDivPosition(d),e.share.unfixDivPosition(c),s&&s>0&&(l<63&&(l=63,a.parentNode.parentNode.style.left="53px"),e.share.changeDivPosition(i.originalP.containerID,s-10,l-10,10),e.share.changeDivPosition(i.i.moduleID+"_sidebar",s+(a.offsetHeight-c.gigHeight)/2,l-10-53,6),e.share.showSidebar(i.i.moduleID))}}}t||setTimeout(function(){e.share.waitforFacebookDialog(i)},100)},unfixDivPosition:function(e){e&&e.fncChangePosition&&(e.addedEvents=!1,window.detachEvent?(window.detachEvent("onscroll",e.fncChangePosition),window.detachEvent("onresize",e.fncChangePosition)):window.removeEventListener&&(window.removeEventListener("scroll",e.fncChangePosition,!1),window.removeEventListener("resize",e.fncChangePosition,!1)))},fixDivPosition:function(e,i){e.fncChangePosition=i,e.addedEvents||(e.addedEvents=!0,window.attachEvent?(window.attachEvent("onscroll",e.fncChangePosition),window.attachEvent("onresize",e.fncChangePosition)):window.addEventListener&&(window.addEventListener("scroll",e.fncChangePosition,!1),window.addEventListener("resize",e.fncChangePosition,!1))),i(),window.setTimeout(function(){i()},10)},onAction:function(e){var i=document.getElementById("fb-root");i&&(i.style.visibility="visible");var t=this.fetchCotnext(e.context),o=t.This,n=t.m;n.loadedFBShare=!0,FB.ui(window.gigya.utils.JSON.deserialize(e.action),function(e){if(n.p.scope&&"both"==n.p.scope.toLowerCase()){var i={};for(var t in n.c)i[t]=n.c[t];var a={};for(var t in n.p)a[t]=n.p[t];i.enabledProviders="facebook",a.enabledProviders="facebook",a.scope="internal",window.gigya.services.socialize.publishUserAction(i,a),n.i.deleteScopeParams=!0}if(o.hideFacebookShareDialog(n.i.moduleID,o),e&&e.post_id){var r=window.gigya.services.socialize._getProviderByName("facebook");window.gigya.reports.report("action",n.c.APIKey,n.c.cid,n.c.source,n.c.sourceData,{sn:"facebook"}),n.arPublishedProviders.push(r),window.gigya.events.dispatchForWidget({eventName:"send",provider:r.name},n.p),o.setWorkingText(n.i.moduleID,o.TEXT(n.lang,"publishing_please_wait")),FB.api(e.post_id,{},function(e){var i=e.message;i||(i="");var t=document.getElementById(n.i.moduleID+"_comment");t.placeholderCleared=!0,t.value=i,o.setUserMessage(n,i),o.shareToProviders(n.i.moduleID,[64])})}else o.closeShare(n.i.moduleID)}),o.waitforFacebookDialog(n)},getRoundCornersHTML:function(e){var i=0,t=[],o=window.gigya._.getCdnResource("/gs/i/share/Outline_");return t[i++]='<table role="presentation" width="100%" cellspacing="0" cellpadding="0" style="width:100%;vertical-align:middle;line-height:1px;">',t[i++]='<tr><td width="5"><img src="'+o+'TopLeft.png" alt="" /></td><td width="99%" style="border-top:1px solid #cccccc;background-color:#FFFFFF">&#160;</td><td width="5"><img src="'+o+'TopRight.png" alt="" /></td></tr>',t[i++]='<tr><td width="5" style="border-left:1px solid #cccccc;background-color:#FFFFFF">&#160;</td><td width="99%" style="background-color:#FFFFFF">'+e+'</td><td width="5" style="border-right:1px solid #cccccc;background-color:#FFFFFF">&#160;</td></tr>',t[i++]='<tr><td width="5"><img src="'+o+'BottomLeft.png" alt="" /></td><td width="99%" style="border-bottom:1px solid #cccccc;background-color:#FFFFFF">&#160;</td><td width="5"><img src="'+o+'BottomRight.png" alt="" /></td></tr>',t[i++]="</table>",t.join("")},getItemHTML:function(e,i,t,o,n,a){var r,s=window.gigya.services.socialize,l=this.modules[e],d=l.p.userAction,c=d.mediaItems;if(c)for(var g=0;g<c.length;g++){var h=c[g];if(null!=h){if("image"==h.type){r=h.src;break}if("video"==h.type||"flash"==h.type){r=h.previewImageURL;break}}}l.thumbURL=window.gigya.global.getPhotoURL(r);var u=[],p=0;o||(o=80),u[p++]='<table role="presentation" height="'+o+'" width="'+o+'" cellspacing="0" cellpadding="0" style="padding-right:9px"><tr valign="top">',r&&(u[p++]='<td width="'+o+'"><div style="width:'+o+"px;height:"+o+'px"><img style="display:none;width:inherit;height:inherit;" onload="var img=new Image(); img.src=this.src;var This=this; window.setTimeout(function(){if (img.width==0) {This.src=\'\'; This.src=img.src;return;} if (img.width>img.height) This.width=\''+o+"'; else This.height='"+o+"'; This.style.display='';},100)\" src=\""+r+'" alt="" /></div></td>');var v=d.title,m=d.description,y=!1,w=!1;v||(v=""),m||(m="");var b=i.Resolve("+/config/elements/lblTitle | +/config/body/item"),f=i.Resolve("+/config/elements/item");t||(t=l.p.width-225),n||(n=18),a||(a=57);for(var x=window.gigya.pluginUtils.layout.measureText(v,b,t);(x.h>n||x.w>t)&&v.length>0;)y=!0,v=v.substring(0,v.length-2),x=window.gigya.pluginUtils.layout.measureText(v+"...",b,t);for(y&&(v+="..."),m.length>800&&(w=!0,m=m.substring(0,800)),x=window.gigya.pluginUtils.layout.measureText(m,f,t);(x.h>a||x.w>t)&&m.length>0;)w=!0,m=m.substring(0,m.length-2),x=window.gigya.pluginUtils.layout.measureText(m+"...",f,t);return w&&(m+="..."),u[p++]='<td style="padding-left:10px;"><div style="padding-bottom:4px;'+s.getStyleString(b)+"width:"+t+'px">'+window.gigya.utils.sanitize.sanitizeHTML(v)+"</div>",u[p++]='<div style="'+s.getStyleString(f)+"width:"+t+'px">'+window.gigya.utils.sanitize.sanitizeHTML(m)+"</div>",u[p++]="</td></tr>",u[p++]="</table>",u.join("")},changeDivPosition:function(e,i,t,o){var n=document.getElementById(e),a=document.getElementById("gigya_ifr_"+e),r=i,s=t;window.gigya.localInfo.isIE||(o=0),null!=i&&(r=Math.ceil(parseInt(i))+"px"),null!=t&&(s=Math.ceil(parseInt(t))+"px"),n&&(n.fixedLeft=t,n.fixedTop=i,null!=i&&(n.style.top=r),null!=t&&(n.style.left=s)),a&&(o||(o=0),null!=i&&(a.style.top=i+o+"px"),null!=t&&(a.style.left=t+o+"px"))},disableSidebar:function(e){for(var i=window.gigya._.getCdnResource("/gs/i/"),t=this.modules[e],o=t.i.arProviders,n=0;n<o.length;n++){var a=o[n],r=document.getElementById(e+"_cb"+a.ID);r&&(r.checked?r.src=i+"Share/checked_dis.png":r.src=i+"Share/notChecked_dis.png"),document.getElementById(e+"_btn"+a.ID).src=i+"share/"+a.name+"_25_dis.png";var s=document.getElementById(e+"_socialBtn_"+a.ID);s.setAttribute("aria-disabled","true"),s.setAttribute("tabindex","-1")}t.sidebarDisabled=!0},enableSidebar:function(e){for(var i=window.gigya._.getCdnResource("/gs/i/"),t=this.modules[e],o=t.i.arProviders,n=0;n<o.length;n++){var a=o[n],r=document.getElementById(e+"_cb"+a.ID);r.checked?r.src=i+"Share/checked.png":r.src=i+"Share/notChecked.png",document.getElementById(e+"_btn"+a.ID).src=i+"share/"+a.name+"_25.png";var s=document.getElementById(e+"_socialBtn_"+a.ID);s.removeAttribute("aria-disabled"),s.setAttribute("tabindex","0")}t.sidebarDisabled=!1},getBlueButtonHTML:function(e){return'<table role="presentation" style="cursor:pointer;width:75px;height:23px;background-color:#3B5998;border:1px solid;border-top-color: #D9DFEA;border-left-color: #D9DFEA;border-bottom-color: #0E1F5B;border-right-color: #0E1F5B" width="75" height="23" cellpadding="0" cellspacing="0"><tr><td style="font-family:arial;font-size:13px;color:#FFFFFF;vertical-align:middle;text-align:center">'+e+"</td></tr></table>"},getSendButtonHTML:function(e){return'<table role="presentation" style="cursor:pointer;width:75px;height:23px;background-color:#36769B;border-bottom:1px solid #20465D;border-right:1px solid #20465D" width="75" height="23" cellpadding="0" cellspacing="0"><tr><td style="font-family:arial;font-size:13px;color:#FFFFFF;vertical-align:middle;text-align:center">'+e+"</td></tr></table>"},setSettings:function(e,i,t,o){var n=this.modules[e],a={};a[n.p.autoShareActionID]={actionID:n.p.autoShareActionID,alwaysShare:i,neverShare:t},n.p.autoShareActionDisplay&&(a[n.p.autoShareActionID].display=n.p.autoShareActionDisplay),o&&(a[n.p.autoShareActionID].providers=o),n.p.autoShareExpiration&&(a[n.p.autoShareActionID].expiration=n.p.autoShareExpiration);var r={group:"gigyaShareSettings",settings:a};window.gigya.services.socialize.setUserSettings(n.c,r)},neverShareThis_OnClick:function(e){this.setSettings(e,!1,!0),this.closeShare(e)},alwaysShareThis_OnClick:function(e){this.modules[e];var i=window.gigya._.getCdnResource("/gs/i/Share/"),t=document.getElementById(e+"_cbAlwaysShare");t.checked=!t.checked,t.checked?t.src=i+"checkbox_checked.gif":t.src=i+"checkbox.gif"},changeView:function(e,i){var t=this.modules[i];if(!t.changedView){if(e)switch(e=e.toLowerCase()){case"more":this.showBookmarks(i);break;case"email":this.showEmail(i)}t.changedView=!0}},showUI:function(i,t,o){var n=window.gigya.services.socialize,a=o.rid,r=this,s=new window.gigya.global.resolver(window.gigya.global.resolver.defaultProccessor);s.addConfig('<config><body font="arial"><captions bold="true" size="13" color="#ffffff" background-color="#FFFFFF" frame-thickness="0" /><background frame-thickness="0" frame-color="#999999" background-color="#FFFFFF" /><texts size="12px" color="#555555"><links color="#CFCFCF" size="11px" bold="false" /></texts></body></config>'),s.addConfig('<config><elements><lblWorking bold="true" size="12" color="#575757"><links underline="true" color="#5197DD" /></lblWorking><lblTitle bold="true" size="12px" color="#555555" /><lblShare size="16" /><item font="arial" size="11px" color="#808080" /></elements></config>'),s.addConfig(i.UIConfig),s.addConfig(t.UIConfig);var l=i.lang;void 0!==t.lang&&(l=t.lang);var d=o.moduleID;if(this.modules[d]={originalC:i,originalP:t,i:o,This:r,resolver:s,arPublishedProviders:[]},o.isPopup){var c=window.gigya.services.socialize._createJSPopup2(a,s);i=c.c,t=c.p}this.modules[d].c=i,this.modules[d].p=t,this.modules[d].lang=l;var g=t.containerID,h=t.width,u=t.height,p=[],v=0,m=document.getElementById(g),y=s.Resolve("+/config/body/background"),w="border: 5px solid #555555";o.isPopup&&(y["frame-thickness"]=0,w="");var b=s.Resolve("+/config/body/texts/links"),f=s.Resolve("+/config/body/texts"),x=s.Resolve("+/config/elements/lblWorking | +/config/body/texts"),k=n.getStyleString(f),I=n.getStyleString(b,!0),_=window.gigya._.getCdnResource("/gs/i/"),D=t.width,C=t.height;o.isPopup||(D-=63,C-=10);var P=d.replace(/[.]/g,"\\.");p[v++]='<div id="'+d+'_shareCanvas" style="background-color:#FFFFFF; width:'+D+"px;height:"+C+"px;text-align:left;"+w+'">',e.common.addCSS(["#",P," .tabbing-button { height:30px !important; }","#",P," td,#",P," div, #",P," td:hover, #",P," tr:hover, #",P," tr, #",P," table, #",P," tbody, #",P," th {position:static;table-layout: auto;width:auto;font-size:1px;vertical-align:top;border-collapse:separate;border:none;padding:0px;margin:0;background:none repeat scroll 0 0 transparent;text-align:left;float:none;} #",P," {vertical-align:top;position:static;padding:0px;margin:0px;text-align:left;background:none repeat scroll 0 0 transparent}","#",P,"_sidebar td, #",P,"_sidebar div, #",P,"_sidebar td:hover, #",P,"_sidebar tr:hover, #",P,"_sidebar table {position:static;table-layout: auto;line-height:1px;width:auto;font-size:1px;vertical-align:top;border-collapse:separate; border:none; padding:0px;margin:0px;background:none repeat scroll 0 0 transparent;float:none;} #",P,"_sidebar {text-align:left;background:none repeat scroll 0 0 transparent}"]),p[v++]='<table role="presentation" id="'+d+'_bookmarksCanvas" width="100%" height="'+C+'" cellspacing="0" cellpadding="0" valign="middle" style="width:100%;height:'+C+';display:none;line-height:normal;border: 1px solid #555555;">';var E=C-4;o.isPopup&&(E-=27,p[v++]='<tr><td height="27" style="height:27px; background-color:#6A9DBC"><table role="presentation" width="100%" cellspacing="0" cellpadding="0" style="width:100%"><tr><td style="font-family:Tahoma;font-size:14px;font-weight:bold;color:#FFFFFF;padding-left:6px;vertical-align:middle">'+this.TEXT(l,"share_with_your_friends")+'</td><td style="text-align:right;"><div style="padding:10px;text-align:right;" ><img style="cursor:pointer;" onclick="gigya.services.socialize.plugins.share.closeShare(\''+d+'\')" src="'+_+'Share/CloseIcon2.gif" alt="" /></div></td></tr></table></td></tr>'),p[v++]='<tr><td align="center" valign="middle" style="vertical-align:middle;height:'+E+'px"><center><img id="'+d+'_progress" src="'+window.gigya._.getCdnResource("/gs/i/progress_ani.gif")+'" alt="" /><div id="'+d+'_bookmarksWidget" style="display:none"></div></center></td></tr></table>',p[v++]='<table role="presentation"  width="'+D+'" height="'+C+'" id="'+d+'_emailCanvas" cellspacing="0" cellpadding="0" valign="top" style="width:'+D+"px;height:"+C+'px;display:none;line-height:normal;border: 1px solid #555555;">',o.isPopup&&(p[v++]='<tr><td height="27" style="height:27px; background-color:#6A9DBC"><table role="presentation" width="100%" cellspacing="0" cellpadding="0" style="width:100%"><tr><td style="font-family:Tahoma;font-size:14px;font-weight:bold;color:#FFFFFF;padding-left:6px;vertical-align:middle">'+this.TEXT(l,"share_with_your_friends")+'</td><td style="text-align:right;"><div style="padding:10px;text-align:right;" ><img style="cursor:pointer;" onclick="gigya.services.socialize.plugins.share.lnkClose_OnClick(\''+d+'\')" src="'+_+'Share/CloseIcon2.gif" alt="" /></div></td></tr></table></td></tr>'),null!=t.emailProviders&&""==t.emailProviders.split(" ").join("")||(p[v++]='<tr><td style="vertical-align:middle;height:48px; background-color:#F7F7F7;text-align:center"><table role="presentation" cellspacing="0" cellpadding="0" style="margin-left: auto;margin-right: auto;"><tr>',p[v++]='<td style="vertical-align:middle;padding-right:7px;"><span style="'+k+';font-size:12px;font-weight:bold;color:#777777">'+this.TEXT(l,"import_contacts_and_email_to_friends")+"</span></td>",p[v++]='<td style="vertical-align:middle"><div id="'+d+'_emailConnect"></div></td></tr></table></td></tr>',p[v++]='<tr><td style="height:20px"><table role="presentation" width="100%" style="width:100%" cellspacing="0" cellpadding="0"><tr><td style="width:270px;border-top:1px solid #CCCCCC">&#160;</td><td style="width: 18px"><img src="'+_+'Share/pointer.png" alt="" /></td><td style="border-top:1px solid #CCCCCC">&#160;</td></tr></table></td></tr>'),p[v++]='<tr><td valign="middle" style="vertical-align:middle;padding-left: 40px;">';var S=this.TEXT(l,"separate_multiple_addresses_with_commas");p[v++]='<table role="presentation" cellspacing="0" cellpadding="0" valign="top" style="line-height:normal">';var T="float:none;border:1px solid #D8D8D8; width:"+(D-205)+"px;height:21px;color:#777777;font-size:11px;font-family:arial;font-size:12px;padding: 0 0 0 5px;";p[v++]='<tr valign="top"><td width="85" style="'+k+'padding-top:5px;white-space:nowrap;padding-right:5px;font-weight:bold">'+this.TEXT(l,"to")+'</td><td><div style="padding-bottom:6px"><input aria-label="'+this.TEXT(l,"to")+'" tabindex="0" id="'+d+'_tbFriendsEmail" type="text" style="'+T+'" onkeyup="gigya.services.socialize.plugins.share.showContactsDropdown(\''+d+"',event)\" onblur=\"if (this.value=='') {this.watermarkCleared=false; this.value='"+S.replace(/'/g,"\\'")+'\'}" onfocus="if(!this.watermarkCleared) {this.watermarkCleared=true; this.value=\'\';}" value="'+S+'" /></div></td></tr>',p[v++]='<tr valign="top"><td width="85" style="'+k+'padding-top:5px;white-space:nowrap;padding-right:5px;font-weight:bold">'+this.TEXT(l,"from")+'</td><td><div style="padding-bottom:6px"><input aria-label="'+this.TEXT(l,"from")+'" tabindex="0" id="'+d+'_tbYourEmail" type="text" style="'+T+'" /></div></td></tr>',p[v++]='<tr valign="top"><td width="85" style="'+k+'padding-top:5px;white-space:nowrap;padding-right:5px;font-weight:bold">'+this.TEXT(l,"message")+'</td><td><div style="padding-bottom:6px"><textarea aria-label="'+this.TEXT(l,"message")+'" tabindex="0" id="'+d+'_tbMessage" onkeyup="var tb=document.getElementById(\''+d+'_comment\');if (tb!=null) tb.value=this.value;" onfocus="var tb=this;setTimeout(function(){tb.select(); if (gigya.localInfo.isMobile &#38;&#38; document.execCommand) document.execCommand(\'selectAll\');},100)" style="'+T+'height:36px;resize: none;overflow:auto;margin:0px;"></textarea></div></td></tr>',p[v++]='<tr valign="top"><td>&#160;</td><td style="'+k+'"><div style="height:50px">'+this.getItemHTML(d,s,D-260,50,20,20)+"</div></td></tr></table>",p[v++]="</td></tr>",p[v++]='<tr><td align="right" height="37" style="text-align:right;vertical-align:bottom; text-align:right;padding-bottom:8px;padding-right:10px;"><div align="right" style="float:right;width:75px;text-align:right" onclick="gigya.services.socialize.plugins.share.sendEmail(\''+d+"')\" onkeydown=\"if((event.which || event.keyCode) == 13) gigya.services.socialize.plugins.share.sendEmail('"+d+'\')" tabindex="0" role="button">'+this.getSendButtonHTML(this.TEXT(l,"send"))+"</div></td></tr></table>",p[v++]='<table role="presentation" id="'+d+'_workingCanvas" width="100%" height="100%" cellspacing="0" cellpadding="0" valign="top" style="display:none; width: '+D+"px; height: "+C+'px;line-height:normal">',o.isPopup&&(p[v++]='<tr><td height="28" align="right" style="text-align:right"><div style="padding:10px;text-align:right;"><img style="cursor:pointer;" onclick="gigya.services.socialize.plugins.share.onShareComplete(gigya.socialize.plugins.share.modules[\''+d+'\'])" src="'+_+'Share/CloseIcon_gray.png" alt="" /></div></td></tr>'),p[v++]='<tr valign="top"><td><center id="'+d+'_workingTextContainer"><div id="'+d+'_workingText"  style="'+n.getStyleString(x)+'text-align:center;font-weight:bold;line-height:1.5;padding-top:80px"></div></center></td></tr></table>',p[v++]='<table role="presentation" id="'+d+'_commentCanvas" width="100%" height="100%" cellspacing="0" cellpadding="0" valign="top" style="width: '+D+"px; height: "+C+'px;line-height:normal">';var B=C-47;o.isPopup&&(B-=27,p[v++]='<tr><td height="27" style="height:27px; background-color:#6E84B5;border:1px solid #3A5A97"><table role="presentation" width="100%" cellspacing="0" cellpadding="0" style="width:100%"><tr><td style="font-family:Tahoma;font-size:14px;font-weight:bold;color:#FFFFFF;padding-left:6px;vertical-align:middle">'+this.TEXT(l,"share_with_your_friends")+'</td><td style="text-align:right;"><div style="padding:10px;text-align:right;" ><img style="cursor:pointer;" onclick="gigya.services.socialize.plugins.share.closeShare(\''+d+'\')" src="'+_+'Share/CloseIcon.png" alt="" /></div></td></tr></table></td></tr>');S="aaa";if(p[v++]='<tr><td class="gig-shareUI-actionCanvas" style="height:'+B+'px;border-left: 1px solid #555555;border-right: 1px solid #555555"><table role="presentation" width="100%" style="width:100%" valign="top" cellspacing="0" cellpadding="0">',p[v++]='<tr><td style="padding-top:30px;padding-left:42px;"><textarea tabindex="0" id="'+d+'_comment"  onkeyup="var tb=document.getElementById(\''+d+'_tbMessage\');if (tb!=null) tb.value=this.value;" border="0" style="padding-left:5px; resize: none;font-family:arial; font-size:12px; color:#555555; border: 1px solid #CCCCCC;overflow:auto; width:'+(D-120)+'px;height:36px"></textarea></td></tr>',p[v++]='<tr><td style="padding-top:6px;padding-left:42px;">'+this.getItemHTML(d,s,D-210)+"</td></tr></table></td></tr>",p[v++]='<tr><td style="vertical-align:bottom !important;background-color: #F7F7F7; border-top:1px solid #CCCCCC;border-left: 1px solid #555555;border-right: 1px solid #555555;border-bottom: 1px solid #555555; padding-bottom:8px;padding-right:10px;padding-left:42px;">',p[v++]='<table role="presentation" width="100%" style="width:100%;text-align:right" height="23" cellpadding="0" cellspacing="0"><tr>',t.autoShareActionID){var F=t.autoShareActionDisplay;null==F&&(F="this"),F=(F=F.substring(0,12)).replace("<","&#60;").replace(">","&#62;"),window.gigya.utils.validation.isExplicitTrue(t.showNeverShare)&&(p[v++]='<td style="vertical-align:middle;text-align:left"><span onclick="gigya.services.socialize.plugins.share.neverShareThis_OnClick(\''+d+'\')" style="'+I+'color:#575757;text-decoration:underline">'+this.TEXT(l,"never_share_this","%name",F)+"</span></td>"),"checked"!=t.showAlwaysShare&&"unchecked"!=t.showAlwaysShare||(p[v++]='<td align="right" style="padding-right:30px;vertical-align:middle"><table role="presentation" cellpadding="0" cellspacing="0" style="cursor:pointer" onclick="gigya.services.socialize.plugins.share.alwaysShareThis_OnClick(\''+d+'\')"><tr><td style="vertical-align:middle"><img id="'+d+'_cbAlwaysShare" src="'+_+'Share/checkbox.gif" style="padding-right:5px" alt="" /></td><td style="vertical-align:middle"><span style="'+I+'color:#575757;">'+this.TEXT(l,"always_share_name","%name",F)+"</span></td></tr></table></td>")}p[v++]='<td>&#160;</td><td width="75" align="right" style="width:75px;text-align:right" onclick="gigya.services.socialize.plugins.share.btnShare_OnClick(\''+d+"')\" onkeydown=\"if((event.which || event.keyCode) == 13) gigya.services.socialize.plugins.share.btnShare_OnClick('"+d+'\')" tabindex="0" role="button">'+this.getBlueButtonHTML(this.TEXT(l,"publish"))+"</td>",p[v++]="</tr></table></td></tr>",p[v++]="</table></div>";var M=[],z=0,O="background-color:#555555;";M[z++]='<table role="presentation" width="53" height="266" cellspacing="0" cellpadding="0" valign="top" style="empty-cells:show;width: 53px; height: 266px;line-height:normal;">',M[z++]='<tr><td height="6" width="6" style="width:6px;"><img src="'+_+'Share/LeftSide_Top.png" alt="" /></td><td height="6" style="line-height:1px;height:6px;'+O+'">&#160;</td></tr>',M[z++]='<tr><td style="'+O+'"></td><td style="'+O+'"><table role="presentation" width="100%" cellspacing="0" cellpadding="0" valign="top" style="'+O+'">',M[z++]='<tr height="214"><td valign="top" style="padding-top:4px;">';var L=o.arProviders;M[z++]='<table role="presentation" valign="top" cellspacing="0" cellpadding="0" style="padding-left:1px;">';for(var A=0;A<L.length;A++){var R=L[A],U=R.displayName;window.gigya.utils.validation.isExplicitFalse(t.showTooltips)&&(U="");var N="gigya.services.socialize.plugins.share.btnProvider_OnClick('"+d+"', "+R.ID+",event)";M[z++]='<tr><td tabindex="0" role="button" aria-label="'+R.displayName+'" id="'+d+"_socialBtn_"+R.ID+'" onclick="'+N+'" onkeydown="if((event.which || event.keyCode) == 13) '+N+'" valign="middle" style="height:25px;cursor:pointer;vertical-align:middle;padding-bottom:10px"><table role="presentation" height="25" cellspacing="0" cellpadding="0" valign="middle" style="height:25px;vertical-align:middle">',M[z++]='<tr><td style="vertical-align:middle !important"><img src="'+_+'Share/notChecked.png" id="'+d+"_cb"+R.ID+'" alt="" /></td><td style="padding-left:3px;height:25px;width:25px;"><img aria-hidden="true" title="'+U+'" alt="'+U+'" id="'+d+"_btn"+R.ID+'" src="'+_+"share/"+R.name+'_25.png" /></td></tr>',M[z++]="</table></td></tr>"}M[z++]="</table></td></tr>";var H=this.TEXT(l,"back"),X=H;window.gigya.pluginUtils.layout.measureText(H,b).w>30&&(H="");var W="gigya.services.socialize.plugins.share.lnkBack_OnClick('"+d+"')";M[z++]='<tr><td style="height:20px;'+O+'"><table role="presentation" valign="bottom" cellspacing="0" cellpadding="0">',M[z++]='<tr role="button" tabindex="0" id="'+d+'_lnkBack" valign="middle" style="cursor:pointer;display:none;vertical-align:bottom" onclick="'+W+'" onkeydown="if((event.which || event.keyCode) == 13) '+W+'"><td height="20" style="vertical-align:bottom"><img title="'+X+'" alt="'+X+'" src="'+_+'Share/backIcon.png" /></td><td style="padding-left:2px;'+I+';font-weight:bold;text-decoration:underline;vertical-align:bottom">'+H+"</td></tr>";var j=this.TEXT(l,"email"),G=this.TEXT(l,"more"),V=j,q=G;if((window.gigya.pluginUtils.layout.measureText(j,b).w>30||window.gigya.pluginUtils.layout.measureText(G,b).w>30)&&(G="",j=""),!window.gigya.utils.validation.isExplicitFalse(t.showMoreButton)){var J="gigya.services.socialize.plugins.share.showBookmarks('"+d+"')";M[z++]='<tr role="button" tabindex="0" id="'+d+'_lnkMore" valign="middle" style="cursor:pointer" onclick="'+J+'" onkeydown="if((event.which || event.keyCode) == 13) '+J+'"><td height="20" style="vertical-align:bottom"><img title="'+q+'" alt="'+q+'" src="'+_+'Bookmark/share_MoreIcon.png" onerror="this.src=\''+_+'Bookmark/defaultBMSIcon.png\'" /></td><td style="vertical-align:bottom;padding-left:2px;'+I+'">'+G+"</td></tr>"}window.gigya.utils.validation.isExplicitTrue(t.showEmailButton)&&(M[z++]='<tr id="'+d+'_lnkEmail" valign="middle" style="cursor:pointer" onclick="gigya.services.socialize.plugins.share.showEmail(\''+d+'\')"><td height="20" style="vertical-align:bottom"><img title="'+V+'" alt="'+V+'" src="'+_+'Share/EmailIcon.png" /></td><td style="vertical-align:bottom;padding-left:2px;'+I+'">'+j+"</td></tr>"),M[z++]='</table></td></tr></table></td></tr><tr><td width="6" height="6" style="width:6px;height:6px;"><div style="height:6px"><img src="'+_+'Share/LeftSide_Bottom.png" alt="" /></div></td><td style="line-height:1px;'+O+'">&#160;</td></tr>',M[z++]="</table>",o.isPopup?m.innerHTML=p.join(""):m.innerHTML='<table role="presentation" cellspacing="0" cellpadding="0" width="'+h+'" height="'+u+'"><tr><td width="53" style="vertical-align:middle"><div id="'+g+'_sidebar"></div></td><td width="'+D+'" height="'+C+'">'+p.join("")+"</td></tr></table>",m.style.width=h+"px",m.style.height=u+"px";var Y=this.getMyEmail(),$=document.getElementById(d+"_tbYourEmail");$&&(window.gigya.global.setPlaceholder($,this.TEXT(l,"your_email_address")),Y&&Y&&($.value=Y,$.placeholderCleared=!0));var K=document.getElementById(this.modules[d].originalP.containerID);K.className="gig-share",K.style.position="absolute";var Z=document.getElementById(d+"_sidebar");Z||((Z=window.gigya.utils.DOM.createTopLevelDiv(d+"_sidebar")).style.position="absolute",Z.style.width="53px",Z.className="gig-share gig-share-sidebar",document.body.appendChild(Z)),Z.innerHTML=M.join(""),Z.className="gig-share gig-share-sidebar",Z.offsetHeight<=266&&(Z.style.height="266px");var Q=document.getElementById("gigya_ifr_"+d+"_sidebar");if(Q&&(window.gigya.localInfo.isIE?(Q.style.width="47px",Q.style.height="254px"):(Q.style.width="53px",Q.style.height="266px")),Z.gigHeight=parseInt(Z.style.height),Z.gigHeight||(Z.gigHeight=266),this.showShareCanvas(this.modules[d]),o.isPopup){var ee=this.modules[d];e.share.fixDivPosition(K,function(){if(window.gigya.localInfo.isIOS){var i=document.querySelector(":focus");if(i&&window.gigya.utils.DOM.isChildOf(i,K))return}r.hideContactsDropdown(d);var t="none"==document.getElementById(ee.originalP.containerID).style.display;t&&e.share.showShareCanvas(ee);var o=document.getElementById("gigya_ifr_"+K.id);window.gigya.utils.DOM.setSize(o,parseInt(K.style.width)-20,parseInt(K.style.height)-20,!0),window.gigya.utils.DOM.setSize(K,parseInt(K.style.width),parseInt(K.style.height),!0),window.gigya.utils.DOM.setSize(Z,53,Z.gigHeight,!0);var n=window.gigya.global._GetElementPos(K).left-53;document.getElementById(K.id+"_shareCanvas");n<0&&(n=0,window.gigya.localInfo.isIE?e.share.changeDivPosition(K.id,null,53,20):e.share.changeDivPosition(K.id,null,53,10));var a=parseInt(Z.style.top);e.share.changeDivPosition(d+"_sidebar",a,n,6),t&&e.share.hideShareCanvas(ee)})}if(o.isPopup){var ie=document.getElementById("fb-root");ie&&(ie.style.visibility="hidden")}null!=t.autoShareActionID&&(null!=t.showAlwaysShare&&"hide"!=t.showAlwaysShare.toLowerCase()||window.gigya.utils.validation.isExplicitTrue(t.showNeverShare))?(Z.style.display="none",this.hideShareCanvas(this.modules[d])):this.canUseFacebookShare(d)&&this.getProviderSelection(d,"facebook")?(r.selectProviders(d,[n._getProviderByName("facebook")]),r.showFacebookShareDialog(d)):(this.changeView(t.initialView,d),window.gigya.utils.validation.isExplicitTrue(t.hideSidebar)&&this.hideSidebar(d)),null!=t.autoShareActionID&&t.showAlwaysShare&&"checked"==t.showAlwaysShare.toLowerCase()&&this.alwaysShareThis_OnClick(d);var te=t.userMessagePlaceholder?t.userMessagePlaceholder:this.TEXT(l,"write_your_message");window.gigya.global.setPlaceholder(document.getElementById(d+"_comment"),te),document.getElementById(d+"_comment").setAttribute("aria-label",te)}},window.gigya.services.socialize.addEventHandlers({listenerType:"component",listenerDescription:"listener for updating showShareUI Widgets"},{onConnect:e.share.onChange,onDisconnect:e.share.onChange,onLogin:e.share.onChange,onFacebookLoaded:e.share.refreshFB,onFBCRefreshed:e.share.refreshFB,onLogout:e.share.refreshFB,onHideUIRequested:e.share.closeAllModules}))}()}});