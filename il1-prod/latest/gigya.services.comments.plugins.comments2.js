/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/comments/Gigya.Comments.JsPlugin/app/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(__webpack_provided_Object_dot_assign) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__extends", function() { return __extends; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__assign", function() { return __assign; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__rest", function() { return __rest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__decorate", function() { return __decorate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__param", function() { return __param; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__metadata", function() { return __metadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__awaiter", function() { return __awaiter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__generator", function() { return __generator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__exportStar", function() { return __exportStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__values", function() { return __values; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__read", function() { return __read; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spread", function() { return __spread; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spreadArrays", function() { return __spreadArrays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__await", function() { return __await; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function() { return __asyncGenerator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function() { return __asyncDelegator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncValues", function() { return __asyncValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function() { return __makeTemplateObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importStar", function() { return __importStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importDefault", function() { return __importDefault; });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = __webpack_provided_Object_dot_assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    return new (P || (P = gigya.Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __exportStar(m, exports) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new gigya.Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? gigya.Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new gigya.Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { gigya.Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js")["__assign"]))

/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/BaseComposeBox.ts":
/*!********************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/BaseComposeBox.ts ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var CommentData_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentData */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentData.ts");
var UserTaggingBox_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/UserTaggingBox */ "./src/comments/Gigya.Comments.JsPlugin/app/UserTaggingBox.ts");
var Comments_Models_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/Comments.Models */ "./src/comments/Gigya.Comments.JsPlugin/app/Comments.Models.ts");
var CommentsUtils_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils.ts");
var ImgBase_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/ImgBase */ "./src/comments/Gigya.Comments.JsPlugin/app/ImgBase.ts");
var BaseComposeBox = /** @class */ (function () {
    function BaseComposeBox(plugin, container, data, onClose) {
        this.plugin = plugin;
        this.container = container;
        this.onClose = onClose;
        this.lastSelection = { start: -1 };
        this.data = window.gigya.utils.object.clone(data, true, false);
        if (!this.data.ratings)
            this.data.ratings = {};
    }
    //#region Utility methods
    BaseComposeBox.prototype.getText = function (textKey, replaceStr, withStr) {
        return this.plugin.getText(textKey, replaceStr, withStr);
    };
    BaseComposeBox.prototype.getElement = function (subclass) {
        var elList = window.gigya.utils.DOM.getElementsByClass(this.container, 'gig-composebox-' + subclass);
        return elList && elList.length > 0 ? elList[0] : null;
    };
    BaseComposeBox.prototype.buildUIElementsObj = function () {
        this.uiElements = {
            header: this.getElement('header'),
            title: this.getElement('title'),
            photo: this.getElement('photo'),
            textArea: this.getElement('textarea'),
            editor: this.getElement('editor'),
            summary: this.getElement('summary'),
            mediaItem: this.getElement('mediaItem'),
            summaryInput: this.getElement('summary-input'),
            name: this.getElement('name'),
            sidebar: this.getElement('sidebar'),
            sidebarButtons: {
                richText: this.getElement('sidebar-font'),
                addMediaItem: this.getElement('sidebar-media'),
                tagUser: this.getElement('sidebar-tag'),
            },
            submitButton: this.getElement('post'),
            closeButton: this.getElement('close'),
            cancelButton: this.getElement('cancel'),
            loginBar: this.getElement('login'),
            socialLoginButton: this.getElement('social-login'),
            siteLoginButton: this.getElement('site-login'),
            guestLoginButton: this.getElement('guest-login'),
            logoutLink: this.getElement('logout'),
            followLink: this.getElement('follow'),
            shareSection: this.getElement('share'),
            shareProviders: this.getElement('share-providers'),
            postAnonymouslySection: this.getElement('postAnonymously'),
            postAnonymouslyCheckbox: this.getElement('anon-checkbox'),
            ratings: this.getElement('ratings'),
            ratingsOverall: this.getElement('rating-_overall'),
            errorMessage: this.getElement('error'),
        };
    };
    BaseComposeBox.prototype.getLoginProvider = function () {
        var loginProvider = this.plugin.user.loginProvider;
        if (!loginProvider) {
            for (var identity in this.plugin.user.identities) {
                loginProvider = identity;
                break;
            }
        }
        return loginProvider;
    };
    BaseComposeBox.prototype.isLoginDropdownEnabled = function () {
        return !this.data.isReply() && (this.plugin.params['showLoginBar'] == true || this.plugin.settings.useSiteLogin);
    };
    BaseComposeBox.prototype.hideElement = function (element, remove) {
        if (!element)
            return;
        if (remove)
            element.parentElement.removeChild(element);
        else
            element.style.display = 'none';
    };
    //#endregion
    //#region UI Rendering
    BaseComposeBox.prototype.open = function () {
        this.render();
        this.focus();
    };
    BaseComposeBox.prototype.render = function () {
        if (!this.container) {
            this.container.style.display = 'none';
            return;
        }
        var writeCommentText = this.plugin.textMode == Comments_Models_1.TextMode.COMMENTS ? this.getText('write_a_comment') : this.getText('write_a_review');
        this.container.innerHTML = window.gigya.utils.templates.fill(this.plugin.templates['composebox'], {
            write_a_comment: writeCommentText,
            logout: this.getText('logout'),
            post: this.getSubmitText(),
            cancel: this.getText('cancel'),
            postAnonymously: this.getText('post_anonymously'),
            share: this.getText('share_colon'),
            login: this.getText('login'),
            or: this.getText('or'),
            guest: this.getText('guest'),
            summary: this.plugin.textMode == Comments_Models_1.TextMode.COMMENTS ? this.getText('summary') : this.getText('review_summary'),
        });
        var elEditor = this.getElement('editor');
        elEditor.innerHTML = window.gigya.utils.templates.fill(this.plugin.templates['editor'], {
            write_a_comment: writeCommentText,
            fontAlt: this.getText('rich_text_formatting'),
            mediaAlt: this.getText('embed_a_media_item'),
            tagAlt: this.getText('tag_commenters'),
        });
        this.buildUIElementsObj();
        // TODO: this should move to CommentPlugin
        var guest = this.getGuestUser();
        if (!this.plugin.user.isConnected && guest.isGuest && this.plugin.settings.allowGuest) {
            this.plugin.user = guest;
        }
        if (this.uiElements.editor && this.plugin.settings.enableCommentBody == 'disabled') {
            this.uiElements.editor.style.display = 'none';
        }
        if (this.uiElements.summary) {
            if (this.uiElements.summaryInput) {
                var placeholder = this.uiElements.summaryInput.getAttribute('data-placeholder');
                window.gigya.global.setPlaceholder(this.uiElements.summaryInput, placeholder, 'gig-comments-placeholder');
            }
            this.uiElements.summary.style.display = this.data.isReply() || this.plugin.settings.enableCommentTitles == 'disabled' ? 'none' : '';
        }
        this.renderSidebar();
        this.renderRatings();
        this.afterRender();
        this.activateOnRender();
        this.bindEvents();
    };
    BaseComposeBox.prototype.activateOnRender = function () {
        var _this = this;
        if (this.data.isReply() || this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS) {
            window.gigya.utils.DOM.addClassToElement(this.container, 'gig-comment-replybox-open'); // TODO: is this needed? is calling active() enough?
            if (this.plugin.isMobileUI) {
                this.activate();
            }
            else {
                window.setTimeout(function () { return _this.activate(); }, 10);
            }
        }
    };
    BaseComposeBox.prototype.renderSidebar = function () {
        if (!this.uiElements.sidebar)
            return;
        if (!this.uiElements.editor || this.plugin.settings.enableCommentBody == 'disabled' || this.plugin.isMobileUI) {
            this.uiElements.sidebar.style.display = 'none';
            return;
        }
        if (this.uiElements.sidebarButtons.richText) {
            var el = this.uiElements.sidebarButtons.richText;
            if (!this.plugin.settings.enableRichTextEditing) {
                el.parentElement.removeChild(el);
                this.uiElements.sidebarButtons.richText = null;
            }
        }
        if (this.uiElements.sidebarButtons.addMediaItem) {
            var el = this.uiElements.sidebarButtons.addMediaItem;
            if (!this.plugin.settings.enableMediaItems) {
                el.parentElement.removeChild(el);
                this.uiElements.sidebarButtons.addMediaItem = null;
            }
        }
        if (this.uiElements.sidebarButtons.tagUser) {
            var el = this.uiElements.sidebarButtons.tagUser;
            if (!this.plugin.settings.enableUserTagging) {
                el.parentElement.removeChild(el);
                this.uiElements.sidebarButtons.tagUser = null;
            }
        }
        if (this.uiElements.sidebarButtons.richText || this.uiElements.sidebarButtons.addMediaItem || this.uiElements.sidebarButtons.tagUser) {
            window.gigya.utils.DOM.addClassToElement(this.uiElements.editor, 'gig-composebox-editor-with-sidebar');
        }
    };
    //#endregion
    //#region UI updates
    BaseComposeBox.prototype.activate = function () {
        window.gigya.utils.DOM.addClassToElement(this.container, 'gig-composebox-open');
    };
    BaseComposeBox.prototype.close = function (canceled) {
        if (this.container) {
            this.container.innerHTML = '';
            window.gigya.utils.DOM.removeClassFromElement(this.container, 'gig-comment-replybox-open');
        }
        if (this.onClose)
            this.onClose(canceled);
    };
    BaseComposeBox.prototype.focus = function () {
        if (this.uiElements.textArea)
            this.uiElements.textArea.focus();
    };
    // Refreshes the UI elements when data changes
    BaseComposeBox.prototype.updateUI = function () {
        if (!this.uiElements)
            return;
        if (this.uiElements.name)
            this.uiElements.name.innerHTML = this.plugin.getUsername();
        this.updateUserBadges();
        this.updateLoginLogoutElements();
        this.updateProfilePhoto();
        this.updateTitle();
        this.updateFollow();
        this.updateRatings(); // TODO: refactor + move to new convention
    };
    BaseComposeBox.prototype.updateUserBadges = function () {
        if (!this.uiElements.header)
            return;
        window.gigya.utils.DOM.removeClassFromElement(this.uiElements.header.parentElement, 'gig-composebox-withBadges');
        // remove all userBadges from the composeBox
        this.plugin.removeUserBadges(this.uiElements.header);
        if (this.plugin.user.isLoggedIn && this.plugin.userHighlightingGroups) {
            var commenterElement = this.uiElements.title;
            var hasUserBadges = this.plugin.createUserHighlightingBadges(commenterElement, this.plugin.userHighlightingGroups);
            if (hasUserBadges)
                window.gigya.utils.DOM.addClassToElement(this.uiElements.header.parentElement, 'gig-composebox-withBadges');
        }
    };
    BaseComposeBox.prototype.updateTitle = function () {
        if (!this.uiElements.title)
            return;
        var title = this.getTitle();
        if (title) {
            this.uiElements.title.style.display = '';
            this.uiElements.title.innerHTML = title;
        }
        else {
            this.uiElements.title.style.display = 'none';
            this.uiElements.title.innerHTML = title;
        }
    };
    BaseComposeBox.prototype.updateProfilePhoto = function () {
        var _this = this;
        if (!this.uiElements.photo)
            return;
        var loginProvider = this.getLoginProvider();
        var photoHtml = window.gigya.utils.templates.fill(this.plugin.templates['photo'], {
            photoURL: window.gigya.global.getPhotoURL(this.plugin.user.thumbnailURL || this.plugin.user.photoURL, CommentsUtils_1.Images.getPhotoFullName('Avatar_empty', this.plugin.pixelRatio)),
            providerImage: loginProvider && loginProvider != 'site' && loginProvider.toLowerCase() != 'customopenid' ? this.plugin.templates['providerImage'] : '',
            providerImageUrl: ImgBase_1.imgBase + 'providers/' + this.getLoginProvider() + 'User_x1.png',
        });
        this.uiElements.photo.style.visibility = 'hidden';
        this.uiElements.photo.innerHTML = photoHtml;
        var arElImg = this.uiElements.photo.getElementsByTagName('img');
        if (arElImg && arElImg.length > 0) {
            var img = arElImg[0];
            window.gigya.utils.DOM.addEventListener(img, 'load', function () {
                window.gigya.global.scaleImageToContainer(arElImg[0], true, function () {
                    _this.uiElements.photo.style.visibility = '';
                });
            });
        }
    };
    BaseComposeBox.prototype.updateLoginLogoutElements = function () {
        if (this.uiElements.logoutLink) {
            if (this.plugin.user.isConnected || (this.plugin.user.isGuest && !this.isGuestLocked())) {
                this.uiElements.logoutLink.style.display = '';
            }
            else {
                this.uiElements.logoutLink.style.display = 'none';
            }
        }
    };
    //#endregion
    //#region Event handling
    BaseComposeBox.prototype.bindEvents = function () {
        var _this = this;
        window.gigya.utils.DOM.addButtonSubmitListener(this.uiElements.submitButton, function () {
            _this.onSubmitClicked();
        });
        window.gigya.utils.DOM.addButtonSubmitListener(this.uiElements.cancelButton, function () {
            _this.close();
        });
        window.gigya.utils.DOM.addButtonSubmitListener(this.uiElements.closeButton, function () {
            _this.close();
        });
        window.gigya.utils.DOM.addButtonSubmitListener(this.uiElements.socialLoginButton, function () {
            _this.onLoginClick(_this.uiElements.socialLoginButton);
        });
        window.gigya.utils.DOM.addButtonSubmitListener(this.uiElements.siteLoginButton, function () {
            _this.onSiteLoginClick();
        });
        window.gigya.utils.DOM.addButtonSubmitListener(this.uiElements.guestLoginButton, function () {
            _this.onGuestClick(_this.uiElements.guestLoginButton);
        });
        window.gigya.utils.DOM.addEventListener(this.uiElements.sidebarButtons.richText, 'mousedown', function (e) {
            _this.showFontBox(_this.uiElements.sidebarButtons.richText);
            window.gigya.utils.DOM.cancelEvent(e);
        });
        window.gigya.utils.DOM.addEventListener(this.uiElements.sidebarButtons.addMediaItem, 'mousedown', function (e) {
            _this.showMediaBox(_this.uiElements.sidebarButtons.addMediaItem);
            window.gigya.utils.DOM.cancelEvent(e);
        });
        window.gigya.utils.DOM.addEventListener(this.uiElements.sidebarButtons.tagUser, 'mousedown', function (e) {
            _this.onSidebarTagClicked(e);
            window.gigya.utils.DOM.cancelEvent(e);
        });
        if (this.uiElements.textArea) {
            window.gigya.utils.DOM.addEventListener(this.uiElements.textArea, 'keydown', function (e) {
                if (window.gigya.utils.array.indexOf(BaseComposeBox.allowedOnLimitKeys, e.keyCode) == -1 &&
                    _this.uiElements.textArea.textContent.length >= _this.plugin.settings.maxCommentLength) {
                    window.gigya.utils.DOM.cancelEvent(e);
                }
            });
            window.gigya.utils.DOM.addEventListener(this.uiElements.textArea, 'focus', function () {
                _this.activate();
            });
            window.gigya.utils.DOM.addEventListener(this.uiElements.textArea, 'keyup', function (e) {
                if ((e.keyCode == 86 && (e.ctrlKey || e.metaKey)) || (e.keyCode == 45 && e.shiftKey)) {
                    setTimeout(function () {
                        _this.handleUpdatedText();
                    }, 1);
                }
            });
            window.gigya.utils.DOM.addEventListener(this.uiElements.textArea, 'blur', function () {
                _this.stopPolling();
                if (_this.uiElements.textArea.innerHTML == '<br>')
                    _this.uiElements.textArea.innerHTML = ''; // ff adds <br> when hitting space
                // This is no longer validated because of bug #37615 - the click event would not fire because the button moves before
                // the user can release the mouse
                //if (this.pendingValidation) {
                //    this.validate(false);
                //}
            });
            window.gigya.utils.DOM.addEventListener(this.uiElements.textArea, 'focus', function () {
                _this.startPolling();
            });
        }
        if (this.uiElements.logoutLink) {
            window.gigya.utils.DOM.addButtonSubmitListener(this.uiElements.logoutLink, function () {
                if (_this.plugin.user.isGuest) {
                    _this.logoutGuest();
                }
                else {
                    window.gigya.socialize.logout(_this.plugin.params);
                }
            });
        }
        var elFollow = this.uiElements.followLink;
        if (elFollow) {
            window.gigya.utils.DOM.addButtonSubmitListener(elFollow, function () {
                _this.onFollowClick(elFollow);
            });
            window.gigya.utils.DOM.addEventListener(elFollow, 'mouseover', function () {
                if (_this.plugin.isUserFollowing()) {
                    elFollow.innerHTML = _this.getText('unfollow');
                }
            });
            var fnOnMouseOut = function () {
                _this.updateFollow();
            };
            window.gigya.utils.DOM.addEventListener(elFollow, 'mouseout', fnOnMouseOut);
            fnOnMouseOut();
        }
        if (this.uiElements.summaryInput) {
            window.gigya.utils.DOM.addEventListener(this.uiElements.summaryInput, 'blur', function () {
                if (_this.pendingValidation) {
                    _this.validate();
                }
            });
        }
    };
    BaseComposeBox.prototype.onSubmitClicked = function () {
        if (!this.validate())
            return;
        this.updateDataFromUI();
        this.submit();
        // For single-review mode
        this.plugin.mainComposeBox.updateUI();
    };
    BaseComposeBox.prototype.updateDataFromUI = function () {
        var tbCommentTitle = this.uiElements.summaryInput;
        if (this.data.commentText == null)
            this.data.commentText = '';
        var taggedUIDs = [];
        if (this.uiElements.textArea)
            this.data.commentText = CommentsUtils_1.UserTagging.replaceUserTagsWithSpans(this.uiElements.textArea, taggedUIDs);
        if (!tbCommentTitle)
            this.data.commentTitle = null;
        else if (tbCommentTitle.value && tbCommentTitle['placeholderCleared'])
            this.data.commentTitle = tbCommentTitle.value;
        else
            this.data.commentTitle = '';
        this.data.taggedUsers = taggedUIDs;
        this.data.mediaItems = this.mediaItem ? [this.mediaItem] : [];
        this.data.highlightGroups = this.plugin.userHighlightingGroups;
        this.data.status = this.plugin.settings.moderationState === 1 ? 'pending' : '';
    };
    BaseComposeBox.prototype.onStarClick = function (e) {
        var target = (e.target || e.srcElement);
        var parent = target.parentNode;
        var dimensionId = parent.getAttribute('data-dimension');
        var starValue = target.getAttribute('data-value');
        if (!this.data.ratings)
            this.data.ratings = {};
        this.data.ratings[dimensionId] = parseInt(starValue);
        if (this.pendingValidation)
            this.validate();
        this.onStarMouseOut(e);
    };
    BaseComposeBox.prototype.onStarMouseOver = function (e) {
        var target = (e.target || e.srcElement);
        var parent = target.parentNode;
        var starValue = target.getAttribute('data-value');
        var parent = target.parentNode;
        this.updateStarsToValue(parent, parseInt(starValue));
    };
    BaseComposeBox.prototype.onStarMouseOut = function (e) {
        var target = e.target || e.srcElement;
        var parent = target.parentNode;
        var dimensionId = parent.getAttribute('data-dimension');
        this.updateStarsToValue(parent, this.data.ratings[dimensionId]);
    };
    BaseComposeBox.prototype.updateStarsToValue = function (parent, value) {
        if (value === void 0) { value = 0; }
        if (!parent)
            return;
        var arStars = parent.getElementsByClassName('gig-composebox-rating-star');
        for (var i = 0; i < arStars.length; i++) {
            var elStar = arStars[i];
            if (parseInt(elStar.getAttribute('data-value')) <= value) {
                window.gigya.utils.DOM.addClassToElement(elStar, 'gig-composebox-rating-star-full');
            }
            else {
                window.gigya.utils.DOM.removeClassFromElement(elStar, 'gig-composebox-rating-star-full');
            }
        }
    };
    BaseComposeBox.prototype.onLoginClick = function (elOpener, showGuest, onLogin) {
        var _this = this;
        window.gigya.utils.DOM.addClassToElement(elOpener, 'gig-composebox-social-login-down');
        var divLogin = document.createElement('div');
        divLogin.className = 'gig-comments-container gig-comments-loginbox' + (this.plugin.autoPixelRatio ? ' gig-comments-hires-icons' : '');
        var enabledProviders = this.plugin.params['enabledProviders'] || '*';
        var disabledProviders = this.plugin.params['disabledProviders'] || '';
        var arProviders = window.gigya.socialize.hideProvidersByName(window.gigya.socialize.getProvidersByName(enabledProviders), disabledProviders);
        var fnOnProviderClick = function (e) {
            _this.onLoginProviderClick(e, divPopover, elOpener, onLogin);
        };
        var createProviderDiv = function (provider, backgroundImage) {
            var divProvider = document.createElement('div');
            divProvider.className = 'gig-loginbox-provider';
            divProvider.setAttribute('data-provider', provider.name);
            divProvider.innerHTML = provider.displayName;
            divProvider.setAttribute('aria-label', provider.displayName);
            if (backgroundImage) {
                divProvider.style.backgroundImage = "url(\"" + backgroundImage + "\")";
            }
            window.gigya.utils.DOM.addButtonSubmitListener(divProvider, fnOnProviderClick);
            divLogin.appendChild(divProvider);
            return divProvider;
        };
        var hasMore;
        if (arProviders) {
            var divProvider = document.createElement('div');
            divProvider.className = 'gig-signinbox-provider';
            divProvider.innerHTML = this.getText('sign_in_with');
            divLogin.appendChild(divProvider);
        }
        for (var i = 0; i < arProviders.length; i++) {
            var provider = arProviders[i];
            if (provider) {
                var divProvider = createProviderDiv(provider, window.gigya._.getCdnResource('/gs/i/HTMLLogin/' + provider.name + '_15.png'));
                if (i > 1) {
                    divProvider.style.display = 'none';
                    hasMore = true;
                }
            }
        }
        if (showGuest) {
            createProviderDiv({
                name: 'guest',
                displayName: this.getText('as_guest'),
            }, CommentsUtils_1.Images.getPhotoFullName('login_as_guest', this.plugin.pixelRatio));
        }
        if (hasMore) {
            createProviderDiv({
                name: 'more',
                displayName: this.getText('show_more'),
            });
        }
        var divPopover = window.gigya.pluginUtils.DOM.addPopoverNearElement(elOpener, divLogin, 'bottom', 0, this.plugin.isRtl, false, 'slideDown', function (e, wasOpen) {
            // Stop the event so the login box won't open again
            if (wasOpen && (e.target == elOpener || window.gigya.utils.DOM.isChildOf(e.target, elOpener))) {
                CommentsUtils_1.Events.cancelEvent(e);
            }
        });
        var firstProvider = divLogin.querySelector('div.gig-loginbox-provider');
        if (firstProvider) {
            firstProvider.focus();
        }
    };
    BaseComposeBox.prototype.onLoginProviderClick = function (e, divLogin, elOpener, onLogin) {
        var target = e.target || e.srcElement;
        var provider = target.getAttribute('data-provider');
        if (provider == 'more') {
            var arDivProvider = window.gigya.utils.DOM.getElementsByClass(divLogin, 'gig-loginbox-provider');
            for (var i = 0; i < arDivProvider.length; i++) {
                arDivProvider[i].style.display = '';
            }
            target.style.display = 'none';
            window.gigya.pluginUtils.DOM.placePopoverNearElement(elOpener, divLogin, 'bottom', 0, this.plugin.isRtl, false);
            var providerEls = divLogin.querySelectorAll('div.gig-loginbox-provider');
            var nextProviderEl = providerEls[2];
            if (nextProviderEl) {
                nextProviderEl.focus();
            }
        }
        else if (provider == 'guest') {
            this.onGuestClick(elOpener, onLogin);
            divLogin.parentNode.removeChild(divLogin);
        }
        else {
            window.gigya.socialize.addConnection(this.plugin.params, { provider: provider, callback: onLogin });
            divLogin.parentNode.removeChild(divLogin);
        }
    };
    BaseComposeBox.prototype.onGuestClick = function (elOpener, onLogin) {
        var _this = this;
        window.gigya.utils.DOM.addClassToElement(elOpener, 'gig-composebox-guest-login-down');
        var pos = window.gigya.utils.DOM.getElementPosition(elOpener);
        var divGuest = document.createElement('div');
        divGuest.style.position = 'absolute';
        if (divGuest.style.zIndex != null) {
            divGuest.style.zIndex = window.gigya.utils.DOM.getNextZIndex().toString();
        }
        divGuest.className = 'gig-comments-container gig-comments-guestbox';
        window.gigya.utils.DOM.appendToBody(divGuest);
        var viewport = window.gigya.utils.viewport.getInnerSize();
        var left = Math.max(0, window.gigya.localInfo.quirksMode ? pos.left - 2 : pos.left);
        if (left + divGuest.offsetWidth > viewport.w - 40) {
            left = viewport.w - divGuest.offsetWidth - 40;
        }
        divGuest.style.left = '' + left + 'px';
        divGuest.style.top = '' + (pos.top + elOpener.offsetHeight - 2 + (window.gigya.localInfo.quirksMode ? -2 : 0)) + 'px';
        divGuest.innerHTML = window.gigya.utils.templates.fill(this.plugin.templates['guestbox'], {
            nickname: this.getText('nickname'),
            email: window.gigya.utils.sanitize.sanitizeAttribute(this.plugin.settings.isGuestEmailRequired ? this.getText('email') : this.getText('email_optional')),
            ok: this.getText('ok'),
            email_not_displayed_publicly: this.getText('email_not_displayed_publicly'),
        });
        var elNickname = window.gigya.utils.DOM.getElementsByClass(divGuest, 'gig-guestbox-nickname')[0];
        var elEmail = window.gigya.utils.DOM.getElementsByClass(divGuest, 'gig-guestbox-email')[0];
        if (this.plugin.settings.requireGuestName) {
            if (elNickname)
                window.gigya.global.setPlaceholder(elNickname, elNickname.getAttribute('data-placeholder'), 'gig-comments-placeholder');
        }
        else {
            elNickname.style.display = 'none';
        }
        if (elEmail)
            window.gigya.global.setPlaceholder(elEmail, elEmail.getAttribute('data-placeholder'), 'gig-comments-placeholder');
        window.gigya.utils.DOM.appendToBody(divGuest);
        if (!this.plugin.isMobileUI)
            window.gigya.pluginUtils.animation.slideDown(divGuest);
        var fnEnterEscPress = function (e) {
            var var_key = e.keyCode;
            if (var_key == 27) {
                divGuest.parentNode.removeChild(divGuest);
                window.gigya.utils.DOM.removeEventListener(elOk, 'click', fnOK);
            }
            else if (var_key == 13)
                fnOK();
        };
        var fnUnbind = function () {
            window.gigya.utils.DOM.removeEventListener(document, 'keydown', fnEnterEscPress);
            window.gigya.utils.DOM.removeEventListener(elOk, 'click', fnOK);
        };
        window.gigya.pluginUtils.DOM.removeElementOnDocClickOrEscape(divGuest, function (e, wasOpen) {
            // Stop the event so the login box won't open again
            if (wasOpen && (e.target == elOpener || window.gigya.utils.DOM.isChildOf(e.target, elOpener))) {
                CommentsUtils_1.Events.cancelEvent(e);
            }
        }, null);
        var elOk = window.gigya.utils.DOM.getElementsByClass(divGuest, 'gig-guestbox-ok')[0];
        var elNickname = window.gigya.utils.DOM.getElementsByClass(divGuest, 'gig-guestbox-nickname')[0];
        var elEmail = window.gigya.utils.DOM.getElementsByClass(divGuest, 'gig-guestbox-email')[0];
        var elError = window.gigya.utils.DOM.getElementsByClass(divGuest, 'gig-guestbox-error')[0];
        //if (elNickname) elNickname.focus();
        if (elNickname && elEmail && elOk) {
            var fnOK = function () {
                var errorText = '';
                var email = elEmail['placeholderCleared'] ? elEmail.value : '';
                var nickname = elNickname['placeholderCleared'] ? elNickname.value : '';
                var hasEmail = email.replace(/ /g, '') != '';
                var hasNickname = nickname.replace(/ /g, '').length >= 3;
                if (_this.plugin.settings.requireGuestName && !hasNickname) {
                    errorText = _this.getText('nickname_should_be_at_least_3_characters');
                }
                else if ((_this.plugin.settings.isGuestEmailRequired && !hasEmail) || (hasEmail && !window.gigya.pluginUtils.validation.isEmailValid(email))) {
                    errorText = _this.getText('please_provide_a_valid_email_address');
                }
                elError.innerHTML = errorText;
                if (!errorText) {
                    _this.loginAsGuest(nickname, email);
                    divGuest.parentNode.removeChild(divGuest);
                    fnUnbind();
                    if (onLogin)
                        onLogin();
                }
            };
            window.gigya.utils.DOM.addEventListener(elOk, 'click', fnOK);
            window.gigya.utils.DOM.addEventListener(document, 'keydown', fnEnterEscPress);
        }
    };
    //#endregion
    //#region Rating stars
    BaseComposeBox.prototype.renderRatings = function () {
        if (!this.uiElements.ratings)
            return;
        if (!this.data.isReply() && this.plugin.settings.enableRatings != 'disabled') {
            var arDims = [{ id: '_overall', name: this.getText('overall_rating') }];
            if (this.plugin.settings.ratingDims)
                arDims = arDims.concat(this.plugin.settings.ratingDims);
            this.uiElements.ratings.style.display = '';
            this.uiElements.ratings.innerHTML = '';
            var maxDimTitleWidth = 0;
            for (var i = 0; i < arDims.length; i++) {
                var dim = arDims[i];
                var elRating = this.getRatingElement(dim);
                if (dim.id === '_overall')
                    this.uiElements.ratingsOverall = elRating;
                this.uiElements.ratings.appendChild(elRating);
                var elTitle = window.gigya.utils.DOM.getElementsByClass(elRating, 'gig-composebox-rating-title')[0];
                if (elTitle)
                    maxDimTitleWidth = Math.max(elTitle.offsetWidth, maxDimTitleWidth);
            }
            if (maxDimTitleWidth > 0)
                window.gigya._.plugins.utils.css.addCss('#' + this.plugin.containerID + ' *.gig-composebox-rating-title { width:' + (maxDimTitleWidth + 1) + 'px; }', this.plugin.params['cssPrefix']);
        }
        else {
            this.uiElements.ratings.style.display = 'none';
        }
    };
    BaseComposeBox.prototype.updateRatings = function () {
        if (!this.uiElements.ratings)
            return;
        var arDims = [{ id: '_overall', name: this.getText('overall_rating') }];
        if (this.plugin.settings.ratingDims)
            arDims = arDims.concat(this.plugin.settings.ratingDims);
        for (var i = 0; i < arDims.length; i++) {
            var dim = arDims[i];
            var elRating = window.gigya.utils.DOM.getElementsByAttribute(this.uiElements.ratings, '*', 'data-dimension', dim.id)[0];
            this.updateStarsToValue(elRating, this.data.ratings[dim.id]);
        }
    };
    BaseComposeBox.prototype.getRatingElement = function (dim) {
        var _this = this;
        var elRating = document.createElement('div');
        elRating.className = 'gig-composebox-rating gig-composebox-rating-' + dim.id;
        elRating.innerHTML = this.plugin.templates['composeboxRating'];
        var elTitle = window.gigya.utils.DOM.getElementsByClass(elRating, 'gig-composebox-rating-title')[0];
        if (elTitle)
            elTitle.innerHTML = dim.name + ':';
        var elValue = window.gigya.utils.DOM.getElementsByClass(elRating, 'gig-composebox-rating-value')[0];
        if (elValue) {
            elValue.setAttribute('data-dimension', dim.id);
            for (var i = 1; i < 6; i++) {
                var elStar = document.createElement('div');
                elStar.setAttribute('data-value', i.toString());
                window.gigya.utils.DOM.addClassToElement(elStar, 'gig-composebox-rating-star');
                window.gigya.utils.DOM.addEventListener(elStar, 'mouseover', function (e) { return _this.onStarMouseOver(e); });
                window.gigya.utils.DOM.addEventListener(elStar, 'mouseout', function (e) { return _this.onStarMouseOut(e); });
                window.gigya.utils.DOM.addButtonSubmitListener(elStar, function (e) { return _this.onStarClick(e); });
                elValue.appendChild(elStar);
            }
        }
        return elRating;
    };
    //#endregion
    //#region Login / Logout
    BaseComposeBox.prototype.loginAsGuest = function (nickname, email) {
        window.gigya.utils.cookie.set('_gig_comments_is_guest', '1');
        if (nickname)
            window.gigya.utils.cookie.set('_gig_comments_nickname', nickname);
        if (email)
            window.gigya.utils.cookie.set('_gig_comments_email', email);
        this.plugin.setUser(this.getGuestUser());
    };
    BaseComposeBox.prototype.logoutGuest = function () {
        window.gigya.utils.cookie.remove('_gig_comments_is_guest');
        window.gigya.utils.cookie.remove('_gig_comments_email');
        window.gigya.utils.cookie.remove('_gig_comments_nickname');
        this.plugin.setUser({});
    };
    BaseComposeBox.prototype.onSiteLoginClick = function (onLogin) {
        if (!onLogin)
            onLogin = function () { };
        window.gigya.events.dispatchForWidget({ eventName: 'siteLoginClicked', callback: onLogin }, this.plugin.params);
    };
    //#endregion
    // TODO: should move to another class
    //#region Guest user
    BaseComposeBox.prototype.getGuestUser = function () {
        var isGuest = window.gigya.utils.cookie.get('_gig_comments_is_guest');
        var nickname = window.gigya.utils.cookie.get('_gig_comments_nickname') || '';
        var email = window.gigya.utils.cookie.get('_gig_comments_email') || '';
        var user = {
            UID: '',
            nickname: nickname,
            isGuest: isGuest == '1',
            email: email,
        };
        return user;
    };
    BaseComposeBox.prototype.lockGuest = function () {
        window.gigya.utils.cookie.set('_gig_comments_locked', '1');
    };
    BaseComposeBox.prototype.isGuestLocked = function () {
        return window.gigya.utils.cookie.get('_gig_comments_locked');
    };
    //#endregion
    //#region Inputs handling
    BaseComposeBox.prototype.startPolling = function () {
        var _this = this;
        this.pollingInterval = setInterval(function () {
            _this.handleUpdatedText();
        }, 100);
    };
    BaseComposeBox.prototype.stopPolling = function () {
        if (typeof this.pollingInterval != 'undefined') {
            clearInterval(this.pollingInterval);
            delete this.pollingInterval;
        }
    };
    BaseComposeBox.prototype.validate = function (shouldFocus) {
        var fieldErrorClass = 'gig-composebox-field-error';
        var commentValue = this.uiElements.textArea ? this.uiElements.textArea.innerHTML : '';
        var elFirstError;
        var validated = true;
        if (this.uiElements.editor) {
            window.gigya.utils.DOM.removeClassFromElement(this.uiElements.editor, fieldErrorClass);
            this.uiElements.textArea.removeAttribute('aria-invalid');
        }
        if (this.uiElements.summary) {
            window.gigya.utils.DOM.removeClassFromElement(this.uiElements.summary, fieldErrorClass);
        }
        if (this.uiElements.ratingsOverall) {
            window.gigya.utils.DOM.removeClassFromElement(this.uiElements.ratingsOverall, fieldErrorClass);
        }
        // Validate title if required
        if (this.plugin.settings.enableCommentTitles.split('_')[1] == 'mandatory' &&
            this.uiElements.summaryInput &&
            !this.data.isReply() &&
            (this.uiElements.summaryInput.value
                .replace(/ /g, '')
                .replace(/\n/g, '')
                .replace(/\r/g, '') == '' ||
                !this.uiElements.summaryInput['placeholderCleared'])) {
            if (this.uiElements.summary)
                window.gigya.utils.DOM.addClassToElement(this.uiElements.summary, fieldErrorClass);
            if (!elFirstError)
                elFirstError = this.uiElements.summaryInput;
            validated = false;
        }
        // Validate comment body if required
        if ((this.data.isReply() || this.plugin.settings.enableCommentBody.split('_')[1] == 'mandatory') &&
            commentValue
                .replace(/ /g, '')
                .replace(/\n/g, '')
                .replace(/\r/g, '') == '') {
            if (this.uiElements.editor) {
                window.gigya.utils.DOM.addClassToElement(this.uiElements.editor, fieldErrorClass);
                this.uiElements.textArea.setAttribute('aria-invalid', 'true');
            }
            if (!elFirstError)
                elFirstError = this.uiElements.textArea;
            validated = false;
        }
        if (this.uiElements.ratingsOverall &&
            this.plugin.settings.enableRatings.split('_')[1] == 'mandatory' &&
            (!this.data.ratings || !this.data.ratings['_overall'])) {
            window.gigya.utils.DOM.addClassToElement(this.uiElements.ratingsOverall, fieldErrorClass);
            validated = false;
        }
        if (this.uiElements.errorMessage) {
            if (!validated) {
                this.pendingValidation = true;
                this.uiElements.errorMessage.innerHTML =
                    this.plugin.settings.mode == 'ratingsOnly' ? this.getText('please_select_your_rating') : this.getText('please_fill_required_fields');
                this.uiElements.errorMessage.style.display = 'block';
                if (elFirstError && shouldFocus)
                    elFirstError.focus();
            }
            else {
                this.pendingValidation = false;
                this.uiElements.errorMessage.innerHTML = '';
                this.uiElements.errorMessage.style.display = 'none';
            }
        }
        return validated;
    };
    BaseComposeBox.prototype.clear = function () {
        if (this.uiElements.textArea) {
            this.uiElements.textArea.innerHTML = '';
            this.uiElements.textArea.style.minHeight = '';
        }
        if (this.uiElements.summaryInput) {
            this.uiElements.summaryInput.value = '';
            this.uiElements.summaryInput['refreshPlaceholder']();
        }
        if (this.mediaItem) {
            if (this.uiElements.mediaItem)
                this.uiElements.mediaItem.innerHTML = '';
            this.mediaItem = null;
        }
        this.clearRatings();
    };
    BaseComposeBox.prototype.clearRatings = function () {
        this.data.ratings = {};
        this.updateRatings();
    };
    BaseComposeBox.prototype.handleUpdatedText = function () {
        if (document.activeElement != this.uiElements.textArea)
            return;
        try {
            var selection = CommentsUtils_1.Selection.getSelection(this.uiElements.textArea);
        }
        catch (ex) {
            this.stopPolling();
        }
        var commentHTML = this.uiElements.textArea.innerHTML;
        // Content has changed
        if (this.lastCommentHTML != commentHTML) {
            var newCommentHTML = this.stripUnallowedTags(commentHTML);
            newCommentHTML = this.stripCRLFTags(newCommentHTML);
            if (commentHTML != newCommentHTML) {
                var diff = newCommentHTML.length - commentHTML.length;
                this.uiElements.textArea.innerHTML = newCommentHTML;
                CommentsUtils_1.Selection.restoreSelection(this.uiElements.textArea, selection);
            }
            if (this.uiElements.textArea.textContent.length > this.plugin.settings.maxCommentLength) {
                this.truncateTextNodes(this.uiElements.textArea, this.plugin.settings.maxCommentLength);
            }
            this.lastCommentHTML = this.uiElements.textArea.innerHTML;
        }
        if (selection && !this.plugin.isMobileUI) {
            this.updateUserTaggingIfNeeded(selection);
            this.lastSelection = window.gigya.utils.object.clone(selection);
        }
    };
    BaseComposeBox.prototype.getTextNodes = function (node, array) {
        if (node.nodeType === 3) {
            array.push(node);
        }
        else if (node.nodeType === 1) {
            var children = node.childNodes;
            for (var i = 0; i < children.length; i++) {
                this.getTextNodes(children[i], array);
            }
        }
    };
    BaseComposeBox.prototype.truncateTextNodes = function (node, textLength) {
        var textNodes = [];
        this.getTextNodes(node, textNodes);
        for (var i = 0; i < textNodes.length; i++) {
            var currNode = textNodes[i];
            if (textLength > currNode.nodeValue.length) {
                textLength -= currNode.nodeValue.length;
            }
            else if (textLength == 0) {
                currNode.nodeValue = '';
            }
            else {
                currNode.nodeValue = currNode.nodeValue.substring(0, textLength);
                textLength = 0;
            }
        }
    };
    BaseComposeBox.prototype.stripUnallowedTags = function (commentHTML) {
        if (commentHTML) {
            var allowed = BaseComposeBox.alwaysAllowedTags + (this.plugin.settings.enableRichTextEditing ? '|' + BaseComposeBox.richTextAllowedTags : '');
            var unallowedRegex = new RegExp('<((?!(' + allowed + ')[ >/])[a-z]+)[^<]*>|</((?!(' + allowed + ')[ >/])[a-z]+)>', 'gi');
            commentHTML = commentHTML.replace(unallowedRegex, '');
            if (commentHTML.indexOf('style="') != -1) {
                commentHTML = commentHTML.replace(/style="((.|\n)*?)"/g, '');
            }
        }
        return commentHTML;
    };
    BaseComposeBox.prototype.stripCRLFTags = function (commentHTML) {
        if (commentHTML) {
            commentHTML = commentHTML.replace(/\r|\n/g, '');
        }
        return commentHTML;
    };
    //#endregion
    //#region User Tagging
    BaseComposeBox.prototype.updateUserTaggingIfNeeded = function (selection) {
        var _this = this;
        if (this.plugin.settings.enableUserTagging && selection && selection.start != this.lastSelection.start && selection.start == selection.end) {
            // Replace &nbsp; with a space
            var text = selection.childText.replace(String.fromCharCode(160), ' ');
            var words = text.match(/\S+/g);
            if (words && words.length >= 0) {
                var last = words[words.length - 1];
            }
            if (this.userTaggingBox) {
                this.userTaggingBox.processTextChanged(text);
            }
            else if (!this.userTaggingBox && (typeof last !== 'undefined' && last.lastIndexOf('@') === 0)) {
                this.userTaggingBox = new UserTaggingBox_1.UserTaggingBox(this, function (uid, el) {
                    if (uid && el) {
                        _this.insertUserTag(el, caretLocation);
                    }
                    else {
                        delete _this.userTaggingBox;
                    }
                }, text);
                var caretLocation = text.lastIndexOf('@');
            }
        }
    };
    BaseComposeBox.prototype.insertUserTag = function (userElement, replaceStart) {
        if (replaceStart === -1)
            return;
        if (!window.getSelection)
            return;
        this.uiElements.textArea.focus();
        CommentsUtils_1.Selection.restoreSelection(this.uiElements.textArea, this.lastSelection);
        var sel = window.getSelection();
        if (sel.getRangeAt && sel.rangeCount) {
            var range = sel.getRangeAt(0);
            if (typeof replaceStart != 'undefined') {
                range.setStart(range.startContainer, replaceStart);
                range.deleteContents();
            }
            // We need to add empty text nodes before & after the button so browsers will be nice about it
            var textNode = document.createTextNode(String.fromCharCode(160));
            range.insertNode(textNode);
            range.insertNode(userElement);
            textNode = document.createTextNode(String.fromCharCode(160));
            range.insertNode(textNode);
            var newRange = document.createRange();
            newRange.setStartAfter(textNode);
            sel.removeAllRanges();
            sel.addRange(newRange);
        }
    };
    //#endregion
    // TODO: should move to a different class
    //#region Following replies
    BaseComposeBox.prototype.onFollowClick = function (elOpener) {
        var _this = this;
        if (this.plugin.isUserFollowing()) {
            this.unfollow();
        }
        else {
            var dialogBody = window.gigya.utils.templates.fill(this.plugin.templates['emailTextboxDialogBody'], {
                text: this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS
                    ? this.getText('enter_your_email_to_receive_notifications_when_someone_comments_on_your_reviews_colon')
                    : this.getText('enter_your_email_to_receive_notifications_when_someone_replies_to_your_comments_colon'),
                buttonText: this.getText('follow'),
                email: this.plugin.user.email,
                emailLabel: this.getText('email'),
            });
            var dialog_1 = this.plugin.showDialog(this.getText('notifications_settings'), dialogBody, undefined, undefined, undefined, function () {
                // This fires when the dialog closes. Return focus to the follow link.
                _this.uiElements.followLink.focus();
            });
            var btnFollow = window.gigya.utils.DOM.getElementsByClass(dialog_1, 'gig-comments-dialog-textbox-button')[0];
            window.gigya.utils.DOM.addButtonSubmitListener(btnFollow, function (e) {
                var tb = window.gigya.utils.DOM.getElementsByClass(dialog_1, 'gig-comments-dialog-textbox')[0];
                if (tb) {
                    var email = tb.value;
                    if (window.gigya.pluginUtils.validation.isEmailValid(email)) {
                        _this.follow(tb.value);
                        _this.plugin.activeDialog.cancelHandler();
                    }
                    else {
                        var elError = window.gigya.utils.DOM.getElementsByClass(dialog_1, 'gig-comments-dialog-error')[0];
                        elError.innerHTML = _this.getText('please_provide_a_valid_email_address');
                    }
                }
            });
        }
    };
    BaseComposeBox.prototype.follow = function (email) {
        window.gigya.comments.setUserOptions(this.plugin.params, {
            replyNotifications: 'immediate',
            notificationsEmail: email,
            notificationsLanguage: this.plugin.params['lang'],
        });
        if (!this.plugin.userOptions)
            this.plugin.userOptions = {};
        this.plugin.userOptions.replyNotifications = 'immediate';
        this.updateFollow();
    };
    BaseComposeBox.prototype.unfollow = function () {
        window.gigya.comments.setUserOptions(this.plugin.params, { replyNotifications: 'disabled' });
        this.plugin.userOptions.replyNotifications = 'disabled';
        this.updateFollow();
    };
    BaseComposeBox.prototype.updateFollow = function () {
        var elFollow = window.gigya.utils.DOM.getElementsByClass(this.container, 'gig-composebox-follow')[0];
        if (elFollow) {
            if (this.plugin.user.isConnected && !this.plugin.user.isTempUser) {
                if (!this.plugin.isUserFollowing()) {
                    window.gigya.utils.DOM.removeClassFromElement(elFollow, 'gig-composebox-following');
                    if (this.plugin.isMobileUI) {
                        elFollow.innerHTML = this.getText('follow');
                    }
                    else {
                        elFollow.innerHTML =
                            this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS
                                ? this.getText('follow_replies_to_my_reviews')
                                : this.getText('follow_replies_to_my_comments');
                    }
                    elFollow.title =
                        this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS
                            ? this.getText('notify_me_when_someone_comments_on_my_review')
                            : this.getText('notify_me_when_someone_replies_to_my_comments');
                    elFollow.setAttribute('aria-label', elFollow.title);
                }
                else {
                    window.gigya.utils.DOM.addClassToElement(elFollow, 'gig-composebox-following');
                    elFollow.innerHTML = this.getText('following');
                    elFollow.setAttribute('aria-label', this.getText('unfollow'));
                    elFollow.title = '';
                }
                elFollow.style.display = '';
            }
            else {
                elFollow.style.display = 'none';
            }
        }
    };
    //#endregion
    //#region Sidebar popups
    BaseComposeBox.prototype.toggleSidebarButton = function (button, highlight) {
        if (highlight) {
            window.gigya.utils.DOM.addClassToElement(button, 'gig-composebox-sidebar-button-down');
        }
        else {
            window.gigya.utils.DOM.removeClassFromElement(button, 'gig-composebox-sidebar-button-down');
        }
    };
    BaseComposeBox.prototype.onSidebarTagClicked = function (e) {
        var _this = this;
        var elSidebarTag = (e.target || e.srcElement);
        if (!this.userTaggingBox && elSidebarTag.className.indexOf('gig-composebox-sidebar-button-down') == -1) {
            window.gigya.utils.DOM.addClassToElement(elSidebarTag, 'gig-composebox-sidebar-button-down');
            if (this.userTaggingBox)
                this.userTaggingBox.cancel();
            this.userTaggingBox = new UserTaggingBox_1.UserTaggingBox(this, function (uid, el) {
                if (uid && el) {
                    _this.insertUserTag(el);
                }
                delete _this.userTaggingBox;
                window.gigya.utils.DOM.removeClassFromElement(elSidebarTag, 'gig-composebox-sidebar-button-down');
            }, '');
        }
    };
    BaseComposeBox.prototype.showSidebarBox = function (opener, box, onClose) {
        var _this = this;
        if (!opener)
            return;
        var pos = window.gigya.utils.DOM.getElementPosition(opener);
        this.toggleSidebarButton(opener, true);
        box.style.position = 'absolute';
        if (box.style.zIndex != null) {
            box.style.zIndex = window.gigya.utils.DOM.getNextZIndex().toString();
        }
        window.gigya.pluginUtils.animation.fadeIn(box);
        window.gigya.utils.DOM.appendToBody(box);
        if (this.plugin.isRtl) {
            box.style.left = Math.max(0, pos.left + opener.offsetWidth) + 'px';
        }
        else {
            box.style.left = Math.max(0, pos.left - box.offsetWidth) + 'px';
        }
        box.style.top = pos.top + 'px';
        window.gigya.pluginUtils.DOM.removeElementOnDocClickOrEscape(box, function (e, wasOpen) {
            if (!wasOpen)
                return;
            _this.toggleSidebarButton(opener, false);
            if (e.target == opener) {
                CommentsUtils_1.Events.cancelEvent(e);
            }
            if (onClose)
                onClose();
        });
    };
    BaseComposeBox.prototype.showMediaBox = function (opener) {
        var _this = this;
        var divMediaBox = document.createElement('div');
        divMediaBox.className = 'gig-comments-container gig-comments-mediabox';
        divMediaBox.innerHTML = window.gigya.utils.templates.fill(this.plugin.templates['mediabox'], {
            url: this.mediaItem ? this.mediaItem.url : '',
            enter_url: this.plugin.getText('enter_url'),
            add_media_item: this.plugin.getText('tip_use_trusted_urls'),
            ok: this.plugin.getText('ok'),
        });
        var elURL = window.gigya.utils.DOM.getElementsByClass(divMediaBox, 'gig-mediabox-url')[0];
        var elOK = window.gigya.utils.DOM.getElementsByClass(divMediaBox, 'gig-mediabox-ok')[0];
        if (elOK) {
            var fnRemoveListeners = function () {
                window.gigya.utils.DOM.removeEventListener(document, 'keydown', fnEnterEscPress);
                window.gigya.utils.DOM.removeEventListener(elOK, 'click', fnOK);
            };
            var fnEnterEscPress = function (e) {
                var var_key = e.keyCode;
                if (var_key == 27) {
                    divMediaBox.parentElement.removeChild(divMediaBox);
                    fnRemoveListeners();
                }
                else if (var_key == 13)
                    fnOK();
            };
            var fnOK = function () {
                if (elURL && elURL.value) {
                    divMediaBox.parentElement.removeChild(divMediaBox);
                    _this.showMediaItemPreview();
                    _this.toggleSidebarButton(opener, false);
                    window.gigya.comments.analyzeMediaItem({
                        categoryID: _this.plugin.params['categoryID'],
                        urls: elURL.value,
                        callback: function (response) {
                            if (!response.errorCode && response.mediaItems && response.mediaItems.length == 1) {
                                _this.mediaItem = response.mediaItems[0];
                                _this.updateMediaItem();
                            }
                            else {
                                _this.uiElements.errorMessage.style.display = 'block';
                                _this.uiElements.errorMessage.innerHTML = _this.plugin.getText('the_provided_url_is_not_supported');
                                window.gigya.pluginUtils.DOM.hideElementOnDocClick(_this.uiElements.errorMessage);
                                _this.removeMediaItemPreview();
                            }
                        },
                    });
                }
                else {
                    divMediaBox.parentElement.removeChild(divMediaBox);
                    _this.toggleSidebarButton(opener, false);
                }
                fnRemoveListeners();
            };
            window.gigya.utils.DOM.addEventListener(document, 'keydown', fnEnterEscPress);
            window.gigya.utils.DOM.addEventListener(elOK, 'click', fnOK);
        }
        this.showSidebarBox(opener, divMediaBox, fnRemoveListeners);
        elURL.focus();
    };
    //#endregion
    //#region Media items
    BaseComposeBox.prototype.removeMediaItemPreview = function () {
        if (this.uiElements.mediaItem)
            this.uiElements.mediaItem.innerHTML = '';
        this.mediaItem = null;
    };
    BaseComposeBox.prototype.showMediaItemPreview = function () {
        if (!this.uiElements.mediaItem)
            return;
        this.uiElements.mediaItem.innerHTML = '';
        if (this.uiElements.editor)
            window.gigya.utils.DOM.addClassToElement(this.uiElements.editor, 'gig-composebox-editor-with-media');
        var elPreview = document.createElement('div');
        window.gigya.utils.DOM.addClassToElement(elPreview, 'gig-composebox-media-preview');
        this.uiElements.mediaItem.appendChild(elPreview);
        elPreview.style.height = elPreview.offsetWidth * 0.75 + 'px';
    };
    BaseComposeBox.prototype.updateMediaItem = function () {
        var _this = this;
        if (!this.uiElements.mediaItem)
            return;
        var elPreview = this.uiElements.mediaItem.childNodes[0];
        elPreview.style.backgroundImage = '';
        var fnOnCancel = function () {
            _this.uiElements.mediaItem.innerHTML = '';
            _this.mediaItem = null;
            if (_this.uiElements.editor)
                window.gigya.utils.DOM.removeClassFromElement(_this.uiElements.editor, 'gig-composebox-editor-with-media');
        };
        this.plugin.buildMediaItemElement(elPreview, this.mediaItem, true, fnOnCancel);
    };
    //#endregion
    //#region Rich text
    BaseComposeBox.prototype.showFontBox = function (opener) {
        var _this = this;
        var divFont = document.createElement('div');
        divFont.innerHTML = this.plugin.templates['fontbox'];
        divFont.className = 'gig-comments-container gig-comments-fontbox';
        var arFontItems = divFont.getElementsByTagName('li');
        for (var i = 0; i < arFontItems.length; i++) {
            var fontItem = arFontItems[i];
            window.gigya.utils.DOM.addEventListener(fontItem, 'mousedown', function (e) {
                var target = e.target || e.srcElement;
                var fontCommand = target.getAttribute('data-command');
                if (fontCommand) {
                    divFont.parentNode.removeChild(divFont);
                    _this.toggleSidebarButton(opener, false);
                    _this.setFontCommand(fontCommand);
                }
                window.gigya.utils.DOM.cancelEvent(e);
            });
        }
        this.showSidebarBox(opener, divFont);
    };
    BaseComposeBox.prototype.setFontCommand = function (command) {
        switch (command) {
            case 'bold':
                document.execCommand('bold', false, true);
                break;
            case 'italic':
                document.execCommand('italic', false, true);
                break;
            case 'underline':
                document.execCommand('underline', false, true);
                break;
            case 'bullets':
                document.execCommand('InsertUnorderedList', false, 'newUL');
                break;
        }
    };
    //#endregion
    //#region "Abstract" methods
    BaseComposeBox.prototype.submit = function () { };
    BaseComposeBox.prototype.submitCallback = function (response) {
        var comment = this.plugin.getComment(this.data.ID);
        if (response['errorCode'] > 0) {
            var errorText;
            switch (response['errorCode']) {
                case 403037:
                    errorText = this.getText('only_one_review_per_product_is_allowed');
                    break;
                case 400124:
                    errorText = this.getText('daily_commenting_limit_reached');
                    break;
                case 400125:
                    errorText = this.getText('commenting_frequency_limit_reached');
                    break;
                case 403038:
                    errorText = this.plugin.textMode == Comments_Models_1.TextMode.COMMENTS ? this.getText('comment_edit_rejected') : this.getText('review_edit_rejected');
                    break;
                default:
                    errorText = this.getText('an_error_has_occurred_please_try_again_later', '%errorCode', response['errorCode']);
            }
            if (errorText)
                comment.updateStatus(errorText);
            window.gigya.events.dispatchErrorFromResponse(this.plugin.params, response);
        }
        else if (response['comment']) {
            comment.isTemp = false;
            comment.isPost = true;
            comment.reset(CommentData_1.CommentData.fromRawData(response['comment']));
        }
    };
    BaseComposeBox.prototype.getSubmitText = function () {
        return '';
    };
    BaseComposeBox.prototype.afterRender = function () { };
    BaseComposeBox.prototype.getTitle = function () {
        return '';
    };
    BaseComposeBox.alwaysAllowedTags = 'div|br|p|input|span';
    BaseComposeBox.richTextAllowedTags = 'ul|li|u|i|b|strong|em';
    BaseComposeBox.allowedOnLimitKeys = [
        8 /* Backspace */,
        9 /* Tab */,
        16 /* Shift */,
        17 /* Ctrl */,
        18 /* Alt */,
        19 /* Pause */,
        20,
        27 /* Esc */,
        33 /* PgUp */,
        34 /* PgDown */,
        35 /* Home */,
        36 /* End */,
        37 /* Left */,
        38 /* Up */,
        39 /* Right */,
        40 /* Down */,
        45 /* Insert */,
        46 /* Del */,
        144 /* NumLock */,
        145 /* ScrollLock */,
    ];
    return BaseComposeBox;
}());
exports.BaseComposeBox = BaseComposeBox;


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/Comment.ts":
/*!*************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/Comment.ts ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var NewCommentBox_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/NewCommentBox */ "./src/comments/Gigya.Comments.JsPlugin/app/NewCommentBox.ts");
var Comments_Models_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/Comments.Models */ "./src/comments/Gigya.Comments.JsPlugin/app/Comments.Models.ts");
var CommentsUtils_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils.ts");
var EditCommentBox_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/EditCommentBox */ "./src/comments/Gigya.Comments.JsPlugin/app/EditCommentBox.ts");
var Comment = /** @class */ (function () {
    function Comment(plugin, data, level, viaProvider, isTemp, isNew, error, info) {
        if (level === void 0) { level = 0; }
        if (isTemp === void 0) { isTemp = false; }
        if (isNew === void 0) { isNew = false; }
        this.plugin = plugin;
        this.level = level;
        this.viaProvider = viaProvider;
        this.isTemp = isTemp;
        this.isNew = isNew;
        this.error = error;
        this.info = info;
        this.replies = [];
        this.descendantsCount = 0;
        this.reset(data);
        this.updateParents();
    }
    Comment.prototype.updateParents = function () {
        var parent = this.getParent();
        if (parent && parent.data && parent.data.replies && window.gigya.utils.array.indexOf(parent.data.replies, this.data) == -1) {
            parent.data.replies.push(this.data);
        }
        if (parent && parent.replies && window.gigya.utils.array.indexOf(parent.replies, this) == -1) {
            parent.replies.push(this);
        }
        if (!parent && window.gigya.utils.array.indexOf(this.plugin.comments, this) == -1) {
            this.plugin.comments.push(this);
        }
    };
    Comment.prototype.updateDescendantsCountInParents = function (parent) {
        while (parent) {
            // Do not add to total count if is removed comment or comment has not yet been accepted by the API.
            parent.descendantsCount = (parent.descendantsCount || 0) + (this.isRemovedComment() || !this.data.status ? 0 : 1);
            parent.updateRepliesCount();
            this.plugin.setLinks(parent.getContainer());
            parent = parent.getParent();
        }
    };
    Comment.prototype.setElementHtml = function (subClass, html) {
        var el = this.getElement(subClass);
        if (el)
            el.innerHTML = html;
    };
    Comment.prototype.bindButtonSubmitElement = function (subClass, handler) {
        var el = this.getElement(subClass);
        if (el) {
            window.gigya.utils.DOM.addButtonSubmitListener(el, handler.bind(this));
        }
    };
    Comment.prototype.getElement = function (subClass) {
        var arEls = window.gigya.utils.DOM.getElementsByClass(this.getContainer(), 'gig-comment-' + subClass);
        return arEls.length > 0 ? arEls[0] : null;
    };
    Comment.prototype.dispose = function () {
        this.plugin.removeComment(this);
    };
    Comment.prototype.reset = function (data, isUpdate, isPost) {
        delete this.plugin.commentInstances[this.id];
        this.id = data.ID;
        this.plugin.commentInstances[this.id] = this;
        this.data = data;
        if (isNaN(this.data.posVotes))
            this.data.posVotes = 0;
        if (isNaN(this.data.negVotes))
            this.data.negVotes = 0;
        if (data.sender.name && data.sender.name.toLowerCase() == 'anonymous')
            data.sender.name = this.plugin.getText('anonymous');
        else if (!data.sender.name && data.isModerator)
            data.sender.name = this.plugin.getText('moderator');
        else if (data.sender.name && data.sender.name.toLowerCase() == 'guest')
            data.sender.name = this.plugin.getText('guest');
        this.updateAll();
        if (data.replies) {
            this.descendantsCount = 0;
            for (var i = 0; i < data.replies.length; i++) {
                var replyData = data.replies[i];
                var reply = this.plugin.getComment(replyData.ID);
                if (reply) {
                    reply.reset(replyData, isUpdate);
                }
                else {
                    reply = new Comment(this.plugin, replyData, this.level + 1, null, null, this.isNew || isUpdate);
                }
            }
            this.updateRepliesCount();
        }
        this.updateDescendantsCountInParents(this.getParent());
    };
    Comment.prototype.removeChild = function (id) {
        window.gigya.utils.array.removeByProperty(this.replies, 'id', id);
        window.gigya.utils.array.removeByProperty(this.data.replies, 'ID', id);
    };
    Comment.prototype.getUsername = function () {
        return this.data.sender.name || (this.data.isModerator ? this.plugin.getText('moderator') : this.plugin.getText('guest'));
    };
    Comment.prototype.getContainer = function () {
        return this.container;
    };
    Comment.prototype.getParent = function () {
        return this.plugin.getComment(this.data.parentID);
    };
    Comment.prototype.getText = function (textKey, replaceStr, withStr) {
        return this.plugin.getText(textKey, replaceStr, withStr);
    };
    Comment.prototype.expand = function () {
        var elExpandArrow = this.getElement('repliesArrow');
        var elReplies = this.getElement('replies');
        if (elExpandArrow && elReplies) {
            window.gigya.utils.DOM.removeClassFromElement(elReplies, 'gig-comment-replies-collapsed');
            window.gigya.utils.DOM.removeClassFromElement(elExpandArrow, 'gig-comment-repliesArrow-collapsed');
        }
        this.updateReplies(true);
    };
    Comment.prototype.collapse = function () {
        var elExpandArrow = this.getElement('repliesArrow');
        var elReplies = this.getElement('replies');
        if (elExpandArrow && elReplies) {
            window.setTimeout(function () {
                window.gigya.utils.DOM.addClassToElement(elReplies, 'gig-comment-replies-collapsed');
            }, 1);
            window.gigya.utils.DOM.addClassToElement(elExpandArrow, 'gig-comment-repliesArrow-collapsed');
        }
        this.detachReplies();
        elReplies.innerHTML = '';
    };
    Comment.prototype.isCollapse = function () {
        return this.container.getElementsByClassName('gig-comment-replies-collapsed').length > 0;
    };
    Comment.prototype.expandCollapse = function () {
        var elReplies = this.getElement('replies');
        if (elReplies) {
            if (!window.gigya.utils.DOM.isElementClass(elReplies, 'gig-comment-replies-collapsed')) {
                this.collapse();
            }
            else {
                this.expand();
                var firstComment = elReplies.querySelector('.gig-comment');
                if (firstComment) {
                    firstComment.focus();
                }
            }
        }
    };
    Comment.prototype.detachReplies = function () {
        for (var i = 0; i < this.replies.length; i++) {
            var reply = this.replies[i];
            reply.container = null;
            if (reply.plugin.tempComposeBox) {
                reply.plugin.tempComposeBox.close();
            }
            reply.detachReplies();
        }
    };
    Comment.prototype.updateRepliesCount = function () {
        var c = this.getContainer();
        if (c) {
            var repliesArrow = this.getElement('repliesArrow');
            var repliesArrowText = this.getElement('repliesArrow-text');
            var repliesCount = this.descendantsCount || 0;
            if (repliesCount > 0) {
                if (repliesArrow) {
                    repliesArrow.style.display = '';
                }
                if (repliesArrowText) {
                    var sRepliesCountKey;
                    if (repliesCount == 1) {
                        sRepliesCountKey = this.plugin.textMode == Comments_Models_1.TextMode.COMMENTS ? 'one_reply' : 'one_comment';
                    }
                    else {
                        sRepliesCountKey = this.plugin.textMode == Comments_Models_1.TextMode.COMMENTS ? 'num_replies' : 'num_comments';
                    }
                    var text = this.getText(sRepliesCountKey, '%num', repliesCount.toString());
                    // Special handling of french 0 - should not be plural (28600)
                    if (this.plugin.params['lang'] == 'fr' && repliesCount == 0) {
                        text = this.getText(this.plugin.textMode == Comments_Models_1.TextMode.COMMENTS ? 'one_reply' : 'one_comment', '%num', repliesCount.toString());
                        text = text.replace('1', '0');
                    }
                    repliesArrowText.innerHTML = text;
                }
            }
            else {
                if (repliesArrow) {
                    repliesArrow.style.display = 'none';
                }
            }
            this.plugin.setLinks(c);
        }
    };
    Comment.prototype.markAsFlagged = function () {
        this.isFlagged = true;
        var divFlag = this.getElement('flag');
        if (divFlag) {
            window.gigya.utils.DOM.addClassToElement(divFlag, 'gig-comment-flag-submitted');
            divFlag.setAttribute('tabindex', '-1');
            divFlag.setAttribute('aria-disabled', 'true');
        }
        if (!this.plugin.state.flags)
            this.plugin.state.flags = {};
        var uid = this.plugin.user.isGuest ? 'guest' : this.plugin.user.UID;
        this.plugin.state.flags[uid + '_' + this.id] = true;
    };
    Comment.prototype.getHtml = function () {
        return window.gigya.utils.templates.fill(this.plugin.templates['comment'], {
            commentId: this.id,
            like: this.getText('like'),
            unlike: this.getText('unlike'),
            reply: this.plugin.textMode == Comments_Models_1.TextMode.COMMENTS ? this.getText('reply') : this.getText('comment'),
            delete: this.getText('delete'),
            share: this.getText('share'),
            edit: this.getText('edit'),
            edited: this.getText('edited').toLowerCase(),
        });
    };
    Comment.prototype.getChildrenHtml = function () {
        var arChildren = [];
        for (var i = 0; i < this.replies.length; i++) {
            arChildren.push(this.replies[i].getHtml());
        }
        return arChildren.join('');
    };
    Comment.prototype.isRemovedComment = function () {
        return (!this.isPost && ['rejected', 'pending'].indexOf(this.data.status) != -1) || this.data.status === 'deleted';
    };
    Comment.prototype.isPostPending = function () {
        return this.isPost && this.data && this.data.status == 'pending';
    };
    Comment.prototype.updateCommentIDAttribute = function () {
        this.container.setAttribute('data-comment-id', this.data.ID);
        this.container.setAttribute('tabindex', '0');
    };
    Comment.prototype.updateCommentUIDAttribute = function () {
        if (this.data.sender.UID)
            this.container.setAttribute('data-gig-uid', this.data.sender.UID);
    };
    Comment.prototype.updateAll = function (clean, updateChildren) {
        if (clean === void 0) { clean = false; }
        if (updateChildren === void 0) { updateChildren = true; }
        var newContainer = false;
        if (!this.container || !this.container.parentNode) {
            newContainer = true;
            clean = true;
            var parentComment = this.getParent();
            if (!parentComment && this.data.parentID)
                return; //ignore orphaned comments
            var parent = parentComment ? parentComment.getElement('replies') : this.plugin.getElement('comments');
            if (!parent)
                return;
            var el = document.createElement('div');
            el.setAttribute('class', 'gig-comment');
            if (this.isNew) {
                window.gigya.utils.DOM.addClassToElement(el, 'gig-comment-newComment');
                if (this.plugin.isMobileUI) {
                    window.setTimeout(function () {
                        window.gigya.utils.DOM.removeClassFromElement(el, 'gig-comment-newComment');
                        this.updateCommentHighlightingBadgesBackgroundColorForNewComment(this.data.highlightGroups);
                    }, 5000);
                }
            }
            el.setAttribute('data-level', this.level.toString());
            if (this.data.tags) {
                for (var i = 0; i < this.data.tags.length; i++) {
                    el.setAttribute('data-tag-' + this.data.tags[i].replace(/[^A-Za-z0-9]/g, '_'), '1');
                }
            }
            el.innerHTML = this.getHtml();
            if ((this.isTemp || this.isNew) && parent.firstChild) {
                parent.insertBefore(el, parent.firstChild);
            }
            else {
                parent.appendChild(el);
            }
            this.container = el;
        }
        if (clean)
            this.container.innerHTML = this.getHtml();
        if (this.isRemovedComment() && !this.isTemp)
            this.setRemovedCommentProp();
        this.updateComment(clean);
        this.updateVote();
        this.updateRepliesCount();
        this.updateMediaItem();
        this.updateTitle(clean);
        this.updateCommentIDAttribute();
        this.updateCommentUIDAttribute();
        if (updateChildren)
            this.updateReplies(clean);
        this.plugin.setLinks(this.getContainer());
        if (newContainer || clean)
            this.bindAll();
    };
    Comment.prototype.setRemovedCommentProp = function () {
        if (this.data.status == 'pending')
            this.data.commentText =
                this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS && this.level == 0
                    ? this.getText('this_review_is_awaiting_moderation')
                    : this.getText('this_comment_is_awaiting_moderation');
        // 'deleted' / 'rejected'
        else
            this.data.commentText =
                this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS && this.level == 0
                    ? this.getText('this_review_has_been_deleted')
                    : this.getText('this_comment_has_been_deleted');
        this.data.mediaItems = null;
        this.data.taggedUsers = null;
        this.data.ratings = null;
        this.data.highlightGroups = null;
        window.gigya.utils.DOM.addClassToElement(this.getElement('self-data'), 'gig-comment-data-removed');
        window.gigya.utils.DOM.addClassToElement(this.getElement('photo'), 'gig-comment-photo-removed');
        window.gigya.utils.DOM.addClassToElement(this.getElement('title'), 'gig-comment-title-removed');
        if (!this.data.replies || this.data.replies.length === 0)
            this.dispose();
    };
    Comment.prototype.showRatings = function () {
        var elOpener = this.getElement('rating-drop');
        window.gigya.utils.DOM.addClassToElement(elOpener, 'gig-comment-rating-drop-down');
        var maxDimWidth = 0;
        var elDimensions = document.createElement('div');
        elDimensions.style.zIndex = window.gigya.utils.DOM.getNextZIndex().toString();
        window.gigya.utils.DOM.appendToBody(elDimensions);
        elDimensions.className = 'gig-comments-container gig-comment-rating-dimensions';
        elDimensions.id = 'gig_' + new Date().getTime();
        var dimensions = this.plugin.settings.ratingDims;
        if (dimensions && elDimensions && this.data.ratings) {
            // If there's a rating dimensions definition, drawing the dimension ratings
            for (var i = 0; i < dimensions.length; i++) {
                var dim = dimensions[i];
                if (dim.id == '_overall' || !this.data.ratings[dim.id])
                    continue;
                var elDimension = document.createElement('div');
                elDimension.innerHTML = this.plugin.templates['rating'];
                elDimension.className = 'gig-comment-rating';
                elDimensions.appendChild(elDimension);
                var elDimTitle = window.gigya.utils.DOM.getElementsByClass(elDimension, 'gig-comment-rating-title')[0];
                if (elDimTitle)
                    elDimTitle.innerHTML = dim.name + ':';
                maxDimWidth = Math.max(maxDimWidth, elDimTitle.offsetWidth + 2);
                var elDimValue = window.gigya.utils.DOM.getElementsByClass(elDimension, 'gig-comment-rating-value')[0];
                if (elDimValue) {
                    elDimValue.innerHTML = '';
                    this.updateStarsElement(elDimValue, dim.id);
                }
            }
            // Updating the CSS for the max category width
            window.gigya._.plugins.utils.css.addCss('#' + elDimensions.id + ' *.gig-comment-rating-title { width:' + maxDimWidth + 'px; }', '');
            var pos = window.gigya.utils.DOM.getElementPosition(elOpener);
            elDimensions.style.top = pos.top + elOpener.offsetHeight + 'px';
            var dimensionLeft = Math.max(5, pos.left + (elOpener.offsetWidth - elDimensions.offsetWidth) / 2);
            elDimensions.style.left = dimensionLeft + 'px';
            var thubLeft = pos.left - dimensionLeft - 11;
            window.gigya._.plugins.utils.css.addCss('#' + elDimensions.id + '.gig-comment-rating-dimensions:before {margin-left: ' + thubLeft + 'px}', '');
        }
        window.gigya.pluginUtils.DOM.removeElementOnDocClickOrEscape(elDimensions, function (e, wasOpen) {
            window.gigya.utils.DOM.removeClassFromElement(elOpener, 'gig-comment-rating-drop-down');
            if (wasOpen && e.target == elOpener) {
                e.stopPropagation();
                e.preventDefault();
            }
        }, null);
    };
    Comment.prototype.updateTitle = function (clean) {
        var elTitle = window.gigya.utils.DOM.getElementsByClass(this.container, 'gig-comment-title')[0];
        if (!elTitle)
            return;
        if (clean) {
            this.setElementHtml('title', this.plugin.templates['commentTitle']);
        }
        if ((!this.data.ratings || !this.data.ratings['_overall']) && (!this.data.commentTitle || this.data.parentID)) {
            elTitle.style.display = 'none';
        }
        else {
            elTitle.style.display = '';
            this.setElementHtml('summary', this.data.commentTitle || '');
            var elRating = this.getElement('rating');
            var elRatingDrop = this.getElement('rating-drop');
            if (elRating) {
                if (elRatingDrop)
                    elRatingDrop.style.display = 'none';
                elRating.innerHTML = '';
                if (this.data.ratings && this.data.ratings['_overall']) {
                    elRating.style.display = '';
                    this.updateStarsElement(elRating, '_overall');
                    for (var ratingId in this.data.ratings) {
                        if (ratingId != '_overall') {
                            if (elRatingDrop)
                                elRatingDrop.style.display = '';
                            break;
                        }
                    }
                }
                else {
                    elRating.style.display = 'none';
                }
            }
        }
        var badgesContainerElement = this.getElement('header-left');
        this.plugin.removeUserBadges(badgesContainerElement);
        var commenterElement = this.getElement('username');
        var hasUserBadges = this.plugin.createUserHighlightingBadges(commenterElement, this.data.highlightGroups);
        var selfDataElement = this.getElement('self-data');
        if (hasUserBadges) {
            window.gigya.utils.DOM.addClassToElement(selfDataElement, 'gig-comment-withBadges');
        }
        else {
            window.gigya.utils.DOM.removeClassFromElement(selfDataElement, 'gig-comment-withBadges');
        }
    };
    Comment.prototype.updateStarsElement = function (parent, dimensionID) {
        var rating = this.data.ratings[dimensionID];
        // Filling the stars with appropriate image
        for (var i = 0; i < 5; i++) {
            var elCurrStar = document.createElement('div');
            window.gigya.utils.DOM.addClassToElement(elCurrStar, 'gig-comment-rating-star');
            var starClass = '';
            if (i < Math.floor(rating))
                starClass = 'gig-comment-rating-star-full';
            else if (i == rating - 0.5)
                starClass = 'gig-comment-rating-star-half';
            window.gigya.utils.DOM.addClassToElement(elCurrStar, starClass);
            parent.appendChild(elCurrStar);
        }
    };
    Comment.prototype.updateMediaItem = function () {
        var elMediaItem = this.getElement('mediaItem');
        if (!elMediaItem)
            return;
        if (this.data.mediaItems && this.data.mediaItems.length > 0) {
            elMediaItem.style.display = '';
            var mediaItem = this.data.mediaItems[0];
            elMediaItem.innerHTML = '';
            this.plugin.buildMediaItemElement(elMediaItem, mediaItem);
        }
        else {
            elMediaItem.style.display = 'none';
        }
    };
    Comment.prototype.updateVote = function () {
        if (!this.plugin.user) {
            this.data.vote = 'none';
        }
        var elVotePos = this.getElement('vote-pos');
        var elVoteNeg = this.getElement('vote-neg');
        var elVoteTotal = this.getElement('vote-total');
        var elLikeLink = this.getElement('likeLink');
        var voteEnabled = this.plugin.settings.enableVoting;
        var allowNeg = this.plugin.settings.allowNegativeVoting;
        if (elVotePos)
            elVotePos.style.display = voteEnabled ? '' : 'none';
        if (elVoteNeg)
            elVoteNeg.style.display = voteEnabled ? '' : 'none';
        if (elVoteTotal)
            elVoteTotal.style.display = voteEnabled ? '' : 'none';
        var elVoteContainer = this.getElement('footer-right');
        if (elVoteContainer)
            if (!this.plugin.settings.displayPosNegVotes) {
                window.gigya.utils.DOM.addClassToElement(elVoteContainer, 'gig-comment-vote-posneg');
            }
            else {
                window.gigya.utils.DOM.removeClassFromElement(elVoteContainer, 'gig-comment-vote-posneg');
            }
        //displayPosNegVotes
        if (elVoteNeg)
            elVoteNeg.style.display = allowNeg ? '' : 'none';
        switch (this.data.vote) {
            case 'pos':
                if (elVotePos)
                    window.gigya.utils.DOM.addClassToElement(elVotePos, 'gig-comment-vote-pos-down');
                if (elVoteNeg)
                    window.gigya.utils.DOM.removeClassFromElement(elVoteNeg, 'gig-comment-vote-neg-down');
                if (elLikeLink)
                    elLikeLink.innerHTML = this.getText('unlike');
                break;
            case 'neg':
                if (elVotePos)
                    window.gigya.utils.DOM.removeClassFromElement(elVotePos, 'gig-comment-vote-pos-down');
                if (elVoteNeg)
                    window.gigya.utils.DOM.addClassToElement(elVoteNeg, 'gig-comment-vote-neg-down');
                break;
            default:
                if (elVotePos)
                    window.gigya.utils.DOM.removeClassFromElement(elVotePos, 'gig-comment-vote-pos-down');
                if (elVoteNeg)
                    window.gigya.utils.DOM.removeClassFromElement(elVoteNeg, 'gig-comment-vote-neg-down');
                if (elLikeLink)
                    elLikeLink.innerHTML = this.getText('like');
        }
        if (elVoteTotal) {
            if (!this.plugin.settings.displayPosNegVotes && this.plugin.settings.allowNegativeVoting) {
                var voteValue = this.data.posVotes - this.data.negVotes;
                var sVoteValue = voteValue.toString();
                if (voteValue > 0)
                    sVoteValue = '+' + voteValue;
                elVoteTotal.innerHTML = sVoteValue;
                elVoteTotal.style.display = '';
            }
            else {
                elVoteTotal.style.display = 'none';
            }
        }
        if (elVotePos) {
            if (this.plugin.settings.displayPosNegVotes || !this.plugin.settings.allowNegativeVoting) {
                elVotePos.innerHTML = this.data.posVotes.toString();
                window.gigya.utils.DOM.addClassToElement(elVotePos, 'gig-comment-vote-with-value');
            }
            else {
                window.gigya.utils.DOM.removeClassFromElement(elVotePos, 'gig-comment-vote-with-value');
                elVotePos.innerHTML = '';
            }
        }
        if (elVoteNeg) {
            if (this.plugin.settings.displayPosNegVotes) {
                elVoteNeg.innerHTML = this.data.negVotes.toString();
                window.gigya.utils.DOM.addClassToElement(elVoteNeg, 'gig-comment-vote-with-value');
            }
            else {
                elVoteNeg.innerHTML = '';
                window.gigya.utils.DOM.removeClassFromElement(elVoteNeg, 'gig-comment-vote-with-value');
            }
        }
        if (elVoteContainer) {
            if (this.isTemp) {
                elVoteContainer.style.display = 'none';
            }
            else {
                elVoteContainer.style.display = '';
            }
        }
    };
    Comment.prototype.listenForCombination = function (e) {
        if (!e)
            e = window.event;
        if (e.keyCode == 40 && e.shiftKey) {
            var sCommentData = window.gigya.utils.stringUtils.format('<div class="gig-comments-container">Stream ID: {0}<br />Comment ID: {1}</div>', this.plugin.params['streamID'], this.id);
            window.gigya.global.putGMBalloonNextTo(this.getContainer(), sCommentData, 'Comment Data', 400, 100);
            if (e.preventDefault)
                e.preventDefault();
        }
    };
    Comment.prototype.mouseOver = function () {
        var _this = this;
        var This = this;
        if (this.plugin.isMobileUI)
            return;
        if (!this.keydownDelegate)
            this.keydownDelegate = function (e) { return _this.listenForCombination(e); };
        if (window.gigya.utils.DOM.isElementClass(this.container, 'gig-comment-newComment')) {
            window.gigya.utils.DOM.removeClassFromElement(this.container, 'gig-comment-newComment');
            this.updateCommentHighlightingBadgesBackgroundColorForNewComment(this.data.highlightGroups);
            this.plugin.newCommentsCount--;
            this.plugin.updateStrip();
        }
        window.gigya.utils.DOM.addEventListener(document, 'keydown', this.keydownDelegate);
    };
    Comment.prototype.mouseOut = function () {
        try {
            window.gigya.utils.DOM.removeEventListener(document, 'keydown', this.keydownDelegate);
        }
        catch (ex) { }
    };
    Comment.prototype.updateComment = function (clean) {
        this.updateStatus();
        var username = window.gigya.utils.sanitize.sanitizeHTML(window.gigya.global.wbr(this.getUsername(), 20)).replace(/\$/g, '&#36;');
        this.setElementHtml('username', username);
        this.setElementHtml('time', this.getTimeString());
        var elViaProvider = this.getElement('viaProvider');
        if (elViaProvider) {
            if (this.viaProvider) {
                elViaProvider.innerHTML = this.getText('via_provider', '%provider', this.viaProvider);
                window.gigya.utils.DOM.addClassToElement(elViaProvider, 'gig-comment-viaProvider-' + this.viaProvider.toLowerCase());
                elViaProvider.style.display = '';
            }
            else {
                elViaProvider.innerHTML = '';
                elViaProvider.style.display = 'none';
            }
        }
        var hasCommentBadges = this.createCommentHighlightingBadges(this.data.highlightGroups);
        var selfDataElement = this.getElement('self-data');
        if (hasCommentBadges)
            window.gigya.utils.DOM.addClassToElement(selfDataElement, 'gig-comment-withBadges');
        else
            window.gigya.utils.DOM.removeClassFromElement(selfDataElement, 'gig-comment-withBadges');
        var body = (this.data.commentText || '').replace(/\$/g, '&#36;');
        body = body.replace(/\n/g, '<br />');
        if (this.plugin.settings.enableLinks)
            body = window.gigya._.plugins.utils.DOM.replaceLinksWithHTMLElements(body);
        this.setElementHtml('body', body);
        var elEdited = this.getElement('edited');
        if (elEdited) {
            if (this.plugin.settings.userEditComment && this.data.edited) {
                elEdited.style.display = '';
            }
            else {
                elEdited.style.display = 'none';
            }
        }
        var lnkLike = this.getElement('likeLink');
        if (lnkLike) {
            if (this.plugin.settings.enableVoting && !this.plugin.settings.allowNegativeVoting) {
                lnkLike.style.display = '';
            }
            else {
                lnkLike.style.display = 'none';
            }
        }
        var lnkEdit = this.getElement('editLink');
        if (lnkEdit) {
            if (this.plugin.settings.userEditComment && this.data.sender.isSelf && !this.plugin.settings.readOnly) {
                lnkEdit.style.display = '';
            }
            else {
                lnkEdit.style.display = 'none';
            }
        }
        var lnkDelete = this.getElement('deleteLink');
        if (lnkDelete) {
            if (this.plugin.settings.allowCommentDeletion && this.data.sender.isSelf && !this.plugin.user.isGuest) {
                lnkDelete.style.display = '';
            }
            else {
                lnkDelete.style.display = 'none';
            }
        }
        var lnkReply = this.getElement('replyLink');
        if (lnkReply) {
            if (!this.isTemp &&
                !this.viaProvider &&
                this.data.status != 'pending' &&
                this.level < this.plugin.settings.threadingDepth &&
                !this.plugin.settings.readOnly &&
                this.plugin.settings.enableCommentBody != 'disabled' &&
                this.plugin.streamInfo.status != 'readOnly') {
                lnkReply.style.display = '';
            }
            else {
                lnkReply.style.display = 'none';
            }
            var elLikeLink = this.getElement('likeLink');
        }
        var lnkShare = this.getElement('shareLink');
        if (lnkShare) {
            lnkShare.style.display = this.plugin.params['shareUserAction'] && !this.plugin.params['hideShareButtons'] && this.plugin.shareEnabled ? '' : 'none';
        }
        this.plugin.setLinks(this.container);
        if (this.data.ratings) {
            var ratingsHtml = '';
            var ratingTemplate = this.plugin.templates['rating'];
            for (var ratingID in this.data.ratings) {
                //if (this.plugin._settings.ratings[ratingID]) {
                ratingsHtml += window.gigya.utils.templates.fill(ratingTemplate, {
                    starClassName: 'gig-comments-star',
                    ratingID: ratingID,
                    //name: this.plugin._settings.ratings[ratingID],
                    value: this.data.ratings[ratingID],
                });
                //}
            }
            this.setElementHtml('ratings', ratingsHtml);
        }
        var loginProvider = this.data.sender.loginProvider;
        var photoHtml = window.gigya.utils.templates.fill(this.plugin.templates['photo'], {
            photoURL: window.gigya.global.getPhotoURL(this.data.sender.photoURL, CommentsUtils_1.Images.getPhotoFullName(this.data.isModerator ? 'mod_icon' : 'Avatar_empty', this.plugin.pixelRatio)),
            providerImage: loginProvider && loginProvider.toLowerCase() != 'site' && loginProvider.toLowerCase() != 'customopenid'
                ? this.plugin.templates['providerImage']
                : '',
            providerImageUrl: loginProvider ? CommentsUtils_1.Images.getPhotoFullName('providers/' + this.data.sender.loginProvider + 'User', this.plugin.pixelRatio) : '',
        });
        var elPhoto = this.getElement('photo');
        if (elPhoto && elPhoto.innerHTML == '') {
            elPhoto.style.visibility = 'hidden';
            elPhoto.innerHTML = photoHtml;
            var arElImg = elPhoto.getElementsByTagName('img');
            if (arElImg && arElImg.length > 0) {
                var img = arElImg[0];
                window.gigya.utils.DOM.addEventListener(img, 'load', function () {
                    window.gigya.global.scaleImageToContainer(arElImg[0], true, function () {
                        elPhoto.style.visibility = '';
                    });
                });
            }
        }
        var elFlag = this.getElement('flag');
        if (elFlag) {
            var uid = this.plugin.user.isGuest ? 'guest' : this.plugin.user.UID;
            elFlag.style.display = this.plugin.settings.enableFlagging && !window.gigya.localInfo.isTouch && !this.isTemp ? '' : 'none';
            if (this.plugin.state.flags && this.plugin.state.flags[uid + '_' + this.id])
                this.markAsFlagged();
        }
    };
    Comment.prototype.createCommentHighlightingBadges = function (commentHighlightGroups) {
        var badgesContainerElement = this.getElement('header-right');
        var highlightGroups = this.plugin.getHighlightingBadges(commentHighlightGroups, ['comment']);
        var highlightGroup = highlightGroups ? highlightGroups[0] : null;
        var badgeElement = this.getElement('commentBadge');
        var contentElement = this.getElement('content');
        var commenterPhotoElement = this.getElement('photo');
        window.gigya.utils.DOM.removeClassFromElement(contentElement, 'gig-comment-badge-', true);
        if (!highlightGroup) {
            window.gigya.utils.DOM.removeClassFromElement(commenterPhotoElement, 'gig-comment-photo-badge');
            window.gigya.utils.DOM.removeClassFromElement(contentElement, 'gig-comment-colored-background');
            if (badgeElement)
                badgeElement.style.display = 'none';
            return false;
        }
        if (!badgeElement) {
            badgeElement = document.createElement('div');
            badgesContainerElement.appendChild(badgeElement);
        }
        else {
            badgeElement.innerHTML = '';
            window.gigya.utils.DOM.removeClassFromElement(badgeElement, 'gig-badge-', true);
            window.gigya.utils.DOM.removeClassFromElement(badgeElement, 'gig-badge-border');
        }
        window.gigya.utils.DOM.addClassToElement(badgeElement, 'gig-comment-commentBadge');
        window.gigya.utils.DOM.addClassToElement(badgeElement, highlightGroup.className); // for customer's css
        if (!this.plugin.isMobileUI) {
            badgeElement.innerHTML = highlightGroup.badgeText;
        }
        if (Comments_Models_1.BadgeFrameEnum[highlightGroup.badgeFrame] === Comments_Models_1.BadgeFrameEnum.rectangle) {
            window.gigya.utils.DOM.addClassToElement(badgeElement, 'gig-badge-border');
        }
        // first comment group defines the background color
        window.gigya.utils.DOM.addClassToElement(contentElement, 'gig-comment-colored-background');
        // TODO: no reason to do this, CSS should be built in a way that when gig-comment-newComment is removed this rule applies
        // if this comment is new, don't set the background (do it on mouse over)
        if (!window.gigya.utils.DOM.isElementClass(this.container, 'gig-comment-newComment')) {
            window.gigya.utils.DOM.addClassToElement(contentElement, highlightGroup.commentClassName);
        }
        return true;
    };
    Comment.prototype.updateCommentHighlightingBadgesBackgroundColorForNewComment = function (commentHighlightGroups) {
        if (!commentHighlightGroups)
            return;
        var highlightGroups = this.plugin.getHighlightingBadges(commentHighlightGroups, ['comment']);
        var highlightGroup = highlightGroups[0];
        if (!highlightGroup)
            return;
        // first user group defines the background color
        var containerElement = this.getElement('self-data');
        window.gigya.utils.DOM.addClassToElement(containerElement, highlightGroup.commentClassName);
    };
    Comment.prototype.clearError = function () {
        this.error = null;
    };
    Comment.prototype.updateStatus = function (error) {
        if (error != null)
            this.error = error;
        var elStatus = this.getElement('status');
        if (!elStatus)
            return;
        window.gigya.utils.DOM.removeClassFromElement(elStatus, 'gig-comment-status-info');
        window.gigya.utils.DOM.removeClassFromElement(elStatus, 'gig-comment-status-error');
        window.gigya.utils.DOM.removeClassFromElement(elStatus, 'gig-comment-status-pending');
        window.gigya.utils.DOM.removeClassFromElement(elStatus, 'gig-comment-status-moderator-edited');
        if (this.error) {
            window.gigya.utils.DOM.addClassToElement(elStatus, 'gig-comment-status-error');
            elStatus.innerHTML = this.error;
        }
        else if (this.info) {
            window.gigya.utils.DOM.addClassToElement(elStatus, 'gig-comment-status-info');
            elStatus.innerHTML = this.info;
        }
        else if (this.isPostPending()) {
            window.gigya.utils.DOM.addClassToElement(elStatus, 'gig-comment-status-info');
            elStatus.innerHTML =
                this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS && this.level == 0
                    ? this.getText('your_review_is_awaiting_moderation')
                    : this.getText('your_comment_is_awaiting_moderation');
        }
        else if (this.data.moderatorEdit) {
            window.gigya.utils.DOM.addClassToElement(elStatus, 'gig-comment-status-moderator-edited');
            window.gigya.utils.DOM.addClassToElement(elStatus, 'gig-comment-status-info');
            elStatus.innerHTML =
                this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS && this.level == 0
                    ? this.getText('review_edited_by_a_moderator')
                    : this.getText('comment_edited_by_a_moderator');
        }
        else {
            elStatus.innerHTML = '';
        }
    };
    Comment.prototype.updateReplies = function (clean) {
        if (clean === void 0) { clean = false; }
        for (var i = 0; i < this.replies.length; i++) {
            this.replies[i].updateAll(clean);
        }
    };
    Comment.prototype.getTimeString = function () {
        var dateString = '';
        var now = new Date().getTime();
        var d = new Date();
        d.setTime(this.data.timestamp);
        var dh = (now - this.data.timestamp) / 1000 / 60 / 60;
        if (dh * 60 < 1) {
            dateString = this.getText('less_than_a_minute_ago');
        }
        else if (dh < 1) {
            dateString = Math.round(dh * 60) == 1 ? this.getText('one_minute_ago') : this.getText('num_minutes_ago', '%num', Math.round(dh * 60).toString());
        }
        else if (dh < 24) {
            dateString = Math.round(dh) == 1 ? this.getText('one_hour_ago') : this.getText('num_hours_ago', '%num', Math.round(dh).toString());
        }
        else {
            dateString = Math.round(dh / 24) == 1 ? this.getText('one_day_ago') : this.getText('num_days_ago', '%num', Math.round(dh / 24).toString());
        }
        return dateString;
    };
    Comment.prototype.bindAll = function () {
        var _this = this;
        var c = this.getContainer();
        if (c) {
            this.bindButtonSubmitElement('repliesArrow', this.expandCollapse);
            this.bindButtonSubmitElement('deleteLink', this.showDeleteDialog);
            this.bindButtonSubmitElement('replyLink', this.showReplyBox);
            this.bindButtonSubmitElement('likeLink', this.onVotePosClick);
            this.bindButtonSubmitElement('vote-pos', this.onVotePosClick);
            this.bindButtonSubmitElement('vote-neg', this.onVoteNegClick);
            this.bindButtonSubmitElement('shareLink', this.onShareClick);
            this.bindButtonSubmitElement('editLink', this.onEditClick);
            this.bindButtonSubmitElement('flag', this.showFlagDialog);
            this.bindButtonSubmitElement('rating-drop', this.showRatings);
            //events are needed instead of css for legacy
            window.gigya.utils.DOM.addEventListener(this.getContainer(), 'mouseover', function () { return _this.mouseOver(); });
            window.gigya.utils.DOM.addEventListener(this.getContainer(), 'mouseout', function () { return _this.mouseOut(); });
            window.gigya.utils.DOM.enableSafeCopy(c);
        }
    };
    Comment.prototype.onEditClick = function (e) {
        var _this = this;
        var elEditBox = this.getElement('editbox');
        if (!elEditBox)
            return;
        if (this.plugin.tempComposeBox) {
            if (this.plugin.tempComposeBox.data.ID == this.id) {
                this.plugin.tempComposeBox.focus();
            }
            else {
                this.plugin.tempComposeBox.close();
            }
        }
        var elSelf = this.getElement('self-data');
        elSelf.style.display = 'none';
        elEditBox.style.display = 'block';
        var elPhoto = this.getElement('photo');
        if (elPhoto)
            elPhoto.style.display = 'none';
        var elTitle = this.getElement('title');
        var prevTitleDisplay = elTitle.style.display;
        if (elTitle)
            elTitle.style.display = 'none';
        this.plugin.tempComposeBox = new EditCommentBox_1.EditCommentBox(this.plugin, elEditBox, this.data, function () {
            elSelf.style.display = '';
            elEditBox.style.display = 'none';
            if (elPhoto)
                elPhoto.style.display = '';
            if (elTitle)
                elTitle.style.display = prevTitleDisplay;
            _this.plugin.tempComposeBox = null;
        });
        this.plugin.tempComposeBox.open();
    };
    Comment.prototype.showReplyBox = function () {
        var _this = this;
        if (this.plugin.tempComposeBox) {
            if (this.plugin.tempComposeBox.data.parentID == this.id) {
                this.plugin.tempComposeBox.focus();
                return;
            }
            else {
                this.plugin.tempComposeBox.close();
            }
        }
        this.composebox = new NewCommentBox_1.NewCommentBox(this.plugin, this.getElement('replybox'), this.data.ID, function () {
            _this.composebox = null;
            _this.plugin.tempComposeBox = null;
        });
        this.plugin.tempComposeBox = this.composebox;
        this.composebox.open();
    };
    Comment.prototype.onShareClick = function (e) {
        var _this = this;
        if (e.target == this.plugin.simpleShareSource) {
            this.plugin.simpleShareSource = null;
        }
        else {
            var lnkShare_1 = this.getElement('shareLink');
            if (!lnkShare_1.id) {
                lnkShare_1.id = this.id + '_lnkShare';
            }
            this.plugin.simpleShareSource = lnkShare_1;
            var userAction = this.getShareUserAction(this.level > 0);
            if (userAction && this.plugin.settings.enableDirectCommentLinking)
                userAction.linkBack = window.gigya._.plugins.utils.URL.addOrReplaceHashFragment(userAction.linkBack, 'gig_comment_id', this.id);
            if (this.data.mediaItems && this.data.mediaItems.length > 0) {
                var mediaItem = this.data.mediaItems[0];
                if (mediaItem.type.toLowerCase() == 'rich' || mediaItem.type.toLowerCase() == 'video') {
                    userAction.setDescription(userAction.description + '\n' + mediaItem.url);
                }
            }
            window.gigya.socialize.showShareUI(this.plugin.params, {
                containerID: null,
                width: null,
                height: null,
                operationMode: 'simpleShare',
                snapToElementID: lnkShare_1.id,
                userAction: userAction,
                onClose: function () {
                    _this.plugin.simpleShareSource = null;
                    // Return focus to the share link.
                    lnkShare_1.focus();
                },
            });
        }
    };
    Comment.prototype.getShareUserAction = function (isReply) {
        var useraction = this.plugin.params['shareUserAction'];
        if (!useraction)
            return;
        useraction = useraction.clone();
        if (useraction.description)
            useraction.setDescription(this.replacePlaceholders(useraction.description));
        if (useraction.title)
            useraction.setTitle(this.replacePlaceholders(useraction.title));
        return useraction;
    };
    Comment.prototype.replacePlaceholders = function (s) {
        return s
            .replace(/%username/gi, this.data.sender.name || this.plugin.getText('guest'))
            .replace(/%pagetitle/gi, document.title)
            .replace(/%rating/gi, this.data.ratings && this.data.ratings['_overall'] ? this.data.ratings['_overall'].toString() : '')
            .replace(/%commenttext/gi, this.data.commentText)
            .replace(/%commenttitle/gi, this.data.commentTitle);
    };
    Comment.prototype.setVote = function (vote, sourceElement) {
        var _this = this;
        if (!this.plugin.user || !this.plugin.user.isConnected) {
            if (this.plugin.settings.useSiteLogin) {
                this.plugin.mainComposeBox.onSiteLoginClick();
            }
            else {
                this.plugin.mainComposeBox.onLoginClick(sourceElement, false, function () {
                    _this.setVote(vote, sourceElement);
                });
            }
            return;
        }
        // Bug #38228 - Don't allow user to issue multiple votes at the same time.
        if (this.voteInProgress) {
            return;
        }
        this.voteInProgress = true;
        window.gigya.comments.vote(this.plugin.params, {
            vote: vote,
            commentID: this.id,
            callback: function () {
                _this.voteInProgress = false;
            },
        });
        switch (vote) {
            case 'pos':
                this.data.posVotes++;
                break;
            case 'neg':
                this.data.negVotes++;
                break;
        }
        switch (this.data.vote) {
            case 'pos':
                this.data.posVotes--;
                break;
            case 'neg':
                this.data.negVotes--;
                break;
        }
        this.data.vote = vote;
        this.updateVote();
        var oEvent = {
            eventName: 'commentVoted',
            categoryID: this.plugin.params['categoryID'],
            streamID: this.plugin.params['streamID'],
            comment: this.data,
            vote: vote,
            mode: this.plugin.textMode,
        };
        window.gigya.events.dispatchForWidget(oEvent, this.plugin.params);
        oEvent = window.gigya.utils.object.clone(oEvent);
        oEvent.eventName = 'commentVote'; //back compat
        window.gigya.events.dispatchForWidget(oEvent, this.plugin.params);
    };
    Comment.prototype.onVotePosClick = function (e) {
        var el = (e.target || e.srcElement);
        if (this.data.vote == 'pos') {
            this.setVote('none', el);
        }
        else {
            this.setVote('pos', el);
        }
    };
    Comment.prototype.onVoteNegClick = function (e) {
        var el = (e.target || e.srcElement);
        if (this.data.vote == 'neg') {
            this.setVote('none', el);
        }
        else {
            this.setVote('neg', el);
        }
    };
    Comment.prototype.showDeleteDialog = function () {
        var _this = this;
        if (this.plugin.settings.allowCommentDeletion) {
            var dialogTitle = this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS && this.level == 0 ? this.getText('delete_review') : this.getText('delete_comment');
            var dialogBody = this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS && this.level == 0
                ? this.getText('are_you_sure_you_want_to_permanently_delete_your_review_qm')
                : this.getText('are_you_sure_you_want_to_permanently_delete_your_comment_qm');
            this.plugin.showDialog(dialogTitle, dialogBody, this.getText('yes'), function () {
                _this.deleteComment();
            }, this.getText('no'));
        }
    };
    Comment.prototype.showFlagDialog = function () {
        var _this = this;
        if (this.plugin.settings.enableFlagging && !this.isFlagged) {
            var flagEl_1 = this.getElement('flag');
            window.gigya.utils.DOM.addClassToElement(flagEl_1, 'gig-comment-flag-visible');
            var dialogTitle = this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS && this.level == 0
                ? this.getText('report_review_to_site_owner')
                : this.getText('report_comment_to_site_owner');
            var dialogBody = this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS && this.level == 0
                ? this.getText('are_you_sure_you_want_to_mark_this_review_as_inappropriate')
                : this.getText('are_you_sure_you_want_to_mark_this_comment_as_inappropriate');
            var okText = this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS && this.level == 0 ? this.getText('yes_flag_this_review') : this.getText('yes_flag_this_comment');
            this.plugin.showDialog(dialogTitle, dialogBody, okText, function () {
                _this.flag();
                flagEl_1.focus();
            }, this.getText('cancel'), function () {
                window.gigya.utils.DOM.removeClassFromElement(flagEl_1, 'gig-comment-flag-visible');
                flagEl_1.focus();
            });
        }
    };
    Comment.prototype.flag = function () {
        window.gigya.comments.flagComment(this.plugin.params, { commentID: this.id });
        this.markAsFlagged();
        this.plugin.saveState();
    };
    Comment.prototype.deleteComment = function () {
        window.gigya.comments.deleteComment(this.plugin.params, { commentID: this.id });
        var parent = this.getParent();
        while (parent) {
            parent.descendantsCount--;
            parent.updateRepliesCount();
            parent = parent.getParent();
        }
        this.plugin.updateCount();
        this.changeStatus('deleted');
        if (this.data.previousStatus === 'published') {
            this.plugin.streamInfo.commentCount--;
            if (!this.data.isReply())
                this.plugin.streamInfo.ratingCount--;
        }
        this.updateAll();
        this.plugin.updateCount();
    };
    Comment.prototype.changeStatus = function (newStatus) {
        this.data.previousStatus = this.data.status;
        this.data.status = newStatus;
    };
    return Comment;
}());
exports.Comment = Comment;


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/CommentData.ts":
/*!*****************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/CommentData.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
var CommentData = /** @class */ (function () {
    function CommentData(id, parentID) {
        this.ID = id;
        this.parentID = parentID;
        this.replies = [];
    }
    CommentData.fromRawDataArray = function (rawDataArray) {
        if (!rawDataArray)
            return null;
        var res = [];
        for (var i = 0; i < rawDataArray.length; i++) {
            var currRaw = rawDataArray[i];
            res.push(CommentData.fromRawData(currRaw));
        }
        return res;
    };
    CommentData.fromRawData = function (rawData) {
        if (rawData.replies && rawData.replies.length > 0)
            rawData.replies = CommentData.fromRawDataArray(rawData.replies);
        return window.gigya.utils.object.merge([new CommentData(), rawData]);
    };
    CommentData.prototype.isReply = function () {
        return this.parentID != null;
    };
    return CommentData;
}());
exports.CommentData = CommentData;


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/Comments.Models.ts":
/*!*********************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/Comments.Models.ts ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
var TextMode;
(function (TextMode) {
    TextMode[TextMode["COMMENTS"] = 0] = "COMMENTS";
    TextMode[TextMode["REVIEWS"] = 1] = "REVIEWS";
})(TextMode = exports.TextMode || (exports.TextMode = {}));
var HightlighGroupTypeEnum;
(function (HightlighGroupTypeEnum) {
    HightlighGroupTypeEnum[HightlighGroupTypeEnum["user"] = 0] = "user";
    HightlighGroupTypeEnum[HightlighGroupTypeEnum["comment"] = 1] = "comment";
    HightlighGroupTypeEnum[HightlighGroupTypeEnum["moderator"] = 2] = "moderator";
})(HightlighGroupTypeEnum = exports.HightlighGroupTypeEnum || (exports.HightlighGroupTypeEnum = {}));
var BadgeLocationEnum;
(function (BadgeLocationEnum) {
    BadgeLocationEnum[BadgeLocationEnum["commenterName"] = 0] = "commenterName";
    BadgeLocationEnum[BadgeLocationEnum["commentTime"] = 1] = "commentTime";
})(BadgeLocationEnum = exports.BadgeLocationEnum || (exports.BadgeLocationEnum = {}));
var BadgeFrameEnum;
(function (BadgeFrameEnum) {
    BadgeFrameEnum[BadgeFrameEnum["none"] = 0] = "none";
    BadgeFrameEnum[BadgeFrameEnum["rectangle"] = 1] = "rectangle";
})(BadgeFrameEnum = exports.BadgeFrameEnum || (exports.BadgeFrameEnum = {}));


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/CommentsPlugin.ts":
/*!********************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/CommentsPlugin.ts ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var Comment_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/Comment */ "./src/comments/Gigya.Comments.JsPlugin/app/Comment.ts");
var Templates_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/Templates */ "./src/comments/Gigya.Comments.JsPlugin/app/Templates.ts");
var Comments_Models_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/Comments.Models */ "./src/comments/Gigya.Comments.JsPlugin/app/Comments.Models.ts");
var CommentData_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentData */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentData.ts");
var NewCommentBox_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/NewCommentBox */ "./src/comments/Gigya.Comments.JsPlugin/app/NewCommentBox.ts");
var DefaultCss_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/DefaultCss */ "./src/comments/Gigya.Comments.JsPlugin/app/DefaultCss.ts");
var CommentsUtils_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils.ts");
var CommentsPlugin = /** @class */ (function () {
    function CommentsPlugin(params, refString) {
        var _this = this;
        this.params = params;
        this.refString = refString;
        this.version = 2;
        this.commentInstances = {};
        this.templates = window.gigya.utils.object.clone(Templates_1.defaultTemplates, false);
        this.settings = {};
        this.state = { flags: {} }; //used to persist data, just for flagging for now
        this.streamInfo = {};
        this.userCommentsData = [];
        this.userOptions = {};
        this.userComments = [];
        this.newCommentsCount = 0;
        this.userHighlightingGroups = [];
        this.autoPixelRatio = false; // disabled by default - pixelRatio is set to 1
        this.pixelRatio = 1; // 0 = auto; 1-3 = force that ratio
        this.simpleShareSource = null;
        this.loadState();
        this.shareEnabled = this.isSharePossible();
        this.containerID = params['containerID'];
        this.container = this.getContainer();
        if (this.params['useHiResIcons']) {
            this.autoPixelRatio = true;
            this.pixelRatio = 0;
        }
        if (!this.params['templates']) {
            this.params['templates'] = {};
        }
        else if (this.params['ctag']) {
            this.params['ctag'] += '_templates';
        }
        this.templates = window.gigya.utils.object.merge([this.templates, this.params['templates']]);
        this.params['pinnedCommentID'] = window.gigya._.plugins.utils.URL.getHashParamValue(document.location.href, 'gig_comment_id');
        if (this.params['pinnedCommentID'])
            this.pinnedCommentID = this.params['pinnedCommentID'];
        this.textMode = this.settings.mode == 'ratingsOnly' || this.settings.mode == 'reviews' ? Comments_Models_1.TextMode.REVIEWS : Comments_Models_1.TextMode.COMMENTS;
        var deviceType = this.params['deviceType'] ? this.params['deviceType'].toLowerCase() : 'desktop';
        this.isMobileUI = deviceType == 'mobile' || (deviceType == 'auto' && window.gigya.localInfo.isMobile);
        this.setDefaults();
        this.mainComposeBox = new NewCommentBox_1.NewCommentBox(this, this.getElement('composebox'), null);
        this.fetchAll(function () {
            _this.initUI();
            // if plugin is loaded in display:none, we need to re-render it when it shows,
            //  so the embedded media will display right
            if (!window.gigya.utils.DOM.isVisible(_this.container)) {
                var poller = new window.gigya._.Poller();
                poller.addActions(function () {
                    if (window.gigya.utils.DOM.isVisible(_this.container)) {
                        poller.stop();
                        _this.updateAll();
                    }
                });
                poller.start(300);
            }
            _this.updateAll(true);
            window.gigya.events.dispatchForWidget({ eventName: 'load', version: _this.version }, _this.params);
        });
        var fnUserChanged = function (res) {
            if (res && res.user) {
                _this.setUser(res.user);
            }
            else {
                _this.setUser({});
            }
        };
        window.gigya.socialize.addEventHandlers({ listenerType: 'component' }, {
            onLogin: fnUserChanged,
            onLogout: fnUserChanged,
            onConnectionAdded: fnUserChanged,
            onConnectionRemoved: fnUserChanged,
        });
    }
    CommentsPlugin.prototype.getText = function (textKey, replaceStr, withStr) {
        if (this.params['customLang'] && this.params['customLang'][textKey]) {
            return this.params['customLang'][textKey].replace(replaceStr, withStr);
        }
        else {
            return window.gigya.pluginUtils.lang.getLocalizedText('gigya.services.comments.plugins.comments2.js', textKey, this.params['lang'], replaceStr, withStr);
        }
    };
    CommentsPlugin.prototype.loadState = function () {
        var state = window.gigya.utils.localStorage.getObject('gig-comments', undefined);
        if (state) {
            this.state = state;
        }
    };
    CommentsPlugin.prototype.saveState = function () {
        window.gigya.utils.localStorage.setObject('gig-comments', this.state);
    };
    CommentsPlugin.prototype.setDefaults = function () {
        if (!this.params['streamID'])
            this.params['streamID'] = 0;
        var defaultSort = this.getDefaultSort();
        if (defaultSort)
            this.params['sort'] = defaultSort;
    };
    CommentsPlugin.prototype.setDefaultShareUserAction = function () {
        var shareUserAction = new window.gigya.socialize.UserAction(this.params['shareUserAction']);
        var title;
        var description;
        var replyTitle;
        var replyDescription;
        if (this.textMode == Comments_Models_1.TextMode.REVIEWS) {
            description = this.getText('username_rated_pagetitle_as_rating_5') + '\n%pagetitle';
            title = this.getText('username_posted_a_review_on_pagetitle');
            replyTitle = this.getText('username_commented_on_pagetitle');
            replyDescription = '%commentText';
        }
        else {
            description = replyDescription = '%commentText';
            title = replyTitle = this.getText('username_commented_on_pagetitle');
        }
        if (!shareUserAction.description)
            shareUserAction.setDescription(description);
        if (!shareUserAction.title)
            shareUserAction.setTitle(title);
        if (!shareUserAction.linkBack)
            shareUserAction.setLinkBack(document.location.href);
        this.params['shareUserAction'] = shareUserAction;
    };
    CommentsPlugin.prototype.getElement = function (subClass) {
        var arEls = window.gigya.utils.DOM.getElementsByClass(this.container, 'gig-comments-' + subClass);
        return arEls.length > 0 ? arEls[0] : null;
    };
    CommentsPlugin.prototype.initUI = function () {
        var finalCss = '';
        var cssPrefix = this.params['cssPrefix'];
        if (cssPrefix || !this.addedCss) {
            var lang = this.params['lang'];
            this.isRtl = lang == 'he' || lang == 'ar';
            finalCss += DefaultCss_1.defaultCss.reset;
            if (this.isRtl)
                finalCss += DefaultCss_1.defaultCss.resetRtl;
            var fixedCss = window.gigya.pluginUtils.css.fixCss(DefaultCss_1.defaultCss.global);
            var fixedRtlCss = window.gigya.pluginUtils.css.fixCss(DefaultCss_1.defaultCss.rtl);
            finalCss += fixedCss;
            if (this.isRtl)
                finalCss += fixedRtlCss;
            if (this.isMobileUI) {
                finalCss += DefaultCss_1.defaultCss.mobile;
                if (this.isRtl)
                    finalCss += DefaultCss_1.defaultCss.mobileRtl;
            }
            else {
                finalCss += DefaultCss_1.defaultCss.nonMobile;
            }
            if (window.gigya.localInfo.isMobile && window.gigya.localInfo.isSafari) {
                finalCss += '.gig-comments-container * {-webkit-text-size-adjust:none;}';
            }
            window.gigya._.plugins.utils.css.addCss(finalCss, cssPrefix);
            this.addedCss = true;
        }
        if (this.isMobileUI) {
            this.container.style.width = '100%';
        }
        this.container.className =
            'gig-comments-container' +
                (this.textMode == Comments_Models_1.TextMode.REVIEWS ? ' gig-comments-reviews' : '') +
                (this.autoPixelRatio ? ' gig-comments-hires-icons' : '');
        this.container.setAttribute('data-version', '2');
        var template = this.settings.newCommentPosition == 'bottom' && !this.params['templates']['commentsPluginComposeBottom']
            ? this.templates['commentsPluginComposeBottom']
            : this.templates['commentsPlugin'];
        this.container.innerHTML = template;
        this.mainComposeBox.container = this.getElement('composebox');
    };
    CommentsPlugin.prototype.getContainer = function () {
        return document.getElementById(this.containerID);
    };
    CommentsPlugin.prototype.fetchComments = function (getNewCommentsOnly, callback) {
        var _this = this;
        if (getNewCommentsOnly === void 0) { getNewCommentsOnly = false; }
        var params = {
            //includeRatingsDims:true,
            threaded: true,
            categoryID: this.params['categoryID'],
            streamID: this.params['streamID'],
            includeSettings: true,
            includeUserOptions: true,
            includeUserHighlighting: true,
            pinnedCommentID: this.params['pinnedCommentID'],
            tags: this.params['filterTags'],
            callback: function (response) {
                _this.getCommentsCallback(response);
                if (callback)
                    callback();
            },
        };
        if (this.pagingDisabled) {
            params['threadLimit'] = 0;
        }
        if (this.nextPageStart) {
            if (!getNewCommentsOnly) {
                params['start'] = this.nextPageStart;
            }
        }
        else {
            //first call
            params['includeStreamInfo'] = true;
        }
        if (getNewCommentsOnly && this.streamInfo.lastCommentTimestamp) {
            params['since'] = this.streamInfo.lastCommentTimestamp;
        }
        window.gigya.comments.getComments(this.params, params);
    };
    CommentsPlugin.prototype.reset = function () {
        this.comments = [];
        this.commentInstances = {};
        this.streamInfo = {};
        this.nextPageStart = null;
        delete this.params['start'];
    };
    CommentsPlugin.prototype.removeUnpublishedComments = function () {
        for (var commentID in this.commentInstances) {
            var comment = this.commentInstances[commentID];
            comment.isPost = false;
            comment.info = null;
            comment.error = null;
            if (comment.isRemovedComment())
                comment.updateAll();
            else if (comment.data.status !== 'published')
                this.removeComment(comment);
        }
    };
    CommentsPlugin.prototype.isUserFollowing = function () {
        return this.userOptions && this.userOptions.replyNotifications == 'immediate';
    };
    CommentsPlugin.prototype.setUserComments = function (userComments) {
        if (!userComments)
            return;
        var hadSelfReview = this.getSelfReview() != null;
        this.userCommentsData = userComments;
        this.userComments = [];
        for (var i = 0; i < this.userCommentsData.length; i++) {
            var c = this.commentInstances[this.userCommentsData[i].ID] || new Comment_1.Comment(this, this.userCommentsData[i]);
            this.userComments.push(c);
        }
        if (this.textMode == Comments_Models_1.TextMode.REVIEWS && hadSelfReview != (this.getSelfReview() != null)) {
            this.updateUserReview();
        }
    };
    CommentsPlugin.prototype.getCommentsCallback = function (data) {
        var _this = this;
        if (data.errorCode != 0) {
            if (!this.broadcastedError) {
                if (this.container && !this.nextPageStart)
                    this.container.innerHTML = '';
                window.gigya.events.dispatchErrorFromResponse(this.params, data);
                this.broadcastedError = true;
            }
        }
        else {
            if (data.settings)
                this.settings = window.gigya.utils.object.merge([{}, data.settings]);
            this.textMode = this.settings.mode == 'ratingsOnly' || this.settings.mode == 'reviews' ? Comments_Models_1.TextMode.REVIEWS : Comments_Models_1.TextMode.COMMENTS;
            this.setDefaultShareUserAction();
            var clean = !data.requestParams['start'] && !data.requestParams['since'];
            if (clean) {
                this.comments = [];
                var commentContainer = this.getElement('comments');
                if (commentContainer)
                    commentContainer.innerHTML = '';
            }
            this.buildHighlightsCss();
            var addNewComments = data.requestParams['since'] != null;
            this.addComments(CommentData_1.CommentData.fromRawDataArray(data.comments), 0, addNewComments, false);
            this.setUserComments(CommentData_1.CommentData.fromRawDataArray(data.userComments));
            this.hasMore = data.hasMore;
            if (data.streamInfo) {
                this.streamInfo = data.streamInfo;
                this.updateCount();
            }
            if (data.userOptions)
                this.userOptions = data.userOptions;
            if (this.params['useSiteLogin'] != null)
                this.settings.useSiteLogin = window.gigya.utils.validation.isExplicitTrue(this.params['useSiteLogin']);
            if (!this.nextPageStart) {
                //first time
                var refreshMode = this.settings.refreshMode;
                var refreshInterval = this.settings.refreshInterval * 1000 || 0;
                if (refreshInterval > 0 && refreshMode != 'off') {
                    this.refreshTimeout = window.setInterval(function () {
                        _this.checkForNewComments();
                    }, refreshInterval);
                }
            }
            if (!data.requestParams['since']) {
                this.nextPageStart = data.next;
            }
            if (!data.requestParams['userHighlightingGroups']) {
                this.userHighlightingGroups = data.userHighlightingGroups;
            }
            if (this.getMoreInProgress) {
                this.getMoreInProgress = false;
                // Set focus to the first new comment.
                var firstCommentID = data.comments[0].ID;
                if (firstCommentID) {
                    var firstCommentEl = this.container.querySelector("div.gig-comment[data-comment-id=\"" + firstCommentID + "\"]");
                    if (firstCommentEl) {
                        firstCommentEl.focus();
                        window.gigya.utils.viewport.scrollIntoView(firstCommentEl);
                    }
                }
            }
            /*if (clean) {
                    this.updateAll(clean);
                } else {*/
            this.updateMore(clean);
            this.updateCount();
            //}
        }
    };
    CommentsPlugin.prototype.addComments = function (commentsData, level, isFromLiveUpdate, isTemp, error, info) {
        if (level === void 0) { level = 0; }
        var newComments = [];
        if (isFromLiveUpdate)
            commentsData.reverse();
        for (var i = 0; i < commentsData.length; i++) {
            var commentData = commentsData[i];
            var c = this.commentInstances[commentData.ID];
            if (c) {
                c.error = error;
                c.info = info;
                c.reset(commentData, true);
            }
            else {
                c = new Comment_1.Comment(this, commentData, level, null, isTemp, isFromLiveUpdate, error, info);
            }
            newComments.push(c);
        }
    };
    CommentsPlugin.prototype.createUserHighlightingBadges = function (commenterElement, userHighlightingGroups) {
        if (!userHighlightingGroups)
            return false;
        var highlightGroups = this.getHighlightingBadges(userHighlightingGroups, ['user', 'moderator']);
        var hasUserBadges = false;
        var isFirstCommenterColor = true;
        for (var i = highlightGroups.length - 1; i >= 0; i--) {
            var highlightGroup = highlightGroups[i];
            if (highlightGroup.showBadge) {
                hasUserBadges = true;
                var badgeElement = document.createElement('div');
                window.gigya.utils.DOM.addClassToElement(badgeElement, 'gig-comment-userBadge');
                window.gigya.utils.DOM.addClassToElement(badgeElement, highlightGroup.className);
                badgeElement.innerHTML = highlightGroup.badgeText == 'Moderator' ? this.getText('moderator') : highlightGroup.badgeText;
                if (Comments_Models_1.BadgeFrameEnum[highlightGroup.badgeFrame] === Comments_Models_1.BadgeFrameEnum.rectangle) {
                    window.gigya.utils.DOM.addClassToElement(badgeElement, 'gig-badge-border');
                }
                // add the badge element next to the username
                commenterElement.parentNode.insertBefore(badgeElement, commenterElement.nextSibling);
            }
            // first user group defines the commenter color
            if (isFirstCommenterColor && highlightGroup.commenterNameColor && highlightGroup.commenterNameColor !== '') {
                window.gigya.utils.DOM.addClassToElement(commenterElement, highlightGroup.userClassName);
                isFirstCommenterColor = false;
            }
        }
        return hasUserBadges;
    };
    CommentsPlugin.prototype.checkForNewComments = function () {
        var _this = this;
        if (this.settings.refreshMode != 'off' && !this.isPaused) {
            window.gigya.comments.getStreamInfo(this.params, {
                callback: function (response) {
                    if (response.streamInfo) {
                        var newCommentCount = _this.textMode === Comments_Models_1.TextMode.REVIEWS ? response.streamInfo.ratingCount : response.streamInfo.commentCount;
                        var oldCommentCount = _this.textMode === Comments_Models_1.TextMode.REVIEWS ? _this.streamInfo.ratingCount : _this.streamInfo.commentCount;
                        var addedCount = newCommentCount - oldCommentCount;
                        _this.updatedStreamInfo = response.streamInfo;
                        if (addedCount > 0 || _this.lastCommentTimestamp !== response.streamInfo.lastCommentTimestamp) {
                            _this.newCommentsCount = _this.newCommentsCount + addedCount;
                            _this.lastCommentTimestamp = response.streamInfo.lastCommentTimestamp;
                            _this.hasNewComments();
                        }
                    }
                },
            });
        }
    };
    CommentsPlugin.prototype.hasNewComments = function () {
        var refreshMode = this.settings.refreshMode;
        if (refreshMode == 'countOnly') {
            this.updateStrip();
            this.newCommentsCount = 0;
        }
        else if (refreshMode == 'full') {
            this.fetchNewComments();
        }
    };
    CommentsPlugin.prototype.isSharePossible = function () {
        // If we're not in http context - for example iOS plugin view
        if (document.location.href.indexOf('http') != 0)
            return false;
        // Specific check for android plugin view - should be removed after Android SDK fix
        if (window['__gigAPIAdapterSettings'] && document.location.href == 'http://www.gigya.com/')
            return false;
        return true;
    };
    CommentsPlugin.prototype.fetchNewComments = function () {
        this.streamInfo = this.updatedStreamInfo;
        this.updatedStreamInfo = null;
        this.fetchComments(true);
        this.updateStrip();
    };
    CommentsPlugin.prototype.updateStrip = function (clean) {
        var _this = this;
        var refreshMode = this.settings.refreshMode;
        var updateStrip = this.getElement('updates');
        if (!updateStrip)
            return;
        if (clean) {
            updateStrip.innerHTML = this.templates['updates'];
        }
        var elText = window.gigya.utils.DOM.getElementsByClass(updateStrip, 'gig-comments-updates-text')[0];
        var elLink = window.gigya.utils.DOM.getElementsByClass(updateStrip, 'gig-comments-updates-link')[0];
        var updateText = '';
        var linkText = '';
        window.gigya.utils.DOM.removeClassFromElement(updateStrip, 'gig-comments-updates-countonly');
        window.gigya.utils.DOM.removeClassFromElement(updateStrip, 'gig-comments-updates-full');
        if (refreshMode == 'countOnly') {
            if (this.newCommentsCount > 0) {
                if (this.textMode == Comments_Models_1.TextMode.COMMENTS) {
                    updateText =
                        this.newCommentsCount == 1
                            ? this.getText('1_new_comment_was_recently_posted')
                            : this.getText('num_new_comments_were_recently_posted', '%num', this.newCommentsCount.toString());
                }
                else {
                    updateText =
                        this.newCommentsCount == 1
                            ? this.getText('1_new_review_was_recently_posted')
                            : this.getText('num_new_reviews_were_recently_posted', '%num', this.newCommentsCount.toString());
                }
                linkText = this.getText('click_to_show');
            }
            if (clean) {
                window.gigya.utils.DOM.addButtonSubmitListener(elLink, function () {
                    _this.fetchNewComments();
                });
            }
            window.gigya.utils.DOM.addClassToElement(updateStrip, 'gig-comments-updates-countonly');
        }
        else if (refreshMode == 'full') {
            if (this.newCommentsCount > 0) {
                if (this.textMode == Comments_Models_1.TextMode.COMMENTS) {
                    updateText =
                        this.newCommentsCount == 1
                            ? this.getText('1_new_comment_was_recently_posted')
                            : this.getText('num_new_comments_were_recently_posted', '%num', this.newCommentsCount.toString());
                }
                else {
                    updateText =
                        this.newCommentsCount == 1
                            ? this.getText('1_new_review_was_recently_posted')
                            : this.getText('num_new_reviews_were_recently_posted', '%num', this.newCommentsCount.toString());
                }
                linkText = this.isPaused ? this.getText('resume_stream') : this.getText('pause_stream');
                if (this.isPaused) {
                    window.gigya.utils.DOM.addClassToElement(updateStrip, 'gig-comments-updates-paused');
                }
                else {
                    window.gigya.utils.DOM.removeClassFromElement(updateStrip, 'gig-comments-updates-paused');
                }
            }
            if (clean) {
                window.gigya.utils.DOM.addButtonSubmitListener(elLink, function () {
                    _this.isPaused = !_this.isPaused;
                    _this.updateStrip();
                });
            }
            window.gigya.utils.DOM.addClassToElement(updateStrip, 'gig-comments-updates-full');
        }
        if (updateText || linkText) {
            if (elText)
                elText.innerHTML = updateText;
            if (elLink)
                elLink.innerHTML = linkText;
            window.gigya.utils.DOM.addClassToElement(updateStrip, 'gig-comments-updates-visible');
        }
        else {
            window.gigya.utils.DOM.removeClassFromElement(updateStrip, 'gig-comments-updates-visible');
        }
    };
    CommentsPlugin.prototype.getComment = function (id) {
        return this.commentInstances[id];
    };
    CommentsPlugin.prototype.removeComment = function (comment) {
        //remove replies
        var replies = comment.replies.concat();
        for (var i = 0; i < replies.length; i++) {
            replies[i].dispose();
        }
        var p = comment.getParent();
        if (p) {
            p.removeChild(comment.id);
        }
        else {
            window.gigya.utils.array.removeByProperty(this.comments, 'id', comment.id);
        }
        window.gigya.utils.array.removeByProperty(this.userComments, 'id', comment.id);
        window.gigya.utils.array.removeByProperty(this.userCommentsData, 'ID', comment.id);
        var container = comment.getContainer();
        if (container)
            container.parentNode.removeChild(container);
        delete this.commentInstances[comment.id];
        if (comment.data.status === 'published') {
            this.streamInfo.commentCount--;
            if (!p) {
                this.streamInfo.ratingCount--;
            }
            while (p) {
                p.descendantsCount--;
                p.updateRepliesCount();
                p = p.getParent();
            }
        }
        this.updateCount();
        if (this.textMode == Comments_Models_1.TextMode.REVIEWS) {
            this.updateUserReview();
        }
    };
    CommentsPlugin.prototype.getUserInfo = function (callback) {
        var _this = this;
        window.gigya.socialize.getUserInfo(this.params, {
            callback: function (response) {
                if (response.errorCode == 0) {
                    _this.setUser(response.user, true);
                }
                else {
                    window.gigya.events.dispatchErrorFromResponse(_this.params, response);
                }
                if (callback)
                    callback();
            },
        });
    };
    CommentsPlugin.prototype.filterIdentities = function (user) {
        if (!user || !user.identities)
            return user;
        var enabledProviders = this.params['enabledProviders'] || '*';
        var disabledProviders = this.params['disabledProviders'] || '';
        var identitiesCount = 0;
        var arProviders = window.gigya.socialize.getProvidersByName(enabledProviders + ',site');
        arProviders = window.gigya.socialize.hideProvidersByName(arProviders, disabledProviders);
        var newIdentities = {};
        for (var i = 0; i < arProviders.length; i++) {
            var provider = arProviders[i];
            if (user.identities[provider.name]) {
                identitiesCount++;
                newIdentities[provider.name] = user.identities[provider.name];
            }
        }
        user.identities = newIdentities;
        if (user.loginProvider && !user.identities[user.loginProvider]) {
            delete user.loginProvider;
            delete user.nickname;
        }
        if (identitiesCount == 0) {
            user.isConnected = false;
        }
        return user;
    };
    CommentsPlugin.prototype.setUser = function (user, first) {
        var _this = this;
        this.user = this.filterIdentities(user);
        if (!first) {
            this.setUserComments([]);
            this.streamInfo.isUserSubscribed = false;
            this.removeUnpublishedComments();
            this.fetchUserVotes();
            this.fetchSelfComments();
            if (user.isConnected) {
                window.gigya.comments.getStreamInfo(this.params, {
                    callback: function (e) {
                        if (e.streamInfo) {
                            _this.streamInfo = e.streamInfo;
                            _this.updateHeaderLinks();
                        }
                    },
                });
            }
        }
        this.updateAll(false);
    };
    CommentsPlugin.prototype.fetchAll = function (callback) {
        var _this = this;
        var called = false;
        var fnCb = function () {
            if (!called && _this.user && _this.comments) {
                if (callback)
                    callback();
                _this.hideProgress();
                if (_this.settings.repliesCollapsed) {
                    for (var i = 0; i < _this.comments.length; i++) {
                        _this.comments[i].collapse();
                    }
                }
                if (_this.pinnedCommentID) {
                    var commentsPlugin = _this;
                    var pinnedComment = commentsPlugin.getComment(commentsPlugin.pinnedCommentID);
                    window.setTimeout(function () {
                        var threadID = pinnedComment.data.threadID;
                        if (threadID == '')
                            threadID = pinnedComment.id;
                        // Check if the anscetor of the comment, have it's replays collapsed
                        if (commentsPlugin.getComment(threadID).isCollapse())
                            commentsPlugin.getComment(threadID).expand();
                        commentsPlugin.scrollToPinnedComment(commentsPlugin.pinnedCommentID);
                        commentsPlugin.setPinnedCommentColor(commentsPlugin.pinnedCommentID);
                    }, 2);
                }
            }
        };
        this.fetchComments(false, fnCb);
        this.getUserInfo(fnCb);
        this.showProgress();
    };
    CommentsPlugin.prototype.scrollToPinnedComment = function (pinnedCommentID) {
        var pinnedCommentElement = document.querySelector('[data-comment-id="' + pinnedCommentID + '"]');
        if (pinnedCommentElement) {
            var top = pinnedCommentElement.offsetTop;
            window.scrollTo(0, top - 12);
        }
    };
    CommentsPlugin.prototype.setPinnedCommentColor = function (pinnedCommentID) {
        var pinnedCommentElement = document.querySelector('[data-comment-id="' + pinnedCommentID + '"]');
        if (pinnedCommentElement) {
            var pinnedCommentContentElement = pinnedCommentElement.getElementsByClassName('gig-comment-content')[0];
            window.gigya.utils.DOM.addClassToElement(pinnedCommentContentElement, 'gig-comment-pinned-background');
            window.gigya.utils.DOM.addClassToElement(pinnedCommentContentElement, 'gig-comment-colored-background');
            window.gigya.utils.DOM.removeClassFromElement(pinnedCommentContentElement, 'gig-comment-badge-pick');
        }
    };
    CommentsPlugin.prototype.getUsername = function () {
        return window.gigya.utils.sanitize.sanitizeHTML(this.user.nickname || this.user.firstName || (this.user.isGuest ? this.getText('guest') : this.getText('anonymous')));
    };
    CommentsPlugin.prototype.updateAll = function (clean) {
        if (clean === void 0) { clean = false; }
        if (this.user && this.comments) {
            if (this.mainComposeBox) {
                if (clean)
                    this.mainComposeBox.render();
                else
                    this.mainComposeBox.updateUI();
            }
            if (this.tempComposeBox) {
                if (clean)
                    this.tempComposeBox.render();
                else
                    this.tempComposeBox.updateUI();
            }
            this.updateHeaderLinks(clean);
            this.updateComments(clean);
            if (clean) {
                this.bindAll();
            }
            this.updateMore(clean);
            this.updateStrip(clean);
        }
    };
    CommentsPlugin.prototype.fetchUserVotes = function () {
        var _this = this;
        window.gigya.comments.getUserVotes(this.params, {
            callback: function (res) {
                for (var commentID in _this.commentInstances) {
                    var comment = _this.commentInstances[commentID];
                    if (!comment.voteInProgress) {
                        comment.data.vote = res.userVotes ? res.userVotes[commentID] : 'none';
                        comment.updateVote();
                    }
                }
            },
        });
    };
    CommentsPlugin.prototype.fetchSelfComments = function () {
        var _this = this;
        //  if (this.settings.allowCommentDeletion || this.textMode == TextMode.REVIEWS) {
        window.gigya.comments.getUserComments(this.params, {
            includeReplies: true,
            includeUserHighlighting: true,
            callback: function (e) {
                if (e && e.comments) {
                    _this.setUserComments(e.comments);
                    for (var i = 0; i < e.comments.length; i++) {
                        var commentID = e.comments[i].ID;
                        if (_this.commentInstances[commentID]) {
                            var c = _this.commentInstances[commentID];
                            c.data.sender.isSelf = true;
                            c.updateComment(false);
                        }
                    }
                }
                else {
                    _this.setUserComments([]);
                    for (var key in _this.commentInstances) {
                        var c = _this.commentInstances[key];
                        c.data.sender.isSelf = false;
                        c.updateComment(false);
                    }
                }
                if (!e.requestParams['userHighlightingGroups']) {
                    _this.userHighlightingGroups = e.userHighlightingGroups;
                }
                _this.mainComposeBox.updateUserBadges();
            },
        });
        //  }
    };
    CommentsPlugin.prototype.showProgress = function () {
        window.gigya.utils.DOM.addClassToElement(this.container, 'gig-comments-container-progress');
    };
    CommentsPlugin.prototype.hideProgress = function () {
        window.gigya.utils.DOM.removeClassFromElement(this.container, 'gig-comments-container-progress');
    };
    CommentsPlugin.prototype.updateHeaderLinks = function (clean) {
        var elHeader = this.getElement('header');
        if (clean) {
            if (elHeader)
                elHeader.innerHTML = window.gigya.utils.templates.fill(this.templates['header'], {
                    sort: this.getText('sort'),
                    subscribe: this.getText('subscribe'),
                    rss: '<a>' + this.getText('rss') + '</a>',
                });
        }
        var elSort = this.getElement('sort');
        if (elSort)
            elSort.style.display = this.settings.enableUserSorting ? '' : 'none';
        var elRss = this.getElement('rss');
        if (elRss)
            elRss.style.display = this.settings.disableRSS ? 'none' : '';
        var elSubscribe = this.getElement('subscribe');
        if (elSubscribe) {
            var subscribeText = this.streamInfo.isUserSubscribed || this.unsubscribeToken ? this.getText('unsubscribe') : this.getText('subscribe');
            elSubscribe.title = subscribeText;
            elSubscribe.innerHTML = subscribeText;
            elSubscribe.style.display = this.settings.disableRSS ? 'none' : '';
        }
        if (elHeader)
            this.setLinks(elHeader);
    };
    CommentsPlugin.prototype.updateUserReview = function () {
        this.mainComposeBox.updateUI();
    };
    CommentsPlugin.prototype.getSelfReview = function () {
        if (this.textMode != Comments_Models_1.TextMode.REVIEWS)
            return;
        for (var i = 0; i < this.userComments.length; i++) {
            if (!this.userComments[i].data.parentID) {
                return this.userComments[i];
            }
        }
    };
    CommentsPlugin.prototype.setLinks = function (container) {
        var arLinksContainers = window.gigya.utils.DOM.getElementsByClass(container, 'gig-comments-linksContainer');
        var f;
        var children;
        for (var iLinksContainer = 0; iLinksContainer < arLinksContainers.length; iLinksContainer++) {
            f = false;
            children = arLinksContainers[iLinksContainer].childNodes;
            for (var i = children.length - 1; i >= 0; i--) {
                var child = children[i];
                if (child.style.display != 'none' && child.innerHTML != '' && !f) {
                    window.gigya.utils.DOM.addClassToElement(child, 'gig-comments-link-lastVisible');
                    f = true;
                }
                else {
                    window.gigya.utils.DOM.removeClassFromElement(child, 'gig-comments-link-lastVisible');
                }
            }
        }
    };
    CommentsPlugin.prototype.updateComments = function (clean) {
        if (clean === void 0) { clean = false; }
        var elComments = this.getElement('comments');
        if (!elComments)
            return;
        if (clean)
            this.getElement('comments').innerHTML = '';
        for (var i = 0; i < this.comments.length; i++) {
            this.comments[i].updateAll();
        }
        this.updateCount();
    };
    CommentsPlugin.prototype.updateCount = function () {
        var elCount = this.getElement('count');
        if (elCount) {
            if (this.settings.disableCommentsCount) {
                elCount.innerHTML = '';
            }
            else {
                var text;
                if (this.textMode == Comments_Models_1.TextMode.REVIEWS) {
                    var reviewCount = this.streamInfo.ratingCount;
                    var commentCount = this.streamInfo.commentCount - this.streamInfo.ratingCount;
                    text = this.getPluralizedCount(reviewCount, 'review') + (commentCount > 0 ? ', ' + this.getPluralizedCount(commentCount, 'comment') : '');
                }
                else {
                    text = this.getPluralizedCount(this.streamInfo.commentCount, 'comment');
                }
                elCount.innerHTML = text;
            }
        }
    };
    CommentsPlugin.prototype.getPluralizedCount = function (count, entity) {
        var textKeyOne = 'one_' + entity;
        var textKeyMany = 'num_' + entity + 's';
        var text = this.getText(count == 1 ? textKeyOne : textKeyMany, '%num', count.toString());
        if (this.params['lang'] == 'fr' && count == 0) {
            text = this.getText(textKeyOne, '%num', count.toString());
            text = text.replace('1', '0');
        }
        return text;
    };
    CommentsPlugin.prototype.updateMore = function (clean) {
        var more = this.getElement('more');
        if (more) {
            if (this.hasMore) {
                if (this.getMoreInProgress) {
                    window.gigya.utils.DOM.addClassToElement(more, 'gig-comments-more-progress');
                    more.innerHTML = '';
                }
                else {
                    window.gigya.utils.DOM.removeClassFromElement(more, 'gig-comments-more-progress');
                    more.innerHTML =
                        this.settings.mode == 'reviews'
                            ? this.getText('show_more_reviews')
                            : this.settings.mode == 'ratingsOnly'
                                ? this.getText('show_more_ratings')
                                : this.getText('show_more_comments');
                }
                more.style.display = '';
            }
            else {
                more.style.display = 'none';
            }
        }
    };
    CommentsPlugin.prototype.bindAll = function () {
        var _this = this;
        var more = this.getElement('more');
        if (more) {
            window.gigya.utils.DOM.addButtonSubmitListener(more, function () {
                _this.onMoreClick(more);
            });
        }
        var subscribe = this.getElement('subscribe');
        if (subscribe) {
            window.gigya.utils.DOM.addButtonSubmitListener(subscribe, function () {
                _this.onSubscribeClick();
            });
        }
        var rss = this.getElement('rss');
        if (rss) {
            var rssAnchors = rss.getElementsByTagName('a');
            for (var i = 0; i < rssAnchors.length; i++) {
                var lnkRss = rssAnchors[i];
                lnkRss.setAttribute('href', this.streamInfo.rssURL);
                window.gigya.utils.DOM.addButtonSubmitListener(lnkRss, function (e) {
                    _this.onRssClick(e, true);
                });
                window.gigya.utils.DOM.addEventListener(lnkRss, 'contextmenu', function (e) {
                    _this.onRssClick(e);
                });
            }
        }
        var sort = this.getElement('sort');
        window.gigya.utils.DOM.addEventListener(sort, 'mousedown', function (e) {
            _this.onSortClick(sort);
        });
    };
    CommentsPlugin.prototype.onSubscribeClick = function () {
        var _this = this;
        if (this.streamInfo.isUserSubscribed) {
            window.gigya.comments.unsubscribe(this.params, {
                callback: function (e) { return _this.onUnsubscribe(e); },
            });
        }
        else if (this.unsubscribeToken) {
            window.gigya.comments.unsubscribe(this.params, {
                unsubscribeToken: this.unsubscribeToken,
                callback: function (e) { return _this.onUnsubscribe(e); },
            });
        }
        else {
            var type = this.textMode == Comments_Models_1.TextMode.REVIEWS ? 'review' : 'comment';
            var dialogBody = window.gigya.utils.templates.fill(this.templates['emailTextboxDialogBody'], {
                text: this.getText('enter_your_email_to_subscribe_to_new_' + type + 's_in_this_stream_colon'),
                buttonText: this.getText('subscribe'),
                email: this.user.email || '',
                emailLabel: this.getText('email'),
            });
            var dialog_1 = this.showDialog(this.getText('notifications_settings'), dialogBody, undefined, undefined, undefined, function () {
                // This fires when the dialog closes. Return focus to the subscribe link.
                _this.getElement('subscribe').focus();
            });
            var btnSubscribe = window.gigya.utils.DOM.getElementsByClass(dialog_1, 'gig-comments-dialog-textbox-button')[0];
            window.gigya.utils.DOM.addButtonSubmitListener(btnSubscribe, function () {
                var tb = window.gigya.utils.DOM.getElementsByClass(dialog_1, 'gig-comments-dialog-textbox')[0];
                if (tb) {
                    var email = tb.value;
                    if (window.gigya.pluginUtils.validation.isEmailValid(email)) {
                        _this.subscribe(tb.value);
                        _this.activeDialog.cancelHandler();
                    }
                    else {
                        var elError = window.gigya.utils.DOM.getElementsByClass(dialog_1, 'gig-comments-dialog-error')[0];
                        elError.innerHTML = _this.getText('please_provide_a_valid_email_address');
                    }
                }
            });
        }
    };
    CommentsPlugin.prototype.subscribe = function (email) {
        var _this = this;
        this.setStreamInfoIfNeeded(null, null, function () {
            window.gigya.comments.subscribe(_this.params, {
                email: email,
                callback: function (e) {
                    _this.onSubscribe(e);
                },
            });
        });
        var type = this.textMode == Comments_Models_1.TextMode.REVIEWS ? 'review' : 'comment';
        var confirmationHTML = '<div class="gig-comments-dialog-subscribe-okIcon"></div>' +
            this.getText('thank_you_for_subscribing') +
            '<br />' +
            this.getText('new_' + type + 's_will_be_sent_directly_to_your_email_inbox');
        this.showDialog(this.getText('notifications_settings'), confirmationHTML);
        window.setTimeout(function () {
            if (_this.activeDialog) {
                _this.activeDialog.cancelHandler();
            }
        }, 3000);
    };
    CommentsPlugin.prototype.onUnsubscribe = function (e) {
        var _this = this;
        if (e.errorCode == 0) {
            this.showDialog(this.getText('notifications_settings'), this.getText('you_have_successfully_unsubscribed'));
            window.setTimeout(function () {
                if (_this.activeDialog) {
                    _this.activeDialog.cancelHandler();
                }
            }, 3000);
            delete this.unsubscribeToken;
            this.streamInfo.isUserSubscribed = false;
            this.updateHeaderLinks();
        }
    };
    CommentsPlugin.prototype.onSubscribe = function (e) {
        if (e && e.unsubscribeToken)
            this.unsubscribeToken = e.unsubscribeToken;
        if (!e.unsubscribeToken)
            this.streamInfo.isUserSubscribed = true;
        this.updateHeaderLinks();
    };
    CommentsPlugin.prototype.onMoreClick = function (elMore) {
        if (this.hasMore && !this.getMoreInProgress) {
            this.getMoreInProgress = true;
            this.updateMore();
            this.fetchComments();
        }
    };
    CommentsPlugin.prototype.onRssClick = function (event, redirect) {
        if (redirect) {
            return this.setStreamInfoIfNeeded(event, this.streamInfo.rssURL);
        }
        else {
            this.setStreamInfoIfNeeded(event);
        }
    };
    CommentsPlugin.prototype.onSortClick = function (opener) {
        var _this = this;
        if (!opener)
            return;
        var pos = window.gigya.utils.DOM.getElementPosition(opener);
        var divSort = document.createElement('div');
        divSort.style.position = 'absolute';
        if (divSort.style.zIndex != null) {
            divSort.style.zIndex = window.gigya.utils.DOM.getNextZIndex().toString();
        }
        divSort.innerHTML = window.gigya.utils.templates.fill(this.templates['sortbox'], {
            most_recent: this.getText('most_recent'),
            oldest: this.getText('oldest'),
            most_voted: this.getText('most_voted'),
            ratings: this.getText('ratings'),
        });
        divSort.className = 'gig-comments-container gig-comments-sortbox';
        var arSortItems = divSort.getElementsByTagName('li');
        for (var i = 0; i < arSortItems.length; i++) {
            var sortItem = arSortItems[i];
            var sort = sortItem.getAttribute('data-sort');
            var selectedSort = this.params['sort'];
            if (sort == selectedSort || (!selectedSort && sort == this.settings.sortBy)) {
                window.gigya.utils.DOM.addClassToElement(sortItem, 'gig-comments-sortbox-selected');
            }
            if (this.textMode != Comments_Models_1.TextMode.REVIEWS && sort.indexOf('rating') == 0) {
                window.gigya.utils.DOM.removeElement(sortItem);
            }
            else {
                window.gigya.utils.DOM.addButtonSubmitListener(sortItem, function (e) {
                    var target = e.target || e.srcElement;
                    var sort = target.getAttribute('data-sort');
                    // Erase the pinnedComment after the user clicked on sort
                    if (_this.params['pinnedCommentID'])
                        delete _this.params['pinnedCommentID'];
                    if (sort) {
                        divSort.parentNode.removeChild(divSort);
                        _this.params['sort'] = sort;
                        _this.setDefaultSort(sort);
                        _this.saveState();
                        _this.reset();
                        _this.fetchComments();
                    }
                });
            }
        }
        window.gigya.utils.DOM.appendToBody(divSort);
        divSort.style.left = pos.left - divSort.offsetWidth + 30 + 'px';
        divSort.style.top = pos.top + opener.offsetHeight + 'px';
        window.gigya.pluginUtils.animation.fadeIn(divSort);
        window.gigya.pluginUtils.DOM.removeElementOnDocClickOrEscape(divSort, function (e, wasOpen) {
            if (wasOpen) {
                CommentsUtils_1.Events.cancelEvent(e);
            }
        });
    };
    CommentsPlugin.prototype.setDefaultSort = function (sort) {
        window.gigya.utils.cookie.set('_gig_comments_sort', sort);
    };
    CommentsPlugin.prototype.getDefaultSort = function () {
        return window.gigya.utils.cookie.get('_gig_comments_sort');
    };
    CommentsPlugin.prototype.showDialog = function (caption, body, okButtonText, onOk, cancelButtonText, onCancel) {
        var _this = this;
        // If another dialog is open, cancel it first.
        if (this.activeDialog) {
            this.activeDialog.cancelHandler();
        }
        var dialogEl = window.gigya.utils.DOM.createTopLevelDiv();
        dialogEl.style.position = 'fixed';
        dialogEl.className = this.container.className;
        dialogEl.innerHTML = this.templates['dialog'];
        var dialogCaptionEl = window.gigya.utils.DOM.getElementsByClass(dialogEl, 'gig-comments-dialog-caption')[0];
        var dialogBodyEl = window.gigya.utils.DOM.getElementsByClass(dialogEl, 'gig-comments-dialog-body')[0];
        dialogCaptionEl.innerHTML = caption;
        dialogBodyEl.innerHTML = body;
        // Unique ID on caption so it can be used as label for dialog.
        dialogCaptionEl.setAttribute('id', 'gig-comments-dialog-caption-' + this.containerID);
        // Dialog must be focusable and marked as dialog for WCAG.
        dialogEl.setAttribute('role', 'dialog');
        dialogEl.setAttribute('tabindex', '-1');
        dialogEl.setAttribute('aria-labelledby', dialogCaptionEl.id);
        // TODO: make the style inside the CSS is not optional because it been overrided by other plugins CSS.
        var removeDialog = function () {
            window.gigya.utils.DOM.removeEventListener(document, 'keydown', fnEscPress);
            if (dialogEl.parentNode) {
                dialogEl.parentNode.removeChild(dialogEl);
            }
            _this.activeDialog = undefined;
        };
        var fnOnCancel = function () {
            removeDialog();
            if (onCancel) {
                onCancel(dialogEl);
            }
        };
        var fnOnOk = function () {
            removeDialog();
            if (onOk) {
                onOk(dialogEl);
            }
        };
        var elClose = window.gigya.utils.DOM.getElementsByClass(dialogEl, 'gig-comments-dialog-close')[0];
        if (elClose) {
            window.gigya.utils.DOM.addButtonSubmitListener(elClose, fnOnCancel);
        }
        var elOk = window.gigya.utils.DOM.getElementsByClass(dialogEl, 'gig-comments-dialog-button-ok')[0];
        if (elOk) {
            window.gigya.utils.DOM.addButtonSubmitListener(elOk, fnOnOk);
            if (okButtonText) {
                elOk.innerHTML = okButtonText;
            }
            else {
                elOk.style.display = 'none';
            }
        }
        var elCancel = window.gigya.utils.DOM.getElementsByClass(dialogEl, 'gig-comments-dialog-button-cancel')[0];
        if (elCancel) {
            window.gigya.utils.DOM.addButtonSubmitListener(elCancel, fnOnCancel);
            if (cancelButtonText) {
                elCancel.innerHTML = cancelButtonText;
            }
            else {
                elCancel.style.display = 'none';
            }
        }
        // Cancel dialog automatically when escape key is pressed.
        var fnEscPress = function (e) {
            if ((e.which || e.keyCode) == 27) {
                // Escape key
                fnOnCancel();
            }
        };
        window.gigya.utils.DOM.addEventListener(document, 'keydown', fnEscPress);
        // Append dialog to DOM and position.
        window.gigya.utils.DOM.appendToBody(dialogEl);
        var vp = window.gigya.utils.viewport.getInnerSize();
        var vpw = vp.w;
        var vph = vp.h;
        dialogEl.style.top = '' + Math.max(0, Math.floor((vph - dialogEl.offsetHeight) / 2)) + 'px';
        dialogEl.style.left = '' + Math.max(0, Math.floor((vpw - dialogEl.offsetWidth) / 2)) + 'px';
        this.activeDialog = {
            el: dialogEl,
            okHandler: fnOnOk,
            cancelHandler: fnOnCancel,
        };
        // Focus dialog.
        dialogEl.focus();
        return dialogEl;
    };
    CommentsPlugin.prototype.setStreamInfoIfNeeded = function (event, redirectURL, callback) {
        var _this = this;
        var streamTitle = this.params['streamTitle'];
        if (!streamTitle)
            streamTitle = document.title;
        if (!streamTitle || streamTitle == '')
            streamTitle = 'Site';
        var streamURL = this.params['streamURL'];
        if (!streamURL)
            streamURL = document.location.href;
        if (!this.streamInfo.streamURL ||
            (this.params['streamInfoSig'] && (streamTitle != this.streamInfo.streamTitle || streamURL != this.streamInfo.streamURL))) {
            window.gigya.comments.setStreamInfo(this.params, {
                streamTitle: streamTitle,
                streamURL: streamURL,
                callback: function () {
                    _this.streamInfo.streamTitle = streamTitle;
                    _this.streamInfo.streamURL = streamURL;
                    if (redirectURL)
                        document.location.href = redirectURL;
                    if (callback)
                        callback();
                },
            });
            //stop current navigation
            if (event) {
                CommentsUtils_1.Events.cancelEvent(event);
            }
        }
        else {
            if (callback)
                callback();
            return true;
        }
    };
    CommentsPlugin.prototype.buildMediaItemElement = function (container, mediaItem, preview, fnOnCancel) {
        var _this = this;
        var elMediaItem = document.createElement('div');
        container.appendChild(elMediaItem);
        container.style.height = '';
        elMediaItem.innerHTML = window.gigya.utils.templates.fill(this.templates['mediaItem'], {
            displayUrl: mediaItem.url,
            url: mediaItem.url,
            caption: mediaItem.title ? mediaItem.title : mediaItem.description ? mediaItem.description : '',
            providerIcon: CommentsUtils_1.Images.getPhotoFullName('mediaProviders/' + mediaItem.provider.toLowerCase(), this.pixelRatio),
        });
        var elThumb = window.gigya.utils.DOM.getElementsByClass(elMediaItem, 'gig-media-thumbnail')[0];
        var elCaption = window.gigya.utils.DOM.getElementsByClass(elMediaItem, 'gig-media-caption')[0];
        var elImage = document.createElement('img');
        window.gigya.utils.DOM.addClassToElement(elImage, 'gig-media-thumbnail-image');
        var containerWidth = elThumb.offsetWidth;
        var containerHeight = containerWidth * 0.75 - elCaption.offsetHeight;
        var thumbHeight = mediaItem.thumbnailHeight;
        var thumbWidth = mediaItem.thumbnailWidth;
        if (mediaItem.type.toLowerCase() == 'image' && mediaItem.thumbnailWidth < containerWidth * 0.7) {
            thumbHeight = mediaItem.height;
            thumbWidth = mediaItem.width;
            elImage.src = window.gigya.global.getPhotoURL(mediaItem.photoUrl);
        }
        else {
            elImage.src = window.gigya.global.getPhotoURL(mediaItem.thumbnailUrl);
        }
        if (thumbHeight > containerHeight) {
            var factor = containerHeight / thumbHeight;
            thumbHeight = thumbHeight * factor;
            thumbWidth = thumbWidth * factor;
        }
        if (thumbWidth > containerWidth) {
            var factor = containerWidth / thumbWidth;
            thumbHeight = thumbHeight * factor;
            thumbWidth = thumbWidth * factor;
        }
        if (thumbHeight < containerHeight) {
            containerHeight = thumbHeight;
        }
        var thumbMargin = preview ? (containerWidth - thumbWidth) / 2 : 0;
        elImage.style.width = thumbWidth + 'px';
        elImage.style.height = thumbHeight + 'px';
        elImage.style.marginRight = thumbMargin + 'px';
        elImage.style.marginLeft = thumbMargin + 'px';
        elThumb.style.height = containerHeight + 'px';
        var elOverlay = window.gigya.utils.DOM.getElementsByClass(elMediaItem, 'gig-media-overlay')[0];
        if (elOverlay) {
            elOverlay.style.top = -containerHeight + 'px';
        }
        if (mediaItem.type.toLowerCase() == 'rich' || mediaItem.type.toLowerCase() == 'video') {
            var elPlay = window.gigya.utils.DOM.getElementsByClass(elMediaItem, 'gig-media-play')[0];
            if (elPlay) {
                window.gigya.utils.DOM.addEventListener(elImage, 'load', function () {
                    elPlay.style.display = 'block';
                    var playMarginTop = (thumbHeight - elPlay.offsetHeight) / 2;
                    var playMargin = thumbMargin + (thumbWidth - elPlay.offsetWidth) / 2;
                    if (!_this.isRtl)
                        elPlay.style.left = playMargin + 'px';
                    else
                        elPlay.style.right = playMargin + 'px';
                    elPlay.style.top = playMarginTop + 'px';
                    window.gigya.utils.DOM.addButtonSubmitListener(elPlay, function () {
                        _this.playMediaItem(mediaItem);
                    });
                });
            }
        }
        else {
            elImage.style.cursor = 'pointer';
            window.gigya.utils.DOM.addButtonSubmitListener(elImage, function () {
                window.open(mediaItem.url);
            });
        }
        var elCancel = window.gigya.utils.DOM.getElementsByClass(elMediaItem, 'gig-media-cancel')[0];
        if (elCancel) {
            if (preview && fnOnCancel) {
                window.gigya.utils.DOM.addButtonSubmitListener(elCancel, fnOnCancel);
            }
            else {
                elCancel.style.display = 'none';
            }
        }
        elThumb.appendChild(elImage);
        return elMediaItem;
    };
    CommentsPlugin.prototype.playMediaItem = function (mediaItem) {
        if (this.isMobileUI) {
            window.open(mediaItem.url);
        }
        else {
            var overflow = document.body.style.overflow;
            var elDim = document.createElement('div');
            elDim.className = 'gig-comments-mediaplayer-dimmer';
            elDim.style.zIndex = window.gigya.utils.DOM.getNextZIndex() + '';
            window.gigya.utils.DOM.appendToBody(elDim);
            window.gigya.pluginUtils.animation.fadeIn(elDim, 0.8);
            document.body.style.overflow = 'hidden';
            var elPlayer = document.createElement('div');
            elPlayer.className = 'gig-comments-mediaplayer';
            elPlayer.innerHTML = window.gigya.utils.templates.fill(this.templates['mediaItemPlayer'], {
                playerHeight: mediaItem.height,
                playerHTML: mediaItem.html,
                caption: mediaItem.title ? mediaItem.title : '',
                providerIcon: CommentsUtils_1.Images.getPhotoFullName('mediaProviders/' + mediaItem.provider.toLowerCase(), this.pixelRatio),
            });
            elPlayer.style.zIndex = window.gigya.utils.DOM.getNextZIndex() + '';
            window.gigya.utils.DOM.appendToBody(elPlayer);
            window.gigya.pluginUtils.animation.fadeIn(elPlayer);
            elPlayer.style.marginLeft = -elPlayer.offsetWidth / 2 + 'px';
            elPlayer.style.marginTop = -elPlayer.offsetHeight / 2 + 'px';
            var fnHide = function () {
                document.body.style.overflow = overflow;
                elDim.parentElement.removeChild(elDim);
                elPlayer.parentElement.removeChild(elPlayer);
            };
            var elCancel = window.gigya.utils.DOM.getElementsByClass(elPlayer, 'gig-media-cancel')[0];
            window.gigya.utils.DOM.addButtonSubmitListener(elDim, fnHide);
            window.gigya.utils.DOM.addButtonSubmitListener(elCancel, fnHide);
        }
    };
    CommentsPlugin.prototype.removeUserBadges = function (containerElement) {
        if (!containerElement)
            return;
        var elements = containerElement.getElementsByClassName('gig-comment-userBadge');
        while (elements.length > 0) {
            elements[0].parentNode.removeChild(elements[0]);
        }
    };
    CommentsPlugin.prototype.buildHighlightsCss = function () {
        var finalCss = '';
        if (!this.settings || !this.settings.highlightGroupsSettings)
            return;
        for (var i = 0; i < this.settings.highlightGroupsSettings.length; i++) {
            var group = this.settings.highlightGroupsSettings[i];
            if (group.cssRule)
                continue;
            group.className = 'gig-badge-' + group.name.toLowerCase();
            group.commentClassName = 'gig-comment-badge-' + group.name.toLowerCase();
            group.userClassName = 'gig-comment-username-badge-' + group.name.toLowerCase();
            var backgroundImageRule = '';
            if (group.badgeImageURL) {
                var badgeImageFullURL = group.badgeImageURL == 'https://cdns.gigya.com/gs/i/comments2/editors_pick.png'
                    ? CommentsUtils_1.Images.getPhotoFullName('editors_pick')
                    : window.gigya.global.getPhotoURL(group.badgeImageURL);
                backgroundImageRule = 'background-image:url(' + badgeImageFullURL + '); background-size: 17px 17px;';
            }
            group.cssRule =
                '.gig-comments-container *.' +
                    group.className +
                    ' {color:' +
                    group.badgeColor +
                    ';' +
                    backgroundImageRule +
                    '} ' +
                    '.gig-comments-container *.' +
                    group.className +
                    '.gig-badge-border {border-color:' +
                    group.badgeColor +
                    ';} ';
            // Background color for highlighted comments
            if (group.commentBackgroundColor) {
                group.cssRule += '.gig-comments-container *.' + group.commentClassName + ' {background-color:' + group.commentBackgroundColor + ';} ';
            }
            // Username coloring
            if (group.commenterNameColor) {
                group.cssRule += '.gig-comments-container *.' + group.userClassName + ' {color:' + group.commenterNameColor + ';} ';
            }
            finalCss += group.cssRule + ' ';
        }
        window.gigya._.plugins.utils.css.addCss(finalCss, this.params['cssPrefix']);
    };
    CommentsPlugin.prototype.getHighlightingBadges = function (groups, types) {
        if (!groups)
            return;
        var output = [];
        for (var i = 0; i < this.settings.highlightGroupsSettings.length; i++) {
            var group = this.settings.highlightGroupsSettings[i];
            if (group.enabled && groups.indexOf(group.name) != -1 && (!types || types.indexOf(group.type) != -1))
                output.push(group);
        }
        return output;
    };
    return CommentsPlugin;
}());
exports.CommentsPlugin = CommentsPlugin;


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils.ts":
/*!*******************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var ImgBase_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/ImgBase */ "./src/comments/Gigya.Comments.JsPlugin/app/ImgBase.ts");
var Selection = /** @class */ (function () {
    function Selection() {
    }
    Selection.getSelection = function (containerEl) {
        if (window.getSelection && document.createRange) {
            containerEl.normalize();
            var range = window.getSelection().getRangeAt(0);
            var topContainerRange = range.cloneRange();
            topContainerRange.selectNodeContents(containerEl);
            topContainerRange.setEnd(range.startContainer, range.startOffset);
            var localContainerRange = range.cloneRange();
            localContainerRange.selectNodeContents(range.startContainer);
            localContainerRange.setEnd(range.startContainer, range.startOffset);
            var text = topContainerRange.toString();
            var localText = localContainerRange.toString();
            return {
                start: text.length,
                end: text.length + range.toString().length,
                text: text,
                childContainer: localContainerRange.startContainer,
                childOffset: localText.length,
                childText: localText,
            };
        }
        if (document['selection'] && document.body.createTextRange) {
            var selectedTextRange = document['selection'].createRange();
            var preSelectionTextRange = document.body.createTextRange();
            preSelectionTextRange.moveToElementText(containerEl);
            preSelectionTextRange.setEndPoint('EndToStart', selectedTextRange);
            var start = preSelectionTextRange.text.length;
            return {
                start: start,
                end: start + selectedTextRange.text.length,
                text: preSelectionTextRange.text,
                childContainer: range.endContainer,
                endInChildContainer: 0,
                childText: range.toString(),
            };
        }
    };
    Selection.restoreSelection = function (containerEl, savedSel) {
        if (window.getSelection && document.createRange) {
            var charIndex = 0, range = document.createRange();
            range.setStart(containerEl, 0);
            range.collapse(true);
            var nodeStack = [containerEl], node, foundStart = false, stop = false;
            while (!stop && (node = nodeStack.pop())) {
                if (node.nodeType == 3) {
                    var nextCharIndex = charIndex + node.length;
                    if (!foundStart && savedSel.start >= charIndex && savedSel.start <= nextCharIndex) {
                        range.setStart(node, savedSel.start - charIndex);
                        foundStart = true;
                    }
                    if (foundStart && savedSel.end >= charIndex && savedSel.end <= nextCharIndex) {
                        range.setEnd(node, savedSel.end - charIndex);
                        stop = true;
                    }
                    charIndex = nextCharIndex;
                }
                else {
                    var i = node.childNodes.length;
                    while (i--) {
                        nodeStack.push(node.childNodes[i]);
                    }
                }
            }
            var sel = window.getSelection();
            sel.removeAllRanges();
            sel.addRange(range);
        }
        else if (document['selection'] && document.body.createTextRange) {
            var textRange = document.body.createTextRange();
            textRange.moveToElementText(containerEl);
            textRange.collapse(true);
            textRange.moveEnd('character', savedSel.end);
            textRange.moveStart('character', savedSel.start);
            textRange.select();
        }
    };
    return Selection;
}());
exports.Selection = Selection;
var Images = /** @class */ (function () {
    function Images() {
    }
    Images.getPhotoFullName = function (photoName, forceRatio, ext) {
        if (forceRatio === void 0) { forceRatio = 0; }
        if (ext === void 0) { ext = 'png'; }
        return ImgBase_1.imgBase + photoName + '_x' + (forceRatio > 0 ? forceRatio : Images.pixelRatio) + '.' + ext;
    };
    Images.pixelRatio = window['devicePixelRatio'] ? Math.min(Math.ceil(window['devicePixelRatio']), 3) : 1;
    return Images;
}());
exports.Images = Images;
var Events = /** @class */ (function () {
    function Events() {
    }
    Events.cancelEvent = function (event) {
        if (event.stopPropagation)
            event.stopPropagation();
    };
    return Events;
}());
exports.Events = Events;
var UserTagging = /** @class */ (function () {
    function UserTagging() {
    }
    UserTagging.createTaggedUserElement = function (name, uid) {
        var elUser = document.createElement('input');
        elUser.type = 'button';
        elUser.value = '@' + name;
        elUser.innerHTML = name;
        elUser.tabIndex = -1;
        window.gigya.utils.DOM.addClassToElement(elUser, 'gig-usertagging-tag');
        if (uid)
            elUser.setAttribute('data-gig-uid', uid);
        return elUser;
    };
    UserTagging.replaceUserTagsWithSpans = function (elComment, taggedUIDs) {
        var arrTagElements = window.gigya.utils.DOM.getElementsByClass(elComment, 'gig-usertagging-tag');
        for (var i = 0; i < arrTagElements.length; i++) {
            var elTaggedUser = arrTagElements[i];
            var uid = elTaggedUser.getAttribute('data-gig-uid');
            if (uid) {
                if (window.gigya.utils.array.indexOf(taggedUIDs, uid) == -1)
                    taggedUIDs.push(uid);
                var text = elTaggedUser.getAttribute('value');
                if (!text)
                    text = elTaggedUser.innerHTML;
                var elReplace = document.createElement('span');
                elReplace.setAttribute('data-gig-uid', uid);
                window.gigya.utils.DOM.addClassToElement(elReplace, 'gig-usertagging-tag');
                if (text)
                    elReplace.innerHTML = text;
                elTaggedUser.parentElement.insertBefore(elReplace, elTaggedUser);
                elTaggedUser.parentElement.removeChild(elTaggedUser);
            }
        }
        return elComment.innerHTML;
    };
    UserTagging.replaceSpansWithUserTags = function (elComment) {
        var spans = window.gigya.utils.DOM.getElementsByClass(elComment, 'gig-usertagging-tag');
        if (!spans)
            return;
        for (var i = 0; i < spans.length; i++) {
            var elSpan = spans[i];
            var uid = elSpan.getAttribute('data-gig-uid');
            var name = elSpan.innerHTML.slice(1);
            var elUserTag = UserTagging.createTaggedUserElement(name, uid);
            elSpan.parentElement.insertBefore(elUserTag, elSpan);
            elSpan.parentElement.removeChild(elSpan);
        }
    };
    return UserTagging;
}());
exports.UserTagging = UserTagging;


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/ComposeShare.ts":
/*!******************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/ComposeShare.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var CommentsUtils_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils.ts");
var ComposeShare = /** @class */ (function () {
    function ComposeShare(container, plugin, providers, userIdentities) {
        if (userIdentities === void 0) { userIdentities = {}; }
        this.container = container;
        this.plugin = plugin;
        this.providers = providers;
        this.userIdentities = userIdentities;
        this.selectedProviders = {};
        this.shownProviders = {};
        this.initUI();
        this.loadSelected();
    }
    ComposeShare.prototype.getSelected = function () {
        var arProviders = [];
        for (var p in this.selectedProviders) {
            arProviders.push(p);
        }
        return arProviders;
    };
    ComposeShare.prototype.isProviderConnected = function (provider) {
        return this.userIdentities && this.userIdentities[provider] != null;
    };
    ComposeShare.prototype.initUI = function () {
        var _this = this;
        this.container.innerHTML = '';
        var arConnectedProviders = [];
        var arNotConnectedProviders = [];
        for (var i = 0; i < this.providers.length; i++) {
            var provider = this.providers[i];
            if (this.isProviderConnected(provider.name)) {
                arConnectedProviders.push(provider);
            }
            else {
                arNotConnectedProviders.push(provider);
            }
        }
        this.providers = arConnectedProviders.concat(arNotConnectedProviders);
        var minShareOptions = this.plugin.params['minShareOptions'] || (this.plugin.isMobileUI ? 1 : 2);
        var shownProvidersLength = Math.max(minShareOptions, arConnectedProviders.length);
        for (var i = 0; i < this.providers.length; i++) {
            var provider = this.providers[i];
            if (!this.getProviderElement(provider.name)) {
                var isConnected = this.isProviderConnected(provider.name);
                var divProvider = document.createElement('div');
                divProvider.className = 'gig-comments-share-provider';
                divProvider.style.backgroundImage =
                    'url("' +
                        CommentsUtils_1.Images.getPhotoFullName('shareToProviders/' + provider.name + '_' + (isConnected ? 'color' : 'grey'), this.plugin.pixelRatio) +
                        '")';
                divProvider.setAttribute('data-provider', provider.name);
                divProvider.innerHTML = '<div class="gig-comments-share-provider-checkbox gig-comments-checkbox" data-provider="' + provider.name + '"></div>';
                divProvider.setAttribute('aria-label', provider.displayName);
                window.gigya.utils.DOM.addButtonSubmitListener(divProvider, function (e) { return _this.providerClick(e); });
                this.container.appendChild(divProvider);
                if (i < shownProvidersLength) {
                    this.showProvider(provider.name);
                }
            }
        }
        if (this.providers.length > shownProvidersLength) {
            var divMore = document.createElement('div');
            divMore.className = 'gig-comments-share-more';
            divMore.setAttribute('data-provider', 'more');
            divMore.setAttribute('aria-label', this.plugin.getText('show_more'));
            this.container.appendChild(divMore);
            window.gigya.utils.DOM.addButtonSubmitListener(divMore, function () {
                _this.showMore(divMore);
            });
        }
    };
    ComposeShare.prototype.showProvider = function (provider) {
        this.shownProviders[provider] = 1;
        var elProvider = this.getProviderElement(provider);
        if (elProvider)
            window.gigya.utils.DOM.addClassToElement(elProvider, 'gig-comments-share-provider-shown');
    };
    ComposeShare.prototype.check = function (provider, neverConnect) {
        if (this.isProviderConnected(provider)) {
            this.selectedProviders[provider] = 1;
            var elProvider = this.getProviderElement(provider);
            var elCheckbox = window.gigya.utils.DOM.getElementsByClass(elProvider, 'gig-comments-checkbox')[0];
            window.gigya.utils.DOM.addClassToElement(elCheckbox, 'gig-comments-checkbox-checked');
        }
        else if (!neverConnect) {
            this.connectProvider(provider);
        }
    };
    ComposeShare.prototype.uncheck = function (provider) {
        delete this.selectedProviders[provider];
        var elProvider = this.getProviderElement(provider);
        var elCheckbox = window.gigya.utils.DOM.getElementsByClass(elProvider, 'gig-comments-checkbox')[0];
        window.gigya.utils.DOM.removeClassFromElement(elCheckbox, 'gig-comments-checkbox-checked');
    };
    ComposeShare.prototype.isProviderChecked = function (provider) {
        return this.selectedProviders[provider] != null;
    };
    ComposeShare.prototype.providerClick = function (e) {
        var _this = this;
        var target = e.target || e.srcElement;
        var provider = target.getAttribute('data-provider');
        if (!this.plugin.user.isConnected) {
            window.gigya.socialize.login(this.plugin.params, {
                provider: provider,
                callback: function (e) {
                    if (e.errorCode == 0 && e.user && e.user.identities) {
                        _this.userIdentities = e.user.identities;
                        _this.updateProviderIcon(provider);
                        _this.check(provider);
                    }
                },
            });
        }
        else if (this.isProviderChecked(provider)) {
            this.uncheck(provider);
        }
        else {
            this.check(provider);
        }
    };
    ComposeShare.prototype.getProviderElement = function (provider) {
        return window.gigya.utils.DOM.getElementsByAttribute(this.container, '*', 'data-provider', provider)[0];
    };
    ComposeShare.prototype.showMore = function (opener) {
        var _this = this;
        var pos = window.gigya.utils.DOM.getElementPosition(opener);
        var divMore = document.createElement('div');
        this.divMore = divMore;
        divMore.setAttribute('role', 'dialog');
        divMore.setAttribute('tabindex', '-1');
        divMore.style.position = 'absolute';
        if (divMore.style.zIndex != null) {
            divMore.style.zIndex = window.gigya.utils.DOM.getNextZIndex().toString();
        }
        divMore.className = 'gig-comments-container gig-composebox-morebox';
        document.body.appendChild(divMore);
        var viewport = window.gigya.utils.viewport.getInnerSize();
        var left = Math.max(0, window.gigya.localInfo.quirksMode ? pos.left - 2 : pos.left);
        if (left + divMore.offsetWidth > viewport.w - 40) {
            left = (viewport.w - divMore.offsetWidth) / 2;
        }
        divMore.style.left = '' + left + 'px';
        divMore.style.top = '' + (pos.top + opener.offsetHeight - 2 + (window.gigya.localInfo.quirksMode ? -2 : 0)) + 'px';
        divMore.innerHTML = window.gigya.utils.templates.fill(this.plugin.templates['composeShareMoreBox'], {
            more_share_destinations: this.plugin.getText('more_share_destinations'),
        });
        var elMoreProvidersContainer = window.gigya.utils.DOM.getElementsByClass(divMore, 'gig-composebox-morebox-providers')[0];
        if (elMoreProvidersContainer) {
            for (var i = 0; i < this.providers.length; i++) {
                var provider = this.providers[i];
                if (!this.shownProviders[this.providers[i].name]) {
                    if (provider) {
                        var elProvider = document.createElement('li');
                        elProvider.style.backgroundImage =
                            'url("' + CommentsUtils_1.Images.getPhotoFullName('shareToProviders/' + provider.name + '_color', this.plugin.pixelRatio) + '")';
                        elProvider.innerHTML = provider.displayName;
                        elProvider.setAttribute('data-provider', provider.name);
                        elProvider.setAttribute('role', 'button');
                        elProvider.setAttribute('tabindex', '0');
                        window.gigya.utils.DOM.addButtonSubmitListener(elProvider, function (e) { return _this.moreProviderClick(e); });
                        elMoreProvidersContainer.appendChild(elProvider);
                    }
                }
            }
        }
        var elClose = window.gigya.utils.DOM.getElementsByClass(divMore, 'gig-composebox-morebox-close')[0];
        window.gigya.utils.DOM.addButtonSubmitListener(elClose, function () { return _this.closeMore(opener); });
        window.gigya.pluginUtils.DOM.removeElementOnDocClickOrEscape(divMore, function (e, wasOpen) {
            // Stop the event so the more box won't open again
            if (wasOpen && e.target == opener) {
                CommentsUtils_1.Events.cancelEvent(e);
            }
        }, null);
        divMore.focus();
    };
    ComposeShare.prototype.closeMore = function (opener) {
        if (this.divMore) {
            this.divMore.parentNode.removeChild(this.divMore);
        }
        if (opener) {
            opener.focus();
        }
    };
    ComposeShare.prototype.moreProviderClick = function (e) {
        var target = e.target || e.srcElement;
        var provider = target.getAttribute('data-provider');
        if (!this.isProviderConnected(provider)) {
            this.connectProvider(provider);
        }
        this.closeMore();
        this.showProvider(provider);
    };
    ComposeShare.prototype.connectProvider = function (provider) {
        var _this = this;
        window.gigya.socialize.addConnection(this.plugin.params, {
            provider: provider,
            callback: function (e) {
                if (e.errorCode == 0 && e.user && e.user.identities) {
                    _this.userIdentities = e.user.identities;
                    _this.updateProviderIcon(provider);
                    _this.check(provider);
                }
            },
        });
    };
    ComposeShare.prototype.updateProviderIcon = function (provider) {
        var isConnected = this.isProviderConnected(provider);
        var providerElement = this.getProviderElement(provider);
        if (providerElement)
            providerElement.style.backgroundImage =
                'url("' + CommentsUtils_1.Images.getPhotoFullName('shareToProviders/' + provider + '_' + (isConnected ? 'color' : 'grey'), this.plugin.pixelRatio) + '")';
    };
    ComposeShare.prototype.updateIcons = function () {
        this.userIdentities = this.plugin.user.identities;
        for (var provider in this.shownProviders) {
            this.updateProviderIcon(provider);
        }
        if (!this.plugin.user.isConnected) {
            for (var provider in this.shownProviders) {
                this.uncheck(provider);
            }
        }
        else {
            this.loadSelected();
        }
    };
    ComposeShare.prototype.saveSelected = function () {
        window.gigya.utils.cookie.set('_gig_comments_selected_providers', this.getSelected().join(','));
    };
    ComposeShare.prototype.loadSelected = function () {
        var sSavedSelected = window.gigya.utils.cookie.get('_gig_comments_selected_providers');
        var savedSelected = sSavedSelected ? sSavedSelected.split(',') : [];
        var checkAll = this.plugin.settings.shareToSNCheckboxChecked && sSavedSelected == null;
        for (var provider in this.shownProviders) {
            if (checkAll || window.gigya.utils.array.indexOf(savedSelected, provider) > -1) {
                this.check(provider, true);
            }
            else {
                this.uncheck(provider);
            }
        }
    };
    return ComposeShare;
}());
exports.ComposeShare = ComposeShare;


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/DefaultCss.ts":
/*!****************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/DefaultCss.ts ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var CommentsUtils_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils.ts");
exports.defaultCss = {
    reset: [
        '.gig-comments-container *, *.gig-comments-container {',
        'word-wrap:break-word;padding:0px;margin:0px;color:inherit;text-decoration:none;width:auto;float:none;',
        'font-family:arial;color:#333333;position:static;text-align:left;vertical-align:baseline;-moz-box-sizing: content-box;-webkit-box-sizing: content-box;box-sizing: content-box;}',
    ].join(''),
    resetRtl: '.gig-comments-container *, *.gig-comments-container {direction:rtl;text-align:right;}',
    global: [
        '.gig-comments-container input {outline:none}',
        '.gig-comments-container .gig-composebox-summary-input { font-weight: bold; }',
        '.gig-comments-container .gig-composebox-summary-input.gig-comments-placeholder { font-weight: bold; }',
        '.gig-comments-container .gig-comments-placeholder {color: #999;opacity:1}',
        '.gig-comments-container input:-moz-placeholder {color: #585858;opacity:1}',
        '.gig-comments-container input::-moz-placeholder {color: #585858;opacity:1}',
        '.gig-comments-container input::-webkit-input-placeholder  {color: #585858;opacity:1}',
        '.gig-comments-container input:-moz-placeholder {color: #585858;opacity:1}',
        '*.gig-comments-container u {text-decoration:underline}',
        '.gig-comments-container li {margin:0;padding:0;list-style-type:none}',
        '.gig-comments-container ul {margin:0;padding:0;}',
        '*.gig-composebox-textarea ul, .gig-comment-body ul {padding-left:20px;}',
        '*.gig-composebox-textarea li, .gig-comment-body li {list-style-type:disc}',
        '.gig-comments-container * {}',
        "*.gig-comments-container-progress {width:100%;height:38px;background-repeat:no-repeat;background-position:center center;background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('progress_ani_gif', 1, 'gif') +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-container-progress {background-size:contain;background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('progress_ani_gif', 0, 'gif') +
            "')}",
        '*.gig-clearfix {clear:both}',
        '*.gig-comments-header {overflow:hidden;border-bottom: 1px solid #EBEBEB; margin-bottom:8px;padding-bottom:8px; }',
        '*.gig-comments-count {font-size:16px;font-weight:bold;}',
        '*.gig-comments-header-right {float:right;}',
        '*.gig-comments-header-left {float:left;}',
        '*.gig-comments-linksContainer {display:inline-block;}',
        '*.gig-comments-linksContainer li, *.gig-comments-linksContainer a, *.gig-comments-linksContainer li a:hover, *.gig-comments-linksContainer a:active, *.gig-comments-linksContainer a:visited, *.gig-comments-linksContainer a:link {color:#999999; cursor:pointer;display:inline-block;}',
        '*.gig-comments-linksContainer li {margin-right:3px;}',
        '*.gig-comments-linksContainer li:after {content:" "; width:2px; height:2px; background-color:#999999; vertical-align:middle; margin-left:3px; display:inline-block;}',
        '*.gig-comments-linksContainer *.gig-comments-link-lastVisible:after {content:"";margin:0;display:none;}',
        '*.gig-comments-linksContainer *.gig-comments-link-lastVisible {margin-right:0;}',
        //'*.gig-comments-header-right li {margin-top:3px;}',
        '*.gig-comment { width: 100%; outline: 0; }',
        '*.gig-comment * {color:#999999; }',
        '*.gig-comment .gig-comment-content {padding-left:6px;transition-property:background-color, padding;}',
        '*.gig-comment-newComment .gig-comment-content {padding: 6px; background-color: #CEFAD3; border-radius:4px;}',
        '*.gig-comment-summary {display:inline-block;font-size: 13px;font-weight:bold;vertical-align:top; color:#333333;font-size: 14px;}',
        '*.gig-comment-photo {float:left;width: 37px; height:37px;}',
        '*.gig-comment-providerLogo {text-align:right;}',
        '*.gig-comment-providerLogo img {width:14px;height:14px;margin-top:-11px; margin-right:-3px;display:inline-block;}',
        '*.gig-comment-data {padding-left:41px;}',
        '*.gig-comment-header { overflow:hidden; margin-bottom:6px; }',
        '*.gig-comment-header-right { float:right; }',
        //'*.gig-comment-header-left {float:left;}',
        '*.gig-comment-time {font-size: 11px;display:inline-block;margin:2px 0 0 10px; float: right;}',
        '*.gig-comment-username {font-weight:bold;color:#333333; margin-right:6px; display:inline-block; }',
        '*.gig-comment-body, .gig-comment-body * {color:#585858; line-height:18px;}',
        '*.gig-comment-footer, *.gig-comment-replies {padding-left: 6px}',
        '*.gig-comment-replies {transition-property: max-height;overflow:hidden;}',
        '*.gig-comment-replies-collapsed {display:none;}',
        '*.gig-comment-footer {font-size:11px;overflow:hidden;border-bottom: 1px solid #EBEBEB;margin: 10px 0; padding-bottom:10px;}',
        '*.gig-comment[data-level="0"]:last-of-type *.gig-comment-footer:last-ch {border-bottom:none;}',
        '*.gig-comment-footer-left {float:left;}',
        '*.gig-comment-footer li{cursor:pointer;}',
        '*.gig-comment .gig-comment-replybox {display:none;background-color:#F6F6F6; padding:4px 6px;}',
        '*.gig-comment .gig-comment-replybox-open {display:block; margin-bottom: 10px;}',
        '*.gig-comment .gig-composebox-title, *.gig-comment .gig-composebox-title * {font-weight:normal; font-style:italic;color:#333333}',
        '*.gig-comment *.gig-composebox-username {font-weight:bold;}',
        '*.gig-comment-repliesArrow div {display:inline-block}',
        "*.gig-comment-repliesArrow-img {margin: 0 1px 0 6px; width: 9px; height:9px; margin-right:3px;background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Reply_Arrow', 1) +
            "');background-repeat:no-repeat;background-position:0px 3px;}",
        ".gig-comments-hires-icons *.gig-comment-repliesArrow-img {background-size:contain; background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Reply_Arrow') +
            "');}",
        '*.gig-comment-repliesArrow .gig-comment-repliesArrow-img {}',
        '*.gig-comment-repliesArrow-collapsed .gig-comment-repliesArrow-img {-webkit-transform:rotate(270deg); transform:rotate(270deg);}',
        '*.gig-comment-status {display:none;border-radius: 3px;color:#FFFFFF;padding:2px 8px; border-radius:3px;margin-bottom:6px;}',
        '*.gig-comment-body a:link {color:#007ACF;text-decoration: underline;}',
        '*.gig-comment-body a:visited {color:#61007d;text-decoration: underline;}',
        '*.gig-comment-status-info {display:inline-block;background-color:#64B46F;}',
        '*.gig-comment-status-error {display:inline-block;background-color:#D0605F;margin-bottom:6px;}',
        '*.gig-comment-viaProvider {display:inline-block;font-style:italic;margin:0 12px;padding: 0 0 0 12px;background-repeat:no-repeat;background-position:left center;}',
        "*.gig-comment-viaProvider-facebook {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('/providers/Facebook_9x9', 1) + "');}",
        ".gig-comments-hires-icons *.gig-comment-viaProvider-facebook {background-size:contain; background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('/providers/Facebook_9x9') +
            "');}",
        '.gig-comments-hires-icons *.gig-loginbox-provider {background-size:15px;}',
        'img.gig-comment-img {border-radius:3px;}',
        // footer
        '*.gig-comment-footer-right {float:right;}',
        '*.gig-comment-footer-right div {display:inline-block;height:17px;line-height:16px;vertical-align:bottom;}',
        // vote
        '*.gig-comment-vote-pos, *.gig-comment-vote-neg {cursor:pointer;background-repeat:no-repeat;background-position: 0 0;padding-left: 14px;}',
        '*.gig-comment-vote-with-value {padding-left: 17px;}',
        '*.gig-comment-vote-total {margin-right:5px;}',
        "*.gig-comment-vote-pos {background-size:14px 14px;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_up', 1) + "')}",
        ".gig-comments-hires-icons *.gig-comment-vote-pos {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_up') + "')}",
        "*.gig-comment-vote-pos-down {background-size:14px 14px;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_up_pressed', 1) + "')}",
        ".gig-comments-hires-icons *.gig-comment-vote-pos-down {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_up_pressed') + "')}",
        "*.gig-comment-vote-neg {background-size:14px 14px;background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Thumbs_down', 1) +
            "');margin-left:15px;position:relative; background-position: 0 3px; }",
        ".gig-comments-hires-icons *.gig-comment-vote-neg {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_down') + "');}",
        '*.gig-comment-vote-posneg *.gig-comment-vote-neg {margin-left:2px;}',
        "*.gig-comment-vote-neg-down {background-size:14px 14px;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_down_pressed', 1) + "')}",
        ".gig-comments-hires-icons *.gig-comment-vote-neg-down {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_down_pressed') + "')}",
        // flag
        "*.gig-comment-flag {margin: 0 15px;vertical-align:top;display:inline-block;width: 14px; height: 14px; visibility:hidden; cursor:pointer;background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Flag_Icon', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comment-flag {background-size:contain;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Flag_Icon') + "')}",
        "*.gig-comment-flag-submitted {cursor:default;visibility:visible;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Flag_Icon_Submitted', 1) + "')}",
        ".gig-comments-hires-icons *.gig-comment-flag-submitted {background-size:contain;background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Flag_Icon_Submitted') +
            "')}",
        // more
        '*.gig-comments-more {cursor:pointer;border-radius:3px; line-height: 38px;border: 1px solid #F7F6F6; background-color:#F9F9F9;text-align:center;}',
        '*.gig-comments-more:hover {background-color: #E5E5E5}',
        "*.gig-comments-more-progress {cursor:default;width:100%;height:38px;background-repeat:no-repeat;background-position:center center; background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('progress_ani_gif', 0, 'gif') +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-more-progress {background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('progress_ani_gif', 0, 'gif') + "')}",
        '*.gig-comments-more-progress:hover {background-color:#F9F9F9;}',
        // dialog
        '*.gig-comments-dialog {min-width: 367px;min-height:140px;border: 6px solid #858585; border-radius: 5px; background-color:#FFFFFF;}',
        "*.gig-comments-dialog-close {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('close_icon', 1) +
            "'); width:15px; height:15px; float:right; cursor:pointer;}",
        ".gig-comments-hires-icons *.gig-comments-dialog-close {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('close_icon') +
            "'); background-size: contain;}",
        '*.gig-comments-dialog-caption-container {overflow:hidden;background-color: #f3f3f3; padding: 5px 5px 5px 12px;overflow:auto;zoom:1;font-size: 14px;font-weight:bold;color: #4d4d4d;}',
        '*.gig-comments-dialog-caption {display:inline-block;float:left;}',
        '*.gig-comments-dialog-body{padding:24px 12px 12px 12px;}',
        '*.gig-comments-dialog-buttons{margin-top:12px;text-align:right;margin: 20px;}',
        '*.gig-comments-dialog-text {margin-bottom:10px;}',
        '*.gig-comments-dialog-textbox-container {float:left}',
        '*.gig-comments-dialog-textbox {width: 260px;color: #4D4D4D;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;padding:0 4px;background-color:white;border: 1px solid #C0C0C0;height:24px;box-shadow:inset 0 0 4px #DCDCDC; -moz-box-shadow:inset 0 0 4px #DCDCDC; -webkit-box-shadow:inset 0 0 4px #DCDCDC;}',
        "*.gig-comments-dialog-subscribe-okIcon {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('ok_icon', 1) +
            "');width:14px;height:14px;position:relative;top:2px;margin-right:2px;display:inline-block;}",
        ".gig-comments-hires-icons *.gig-comments-dialog-subscribe-okIcon {background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('ok_icon') + "');}",
        '*.gig-comments-dialog-button {',
        'line-height:22px;font-size:12px;margin-left:7px;font-weight:bold;min-width: 50px;',
        'position:relative;border-radius: 3px; color:#4d4d4d;cursor:pointer;',
        'font-size: 11px;padding: 0 5px; border: 1px solid #C5C7C7;display:inline-block;zoom:1;vertical-align:middle; text-align:center;',
        'box-shadow:0 0 2px RGBA(0,0,0,0.15);-webkit-box-shadow:0 0 2px RGBA(0,0,0,0.15);-moz-box-shadow:0 0 2px RGBA(0,0,0,0.15);',
        'gradient(#FFFFFF,#EAEBEB)}}',
        '*.gig-comments-dialog-button:hover {',
        'color:#b4b4b4;cursor:default;',
        'gradient(#EBEBEB,#FFFFFF)}',
        '*.gig-comments-dialog-error {color: #ce585a;font-size:11px;margin-top:5px;clear:both;}',
        '*.gig-comments-dialog-textbox-button {}',
        //composebox
        '*.gig-composebox {margin-bottom: 23px;}',
        '*.gig-composebox-login {}',
        '*.gig-composebox-login div {display:inline-block;line-height:30px;font-weight: bold; }',
        '*.gig-composebox-or {margin: 0 10px;}',
        '*.gig-composebox-social-login, *.gig-composebox-guest-login, *.gig-composebox-site-login {',
        'border-radius: 3px;cursor:pointer;padding: 0 15px;font-size: 14px;box-shadow: inset 1px 1px #fff;border: solid 1px #e2e2e2;',
        'gradient(#f5f5f5,#f1f1f0);',
        '}',
        '*.gig-composebox-social-login:hover, *.gig-composebox-guest-login:hover, *.gig-composebox-site-login:hover {gradient(#EFEFEF,#E1E1E1);}',
        '*.gig-composebox-social-login {padding:0 9px;background-repeat:no-repeat;background-position:right center;gradient(#f5f5f5,#f1f1f0);}',
        '*.gig-composebox-social-login:hover {gradient(#EFEFEF,#E1E1E1);}',
        "*.gig-composebox-login-icon {background-position:center;display:inline-block;width: 36px; height:17px;margin:0 7px;vertical-align:middle;background-repeat:no-repeat;background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Login-icons-fb_tw', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-composebox-login-icon {background-size:contain;background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Login-icons-fb_tw') +
            "')}",
        "*.gig-composebox-login-drop-icon {background-position:center;display:inline-block;width: 9px; height:17px;vertical-align:middle;background-repeat:no-repeat;background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Login_icons_arrow', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-composebox-login-drop-icon {background-size:contain;background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Login_icons_arrow') +
            "')}",
        '*.gig-composebox-header { transition-property:max-height; overflow:hidden; margin-bottom:4px; }',
        '.gig-composebox-open *.gig-composebox-header { margin-bottom:4px;}',
        '.gig-comments-reviews .gig-composebox-header, .gig-comments-reviews .gig-composebox-open .gig-composebox-header {max-height:none;}',
        '*.gig-composebox-header-left {float:left;}',
        '*.gig-composebox-header-right {float:right;}',
        '*.gig-composebox-header-right *, *.gig-composebox-header-left * {vertical-align:bottom;}',
        '*.gig-composebox-title, *.gig-composebox-name {display:inline-block;font-size:14px;font-weight:bold;margin:0 5px 0 0;}',
        '*.gig-composebox-logout {cursor:pointer;display:inline-block;font-size:11px; color: #999999;}',
        '*.gig-composebox-logout span {font-size:12px; color:#0796c6}',
        '*.gig-composebox-logout:hover span {text-decoration:underline}',
        '*.gig-composebox-close {visibility:hidden;}',
        "*.gig-comment-replybox *.gig-composebox-close {visibility:visible; display:inline-block; margin-left:5px; cursor:pointer; width: 15px; height: 15px; background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('close_icon', 1) +
            "'); background-position:center; background-repeat:no-repeat;}",
        ".gig-comments-hires-icons *.gig-comment-replybox *.gig-composebox-close {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('close_icon') +
            "'); background-size: contain; }",
        '*.gig-comment-replybox *.gig-composebox-close:hover { background-color: #ebebeb; }',
        '*.gig-composebox-follow {font-size:13px;cursor:pointer;display:inline-block; color:#919191;padding-left: 12px;',
        "background-repeat: no-repeat; background-position: left center;background-size: 8px 8px;background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Follow', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-composebox-follow {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Follow') + "')}",
        "*.gig-composebox-following {background-size: 8px 8px;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Following', 1) + "')}",
        ".gig-comments-hires-icons *.gig-composebox-following {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Following') + "')}",
        "*.gig-composebox-following:hover {background-size: 8px 8px;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Unfollow', 1) + "')}",
        ".gig-comments-hires-icons *.gig-composebox-following:hover {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Unfollow') + "')}",
        '*.gig-composebox-photo {float:left;width: 37px;height:37px}',
        '*.gig-composebox-data {padding-left:47px;}',
        '*.gig-comments-composebox *.gig-composebox-data {margin-bottom:20px;}',
        '*.gig-composebox-footer {display:none;overflow:hidden;margin-top:4px;}',
        '.gig-composebox-open *.gig-composebox-footer {display:block;}',
        '*.gig-composebox-footer-left, *.gig-composebox-footer-right {padding: 2px 0;}',
        '*.gig-composebox-footer-left {float:left;}',
        '*.gig-composebox-footer-right {float:right;}',
        '*.gig-composebox-cancel {cursor:pointer; padding: 0 18px; font-size: 14px; font-weight:bold; color: #484848; display:inline-block;',
        'line-height: 28px; border-radius: 3px; background-color: #484848; box-shadow: 1px 1px rgba(255, 255, 255, 0.4) inset;',
        'border: 1px solid #bfbfbf; gradient(#e2e2e2, #bfbfbf); margin-right: 6px;}',
        '*.gig-composebox-cancel:hover {gradient(#e2e2e2, #bfbfbf);}',
        '*.gig-composebox-post {cursor:pointer;padding: 0 18px; font-size: 14px; font-weight:bold; color: #FFFFFF; display:inline-block;',
        'line-height: 28px; border-radius: 3px; background-color: #D8D8D8; box-shadow: 1px 1px rgba(255, 255, 255, 0.4) inset;',
        'border: 1px solid #51AE48; gradient(#88cb82,#72c26d);}',
        '*.gig-comments-button {cursor: -moz-user-select: none; -khtml-user-select: none; -webkit-user-select:none; -o-user-select:none; }',
        '*.gig-composebox-post:hover {gradient(#7AB574,#68AF63);}',
        '*.gig-composebox-postAnonymously {display:inline-block;}',
        '*.gig-composebox-anon-text { vertical-align:middle;display:inline-block;font-family:arial;font-size:12px;color:#999999;padding:0 10px 0 5px;}',
        '*.gig-composebox-anon-checkbox { vertical-align:middle;}',
        '*.gig-composebox-summary {display:none;padding: 9px;}',
        '.gig-composebox-open *.gig-composebox-summary {display:block;margin-bottom:5px;}',
        '*.gig-composebox-summary input {width:100%;border:none;color:#585858;}',
        '*.gig-composebox-editor {text-align: right;padding: 0 9px 9px 9px;}',
        '*.gig-composebox-editor-with-sidebar {padding: 0 29px 9px 9px;}',
        '*.gig-composebox-editor, *.gig-composebox-summary {',
        'background-color: #FFFFFF; border: 1px solid #D5D5D5; ',
        'border-radius: 3px;box-shadow: 0 0 5px rgba(0, 0, 0, 0.05) inset; border: solid 1px #d5d5d5;}',
        '*.gig-composebox-textarea { line-height:18px;transition-property: min-height; text-align:left;cursor: text;min-height:17px;resize: none;border:none;margin-top:9px; outline:none}',
        '*.gig-composebox-textarea, *.gig-composebox-textarea * {color:#585858;font-size: 14px;}',
        'textarea.gig-composebox-textarea {overflow:hidden;width:100%;display:block;height:17px;}',
        '.gig-composebox-open textarea.gig-composebox-textarea {height:65px;}',
        '.gig-composebox-open *.gig-composebox-textarea {min-height:69px;}',
        '*.gig-composebox-textarea, *.gig-composebox-textarea *, *.gig-composebox-summary input {font-size:12px;}',
        '*.gig-composebox-textarea:empty:not(:focus):before {color:#999; content:attr(data-placeholder);}',
        'ul.gig-composebox-sidebar {display:none;background-color:#FFFFFF;float:right;margin-right:-29px;}',
        'ul.gig-composebox-sidebar {transition-property:opacity;opacity:0;}',
        '.gig-composebox-open *.gig-composebox-sidebar {opacity:1;display:inline-block;}',
        '.gig-comments-hires-icons *.gig-composebox-sidebar-button {background-size: 18px 18px; }',
        '*.gig-composebox-sidebar-button {border-radius:0px;background-color: #f0f0f0; width: 29px;height:29px;display:block;background-color:#F7F3F7;}',
        '*.gig-composebox-sidebar-button:last-child:nth-child(-n+2) { border-radius:0 0 0 3px; }',
        '*.gig-composebox-sidebar-button:hover, *.gig-composebox-sidebar-button-down {background-color: #f1f1f1;box-shadow: inset 0 0 9px rgba(0,0,0,.26);}',
        "*.gig-composebox-sidebar-font {cursor:pointer;width: 29px;height:29px;background-repeat:no-repeat;background-position:center; background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rich_Text_up', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-composebox-sidebar-font {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Rich_Text_up') + "')}",
        "*.gig-composebox-sidebar-font:hover, *.gig-composebox-sidebar-font.gig-composebox-sidebar-button-down {background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rich_Text_hover', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-composebox-sidebar-font:hover, .gig-comments-hires-icons *.gig-composebox-sidebar-font.gig-composebox-sidebar-button-down {background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rich_Text_hover') +
            "')}",
        "*.gig-composebox-sidebar-tag {cursor:pointer;width: 29px;height:29px;background-repeat:no-repeat;background-position:center; background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('User_tagging_up', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-composebox-sidebar-tag {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('User_tagging_up') + "')}",
        "*.gig-composebox-sidebar-tag:hover, *.gig-composebox-sidebar-tag.gig-composebox-sidebar-button-down {background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('User_tagging_hover', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-composebox-sidebar-tag:hover, *.gig-composebox-sidebar-tag.gig-composebox-sidebar-button-down {background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('User_tagging_hover', 1) +
            "')}",
        "*.gig-composebox-sidebar-media {cursor:pointer;width: 29px;height:29px;background-repeat:no-repeat;background-position:center; background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Media_up', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-composebox-sidebar-media {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Media_up') + "')}",
        "*.gig-composebox-sidebar-media:hover, *.gig-composebox-sidebar-media.gig-composebox-sidebar-button-down {background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Media_hover', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-composebox-sidebar-media:hover, .gig-comments-hires-icons *.gig-composebox-sidebar-media.gig-composebox-sidebar-button-down {background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Media_hover') +
            "')}",
        '*.gig-composebox-field-error {border: 1px solid #F9888E;}',
        '*.gig-composebox-error {border-radius:3px;color: #FFFFFF;text-align:center;line-height:22px;background:#F9888E;margin-bottom:7px;display:none;font-weight:bold;font-size:13px;}',
        '*.gig-composebox-postAnonymously { cursor:pointer; vertical-align:top; padding-top:4px;}',
        '*.gig-comments-checkbox { width: 10px;height: 10px; border:1px solid #C6C6C6;display:inline-block;	border-radius: 1px; background-color: #fff;box-shadow: 0 0 5px rgba(189, 189, 189, 0.25) inset}',
        "*.gig-comments-checkbox-checked {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('shareToProviders/checkmark', 1) +
            "'); background-position:center; background-repeat:no-repeat;}",
        ".gig-comments-hires-icons *.gig-comments-checkbox-checked {background-size:contain; background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('shareToProviders/checkmark') +
            "');}",
        // self review
        '*.gig-selfreview-header {overflow:hidden;}',
        '*.gig-selfreview-header-left {float:left;}',
        '*.gig-selfreview-header-right {float:right;}',
        '*.gig-selfreview-summary-container, *.gig-selfreview-body-container {background-color:#EDEDED; margin: 5px 0;padding:6px 10px;border-radius:3px;}',
        '*.gig-selfreview-field-title {font-weight:bold;margin:0 7px 0 0;}',
        '*.gig-selfreview-nameAndLogout {padding: 0 0 0 47px;height:37px;}',
        '*.gig-selfreview-yourReview {font-weight:bold;color:#919191;margin-bottom:3px;}',
        '*.gig-selfreview-ratings {margin: 5px 0}',
        '*.gig-selfreview-rating .gig-comment-rating-value {margin-left:2px; }',
        '*.gig-selfreview-rating-_overall .gig-comment-rating-value {margin-left:0px; }',
        '*.gig-selfreview-rating-_overall.gig-selfreview-rating {margin-bottom:5px;}',
        //guestbox
        '*.gig-comments-guestbox {transition-property: max-height;background-color:#FFFFFF;border: 1px solid #E2E2E2; border-radius: 0 3px 3px 3px; overflow:hidden;width:150px;font-size:10px;color:#919191;padding: 0 13px 0 13px}',
        '*.gig-comments-guestbox input {width:150px;border-radius:3px; height:24px; line-height:22px;color:#919191;border:1px solid #C0C0C0;padding-left:2px;}',
        '*.gig-guestbox-fields {margin: 16px 0 0px;}',
        '*.gig-guestbox-nickname {margin: 0px 0 10px;}',
        '*.gig-guestbox-text {font-size:10px;margin: 5px 0;}',
        '*.gig-guestbox-ok {margin-bottom: 8px;float:right;display:inline-block;cursor:pointer;padding: 0 9px;font-weight: bold;color: #222121;text-shadow: 0 2px rgba(255, 255, 255, .4);',
        'line-height: 22px;border-radius: 3px;background-color: #f2f2f2;box-shadow: 0 1px 3px rgba(0, 0, 0, .25), inset 0 0 2px rgba(255, 255, 255, .24);',
        'border: solid 1px #c4c7cd; }',
        '*.gig-guestbox-error {margin-left: 4px; display:inline-block;color:#e70707;font-size:10px;width:100px;float:left;margin-bottom: 8px;}',
        //loginbox
        '*.gig-comments-loginbox {transition-property: max-height;background-color:#FFFFFF;border: 1px solid #E2E2E2; border-radius: 0 0 3px 3px; overflow:hidden;min-width:115px;font-size:10px;color:#919191;}',
        '*.gig-comments-loginbox-open {}',
        '*.gig-loginbox-provider {background-repeat:no-repeat; background-position:left center; margin-left:9px; padding:8px 8px 8px 22px; cursor:pointer;border-bottom: 1px solid #EAEAEA}',
        '*.gig-loginbox-provider:last-child {border-bottom:none;}',
        '*.gig-loginbox-provider:hover {background-color:#F9F9F9}',
        '*.gig-loginbox-provider[data-provider=more] { padding-left:0px }',
        //sign in with box
        '*.gig-signinbox-provider {margin-left:8px; padding:8px 8px 8px 1px; cursor:default; border-bottom: 1px solid #EAEAEA}',
        // user tagging box
        '*.gig-comments-usertaggingbox { width:290px; border-radius:3px; background-color:#FFF; border: solid 1px #d5d5d5; font-family:arial; }',
        '*.gig-usertagging-title { color:#666666; background-color:#F4F4F4; font-size:10px; border-radius:2px; padding:7px; font-family:inherit; }',
        '*.gig-usertagging-suggestions { list-style-type:none; margin:0; padding:0px; font-family:inherit; font-size:12px; }',
        '*.gig-usertagging-suggestions li { cursor:pointer;padding-left:8px; border-top:solid 1px #eaeaea;height:18px;padding-top:4px;padding-bottom:4px;',
        '}',
        '*.gig-usertagging-suggestions li *.gig-usertagging-username { margin-left:8px;vertical-align:top;line-height:20px; }',
        '*.gig-usertagging-suggestions li *.gig-usertagging-userimage { border-radius:3px;width:18px;height:18px; }',
        '*.gig-usertagging-suggestions li.gig-usertagging-selected { background-color:#f9f9f9; }',
        '*.gig-usertagging-tag { -webkit-appearance: none; border-radius:8px 9px 9px 8px / 8px 8px 10px 10px; background-color:#d5e4f2; border-style:none; padding:0px 4px 0px 4px;',
        ' }',
        // share to
        '*.gig-composebox-share {vertical-align:top;overflow:hidden;background-color:#F4F4F4; border-radius:3px; padding-left:4px;}',
        '*.gig-comment .gig-composebox-share {border: 1px solid #E8E8E8}',
        '*.gig-composebox-share-text {line-height:26px;vertical-align:top;display:inline-block;color:#999999;}',
        '*.gig-composebox-share-providers {display:inline-block;}',
        '*.gig-comments-share-provider {display:none;height:18px;width:36px;background-position: 23px center;padding:4px 3px;background-repeat:no-repeat;cursor:pointer; border-right: 1px solid #FFFFFF;}',
        '.gig-comments-hires-icons *.gig-comments-share-provider {background-size:16px 16px}',
        '*.gig-comments-share-provider-shown {display:inline-block;}',
        "*.gig-comments-share-more {cursor:pointer; vertical-align:top; padding:4px; display:inline-block; height:18px; width:16px; background-position:center; background-repeat:no-repeat; background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('sharetoProviders/Share_More_providers', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-share-more {background-size:8px 8px; background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('sharetoProviders/Share_More_providers') +
            "')}",
        '*.gig-comments-share-provider-checkbox { margin-top:3px; }',
        //            Share_More_providers.png
        // share to - more
        '*.gig-composebox-morebox {width: 265px;border: 5px solid #858585; border-radius:3px;}',
        '*.gig-composebox-morebox-caption {background-color:#F3F3F3;overflow:hidden;line-height: 15px;padding: 3px;}',
        '*.gig-composebox-morebox-title {margin-left:3px;font-weight:bold; float:left;background-color:#F3F3F3;overflow:hidden;color:#4D4D4D;}',
        "*.gig-composebox-morebox-close {float:right; background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('close_icon', 1) +
            "'); width:15px; height:15px; cursor:pointer; background-position:center; background-repeat:no-repeat;}",
        ".gig-comments-hires-icons *.gig-composebox-morebox-close {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('close_icon') +
            "'); background-size:contain;}",
        '*.gig-composebox-morebox *.gig-composebox-morebox-providers {padding: 0 6px; background-color:#FFFFFF;}',
        '*.gig-composebox-morebox *.gig-composebox-morebox-providers li {padding-left: 18px; margin: 4px 0; width: 105px;display:inline-block;background-repeat:no-repeat;cursor:pointer;background-size: 14px;}',
        // sortbox
        '*.gig-comments-sortbox {margin-top:9px;border-radius: 3px;background-color: #fff;box-shadow: -1px 2px 1px rgba(35,31,32,.07);border: solid 1px #b0b0b0;padding: 3px 8px;display:inline-block;}',
        '*.gig-comments-sortbox:before {content:"";width: 13px;right: 12px;height:7px;display:inline-block;position:absolute;top:-7px;background-image:url(\'' +
            CommentsUtils_1.Images.getPhotoFullName('Sort_dropdown_triangle', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-sortbox:before {background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('Sort_dropdown_triangle') + "')}",
        '*.gig-comments-sortbox li {color:#999999;cursor:pointer; min-width: 80px; padding: 7px 5px; border-bottom: 1px solid #EAEAEA;}',
        '*.gig-comments-sortbox li:last-child {border-bottom: none}',
        '*.gig-comments-sortbox li:hover {color:#848484;background-color:#F4F4F4;}',
        '*.gig-comments-sortbox-selected {font-weight:bold}',
        // fontbox
        '*.gig-comments-fontbox {padding-right: 8px;padding-top:7px;transition: opacity 0.25s; opacity:0; }',
        '*.gig-comments-fontbox ul:after {content:"";width: 8px;height:13px;display:inline-block;position:absolute;right:1px;top: 12px;background-image:url(\'' +
            CommentsUtils_1.Images.getPhotoFullName('Sidebar_box_thub', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-fontbox ul:after {background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('Sidebar_box_thub') + "')}",
        '*.gig-comments-fontbox ul {padding: 2px; width: 69px;background-color:#FFFFFF; border: 1px solid #B0B0B0; border-radius:2px;cursor:pointer;}',
        '*.gig-comments-fontbox li {border: 1px none #EEEEEE;width: 33px;height:33px;display:inline-block;background-position:center;background-repeat:no-repeat}',
        "*.gig-comments-fontbox *.gig-composebox-font-bold {border-right-style:solid;border-bottom-style:solid;background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rich_Text_bold', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-fontbox *.gig-composebox-font-bold {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rich_Text_bold') +
            "')}",
        "*.gig-comments-fontbox *.gig-composebox-font-italic {border-bottom-style:solid;background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rich_Text_italic', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-fontbox *.gig-composebox-font-italic {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rich_Text_italic') +
            "')}",
        "*.gig-comments-fontbox *.gig-composebox-font-underline {background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('Rich_Text_underline', 1) + "')}",
        ".gig-comments-hires-icons *.gig-comments-fontbox *.gig-composebox-font-underline {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rich_Text_underline') +
            "')}",
        "*.gig-comments-fontbox *.gig-composebox-font-bullets {border-left-style:solid;background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rich_Text_align', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-fontbox *.gig-composebox-font-bullets {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rich_Text_align') +
            "')}",
        // mediabox
        '*.gig-comments-mediabox { padding-right: 8px; transition: opacity 0.25s; opacity:0; ',
        ' }',
        '*.gig-mediabox-fields {  padding:12px 6px 10px; width:382px; border: solid 1px #b0b0b0; border-radius: 2px; background-color: #fff; -webkit-box-shadow: -1px 2px 1px rgba(35,31,32,.07); -moz-box-shadow: -1px 2px 1px rgba(35, 31, 32, .07); box-shadow: -1px 2px 1px rgba(35, 31, 32, .07); }',
        '*.gig-mediabox-fields:after { content:""; width: 8px; height:13px; position:absolute; display:inline-block; right:1px; top:12px; background-image:url(\'' +
            CommentsUtils_1.Images.getPhotoFullName('Sidebar_box_thub', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-mediabox-fields:after { background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('Sidebar_box_thub') + "')}",
        '*.gig-mediabox-url { vertical-align:top; padding-left:8px; margin-bottom:10px; margin-right:5px; width: 307px; height: 28px; border-radius: 3px; background-color: #fff; -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,.15); -moz-box-shadow: inset 0 0 5px rgba(0,0,0,.15); box-shadow: inset 0 0 5px rgba(0,0,0,.15); border: solid 1px #d5d5d5; }',
        '*.gig-mediabox-url:empty:before {color:#585858; content:attr(data-placeholder);}',
        '*.gig-mediabox-ok { vertical-align:top; cursor:pointer; text-align:center; display:inline-block; font-weight:bold; font-size:14px; color:#333333; line-height:28px; width: 57px; height: 28px; border-radius: 3px; background-color: #f2f2f1; box-shadow: inset 1px 1px #fff; -moz-box-shadow: inset 1px 1px #fff; -webkit-box-shadow: inset 1px 1px #fff; border: solid 1px #d5d5d5; gradient(#f5f5f5,#f1f1f0); }',
        '*.gig-mediabox-ok:hover { gradient(#efefef, #e9e9e9); }',
        '*.gig-mediabox-text { font-family:arial; font-size:12px; color:#666666; line-height:14px; }',
        // mediaitems display
        '*.gig-composebox-media-display { margin-bottom:12px; }',
        '*.gig-media-caption { font-family:arial; font-size:12px; color:#666666; line-height:17px; margin:4px 12px 0px 1px; }',
        '*.gig-media-caption-text { text-overflow:ellipsis;white-space:nowrap;overflow:hidden;word-wrap:normal; }',
        '*.gig-media-caption-url { display:block; padding-left:23px; text-decoration:underline; word-wrap:normal; color:#0796c6; cursor:pointer; font-size:12px; text-overflow:ellipsis; white-space:',
        'nowrap; overflow:hidden; vertical-align:text-top; background-repeat:no-repeat; background-position:left; background-size: contain;}',
        '*.gig-media-thumbnail { height: 303px; }',
        '*.gig-media-thumbnail-image { margin:auto; display:block; }',
        '*.gig-media-overlay { position:relative;top:-303px;height:0px; }',
        "*.gig-media-play { display:none; opacity:0.85; width: 75px; height: 45px; border-radius: 10px; background-color: #545454; background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('media_play', 1) +
            "'); ",
        'background-position:center center; background-repeat:no-repeat; cursor:pointer; position:relative;',
        'box-shadow: 0 -1px 3px rgba(0,0,0,.4), inset 0 1px rgba(255,255,255,.29); -moz-box-shadow: 0 -1px 3px rgba(0,0,0,.4), inset 0 1px rgba(255,255,255,.29); -webkit-box-shadow: 0 -1px 3px rgba(0,0,0,.4), inset 0 1px rgba(255,255,255,.29); }',
        ".gig-comments-hires-icons *.gig-media-play { background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('media_play') + "'); }",
        '*.gig-media-play:hover { background-color:#666565; }',
        '*.gig-media-cancel { cursor:pointer; margin-top:-18px; margin-right:0px; float:right; width: 13px; height: 13px; border-radius: 2px; background-color: #c9c6c6;',
        'box-shadow: inset 0 0 9px rgba(0, 0, 0, .26); -moz - box-shadow: inset 0 0 9px rgba(0, 0, 0, .26); -webkit - box-shadow: inset 0 0 9px rgba(0, 0, 0, .26);',
        "background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('media_close_icon', 1) + "'); background-position:center center; background-repeat:no-repeat; }",
        ".gig-comments-hires-icons *.gig-media-cancel {background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('media_close_icon') + "'); }",
        '*.gig-media-cancel:hover { background-color: #ebebeb; }',
        // mediaitems - specific to comment display
        '*.gig-comment-mediaitem { margin-top:7px; }',
        '*.gig-comment-content .gig-media-thumbnail-image { margin-left:0px; margin-right: 0px; }',
        '*.gig-comment-content .gig-media-caption { margin:8px 12px 0px 0px; }',
        // mediaitems - specific to preview (composebox)
        '*.gig-composebox-media-preview { padding-left:4px; padding-right:4px; border-radius: 0px 0px 3px 3px; background-color: #fff; -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,.15); -moz-box-shadow: inset 0 0 5px rgba(0,0,0,.15); box-shadow: inset 0 0 5px rgba(0,0,0,.15);',
        "border: solid 1px #d5d5d5; border-top:none; padding-top:23px; padding-bottom:5px; background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('media_loader_gif', 1, 'gif') +
            "'); background-repeat:no-repeat; background-position:center center; }",
        ".gig-comments-hires-icons *.gig-composebox-media-preview { background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('media_loader_gif', 0, 'gif') + "');}",
        '*.gig-composebox-editor-with-media { border-radius:3px 3px 0px 0px; }',
        // mediaitems player
        "*.gig-comments-mediaplayer-dimmer { top:0px;left:0px;height:100%;width:100%;transition:opacity 0.25s;position:fixed; filter: 'alpha(opacity=50)';background-color:black;}",
        '*.gig-comments-mediaplayer { top:50%;left:50%;transition:opacity 0.25s;padding-left:18px;padding-right:18px; position:fixed;background-color:#ffffff;border-radius:3px; }',
        '*.gig-comments-mediaplayer-top { height:14px;padding-top:3px;padding-bottom-2px;padding-right:3px; }',
        '*.gig-comments-mediaplayer-top .gig-media-cancel { margin-right:-18px;padding-right:0px;margin-top:0px; }',
        '*.gig-comments-mediaplayer-bottom { margin:5px 0px 5px 0px; background-color:#d5d6d6; border-radius:3px; }',
        '*.gig-comments-mediaplayer-caption { background-size:contain; background-repeat:no-repeat; background-position:left;font-size:13px;font-family:arial; padding-left:23px;line-height:17px; }',
        // updates
        '*.gig-comments-updates {transition-property: opacity, height; height:0; opacity:0; visibility:hidden; border-radius:3px; background-color:#90D890;}',
        '*.gig-comments-updates-visible {opacity:1; visibility:visible; height:25px; margin: 5px 0;}',
        '*.gig-comments-updates-text {text-align:center; line-height: 25px; color:#FFFFFF; font-weight:bold;}',
        '*.gig-comments-updates-link {cursor:pointer; font-size:12px; color: #FFFFFF;}',
        '*.gig-comments-updates-full {text-align:right;}',
        '*.gig-comments-updates-full .gig-comments-updates-link {display:inline-block; line-height: 25px;top: -25px; position:relative; margin-right: 11px;',
        "padding-left:15px;background-repeat:no-repeat;background-position:left center; background-size:11px 11px; background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Pause_Stream', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-updates-full .gig-comments-updates-link {background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Pause_Stream') +
            "')}",
        "*.gig-comments-updates-full .gig-comments-updates-link:hover { background-size:11px 11px; background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Pause_Stream_hover', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-updates-full .gig-comments-updates-link:hover { background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Pause_Stream_hover') +
            "')}",
        "*.gig-comments-updates-full.gig-comments-updates-paused .gig-comments-updates-link {background-size:11px 11px; background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Resume_Stream', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-updates-full.gig-comments-updates-paused .gig-comments-updates-link {background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Resume_Stream') +
            "')}",
        "*.gig-comments-updates-full.gig-comments-updates-paused .gig-comments-updates-link:hover {background-size:11px 11px; background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Resume_Stream_hover', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-updates-full.gig-comments-updates-paused .gig-comments-updates-link:hover {background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('Resume_Stream_hover') +
            "')}",
        '*.gig-comments-updates-countonly {text-align:center;}',
        '*.gig-comments-updates-countonly .gig-comments-updates-text {display:inline-block}',
        '*.gig-comments-updates-countonly .gig-comments-updates-link {display:inline-block; margin-left:5px; font-weight:bold; text-decoration:underline;}',
        '*.gig-comments-updates-countonly .gig-comments-updates-link:hover {text-decoration:none;}',
        // title (summary and rating)
        '*.gig-comment-title * {vertical-align:bottom;display:inline-block;}',
        '*.gig-comment-title {margin-bottom:8px;}',
        "*.gig-comment-rating-drop {margin: 0 3px; cursor:pointer; width: 13px; height: 14px;0 7px 0 2px;vertical-align:bottom;background-repeat:no-repeat;background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rating_Drop_Icon', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comment-rating-drop {background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('Rating_Drop_Icon', 1) + "')}",
        "*.gig-comment-rating-drop:hover, *.gig-comment-rating-drop-down {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rating_Drop_Icon_hover', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comment-rating-drop:hover, *.gig-comment-rating-drop-down {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Rating_Drop_Icon_hover', 1) +
            "')}",
        '*.gig-comment-rating-title, *.gig-comment-rating-value, *.gig-composebox-rating-title, *.gig-composebox-rating-value {display:inline-block;vertical-align:top;}',
        '*.gig-comment-rating-title {margin:0 10px 0 0;vertical-align:bottom;min-width:53px;}',
        '*.gig-composebox-rating-value {margin-left:3px; }',
        '*.gig-composebox-rating-title {margin-right:10px;vertical-align:bottom;}',
        "*.gig-comment-rating-star, *.gig-composebox-rating-star, *.gig-selfreview-rating-star {display:inline-block;vertical-align:bottom;background-repeat:no-repeat;padding-right:3px; width: 16px; height:16px;background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Star_gray_small', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comment-rating-star, .gig-comments-hires-icons *.gig-composebox-rating-star, .gig-comments-hires-icons *.gig-selfreview-rating-star {background-size: contain;background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Star_gray_small') +
            "')}",
        "*.gig-comment-rating-star-full, *.gig-composebox-rating-star-full, *.gig-selfreview-rating-star-full {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Star_yellow_small', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comment-rating-star-full, .gig-comments-hires-icons *.gig-composebox-rating-star-full, .gig-comments-hires-icons *.gig-selfreview-rating-star-full {background-size: contain;background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Star_yellow_small') +
            "')}",
        '*.gig-comment-rating-dimensions {display:inline-block;margin-top:9px;position:absolute;padding: 10px;background-color:#FFFFFF;box-shadow: -1px 2px 1px rgba(35,31,32,.07);border: 1px solid #B0B0B0;border-radius:2px;white-space:nowrap}',
        '*.gig-comment-rating-dimensions:before {margin-left: -7px;content:"";width: 13px;height:7px;display:inline-block;position:absolute;top:-7px;background-image:url(\'' +
            CommentsUtils_1.Images.getPhotoFullName('Sort_dropdown_triangle', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comment-rating-dimensions:before {background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('Sort_dropdown_triangle') + "')}",
        '*.gig-composebox-rating-star {cursor:pointer;}',
        '*.gig-composebox-ratings {margin-bottom:5px;}',
        '*.gig-composebox-rating-_overall .gig-composebox-rating-value {margin-left:0 }',
        '*.gig-composebox-rating-_overall {font-weight:bold;margin: 5px 0;}',
        '*.gig-composebox-rating-_overall .gig-composebox-rating-star, *.gig-composebox-rating-_overall.gig-composebox-field-error:hover .gig-composebox-rating-star, *.gig-selfreview-rating-_overall .gig-selfreview-rating-star ',
        "{padding-right: 4px; width: 21px; height: 20px; background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Star_gray_big', 1) + "')}",
        '.gig-comments-hires-icons *.gig-composebox-rating-_overall .gig-composebox-rating-star, .gig-comments-hires-icons *.gig-composebox-rating-_overall.gig-composebox-field-error:hover .gig-composebox-rating-star, .gig-comments-hires-icons *.gig-selfreview-rating-_overall .gig-selfreview-rating-star ',
        "{background-size:contain;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Star_gray_big') + "')}",
        '*.gig-composebox-rating-_overall .gig-composebox-rating-star-full, *.gig-composebox-rating-_overall.gig-composebox-field-error:hover .gig-composebox-rating-star-full, *.gig-selfreview-rating-_overall .gig-selfreview-rating-star-full ',
        "{background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Star_yellow_big', 1) + "')}",
        '.gig-comments-hires-icons *.gig-composebox-rating-_overall .gig-composebox-rating-star-full, .gig-comments-hires-icons *.gig-composebox-rating-_overall.gig-composebox-field-error:hover .gig-comments-hires-icons .gig-composebox-rating-star-full, .gig-comments-hires-icons *.gig-selfreview-rating-_overall .gig-selfreview-rating-star-full ',
        "{background-size:contain;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Star_yellow_big') + "')}",
        '*.gig-composebox-rating-_overall.gig-composebox-field-error {border: none;}',
        "*.gig-composebox-rating-_overall.gig-composebox-field-error .gig-composebox-rating-star {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Star_red_big', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-composebox-rating-_overall.gig-composebox-field-error .gig-composebox-rating-star {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Star_red_big') +
            "')}",
        // Colored
        '*.gig-comment-colored-background {border-radius:4px; padding: 3px 6px 6px 6px;}',
        'div.gig-comment-pinned-background {background-color: #fffcd2;}',
        // Highlighting Badges
        '*.gig-comment-withBadges *.gig-comment-header-right {text-align: right;}',
        '*.gig-comment-withBadges *.gig-comment-username { margin-bottom:5px; }',
        '*.gig-composebox-withBadges *.gig-composebox-logout  {display:block; }',
        '*.gig-composebox-withBadges *.gig-composebox-header-right {  text-align:right; margin-bottom: 4px;}',
        '*.gig-composebox-withBadges *.gig-composebox-title { position: relative; bottom: 7px; }',
        '*.gig-comment-commentBadge { display: inline-block; font-size:11px; font-weight: bold; background-repeat: no-repeat; padding-right: 22px; background-position: right; height:17px; line-height: 17px;}',
        '*.gig-comment-userBadge { margin-bottom: 5px; margin-right: 6px; display: inline-block; font-size:11px; font-weight: bold; line-height: 15px;}',
        '*.gig-badge-border {border: 1px solid; border-radius: 2px; padding: 0px 5px;}',
        // editbox
        '*.gig-comment .gig-comment-editbox {display:none;background-color:#F6F6F6; padding:4px 6px 4px 6px; margin-left:-41px;}',
        '*.gig-comment .gig-comment-editbox .gig-composebox-ratings * {color:#585858;}',
        '*.gig-comment .gig-comment-editbox-open {display:block; margin-bottom: 10px;}',
        "*.gig-comment-editbox *.gig-composebox-close {display:inline-block; margin-left:5px; cursor:pointer; width: 15px; height: 15px; background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('close_icon', 1) +
            "'); background-position:center; background-repeat:no-repeat;}",
        ".gig-comments-hires-icons *.gig-comment-editbox *.gig-composebox-close {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('close_icon') +
            "'); background-size: contain; }",
        '*.gig-comment-editbox *.gig-composebox-close:hover { background-color: #ebebeb; }',
        '*.gig-comment-edited {font-size: 11px; display:inline-block; margin:2px 0 0 5px; float:right; font-style:italic; color:#999999}',
        '*.gig-comment-data-removed {margin-left: -41px;}',
        '*.gig-comment-data-removed .gig-comment-content {padding-left: 0px;}',
        '*.gig-comment-data-removed .gig-comment-body {color:#999999; font-size:12px; font-style:italic; line-height:16.5px;}',
        '*.gig-comment-data-removed .gig-comment-footer {margin: 4px 0px 10px; padding-left: 0px;}',
        '*.gig-comment-data-removed .gig-comment-footer .gig-comment-footer-left .gig-comment-flag {display: none;}',
        '*.gig-comment-data-removed .gig-comment-footer-right, *.gig-comment-data-removed .gig-comment-header {display:none;}',
        '*.gig-comment-data-removed .gig-comment-replyLink , *.gig-comment-data-removed .gig-comment-likeLink , *.gig-comment-data-removed .gig-comment-shareLink , *.gig-comment-data-removed .gig-comment-deleteLink , *.gig-comment-data-removed .gig-comment-editLink {display:none;}',
        '*.gig-comment-data-removed .gig-comment-content {transition: none; -webkit-transition: none}',
        '*.gig-comment-data-removed .gig-comment-content {transition: none; -webkit-transition: none}',
        '*.gig-comment-title-removed {display:none;}',
        '*.gig-comment-photo-removed {display:none;}',
    ].join(''),
    rtl: [
        '*.gig-comment-data {padding-left:0;padding-right:41px;}',
        '*.gig-comment-footer-right, *.gig-comments-header-right, *.gig-composebox-footer-right, *.gig-composebox-header-right, *.gig-comment-header-right, *.gig-comments-dialog-close, *.gig-comments-dialog-button, *.gig-selfreview-header-right {float:left}',
        '*.gig-comment-footer-left, *.gig-comments-header-left, *.gig-composebox-footer-left, *.gig-composebox-header-left, *.gig-comment-header-left,*.gig-comments-dialog-caption,*.gig-comments-dialog-textbox-container, *.gig-selfreview-header-left, *.gig-composebox-photo, *.gig-comment-photo {float:right}',
        '*.gig-composebox-data {padding-left:0;padding-right: 47px;}',
        '*.gig-loginbox-provider {padding: 8px 22px 8px 8px;background-position:right center; margin-right:8px;}',
        '*.gig-composebox-editor-with-sidebar {padding: 0 9px 9px 29px;text-align:left;}',
        '*.gig-composebox-textarea {text-align:right}',
        '*.gig-comments-fontbox *.gig-composebox-font-bold {border-left-style:solid;border-right-style:none;}',
        '*.gig-comments-fontbox *.gig-composebox-font-bullets {border-right-style:solid;border-left-style:none;}',
        '*.gig-comments-share-provider-shown {background-position:6px;}',
        '*.gig-comments-share-provider {border-right:none;border-left:1px solid #FFFFFF}',
        '*.gig-comments-linksContainer li:after {margin-left:0;margin-right: 3px;}',
        '*.gig-comments-linksContainer li {margin-right:0;margin-left: 3px;}',
        '*.gig-composebox-follow {padding-right:12px;padding-left:0;background-position:right;}',
        '*.gig-comment-footer, *.gig-comment-replies {padding-left: 0;padding-right: 6px;}',
        '*.gig-comment-replybox *.gig-composebox-close {margin-left:0;margin-right:5px;}',
        '*.gig-comment-editbox *.gig-composebox-close {margin-left:0;margin-right:5px;}',
        '*.gig-comments-dialog-caption-container {padding: 5px 12px 5px 5px}',
        '*.gig-composebox-title {margin-right:0;margin-left:5px;}',
        '*.gig-comment .gig-comment-content {padding-left:0;padding-right:6px;}',
        '*.gig-composebox-morebox *.gig-composebox-morebox-providers li {padding-left:0; padding-right: 18px; background-position:right;}',
        '*.gig-comments-dialog-button {margin: 0 7px 0 0}',
        '*.gig-comments-updates-full {text-align:left;}',
        '*.gig-comments-updates-full .gig-comments-updates-link {margin: 0 0 0 11px;padding:0 15px 0 0; background-position:right center;}',
        '*.gig-comments-updates-countonly .gig-comments-updates-link {margin-right:5px;}',
        '*.gig-comments-fontbox {margin-left:8px;}',
        '*.gig-comments-fontbox ul:after {left:-7px;right:auto;-webkit-transform:rotate(180deg);transform:rotate(180deg);}',
        'ul.gig-composebox-sidebar {float:left;margin-left:-29px}',
        '*.gig-composebox-textarea ul, .gig-comment-body ul {padding-right:20px;}',
        '*.gig-selfreview-field-title {margin:0 0 0 7px;}',
        '*.gig-selfreview-nameAndLogout {padding: 0 47px 0 0;}',
        '*.gig-composebox-title, *.gig-composebox-name {margin:0 0 0 5px;}',
        '*.gig-comment-rating-title {margin:0 0 0 10px; min-width:53px;}',
        '*.gig-comment-providerLogo {text-align:left;}',
        '*.gig-comment-providerLogo img {margin-left:-2px;margin-right:0;}',
        '*.gig-comment-viaProvider {background-position:right center;padding: 0 12px 0 0;}',
        '*.gig-usertagging-suggestions li { padding-right:8px; }',
        '*.gig-usertagging-suggestions li *.gig-usertagging-username { margin-right:8px; }',
        '*.gig-comment-content .gig-media-caption { margin:8px 0px 0px 12px; }',
        '*.gig-media-caption-url { background-position:right; padding-right:23px; padding-left:0px; }',
        '*.gig-comments-mediaplayer-caption { background-position:right;padding-right:23px;text-align:right; }',
        '*.gig-mediabox-url { padding-right:8px; margin-left:5px;padding-left:0px;margin-right:0px; }',
        '*.gig-comments-mediabox { padding-right:0px;padding-left:8px; }',
        '*.gig-mediabox-fields:after { left:1px; right:auto; -webkit-transform:rotate(180deg);transform:rotate(180deg); }',
        '*.gig-composebox-sidebar-button:last-child:nth-child(-n+2) { border-radius:0 0 3px 0; }',
        '*.gig-composebox-sidebar-button { transform:scaleX(-1);-webkit-transform:scaleX(-1);-ms-transform:scaleX(-1); }',
        '*.gig-comment-vote-neg {margin: 0 15px 0 0;}',
        '*.gig-comment-repliesArrow-collapsed .gig-comment-repliesArrow-img {-webkit-transform:rotate(-270deg); transform:rotate(-270deg);}',
        '*.gig-comment-time {margin:2px 10px 0 0;}',
        '*.gig-composebox-cancel { margin-left: 6px; margin-right: 0px}',
        '*.gig-comment-edited { margin:2px 5px 0 0; float: left;}',
        '*.gig-comment .gig-comment-editbox {margin-left:0px;margin-right:-41px;}',
        '*.gig-comment-footer-right * {direction:ltr;text-align:right;}',
        '*.gig-comment-vote-posneg *.gig-comment-vote-neg {margin-left:0;margin-right:2px;}',
        '*.gig-comment-vote-total {margin-right:0;margin-left:5px;}',
        '*.gig-comment-data-removed {margin-right: -41px;}',
        // Highlighting Badges
        '*.gig-comment-userBadge { margin-right: 0px; margin-left: 6px;}',
        //'*.gig-comment-badge-image {margin-left: 0px; margin-right: 5px; }',
        '*.gig-comment-withBadges *.gig-comment-username { margin-right:0px; margin-left:6px; }',
        '*.gig-comment-withBadges *.gig-comment-time { float:left; margin-right:6px;}',
    ].join(''),
    mobile: [
        '.gig-comments-container {padding: 0 10px; -moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}',
        '.gig-comments-container * {transition: none;font-size:16px;-webkit-text-size-adjust:none;}',
        '*.gig-comments-linksContainer li {padding: 0 3px 0 0;margin-right:3px;}',
        '*.gig-comments-linksContainer li:after {margin-bottom:7px;margin-left:7px;}',
        '*.gig-comment-time {font-size: 13px;}',
        '*.gig-comment-footer * {font-size:15px}',
        '*.gig-composebox-follow {font-size:16px; padding-left: 20px;}',
        '*.gig-comments-share-provider {height:23px;background-position: 31px center;padding:4px 10px;width:39px;}',
        '*.gig-comments-checkbox {width: 16px;height: 16px; }',
        "*.gig-comments-checkbox-checked *.gig-comments-share-provider-checkbox {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('sharetoProviders/checkmark', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-comments-checkbox-checked *.gig-comments-share-provider-checkbox {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('sharetoProviders/checkmark') +
            "')}",
        '*.gig-composebox-share-text {line-height:30px;}',
        '*.gig-comments-share-more {height: 22px;}',
        '*.gig-comment-data {padding: 0}',
        '*.gig-comment-self-data {padding-left:41px;}',
        '*.gig-comment-replies {padding-left: 15px}',
        '.gig-composebox-open textarea.gig-composebox-textarea {height:45px;}',
        '*.gig-comment-replybox *.gig-composebox-close { vertical-align:middle; }',
        '*.gig-comment-editbox *.gig-composebox-close { vertical-align:middle; }',
        '.gig-composebox-open *.gig-composebox-textarea {min-height:45px;}',
        '*.gig-comments-dialog {width: auto;min-width:0;}',
        '*.gig-comments-dialog-textbox-button {float:right;margin-top:10px;}',
        '*.gig-comments-dialog-body {overflow:hidden}',
        '*.gig-composebox-textarea, *.gig-composebox-textarea *, *.gig-composebox-summary input {font-size:18px;}',
        '*.gig-comments-count {line-height:30px}',
        '*.gig-comment-vote-pos, .gig-comment-vote-neg {padding-left:30px;}',
        "*.gig-comment-vote-pos {background-size:27px 27px;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('mobile/Thumbs_up', 1) + "')}",
        ".gig-comments-hires-icons *.gig-comment-vote-pos {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('mobile/Thumbs_up') + "')}",
        "*.gig-comment-vote-pos-down{background-size:27px 27px;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('mobile/Thumbs_up_pressed', 1) + "')}",
        ".gig-comments-hires-icons *.gig-comment-vote-pos-down{background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('mobile/Thumbs_up_pressed') + "')}",
        "*.gig-comment-vote-neg {background-size:27px 27px;background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('mobile/Thumbs_down', 1) +
            "');background-position:0 6px}",
        ".gig-comments-hires-icons *.gig-comment-vote-neg {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('mobile/Thumbs_down') + "');}",
        "*.gig-comment-vote-neg-down {background-size:27px 27px;background-image: url('" +
            CommentsUtils_1.Images.getPhotoFullName('mobile/Thumbs_down_pressed', 1) +
            "');background-position:0 6px}",
        ".gig-comments-hires-icons *.gig-comment-vote-neg-down {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('mobile/Thumbs_down_pressed') + "');}",
        '*.gig-comment-footer-right div {height:31px;line-height:31px;}',
        '*.gig-composebox-header-left *, *.gig-composebox-header-right *, *.gig-composebox-logout span {font-size:15px;}',
        '*.gig-comment .gig-comment-replybox {margin-bottom:10px;}',
        '*.gig-comment .gig-comment-editbox {margin-bottom:10px;}',
        '*.gig-comment-flag {display:none}',
        '*.gig-comment-rating, *.gig-comment-rating-drop {margin-bottom:3px;}',
        '*.gig-comment-summary {margin-left:2px;}',
        '*.gig-comments-container.gig-comment-rating-dimensions {padding: 10px;}',
        '*.gig-composebox-rating, *.gig-selfreview-rating {padding: 3px 0; margin: 5px 0}',
        "*.gig-composebox-rating-star, *.gig-selfreview-rating-star {padding-right:4px;width: 21px; height:20px;background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Star_gray_big', 1) +
            "')}",
        ".gig-comments-hires-icons *.gig-composebox-rating-star, .gig-comments-hires-icons *.gig-selfreview-rating-star {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Star_gray_big') +
            "')}",
        "*.gig-composebox-rating-star-full, *.gig-selfreview-rating-star-full {background-image:url('" + CommentsUtils_1.Images.getPhotoFullName('Star_yellow_big', 1) + "')}",
        ".gig-comments-hires-icons *.gig-composebox-rating-star-full, .gig-comments-hires-icons *.gig-selfreview-rating-star-full {background-image:url('" +
            CommentsUtils_1.Images.getPhotoFullName('Star_yellow_big') +
            "')}",
        '*.gig-composebox-rating-value {margin:0;}',
        '*.gig-selfreview-rating .gig-comment-rating-value {margin: 2px 5px}',
        'ul.gig-comments-header-right {margin-left:10px}',
        //'*.gig-comments-header-right li {margin-top:0;}',
        '*.gig-comments-count {line-height:normal}',
        '*.gig-comment-footer-right {margin-left:10px;}',
        '*.gig-comment-footer-left, *.gig-comments-header-left *, *.gig-comments-linksContainer {line-height:31px;}',
        '*.gig-comments-linksContainer li:after {margin-bottom:10px;}',
        '*.gig-comments-guestbox {width: 178px;}',
        '*.gig-composebox-morebox {padding:0}',
        '*.gig-comments-updates-visible {height:auto;min-height:50px;}',
        '*.gig-comments-updates-full .gig-comments-updates-link {top:0}',
        //'*.gig-composebox-rating-star {padding: 0 7px}'
        '*.gig-comment-body, .gig-comment-body * {line-height:20px;}',
        '*.gig-composebox-withBadges *.gig-composebox-title { bottom: 5px; }',
        '*.gig-comment .gig-comment-editbox {margin-left:0;}',
    ].join(''),
    mobileRtl: [
        '*.gig-comment-replies {padding-left:0;padding-right:15px;}',
        '*.gig-comment-data {padding: 0}',
        '*.gig-comment-self-data {padding-left:0;padding-right:41px;}',
        '*.gig-comments-share-provider {background-position:11px;}',
        '*.gig-comment .gig-comment-editbox {margin-right:0;}',
    ].join(''),
    nonMobile: [
        '.gig-comments-container *  {font-size:12px;transition: none 500ms cubic-bezier(0.785, 0.135, 0.15, 0.86); -webkit-transition: none 500ms cubic-bezier(0.785, 0.135, 0.15, 0.86)}',
        '*.gig-comments-linksContainer li:hover, *.gig-comments-linksContainer a:hover {text-decoration:underline;text-decoration-skip:all}',
        "*.gig-comment-vote-pos:hover {background-size:14px 14px;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_up_hover', 1) + "')}",
        ".gig-comments-hires-icons *.gig-comment-vote-pos:hover {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_up_hover') + "')}",
        "*.gig-comment-vote-neg:hover {background-size:14px 14px;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_down_hover', 1) + "')}",
        ".gig-comments-hires-icons *.gig-comment-vote-neg:hover {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_down_hover') + "')}",
        '*.gig-comment-footer li:hover, *.gig-comment-repliesArrow:hover div {text-decoration:underline}',
        '*.gig-comment-self-data:hover *.gig-comment-flag, *.gig-comment-flag-visible {visibility:visible; }',
        "*.gig-comment-vote-pos-down:hover {background-size:14px 14px;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_up_pressed', 1) + "')}",
        ".gig-comments-hires-icons *.gig-comment-vote-pos-down:hover {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_up_pressed') + "')}",
        "*.gig-comment-vote-neg-down:hover {background-size:14px 14px;background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_down_pressed', 1) + "')}",
        ".gig-comments-hires-icons *.gig-comment-vote-neg-down:hover {background-image: url('" + CommentsUtils_1.Images.getPhotoFullName('Thumbs_down_pressed') + "')}",
    ].join(''),
};


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/EditCommentBox.ts":
/*!********************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/EditCommentBox.ts ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var BaseComposeBox_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/BaseComposeBox */ "./src/comments/Gigya.Comments.JsPlugin/app/BaseComposeBox.ts");
var CommentsUtils_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils.ts");
var Comments_Models_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/Comments.Models */ "./src/comments/Gigya.Comments.JsPlugin/app/Comments.Models.ts");
var EditCommentBox = /** @class */ (function (_super) {
    tslib_1.__extends(EditCommentBox, _super);
    function EditCommentBox(plugin, container, data, onClose) {
        return _super.call(this, plugin, container, data, onClose) || this;
    }
    EditCommentBox.prototype.render = function () {
        _super.prototype.render.call(this);
        this.populateFromCommentData();
        this.renderMediaItemIfNeeded();
        this.updateUI();
        this.activate();
    };
    EditCommentBox.prototype.renderMediaItemIfNeeded = function () {
        if (!this.data.mediaItems || this.data.mediaItems.length === 0)
            return;
        this.mediaItem = this.data.mediaItems[0];
        this.showMediaItemPreview();
        this.updateMediaItem();
    };
    EditCommentBox.prototype.populateFromCommentData = function () {
        if (this.uiElements.summaryInput && this.data.commentTitle) {
            this.uiElements.summaryInput.value = this.data.commentTitle;
            this.uiElements.summaryInput['refreshPlaceholder']();
        }
        if (this.uiElements.textArea && typeof this.data.commentText != 'undefined') {
            this.uiElements.textArea.innerHTML = this.data.commentText;
            CommentsUtils_1.UserTagging.replaceSpansWithUserTags(this.uiElements.textArea);
        }
    };
    EditCommentBox.prototype.submitCallback = function (response) {
        var oldDescendantsCountArr = [];
        var currCommentID = response['comment']['ID'];
        while (currCommentID) {
            var comment_1 = this.plugin.getComment(currCommentID);
            oldDescendantsCountArr.push({
                comment: comment_1,
                oldDescendantsCount: comment_1.descendantsCount,
            });
            currCommentID = comment_1.data.parentID;
        }
        _super.prototype.submitCallback.call(this, response);
        if (response['errorCode'] != 0)
            return;
        var comment = this.plugin.getComment(response['comment']['ID']);
        comment.data.replies = this.data.replies;
        for (var _i = 0, oldDescendantsCountArr_1 = oldDescendantsCountArr; _i < oldDescendantsCountArr_1.length; _i++) {
            var _a = oldDescendantsCountArr_1[_i], comment_2 = _a.comment, oldDescendantsCount = _a.oldDescendantsCount;
            comment_2.descendantsCount = oldDescendantsCount;
            comment_2.updateRepliesCount();
        }
        if (comment.data.status === 'pending') {
            this.plugin.streamInfo.commentCount--;
            this.plugin.updateCount();
        }
    };
    EditCommentBox.prototype.updateUI = function () {
        if (!this.plugin.user.isConnected) {
            this.close();
            return;
        }
        _super.prototype.updateUI.call(this);
    };
    //#region Overrides
    EditCommentBox.prototype.getSubmitText = function () {
        return this.getText('done');
    };
    EditCommentBox.prototype.submit = function () {
        var _this = this;
        var updateParams = {
            commentID: this.data.ID,
            commentText: this.plugin.settings.enableCommentBody != 'disabled' ? this.data.commentText : null,
            commentTitle: this.plugin.settings.enableCommentTitles != 'disabled' && !this.data.isReply() ? this.data.commentTitle : null,
            taggedUsers: this.plugin.settings.enableUserTagging ? this.data.taggedUsers : null,
            ratings: this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS ? this.data.ratings : null,
            callback: function (res) { return _this.submitCallback(res); },
        };
        if (this.plugin.settings.enableMediaItems)
            updateParams.mediaItems = this.data.mediaItems.length > 0 ? this.data.mediaItems[0].url : [];
        window.gigya.comments.updateComment(this.plugin.params, updateParams);
        var comment = this.plugin.getComment(this.data.ID);
        comment.data = this.data;
        comment.data.edited = true;
        comment.info = '';
        comment.error = '';
        comment.isPost = true;
        if (comment.isPostPending())
            comment.info =
                this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS && comment.level == 0
                    ? this.getText('your_edited_review_is_awaiting_moderation')
                    : this.getText('your_edited_comment_is_awaiting_moderation');
        this.close();
        comment.updateAll();
    };
    EditCommentBox.prototype.afterRender = function () {
        this.hideElement(this.uiElements.logoutLink);
        this.hideElement(this.uiElements.shareSection);
        this.hideElement(this.uiElements.postAnonymouslySection);
        this.hideElement(this.uiElements.loginBar);
        this.uiElements.logoutLink = null;
        this.uiElements.shareSection = null;
        this.uiElements.postAnonymouslySection = null;
        this.uiElements.loginBar = null;
    };
    EditCommentBox.prototype.getTitle = function () {
        return this.getText('editing') + '...';
    };
    return EditCommentBox;
}(BaseComposeBox_1.BaseComposeBox));
exports.EditCommentBox = EditCommentBox;


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/ImgBase.ts":
/*!*************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/ImgBase.ts ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
exports.imgBase = (window.gigya.thisScript ? window.gigya._.getCdnResource() : '') + '/gs/i/comments2/';


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/NewCommentBox.ts":
/*!*******************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/NewCommentBox.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
var BaseComposeBox_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/BaseComposeBox */ "./src/comments/Gigya.Comments.JsPlugin/app/BaseComposeBox.ts");
var ComposeShare_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/ComposeShare */ "./src/comments/Gigya.Comments.JsPlugin/app/ComposeShare.ts");
var CommentData_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentData */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentData.ts");
var Comments_Models_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/Comments.Models */ "./src/comments/Gigya.Comments.JsPlugin/app/Comments.Models.ts");
var NewCommentBox = /** @class */ (function (_super) {
    tslib_1.__extends(NewCommentBox, _super);
    function NewCommentBox(plugin, container, parentCommentID, onClose) {
        return _super.call(this, plugin, container, new CommentData_1.CommentData('newComment', parentCommentID), onClose) || this;
    }
    //#region Rendering the elements
    NewCommentBox.prototype.render = function () {
        // No need to render if nreadonly
        if (this.plugin.settings.readOnly || this.plugin.streamInfo.status == 'readOnly')
            return;
        _super.prototype.render.call(this);
        this.renderSelfReviewIfNeeded();
        this.renderShareOptions();
        this.renderPostAnonymously();
        this.updateUI();
    };
    NewCommentBox.prototype.renderShareOptions = function () {
        if (!this.uiElements.shareSection || !this.uiElements.shareProviders)
            return;
        var enabledProviders = this.plugin.params['enabledShareProviders'] || this.plugin.params['enabledProviders'] || '*';
        var disabledProviders = this.plugin.params['disabledShareProviders'] || this.plugin.params['disabledProviders'] || '';
        var arProviders = window.gigya.socialize.getProvidersByName(enabledProviders);
        arProviders = window.gigya.socialize.hideProvidersByName(arProviders, disabledProviders);
        arProviders = window.gigya.socialize.getProvidersForRequiredCapabilities(arProviders, ['actions']);
        this.share = new ComposeShare_1.ComposeShare(this.uiElements.shareProviders, this.plugin, arProviders, this.plugin.user.identities);
    };
    NewCommentBox.prototype.renderPostAnonymously = function () {
        if (!this.uiElements.postAnonymouslySection)
            return;
        if (!this.plugin.settings.allowAnonymous) {
            this.uiElements.postAnonymouslySection.parentElement.removeChild(this.uiElements.postAnonymouslySection);
        }
        else {
            this.updatePostAnonymously();
            var anonTooltip;
            if (this.plugin.textMode == Comments_Models_1.TextMode.COMMENTS)
                anonTooltip = this.getText('when_posting_anonymously,_other_users_will_not_see_your_personal_info_next_to_your_comment.');
            else
                anonTooltip = this.getText('when_posting_anonymously,_other_users_will_not_see_your_personal_info_next_to_your_review.');
            var arTooltip = anonTooltip.split(' ');
            for (var i = 6; i < arTooltip.length; i += 6) {
                arTooltip.splice(i, 0, ['\n']);
            }
            this.uiElements.postAnonymouslySection.setAttribute('title', arTooltip.join(' '));
        }
    };
    NewCommentBox.prototype.renderSelfReviewIfNeeded = function () {
        this.selfReview = this.plugin.getSelfReview();
        if (!this.selfReview || this.plugin.settings.allowMultipleReviewsPerUser || this.data.isReply())
            return false;
        this.container.innerHTML = window.gigya.utils.templates.fill(this.plugin.templates['myReview'], {
            logout: this.getText('logout'),
            your_review: this.getText('your_review'),
            summary: this.getText('summary_colon'),
            review: this.getText('review_colon'),
        });
        this.buildUIElementsObj();
        this.bindEvents();
        this.updateSelfReview();
        return true;
    };
    // TODO: should be merged with the code that draws rating dimensions for a new comment
    NewCommentBox.prototype.getSelfRatingDimensionElement = function (selfReview, dimension) {
        var ratingValue = selfReview.data.ratings[dimension];
        var elDimension = document.createElement('div');
        elDimension.innerHTML = this.plugin.templates['rating'];
        elDimension.className = 'gig-selfreview-rating gig-selfreview-rating-' + dimension;
        var dimTitle;
        if (dimension == '_overall') {
            dimTitle = this.getText('my_rating_colon');
        }
        else {
            var dimensions = this.plugin.settings.ratingDims;
            if (dimensions) {
                for (var i = 0; i < dimensions.length; i++) {
                    if (dimensions[i].id == dimension) {
                        dimTitle = dimensions[i].name + ':';
                        break;
                    }
                }
            }
        }
        if (!dimTitle)
            return;
        var elDimTitle = window.gigya.utils.DOM.getElementsByClass(elDimension, 'gig-comment-rating-title')[0];
        if (elDimTitle)
            elDimTitle.innerHTML = dimTitle;
        var elDimValue = window.gigya.utils.DOM.getElementsByClass(elDimension, 'gig-comment-rating-value')[0];
        if (elDimValue) {
            elDimValue.innerHTML = '';
            elDimValue.title = ratingValue.toString();
            for (var i = 0; i < 5; i++) {
                var elCurrStar = document.createElement('div');
                window.gigya.utils.DOM.addClassToElement(elCurrStar, 'gig-selfreview-rating-star');
                var starClass = '';
                if (i < Math.floor(ratingValue))
                    starClass = 'gig-selfreview-rating-star-full';
                window.gigya.utils.DOM.addClassToElement(elCurrStar, starClass);
                elDimValue.appendChild(elCurrStar);
            }
        }
        return elDimension;
    };
    //#endregion
    //#region Sharing
    NewCommentBox.prototype.getUserAction = function (commentData, userAction) {
        if (userAction === void 0) { userAction = null; }
        if (!userAction)
            userAction = this.data.isReply() ? this.plugin.params['replyUserAction'] : this.plugin.params['userAction'];
        if (!userAction) {
            userAction = new window.gigya.socialize.UserAction();
        }
        else {
            userAction = userAction.clone();
        }
        if (!userAction.title) {
            if (this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS && !this.data.isReply()) {
                if (commentData.ratings && commentData.ratings['_overall']) {
                    userAction.title = this.getText('i_rated_pagetitle_as_rating_5', '%rating', commentData.ratings['_overall'].toString()).replace('%pageTitle', document.title);
                }
                else {
                    userAction.title = this.getText('my_review_on_colon_pagetitle', '%pageTitle', document.title);
                }
            }
            else {
                userAction.title = this.getText('commented_on_colon_pagetitle', '%pageTitle', document.title);
            }
        }
        if (!userAction.linkBack)
            userAction.linkBack = window.gigya._.plugins.utils.URL.addOrReplaceHashFragment(document.location.href, 'gig_comment_id', '$commentID$');
        var p = document.createElement('p');
        p.innerHTML = commentData.commentText.replace(/<br>/g, '\n').replace(/<\/?div>/g, '\n');
        userAction.userMessage = p.innerText || p.textContent;
        var placeholders = {
            commentTitle: commentData.commentTitle,
            commentText: commentData.commentText,
            rating: commentData.ratings ? commentData.ratings['_overall'] : null,
        };
        placeholders['ratingDescription'] = [
            this.getText('i_hate_it'),
            this.getText('i_dont_like_it'),
            this.getText('its_ok'),
            this.getText('i_like_it'),
            this.getText('i_love_it'),
        ][placeholders.rating - 1];
        return window.gigya.global.fillUserActionTemplate(userAction, placeholders);
    };
    //#endregion
    //#region Event handling
    NewCommentBox.prototype.bindEvents = function () {
        var _this = this;
        _super.prototype.bindEvents.call(this);
        window.gigya.utils.DOM.addEventListener(this.uiElements.postAnonymouslySection, 'click', function () {
            _this.postAnonymously = !_this.postAnonymously;
            _this.updatePostAnonymously();
        });
    };
    //#endregion
    //#region Updating the UI
    NewCommentBox.prototype.updateUI = function () {
        if (!this.uiElements)
            return;
        // TODO: this is ugly and need refactoring
        // If the "self review" has changed, we must re-render the ui.
        var review = this.plugin.getSelfReview();
        if (!this.data.isReply() && !this.plugin.settings.allowMultipleReviewsPerUser) {
            if (review != this.selfReview) {
                this.render();
                return;
            }
            else if (review) {
                this.updateSelfReview();
            }
        }
        _super.prototype.updateUI.call(this);
        this.updateShareOptions();
        this.updatePostAnonymously();
    };
    NewCommentBox.prototype.updateSelfReview = function () {
        // TODO: this whole code is bad. Self-review should be separated to a different class, not related to ComposeBox in any way
        var elSummaryContainer = window.gigya.utils.DOM.getElementsByClass(this.container, 'gig-selfreview-summary-container')[0];
        var elSummary = window.gigya.utils.DOM.getElementsByClass(this.container, 'gig-selfreview-summary')[0];
        if (elSummary) {
            if (this.selfReview && this.selfReview.data.commentTitle) {
                elSummary.innerHTML = this.selfReview.data.commentTitle;
                if (elSummaryContainer)
                    elSummaryContainer.style.display = '';
            }
            else {
                elSummary.innerHTML = '';
                if (elSummaryContainer)
                    elSummaryContainer.style.display = 'none';
            }
        }
        var elReviewBody = window.gigya.utils.DOM.getElementsByClass(this.container, 'gig-selfreview-body')[0];
        if (elReviewBody) {
            if (this.selfReview && this.selfReview.data.commentText) {
                elReviewBody.innerHTML = window.gigya.global.wbr(this.selfReview.data.commentText.replace(/\n/g, '<br />'), 20);
            }
            else {
                elReviewBody.innerHTML = '';
                var elReviewBodyContainer = window.gigya.utils.DOM.getElementsByClass(this.container, 'gig-selfreview-body-container')[0];
                if (elReviewBodyContainer)
                    elReviewBodyContainer.style.display = 'none';
            }
        }
        var maxDimWidth = 0;
        var elRatings = window.gigya.utils.DOM.getElementsByClass(this.container, 'gig-selfreview-ratings')[0];
        if (elRatings) {
            elRatings.id = 'gig_' + new Date().getTime();
            elRatings.innerHTML = '';
            if (elRatings && this.selfReview.data.ratings) {
                for (var dimension in this.selfReview.data.ratings) {
                    var elDimension = this.getSelfRatingDimensionElement(this.selfReview, dimension);
                    if (!elDimension)
                        continue;
                    if (dimension != '_overall' || !elRatings.firstChild) {
                        elRatings.appendChild(elDimension);
                    }
                    else {
                        elRatings.insertBefore(elDimension, elRatings.firstChild);
                    }
                    var elDimTitle = window.gigya.utils.DOM.getElementsByClass(elDimension, 'gig-comment-rating-title')[0];
                    maxDimWidth = Math.max(maxDimWidth, elDimTitle.offsetWidth);
                }
                // Updating the CSS for the max category width
                window.gigya._.plugins.utils.css.addCss('#' + elRatings.id + ' *.gig-comment-rating-title { width:' + maxDimWidth + 'px; }', '');
            }
        }
    };
    NewCommentBox.prototype.updateShareOptions = function () {
        if (!this.uiElements.shareSection)
            return;
        if ((this.plugin.user.isConnected || !this.plugin.user.isGuest) && this.share.providers.length > 0 && this.plugin.shareEnabled) {
            this.uiElements.shareSection.style.display = '';
            this.share.updateIcons();
        }
        else {
            this.uiElements.shareSection.style.display = 'none';
        }
    };
    NewCommentBox.prototype.updatePostAnonymously = function () {
        if (!this.uiElements.postAnonymouslySection || !this.uiElements.postAnonymouslyCheckbox)
            return;
        if (!this.plugin.user.isConnected || this.plugin.user.isGuest) {
            this.uiElements.postAnonymouslySection.style.display = 'none';
        }
        else {
            this.uiElements.postAnonymouslySection.style.display = '';
            if (this.postAnonymously) {
                window.gigya.utils.DOM.addClassToElement(this.uiElements.postAnonymouslyCheckbox, 'gig-comments-checkbox-checked');
            }
            else {
                window.gigya.utils.DOM.removeClassFromElement(this.uiElements.postAnonymouslyCheckbox, 'gig-comments-checkbox-checked');
            }
        }
    };
    NewCommentBox.prototype.updateLoginLogoutElements = function () {
        _super.prototype.updateLoginLogoutElements.call(this);
        var elOr = this.getElement('or');
        if (this.uiElements.loginBar) {
            if (this.isLoginDropdownEnabled()) {
                if (this.plugin.user.isConnected || this.plugin.user.isGuest) {
                    this.uiElements.loginBar.style.display = 'none';
                }
                else {
                    if (this.plugin.settings.useSiteLogin && this.uiElements.siteLoginButton) {
                        this.uiElements.siteLoginButton.style.display = '';
                        if (this.uiElements.socialLoginButton)
                            this.uiElements.socialLoginButton.style.display = 'none';
                    }
                    else {
                        if (this.uiElements.siteLoginButton)
                            this.uiElements.siteLoginButton.style.display = 'none';
                        if (this.uiElements.socialLoginButton)
                            this.uiElements.socialLoginButton.style.display = '';
                    }
                    this.uiElements.loginBar.style.display = '';
                }
            }
            else {
                this.uiElements.loginBar.style.display = 'none';
            }
        }
        if (this.uiElements.guestLoginButton) {
            if (this.plugin.settings.allowGuest && this.isLoginDropdownEnabled()) {
                this.uiElements.guestLoginButton.style.display = '';
                if (elOr)
                    elOr.style.display = '';
            }
            else {
                this.uiElements.guestLoginButton.style.display = 'none';
                if (elOr)
                    elOr.style.display = 'none';
            }
        }
    };
    //#endregion
    //#region Overrides
    NewCommentBox.prototype.afterRender = function () {
        this.hideElement(this.uiElements.cancelButton);
    };
    NewCommentBox.prototype.getSubmitText = function () {
        return this.getText('post');
    };
    NewCommentBox.prototype.getTitle = function () {
        var title;
        var parentComment = this.plugin.getComment(this.data.parentID);
        if (parentComment != null) {
            var titleId = this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS ? 'comment_on_username_review' : 'reply_to_username';
            title = this.getText(titleId, '%username', '<span class="gig-composebox-username">' + window.gigya.utils.sanitize.sanitizeHTML(parentComment.getUsername()) + '</span>');
        }
        else {
            if (this.plugin.user.isConnected || this.plugin.user.isGuest) {
                title = this.getText('hello_username', '%username', this.plugin.getUsername());
            }
            else {
                title = '';
            }
        }
        return title;
    };
    NewCommentBox.prototype.submit = function (dontPublish) {
        var _this = this;
        var postButton = this.uiElements.submitButton;
        var tbCommentTitle = this.uiElements.summaryInput;
        if (!this.plugin.user.isGuest && !this.plugin.user.isConnected) {
            //logged out
            var onLogin = function () {
                _this.submit();
            };
            if (this.plugin.settings.useSiteLogin) {
                this.onSiteLoginClick(onLogin);
            }
            else {
                this.onLoginClick(postButton, this.plugin.settings.allowGuest, onLogin);
            }
            return;
        }
        var timestamp = new Date().getTime();
        var pendingCommentId = 'pending_' + timestamp;
        if (this.data.isReply())
            this.close();
        // TODO: eventually this should be very small, as the model will be updated while changing the UI
        this.data = window.gigya.utils.object.merge([
            this.data,
            {
                ID: pendingCommentId,
                timestamp: timestamp,
                threadTimestamp: timestamp,
                sender: {
                    photoURL: window.gigya.global.getPhotoURL(this.plugin.user.thumbnailURL || this.plugin.user.photoURL),
                    loginProvider: this.getLoginProvider(),
                    name: this.plugin.getUsername(),
                    UID: this.plugin.user ? this.plugin.user.UID : null,
                },
                tags: this.plugin.params['commentTags'],
            },
        ]);
        if (this.postAnonymously) {
            this.data.highlightGroups = [];
            this.data.sender = { name: this.plugin.getText('anonymous') };
        }
        var commentParams = window.gigya.utils.object.removeUndefined({
            commentText: this.plugin.settings.enableCommentBody != 'disabled' ? this.data.commentText : null,
            parentID: this.data.parentID ? this.data.parentID : null,
            commentTitle: this.plugin.settings.enableCommentTitles != 'disabled' && !this.data.isReply() ? this.data.commentTitle : null,
            taggedUsers: this.data.taggedUsers.length > 0 ? this.data.taggedUsers.join(',') : null,
            mediaItems: this.data.mediaItems.length > 0 ? this.data.mediaItems[0].url : null,
            ratings: this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS ? this.data.ratings : null,
            enabledProviders: dontPublish || !this.share || this.share.getSelected().length == 0 ? ' ' : this.share.getSelected().join(','),
            tags: this.plugin.params['commentTags'],
            anonymous: this.postAnonymously ? true : null,
            guestName: this.plugin.user.isGuest ? this.plugin.user.nickname : null,
            guestEmail: this.plugin.user.isGuest ? this.plugin.user.email : null,
            callback: function (res) { return _this.submitCallback(res); },
        });
        // TODO: check if this is actualy necessary
        // it is possible that the client would remove the share bar from the template
        if (this.share) {
            // merge userActions defaults to the specific userActions
            for (var shareProviderIndex = 0; shareProviderIndex < this.share.getSelected().length; shareProviderIndex++) {
                var shareProvider = this.share.getSelected()[shareProviderIndex];
                var actionName = shareProvider + 'UserAction';
                this.plugin.params[actionName] = this.getUserAction(this.data, this.plugin.params[actionName]);
            }
        }
        // Fire the beforeCommentSubmitted event
        var e = commentParams;
        if (!e.guestName)
            e.guestName = '';
        if (!e.guestEmail)
            e.guestEmail = '';
        e.eventName = 'beforeCommentSubmitted';
        if (window.gigya.events.dispatchForWidget(e, this.plugin.params) == false)
            return;
        commentParams = e; // to get changed params
        if (e.guestName == '')
            delete e.guestName;
        if (e.guestEmail == '')
            delete e.guestEmail;
        var parentComment = this.plugin.getComment(this.data.parentID);
        var level = parentComment ? parentComment.level + 1 : 0;
        var infoMessage = null;
        if (this.data.status == 'pending')
            infoMessage =
                this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS && level == 0
                    ? this.getText('your_review_is_awaiting_moderation')
                    : this.getText('your_comment_is_awaiting_moderation');
        this.plugin.addComments([this.data], level, false, true, null, infoMessage);
        window.gigya.comments.postComment(this.plugin.params, commentParams);
        if (this.share)
            this.share.saveSelected();
        this.plugin.setStreamInfoIfNeeded();
        this.clear();
    };
    NewCommentBox.prototype.submitCallback = function (response) {
        _super.prototype.submitCallback.call(this, response);
        if (response['errorCode'] != 0)
            return;
        var comment = this.plugin.getComment(response['comment']['ID']);
        if (comment.data.status === 'published') {
            this.plugin.streamInfo.commentCount++;
            if (!this.data.isReply()) {
                this.plugin.streamInfo.ratingCount++;
            }
            this.plugin.updateCount();
        }
        var oEvent = window.gigya.utils.object.removeUndefined({
            eventName: 'commentSubmitted',
            streamID: this.plugin.params['streamID'],
            categoryID: this.plugin.params['categoryID'],
            commentText: comment.data.commentText,
            comment: window.gigya.utils.object.clone(comment.data, true, true),
            mode: this.plugin.textMode == Comments_Models_1.TextMode.REVIEWS ? 'reviews' : 'comments',
            ratings: comment.data.ratings,
            commentTitle: comment.data.commentTitle,
            providerPostIDs: comment.data.providerPostIDs,
            user: this.plugin.user.UID ? this.plugin.user : null,
            guestUser: this.plugin.user.isGuest ? { nickname: this.plugin.user.nickname, email: this.plugin.user.email } : null,
        });
        this.plugin.userCommentsData.push(comment.data);
        this.plugin.setUserComments(this.plugin.userCommentsData);
        window.gigya.events.dispatchForWidget(oEvent, this.plugin.params);
    };
    return NewCommentBox;
}(BaseComposeBox_1.BaseComposeBox));
exports.NewCommentBox = NewCommentBox;


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/Templates.ts":
/*!***************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/Templates.ts ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", { value: true });
exports.defaultTemplates = {
    commentsPlugin: [
        '<div class="gig-comments-composebox"></div>',
        '<div class="gig-comments-header"></div>',
        '<div class="gig-comments-updates"></div>',
        '<div class="gig-comments-comments"></div>',
        '<div class="gig-comments-more"></div>',
    ].join(''),
    commentsPluginComposeBottom: [
        '<div class="gig-comments-header"></div>',
        '<div class="gig-comments-updates"></div>',
        '<div class="gig-comments-comments"></div>',
        '<div class="gig-comments-more"></div>',
        '<div class="gig-comments-composebox"></div>',
    ].join(''),
    header: [
        '<div class="gig-comments-header-left">',
        '<div class="gig-comments-count"></div>',
        '</div>',
        '<ul class="gig-comments-header-right gig-comments-linksContainer" role="presentation">',
        '<li class="gig-comments-sort">$sort</li>',
        '<li class="gig-comments-subscribe">$subscribe</li>',
        '<li class="gig-comments-rss">$rss</li>',
        '</ul>',
    ].join(''),
    updates: ['<div class="gig-comments-updates-text"></div>', '<div class="gig-comments-updates-link"></div>'].join(''),
    comment: [
        '<div class="gig-comment-title"></div>',
        '<div class="gig-comment-photo"></div>',
        '<div class="gig-comment-data">',
        '<div class="gig-comment-editbox"></div>',
        '<div class="gig-comment-self-data">',
        '<div class="gig-comment-content">',
        '<div class="gig-comment-header">',
        '<div class="gig-comment-header-right">',
        '<div class="gig-comment-viaProvider"></div>',
        '<span class="gig-comment-edited">($edited)</span>',
        '<span class="gig-comment-time"></span>',
        '</div>',
        '<div class="gig-comment-header-left">',
        '<span class="gig-comment-username"></span>',
        '</div>',
        '</div>',
        '<div class="gig-comment-status"></div>',
        '<div class="gig-comment-body"></div>',
        '<div class="gig-comment-mediaItem"></div>',
        '</div>',
        '<div class="gig-comment-footer">',
        '<div class="gig-comment-footer-left">',
        '<ul class="gig-comments-linksContainer" role="presentation">',
        '<li class="gig-comment-likeLink" aria-atomic="true" aria-live="polite" aria-relevant="text">$like</li>',
        '<li class="gig-comment-replyLink">$reply</li>',
        '<li class="gig-comment-editLink">$edit</li>',
        '<li class="gig-comment-deleteLink">$delete</li>',
        '<li class="gig-comment-shareLink">$share</li>',
        '<li class="gig-comment-repliesArrow">',
        '<div class="gig-comment-repliesArrow-text"></div>',
        '<div class="gig-comment-repliesArrow-img"></div>',
        '</li>',
        '</ul>',
        '<div class="gig-comment-flag"></div>',
        '</div>',
        '<div class="gig-comment-footer-right">',
        '<div class="gig-comment-vote-total"></div>',
        '<div class="gig-comment-vote-pos" title="$like" aria-label="$like"></div>',
        '<div class="gig-comment-vote-neg" title="$unlike" aria-label="$unlike"></div>',
        '</div>',
        '</div>',
        '</div>',
        '<div class="gig-comment-replybox"></div>',
        '<div class="gig-comment-replies"></div>',
        '</div>',
    ].join(''),
    mediaItem: [
        '<div class="gig-media-display">',
        '<div class="gig-media-thumbnail"></div>',
        '<div class="gig-media-overlay">',
        '<div class="gig-media-cancel"></div>',
        '<div class="gig-media-play"></div>',
        '</div>',
        '</div>',
        '<div class="gig-media-caption">',
        '<a href="$url" target="_blank" class="gig-media-caption-url" style="background-image:url($providerIcon);">$displayUrl</a>',
        '<div class="gig-media-caption-text">$caption</div>',
        '</div>',
    ].join(''),
    dialog: [
        '<div class="gig-comments-dialog">',
        '<div class="gig-comments-dialog-caption-container">',
        '<div class="gig-comments-dialog-caption"></div>',
        '<div class="gig-comments-dialog-close"></div>',
        '</div>',
        '<div class="gig-comments-dialog-body"></div>',
        '<div class="gig-comments-dialog-buttons">',
        '<div class="gig-comments-dialog-button gig-comments-dialog-button-ok"></div>',
        '<div class="gig-comments-dialog-button gig-comments-dialog-button-cancel"></div>',
        '</div>',
        '</div>',
    ].join(''),
    emailTextboxDialogBody: [
        '<div class="gig-comments-dialog-text">$text</div>',
        '<div class="gig-comments-dialog-textbox-container">',
        '<input type="textbox" class="gig-comments-dialog-textbox" value="$email" aria-label="$emailLabel" />',
        '</div>',
        '<div class="gig-comments-dialog-button gig-comments-dialog-textbox-button">$buttonText</div>',
        '<div class="gig-comments-dialog-error" aria-role="alert" aria-atomic="true" aria-live="polite"></div>',
    ].join(''),
    photo: ['<img class="gig-comment-img" alt="" src="$photoURL" style="vertical-align:top" aria-hidden="true" />$providerImage'].join(''),
    providerImage: '<div class="gig-comment-providerLogo" aria-hidden="true"><img alt="" src="$providerImageUrl" style="vertical-align:top" /></div>',
    composebox: [
        '<div class="gig-composebox-error" role="alert" aria-atomic="true" aria-live="polite"></div>',
        '<div class="gig-composebox-header">',
        '<div class="gig-composebox-login">',
        '<div class="gig-composebox-social-login gig-comments-button">$login<div class="gig-composebox-login-icon"></div><div class="gig-composebox-login-drop-icon"></div></div>',
        '<div class="gig-composebox-site-login">$login</div>',
        '<div class="gig-composebox-or">$or</div>',
        '<div class="gig-composebox-guest-login gig-comments-button">$guest</div>',
        '</div>',
        '<div class="gig-composebox-header-right">',
        '<div class="gig-composebox-follow" aria-atomic="true" aria-live="polite"></div>',
        '<div class="gig-composebox-close"></div>',
        '</div>',
        '<div class="gig-composebox-header-left">',
        '<div class="gig-composebox-title"></div>',
        '<div class="gig-composebox-logout">(<span>$logout</span>)</div>',
        '<div class="gig-composebox-ratings"></div>',
        '</div>',
        '</div>',
        '<div class="gig-composebox-photo"></div>',
        '<div class="gig-composebox-data">',
        '<div class="gig-composebox-summary"><input class="gig-composebox-summary-input" data-placeholder="$summary" aria-label="$summary" /></div>',
        '<div class="gig-composebox-editor"></div>',
        '<div class="gig-composebox-mediaItem"></div>',
        '<div class="gig-composebox-footer">',
        '<div class="gig-composebox-footer-right">',
        '<div class="gig-composebox-postAnonymously">',
        '<div class="gig-composebox-anon-checkbox gig-comments-checkbox"></div>',
        '<div class="gig-composebox-anon-text">$postAnonymously</div>',
        '</div>',
        '<div class="gig-composebox-cancel gig-comments-button">$cancel</div>',
        '<div class="gig-composebox-post gig-comments-button">$post</div>',
        '</div>',
        '<div class="gig-composebox-footer-left">',
        '<div class="gig-composebox-share">',
        '<div class="gig-composebox-share-text">$share</div>',
        '<div class="gig-composebox-share-providers"></div>',
        '</div>',
        '</div>',
        '</div>',
        '</div>',
    ].join(''),
    editor: [
        '<ul class="gig-composebox-sidebar">',
        '<li class="gig-composebox-sidebar-button gig-composebox-sidebar-font" title="$fontAlt" aria-label="$fontAlt"></li>',
        '<li class="gig-composebox-sidebar-button gig-composebox-sidebar-media" title="$mediaAlt" aria-label="$mediaAlt"></li>',
        '<li class="gig-composebox-sidebar-button gig-composebox-sidebar-tag" title="$tagAlt" aria-label="$tagAlt"></li>',
        '</ul>',
        '<div class="gig-composebox-textarea" contenteditable="true" role="textarea" aria-multiline="true" data-placeholder="$write_a_comment" aria-label="$write_a_comment" aria-required="true"></div>',
        '<p></p>',
    ].join(''),
    mediaItemPlayer: [
        '<div class="gig-comments-mediaplayer-top">',
        '<div class="gig-media-cancel"></div>',
        '</div>',
        '<div class="gig-comments-mediaplayer-content" style="height:${playerHeight}px;">$playerHTML</div>',
        '<div class="gig-comments-mediaplayer-bottom">',
        '<div class="gig-comments-mediaplayer-caption" style="background-image:url($providerIcon);">$caption</div>',
        '</div>',
    ].join(''),
    guestbox: [
        '<div class="gig-guestbox-fields">',
        '<input type="text" class="gig-guestbox-nickname" data-placeholder="$nickname" aria-label="$nickname" />',
        '<input type="text" class="gig-guestbox-email" data-placeholder="$email" aria-label="$email" />',
        '</div>',
        '<div class="gig-guestbox-text">${email_not_displayed_publicly}</div>',
        '<div class="gig-guestbox-ok">$ok</div>',
        '<div class="gig-guestbox-error"></div>',
    ].join(''),
    sortbox: [
        '<ul>',
        '<li data-sort="dateDesc">$most_recent</li>',
        '<li data-sort="dateAsc">$oldest</li>',
        '<li data-sort="votesDesc">$most_voted</li>',
        '<li data-sort="ratingDesc">$ratings</li>',
        '</ul>',
    ].join(''),
    fontbox: [
        '<ul>',
        '<li class="gig-composebox-font-bold" data-command="bold"></li>',
        '<li class="gig-composebox-font-italic" data-command="italic"></li>',
        '<li class="gig-composebox-font-underline" data-command="underline"></li>',
        '<li class="gig-composebox-font-bullets" data-command="bullets"></li>',
        '</ul>',
    ].join(''),
    mediabox: [
        '<div class="gig-mediabox-fields">',
        '<input type="text" class="gig-mediabox-url" placeholder="${enter_url}" aria-label="${enter_url}" value="$url" />',
        '<div class="gig-mediabox-ok">$ok</div>',
        '<div class="gig-mediabox-text">${add_media_item}</div>',
        '</div>',
    ].join(''),
    composeShareMoreBox: [
        '<div class="gig-composebox-morebox-caption">',
        '<div class="gig-composebox-morebox-title">$more_share_destinations</div>',
        '<div class="gig-composebox-morebox-close"></div>',
        '</div>',
        '<ul class="gig-composebox-morebox-providers">',
        '</ul>',
    ].join(''),
    userTaggingBox: [
        '<div class="gig-comments-usertaggingbox gig-comments-container">',
        '<div class="gig-usertagging-title">$title</div>',
        '<ul class="gig-usertagging-suggestions">',
        '</ul > ',
        '</div> ',
    ].join(''),
    userTaggingOption: [
        '<img src="$photoURL" alt="" class="gig-usertagging-userimage" aria-hidden="true" /><span class="gig-usertagging-username">$name</span>',
    ].join(''),
    rating: '<div class="gig-comment-rating-title"></div><div class="gig-comment-rating-value"></div>',
    composeboxRating: '<div class="gig-composebox-rating-title"></div><div class="gig-composebox-rating-value"></div>',
    commentTitle: ['<div class="gig-comment-rating"></div>', '<div class="gig-comment-rating-drop"></div>', '<div class="gig-comment-summary"></div>'].join(''),
    myReview: [
        '<div class="gig-selfreview-header">',
        '<div class="gig-selfreview-header-left">',
        '<div class="gig-composebox-photo"></div>',
        '<div class="gig-selfreview-nameAndLogout">',
        '<div class="gig-selfreview-yourReview">$your_review</div>',
        '<div class="gig-composebox-name"></div>',
        '<div class="gig-composebox-logout" aria-label="$logout">(<span>$logout</span>)</div>',
        '</div>',
        '<div class="gig-selfreview-ratings"></div>',
        '</div>',
        '<div class="gig-selfreview-header-right">',
        '<div class="gig-composebox-follow"></div>',
        '</div>',
        '</div>',
        '<div class="gig-selfreview-summary-container">',
        '<span class="gig-selfreview-field-title">$summary</span><span class="gig-selfreview-summary"></span>',
        '</div>',
        '<div class="gig-selfreview-body-container">',
        '<span class="gig-selfreview-field-title">$review</span><span class="gig-selfreview-body"></span>',
        '</div>',
    ],
};


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/UserTaggingBox.ts":
/*!********************************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/UserTaggingBox.ts ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", { value: true });
var CommentsUtils_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils.ts");
var UserTaggingBox = /** @class */ (function () {
    function UserTaggingBox(composeBox, onResult, text) {
        var _this = this;
        this.composeBox = composeBox;
        this.onResult = onResult;
        var prefix = null;
        this.selectedIndex = 0;
        if (text)
            prefix = this.getUserPrefix(text);
        this.fetchRelatedUsers(prefix);
        this.keydownDelegate = function (e) {
            _this.processKeyDown(e);
        };
        window.gigya.utils.DOM.addEventListener(composeBox.uiElements.textArea, 'keydown', this.keydownDelegate);
    }
    UserTaggingBox.prototype.fetchRelatedUsers = function (usernamePrefix) {
        var _this = this;
        var parentComment = this.composeBox.plugin.getComment(this.composeBox.data.parentID);
        window.gigya.comments.getRelatedUsers({
            usernamePrefix: usernamePrefix,
            categoryID: this.composeBox.plugin.params['categoryID'],
            streamID: this.composeBox.plugin.params['streamID'],
            parentCommentID: parentComment ? parentComment.id : null,
            limit: 10,
            cacheTimeout: 30 * 1000,
            callback: function (res) {
                if (res.relatedUsers) {
                    _this.relatedUsers = res.relatedUsers;
                    if (!_this.container)
                        _this.draw();
                    else {
                        _this.updateUsers();
                    }
                }
                else {
                    _this.cancel();
                }
            },
        });
    };
    UserTaggingBox.prototype.draw = function () {
        var _this = this;
        var elEditor = this.composeBox.uiElements.editor;
        var el = document.createElement('div');
        el.innerHTML = window.gigya.utils.templates.fill(this.composeBox.plugin.templates['userTaggingBox'], {
            title: this.composeBox.plugin.getText('tag_a_commenter'),
        });
        this.container = window.gigya.pluginUtils.DOM.addPopoverNearElement(elEditor, el, 'bottom', 0, !this.composeBox.plugin.isRtl, false, null, function (e, wasOpen) {
            _this.cancel();
            if (e && wasOpen)
                CommentsUtils_1.Events.cancelEvent(e);
        }, [this.composeBox.uiElements.textArea]);
        this.changeSelectedByIndex(0);
        this.updateUsers();
        var elSuggestions = this.getElement('suggestions');
        window.gigya.utils.DOM.addEventListener(elSuggestions, 'mouseover', function (e) {
            var el = (e.target || e.srcElement);
            while (el) {
                if (window.gigya.utils.DOM.isElementClass(el, 'gig-usertagging-user'))
                    break;
                el = el.parentElement;
            }
            var index = _this.getChildNodeIndex(elSuggestions, el);
            _this.changeSelectedByIndex(index);
        });
        window.gigya.utils.DOM.addEventListener(elSuggestions, 'mousedown', function (e) {
            window.gigya.utils.DOM.cancelEvent(e);
            _this.confirmSelection();
        });
    };
    UserTaggingBox.prototype.getChildNodeIndex = function (elContainer, elChild) {
        for (var i = 0; i < elContainer.childNodes.length; i++) {
            if (elContainer.childNodes[i] == elChild)
                return i;
        }
        return -1;
    };
    UserTaggingBox.prototype.updateUsers = function () {
        if (this.relatedUsers.length == 0) {
            this.cancel();
        }
        else {
            var isThereSelected = false;
            var elSuggestions = this.getElement('suggestions');
            // This loop goes over the existing user elements (if this is not the first time), and keeps the ones that appear in the new list
            // (and are in the right order), for a smoother experience (no redraw).
            var keptCounter = 0;
            var existingElements = elSuggestions.childElementCount;
            for (var i = 0; i < existingElements; i++) {
                var currUser = {};
                if (keptCounter < this.relatedUsers.length)
                    currUser = this.relatedUsers[keptCounter];
                var currElement = elSuggestions.childNodes[keptCounter];
                if (currUser.uid && currUser.uid == currElement.getAttribute('data-gig-uid')) {
                    if (currUser.uid == this.selectedUID) {
                        isThereSelected = true;
                        this.selectedIndex = keptCounter;
                    }
                    keptCounter++;
                }
                else {
                    elSuggestions.removeChild(currElement);
                }
            }
            // Add the new user elements
            for (var i = keptCounter; i < this.relatedUsers.length; i++) {
                // Creating the user element
                var user = this.relatedUsers[i];
                var elUser = document.createElement('li');
                window.gigya.utils.DOM.addClassToElement(elUser, 'gig-usertagging-user');
                if (user.uid)
                    elUser.setAttribute('data-gig-uid', user.uid);
                elUser.innerHTML = window.gigya.utils.templates.fill(this.composeBox.plugin.templates['userTaggingOption'], {
                    name: user.name,
                    photoURL: window.gigya.global.getPhotoURL(user.photoURL, CommentsUtils_1.Images.getPhotoFullName('Avatar_empty', this.composeBox.plugin.pixelRatio)),
                });
                // If this is the selected user from last time - re-select it
                if (this.selectedUID && user.uid == this.selectedUID) {
                    window.gigya.utils.DOM.addClassToElement(elUser, 'gig-usertagging-selected');
                    this.selectedIndex = i;
                    isThereSelected = true;
                }
                elSuggestions.appendChild(elUser);
                var arImages = elUser.getElementsByTagName('img');
                if (arImages && arImages.length > 0) {
                    var elImage = arImages[0];
                    elImage.style.visibility = 'hidden';
                    window.gigya.utils.DOM.addEventListener(elImage, 'load', function (e) {
                        var elLoadedImage = e.target || e.srcElement;
                        window.gigya.global.scaleImageToContainer(elLoadedImage, true, function () {
                            elLoadedImage.style.visibility = '';
                        });
                    });
                }
            }
            if (!isThereSelected)
                this.changeSelectedByIndex(0);
        }
    };
    UserTaggingBox.prototype.cancel = function () {
        if (this.container && this.container.parentElement)
            this.container.parentElement.removeChild(this.container);
        if (this.onResult) {
            this.onResult(null, null);
        }
        window.gigya.utils.DOM.removeEventListener(this.composeBox.uiElements.textArea, 'keydown', this.keydownDelegate);
    };
    UserTaggingBox.prototype.getUserPrefix = function (text, start) {
        if (typeof start === 'undefined')
            start = text.lastIndexOf('@');
        if (start != -1) {
            var prefix = '';
            if (text.length > 1) {
                prefix = text.substring(start + 1);
            }
            return prefix;
        }
    };
    UserTaggingBox.prototype.processTextChanged = function (text) {
        var start = text.lastIndexOf('@');
        if (start === 0 || (start > 0 && text.charAt(start - 1) == ' ')) {
            var prefix = this.getUserPrefix(text, start);
            if (typeof prefix !== 'undefined') {
                this.fetchRelatedUsers(prefix);
            }
        }
        else {
            this.cancel();
        }
    };
    UserTaggingBox.prototype.getElement = function (name) {
        return window.gigya.utils.DOM.getElementsByClass(this.container, 'gig-usertagging-' + name)[0];
    };
    UserTaggingBox.prototype.changeSelectedByIndex = function (index) {
        var elSuggestions = this.getElement('suggestions');
        var usersNum = this.relatedUsers.length;
        this.selectedUID = '';
        if (this.selectedIndex >= 0 && this.selectedIndex < usersNum) {
            window.gigya.utils.DOM.removeClassFromElement(elSuggestions.childNodes[this.selectedIndex], 'gig-usertagging-selected');
        }
        if (index >= 0 && index < usersNum) {
            this.selectedUID = this.relatedUsers[index].uid;
            window.gigya.utils.DOM.addClassToElement(elSuggestions.childNodes[index], 'gig-usertagging-selected');
        }
        else if (index < 0)
            index = -1;
        else if (index >= usersNum)
            index = usersNum;
        this.selectedIndex = parseInt(index);
    };
    UserTaggingBox.prototype.confirmSelection = function () {
        if (this.onResult) {
            var user = this.relatedUsers[this.selectedIndex];
            var elUser = CommentsUtils_1.UserTagging.createTaggedUserElement(user.name, user.uid);
            this.onResult(user.uid, elUser);
        }
        if (this.container)
            this.container.parentElement.removeChild(this.container);
        window.gigya.utils.DOM.removeEventListener(this.composeBox.uiElements.textArea, 'keydown', this.keydownDelegate);
    };
    UserTaggingBox.prototype.processKeyDown = function (e) {
        // Confirmation (user selected)
        if (UserTaggingBox.taggingConfirmationKeys.indexOf(e.keyCode) != -1) {
            if (this.relatedUsers && this.selectedIndex < this.relatedUsers.length) {
                window.gigya.utils.DOM.cancelEvent(e);
                this.confirmSelection();
            }
        }
        // Termination (cancel tagging)
        else if (UserTaggingBox.taggingTerminatorKeys.indexOf(e.keyCode) != -1) {
            window.gigya.utils.DOM.cancelEvent(e);
            this.cancel();
        }
        // Up/down keys (selecting user)
        else if (e.keyCode in UserTaggingBox.verticalKeys) {
            var direction = UserTaggingBox.verticalKeys[e.keyCode];
            if (direction == 'up')
                this.changeSelectedByIndex(this.selectedIndex - 1);
            else
                this.changeSelectedByIndex(this.selectedIndex + 1);
            window.gigya.utils.DOM.cancelEvent(e);
        }
    };
    UserTaggingBox.taggingTerminatorKeys = [27 /* Esc */];
    UserTaggingBox.taggingConfirmationKeys = [9 /* Tab */, 13 /* Enter */];
    UserTaggingBox.verticalKeys = { 38: 'up', 40: 'down' };
    UserTaggingBox.horizontalKeys = { 37: 'left', 39: 'right' };
    return UserTaggingBox;
}());
exports.UserTaggingBox = UserTaggingBox;


/***/ }),

/***/ "./src/comments/Gigya.Comments.JsPlugin/app/index.ts":
/*!***********************************************************!*\
  !*** ./src/comments/Gigya.Comments.JsPlugin/app/index.ts ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(__webpack_provided_Object_dot_assign) {Object.defineProperty(exports, "__esModule", { value: true });
var GigyaPluginTypesComments = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/BaseComposeBox */ "./src/comments/Gigya.Comments.JsPlugin/app/BaseComposeBox.ts");
var GigyaPluginTypesComments_1 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/Comment */ "./src/comments/Gigya.Comments.JsPlugin/app/Comment.ts");
var GigyaPluginTypesComments_2 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentData */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentData.ts");
var GigyaPluginTypesComments_3 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/Comments.Models */ "./src/comments/Gigya.Comments.JsPlugin/app/Comments.Models.ts");
var GigyaPluginTypesComments_4 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentsPlugin */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentsPlugin.ts");
var GigyaPluginTypesCommentsCommentsUtils = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils */ "./src/comments/Gigya.Comments.JsPlugin/app/CommentsUtils.ts");
var GigyaPluginTypesComments_5 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/ComposeShare */ "./src/comments/Gigya.Comments.JsPlugin/app/ComposeShare.ts");
var GigyaPluginTypesComments_6 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/DefaultCss */ "./src/comments/Gigya.Comments.JsPlugin/app/DefaultCss.ts");
var GigyaPluginTypesComments_7 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/EditCommentBox */ "./src/comments/Gigya.Comments.JsPlugin/app/EditCommentBox.ts");
var GigyaPluginTypesComments_8 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/ImgBase */ "./src/comments/Gigya.Comments.JsPlugin/app/ImgBase.ts");
var GigyaPluginTypesComments_9 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/NewCommentBox */ "./src/comments/Gigya.Comments.JsPlugin/app/NewCommentBox.ts");
var GigyaPluginTypesComments_10 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/Templates */ "./src/comments/Gigya.Comments.JsPlugin/app/Templates.ts");
var GigyaPluginTypesComments_11 = __webpack_require__(/*! src/comments/Gigya.Comments.JsPlugin/app/UserTaggingBox */ "./src/comments/Gigya.Comments.JsPlugin/app/UserTaggingBox.ts");
if (!window.gigya.pluginTypes) {
    window.gigya.pluginTypes = {};
}
if (!window.gigya.pluginTypes.comments) {
    window.gigya.pluginTypes.comments = {};
}
if (!window.gigya.pluginTypes.comments.CommentsUtils) {
    window.gigya.pluginTypes.comments.CommentsUtils = {};
}
__webpack_provided_Object_dot_assign(window.gigya.pluginTypes.comments, GigyaPluginTypesComments, GigyaPluginTypesComments_1, GigyaPluginTypesComments_2, GigyaPluginTypesComments_3, GigyaPluginTypesComments_4, GigyaPluginTypesComments_5, GigyaPluginTypesComments_6, GigyaPluginTypesComments_7, GigyaPluginTypesComments_8, GigyaPluginTypesComments_9, GigyaPluginTypesComments_10, GigyaPluginTypesComments_11);
__webpack_provided_Object_dot_assign(window.gigya.pluginTypes.comments.CommentsUtils, GigyaPluginTypesCommentsCommentsUtils);
window.gigya._.UI.attachPlugin(GigyaPluginTypesComments_4.CommentsPlugin, 'comments', 'comments2', 'showCommentsUI');

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js")["__assign"]))

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0Jhc2VDb21wb3NlQm94LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnREYXRhLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudHMuTW9kZWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudHNQbHVnaW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9Db21tZW50c1V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tcG9zZVNoYXJlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvRGVmYXVsdENzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0VkaXRDb21tZW50Qm94LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvSW1nQmFzZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL05ld0NvbW1lbnRCb3gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9UZW1wbGF0ZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9Vc2VyVGFnZ2luZ0JveC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7OztRQUdBO1FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNsRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVB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QUFFO0lBQzNDLFlBQUssQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLGFBQWEsR0FBRyxFQUFFLENBQUM7Q0FDakQ7QUFFRCxvQ0FBYSxDQUNULFlBQUssQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUMxQix3QkFBd0IsRUFDeEIsMEJBQTBCLEVBQzFCLDBCQUEwQixFQUMxQiwwQkFBMEIsRUFDMUIsMEJBQTBCLEVBQzFCLDBCQUEwQixFQUMxQiwwQkFBMEIsRUFDMUIsMEJBQTBCLEVBQzFCLDBCQUEwQixFQUMxQiwwQkFBMEIsRUFDMUIsMkJBQTJCLEVBQzNCLDJCQUEyQixDQUM5QixDQUFDO0FBQ0Ysb0NBQWEsQ0FBQyxZQUFLLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUscUNBQXFDLENBQUMsQ0FBQztBQUUvRixZQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsMEJBQTBCLENBQUMsY0FBYyxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQyIsImZpbGUiOiJnaWd5YS5zZXJ2aWNlcy5jb21tZW50cy5wbHVnaW5zLmNvbW1lbnRzMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9pbmRleC50c1wiKTtcbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IENvbW1lbnREYXRhIH0gZnJvbSAnc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9Db21tZW50RGF0YSc7XHJcbmltcG9ydCB7IFVzZXJUYWdnaW5nQm94IH0gZnJvbSAnc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9Vc2VyVGFnZ2luZ0JveCc7XHJcbmltcG9ydCB7IENvbW1lbnRzUGx1Z2luIH0gZnJvbSAnc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9Db21tZW50c1BsdWdpbic7XHJcbmltcG9ydCB7IFRleHRNb2RlLCBSYXRpbmdEaW1lbnNpb24gfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnRzLk1vZGVscyc7XHJcbmltcG9ydCB7IEltYWdlcywgVXNlclRhZ2dpbmcsIEV2ZW50cywgU2VsZWN0aW9uIH0gZnJvbSAnc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9Db21tZW50c1V0aWxzJztcclxuaW1wb3J0IHsgaW1nQmFzZSB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvSW1nQmFzZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNpZGViYXJCdXR0b25zVUkge1xyXG4gICAgcmljaFRleHQ6IEhUTUxFbGVtZW50O1xyXG4gICAgYWRkTWVkaWFJdGVtOiBIVE1MRWxlbWVudDtcclxuICAgIHRhZ1VzZXI6IEhUTUxFbGVtZW50O1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9zZUJveFVJIHtcclxuICAgIGhlYWRlcjogSFRNTEVsZW1lbnQ7XHJcbiAgICB0aXRsZTogSFRNTEVsZW1lbnQ7XHJcbiAgICBwaG90bzogSFRNTEVsZW1lbnQ7XHJcbiAgICB0ZXh0QXJlYTogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBlZGl0b3I6IEhUTUxFbGVtZW50O1xyXG4gICAgc3VtbWFyeTogSFRNTEVsZW1lbnQ7XHJcbiAgICBzdW1tYXJ5SW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBtZWRpYUl0ZW06IEhUTUxFbGVtZW50O1xyXG4gICAgbmFtZTogSFRNTEVsZW1lbnQ7XHJcbiAgICBzaWRlYmFyOiBIVE1MRWxlbWVudDtcclxuICAgIHNpZGViYXJCdXR0b25zOiBTaWRlYmFyQnV0dG9uc1VJO1xyXG4gICAgc3VibWl0QnV0dG9uOiBIVE1MRWxlbWVudDtcclxuICAgIGNsb3NlQnV0dG9uOiBIVE1MRWxlbWVudDtcclxuICAgIGNhbmNlbEJ1dHRvbjogSFRNTEVsZW1lbnQ7XHJcbiAgICBsb2dpbkJhcjogSFRNTEVsZW1lbnQ7XHJcbiAgICBzb2NpYWxMb2dpbkJ1dHRvbjogSFRNTEVsZW1lbnQ7XHJcbiAgICBzaXRlTG9naW5CdXR0b246IEhUTUxFbGVtZW50O1xyXG4gICAgZ3Vlc3RMb2dpbkJ1dHRvbjogSFRNTEVsZW1lbnQ7XHJcbiAgICBsb2dvdXRMaW5rOiBIVE1MRWxlbWVudDtcclxuICAgIGZvbGxvd0xpbms6IEhUTUxFbGVtZW50O1xyXG4gICAgc2hhcmVTZWN0aW9uOiBIVE1MRWxlbWVudDtcclxuICAgIHNoYXJlUHJvdmlkZXJzOiBIVE1MRWxlbWVudDtcclxuICAgIHBvc3RBbm9ueW1vdXNseVNlY3Rpb246IEhUTUxFbGVtZW50O1xyXG4gICAgcG9zdEFub255bW91c2x5Q2hlY2tib3g6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICByYXRpbmdzOiBIVE1MRWxlbWVudDtcclxuICAgIHJhdGluZ3NPdmVyYWxsOiBIVE1MRWxlbWVudDtcclxuICAgIGVycm9yTWVzc2FnZTogSFRNTEVsZW1lbnQ7XHJcbn1cclxuZXhwb3J0IGNsYXNzIEJhc2VDb21wb3NlQm94IHtcclxuICAgIHB1YmxpYyBkYXRhOiBDb21tZW50RGF0YTtcclxuICAgIHB1YmxpYyB1aUVsZW1lbnRzOiBDb21wb3NlQm94VUk7XHJcblxyXG4gICAgcHVibGljIHBlbmRpbmdWYWxpZGF0aW9uOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyB1c2VyVGFnZ2luZ0JveDogVXNlclRhZ2dpbmdCb3g7XHJcbiAgICBwdWJsaWMgcG9sbGluZ0ludGVydmFsOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgbGFzdFNlbGVjdGlvbjogYW55ID0geyBzdGFydDogLTEgfTtcclxuICAgIHB1YmxpYyBsYXN0Q29tbWVudEhUTUw6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgbWVkaWFJdGVtOiBhbnk7XHJcblxyXG4gICAgc3RhdGljIGFsd2F5c0FsbG93ZWRUYWdzID0gJ2RpdnxicnxwfGlucHV0fHNwYW4nO1xyXG4gICAgc3RhdGljIHJpY2hUZXh0QWxsb3dlZFRhZ3MgPSAndWx8bGl8dXxpfGJ8c3Ryb25nfGVtJztcclxuICAgIHN0YXRpYyBhbGxvd2VkT25MaW1pdEtleXMgPSBbXHJcbiAgICAgICAgOCAvKiBCYWNrc3BhY2UgKi8sXHJcbiAgICAgICAgOSAvKiBUYWIgKi8sXHJcbiAgICAgICAgMTYgLyogU2hpZnQgKi8sXHJcbiAgICAgICAgMTcgLyogQ3RybCAqLyxcclxuICAgICAgICAxOCAvKiBBbHQgKi8sXHJcbiAgICAgICAgMTkgLyogUGF1c2UgKi8sXHJcbiAgICAgICAgMjAsXHJcbiAgICAgICAgMjcgLyogRXNjICovLFxyXG4gICAgICAgIDMzIC8qIFBnVXAgKi8sXHJcbiAgICAgICAgMzQgLyogUGdEb3duICovLFxyXG4gICAgICAgIDM1IC8qIEhvbWUgKi8sXHJcbiAgICAgICAgMzYgLyogRW5kICovLFxyXG4gICAgICAgIDM3IC8qIExlZnQgKi8sXHJcbiAgICAgICAgMzggLyogVXAgKi8sXHJcbiAgICAgICAgMzkgLyogUmlnaHQgKi8sXHJcbiAgICAgICAgNDAgLyogRG93biAqLyxcclxuICAgICAgICA0NSAvKiBJbnNlcnQgKi8sXHJcbiAgICAgICAgNDYgLyogRGVsICovLFxyXG4gICAgICAgIDE0NCAvKiBOdW1Mb2NrICovLFxyXG4gICAgICAgIDE0NSAvKiBTY3JvbGxMb2NrICovLFxyXG4gICAgXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcGx1Z2luOiBDb21tZW50c1BsdWdpbiwgcHVibGljIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGRhdGE6IENvbW1lbnREYXRhLCBwcml2YXRlIG9uQ2xvc2U/OiAoY2FuY2VsZWQ/OiBib29sZWFuKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZ2lneWEudXRpbHMub2JqZWN0LmNsb25lKGRhdGEsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICBpZiAoIXRoaXMuZGF0YS5yYXRpbmdzKSB0aGlzLmRhdGEucmF0aW5ncyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vI3JlZ2lvbiBVdGlsaXR5IG1ldGhvZHNcclxuICAgIGdldFRleHQodGV4dEtleTogc3RyaW5nLCByZXBsYWNlU3RyPzogc3RyaW5nLCB3aXRoU3RyPzogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2luLmdldFRleHQodGV4dEtleSwgcmVwbGFjZVN0ciwgd2l0aFN0cik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RWxlbWVudChzdWJjbGFzczogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIHZhciBlbExpc3QgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKHRoaXMuY29udGFpbmVyLCAnZ2lnLWNvbXBvc2Vib3gtJyArIHN1YmNsYXNzKTtcclxuICAgICAgICByZXR1cm4gZWxMaXN0ICYmIGVsTGlzdC5sZW5ndGggPiAwID8gZWxMaXN0WzBdIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZFVJRWxlbWVudHNPYmooKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy51aUVsZW1lbnRzID0ge1xyXG4gICAgICAgICAgICBoZWFkZXI6IHRoaXMuZ2V0RWxlbWVudCgnaGVhZGVyJyksXHJcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLmdldEVsZW1lbnQoJ3RpdGxlJyksXHJcbiAgICAgICAgICAgIHBob3RvOiB0aGlzLmdldEVsZW1lbnQoJ3Bob3RvJyksXHJcbiAgICAgICAgICAgIHRleHRBcmVhOiB0aGlzLmdldEVsZW1lbnQoJ3RleHRhcmVhJykgYXMgSFRNTERpdkVsZW1lbnQsXHJcbiAgICAgICAgICAgIGVkaXRvcjogdGhpcy5nZXRFbGVtZW50KCdlZGl0b3InKSxcclxuICAgICAgICAgICAgc3VtbWFyeTogdGhpcy5nZXRFbGVtZW50KCdzdW1tYXJ5JyksXHJcbiAgICAgICAgICAgIG1lZGlhSXRlbTogdGhpcy5nZXRFbGVtZW50KCdtZWRpYUl0ZW0nKSxcclxuICAgICAgICAgICAgc3VtbWFyeUlucHV0OiB0aGlzLmdldEVsZW1lbnQoJ3N1bW1hcnktaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50LFxyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLmdldEVsZW1lbnQoJ25hbWUnKSxcclxuICAgICAgICAgICAgc2lkZWJhcjogdGhpcy5nZXRFbGVtZW50KCdzaWRlYmFyJyksXHJcbiAgICAgICAgICAgIHNpZGViYXJCdXR0b25zOiB7XHJcbiAgICAgICAgICAgICAgICByaWNoVGV4dDogdGhpcy5nZXRFbGVtZW50KCdzaWRlYmFyLWZvbnQnKSxcclxuICAgICAgICAgICAgICAgIGFkZE1lZGlhSXRlbTogdGhpcy5nZXRFbGVtZW50KCdzaWRlYmFyLW1lZGlhJyksXHJcbiAgICAgICAgICAgICAgICB0YWdVc2VyOiB0aGlzLmdldEVsZW1lbnQoJ3NpZGViYXItdGFnJyksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbjogdGhpcy5nZXRFbGVtZW50KCdwb3N0JyksXHJcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uOiB0aGlzLmdldEVsZW1lbnQoJ2Nsb3NlJyksXHJcbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbjogdGhpcy5nZXRFbGVtZW50KCdjYW5jZWwnKSxcclxuICAgICAgICAgICAgbG9naW5CYXI6IHRoaXMuZ2V0RWxlbWVudCgnbG9naW4nKSxcclxuICAgICAgICAgICAgc29jaWFsTG9naW5CdXR0b246IHRoaXMuZ2V0RWxlbWVudCgnc29jaWFsLWxvZ2luJyksXHJcbiAgICAgICAgICAgIHNpdGVMb2dpbkJ1dHRvbjogdGhpcy5nZXRFbGVtZW50KCdzaXRlLWxvZ2luJyksXHJcbiAgICAgICAgICAgIGd1ZXN0TG9naW5CdXR0b246IHRoaXMuZ2V0RWxlbWVudCgnZ3Vlc3QtbG9naW4nKSxcclxuICAgICAgICAgICAgbG9nb3V0TGluazogdGhpcy5nZXRFbGVtZW50KCdsb2dvdXQnKSxcclxuICAgICAgICAgICAgZm9sbG93TGluazogdGhpcy5nZXRFbGVtZW50KCdmb2xsb3cnKSxcclxuICAgICAgICAgICAgc2hhcmVTZWN0aW9uOiB0aGlzLmdldEVsZW1lbnQoJ3NoYXJlJyksXHJcbiAgICAgICAgICAgIHNoYXJlUHJvdmlkZXJzOiB0aGlzLmdldEVsZW1lbnQoJ3NoYXJlLXByb3ZpZGVycycpLFxyXG4gICAgICAgICAgICBwb3N0QW5vbnltb3VzbHlTZWN0aW9uOiB0aGlzLmdldEVsZW1lbnQoJ3Bvc3RBbm9ueW1vdXNseScpLFxyXG4gICAgICAgICAgICBwb3N0QW5vbnltb3VzbHlDaGVja2JveDogdGhpcy5nZXRFbGVtZW50KCdhbm9uLWNoZWNrYm94JykgYXMgSFRNTElucHV0RWxlbWVudCxcclxuICAgICAgICAgICAgcmF0aW5nczogdGhpcy5nZXRFbGVtZW50KCdyYXRpbmdzJyksXHJcbiAgICAgICAgICAgIHJhdGluZ3NPdmVyYWxsOiB0aGlzLmdldEVsZW1lbnQoJ3JhdGluZy1fb3ZlcmFsbCcpLFxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IHRoaXMuZ2V0RWxlbWVudCgnZXJyb3InKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGdldExvZ2luUHJvdmlkZXIoKTogc3RyaW5nIHtcclxuICAgICAgICB2YXIgbG9naW5Qcm92aWRlciA9IHRoaXMucGx1Z2luLnVzZXIubG9naW5Qcm92aWRlcjtcclxuICAgICAgICBpZiAoIWxvZ2luUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaWRlbnRpdHkgaW4gdGhpcy5wbHVnaW4udXNlci5pZGVudGl0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dpblByb3ZpZGVyID0gaWRlbnRpdHk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbG9naW5Qcm92aWRlcjtcclxuICAgIH1cclxuXHJcbiAgICBpc0xvZ2luRHJvcGRvd25FbmFibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5kYXRhLmlzUmVwbHkoKSAmJiAodGhpcy5wbHVnaW4ucGFyYW1zWydzaG93TG9naW5CYXInXSA9PSB0cnVlIHx8IHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVNpdGVMb2dpbik7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZUVsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQsIHJlbW92ZT86IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHJlbW92ZSkgZWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgIGVsc2UgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8vI3JlZ2lvbiBVSSBSZW5kZXJpbmdcclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB0aGlzLmZvY3VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHdyaXRlQ29tbWVudFRleHQgPSB0aGlzLnBsdWdpbi50ZXh0TW9kZSA9PSBUZXh0TW9kZS5DT01NRU5UUyA/IHRoaXMuZ2V0VGV4dCgnd3JpdGVfYV9jb21tZW50JykgOiB0aGlzLmdldFRleHQoJ3dyaXRlX2FfcmV2aWV3Jyk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gZ2lneWEudXRpbHMudGVtcGxhdGVzLmZpbGwodGhpcy5wbHVnaW4udGVtcGxhdGVzWydjb21wb3NlYm94J10sIHtcclxuICAgICAgICAgICAgd3JpdGVfYV9jb21tZW50OiB3cml0ZUNvbW1lbnRUZXh0LFxyXG4gICAgICAgICAgICBsb2dvdXQ6IHRoaXMuZ2V0VGV4dCgnbG9nb3V0JyksXHJcbiAgICAgICAgICAgIHBvc3Q6IHRoaXMuZ2V0U3VibWl0VGV4dCgpLFxyXG4gICAgICAgICAgICBjYW5jZWw6IHRoaXMuZ2V0VGV4dCgnY2FuY2VsJyksXHJcbiAgICAgICAgICAgIHBvc3RBbm9ueW1vdXNseTogdGhpcy5nZXRUZXh0KCdwb3N0X2Fub255bW91c2x5JyksXHJcbiAgICAgICAgICAgIHNoYXJlOiB0aGlzLmdldFRleHQoJ3NoYXJlX2NvbG9uJyksXHJcbiAgICAgICAgICAgIGxvZ2luOiB0aGlzLmdldFRleHQoJ2xvZ2luJyksXHJcbiAgICAgICAgICAgIG9yOiB0aGlzLmdldFRleHQoJ29yJyksXHJcbiAgICAgICAgICAgIGd1ZXN0OiB0aGlzLmdldFRleHQoJ2d1ZXN0JyksXHJcbiAgICAgICAgICAgIHN1bW1hcnk6IHRoaXMucGx1Z2luLnRleHRNb2RlID09IFRleHRNb2RlLkNPTU1FTlRTID8gdGhpcy5nZXRUZXh0KCdzdW1tYXJ5JykgOiB0aGlzLmdldFRleHQoJ3Jldmlld19zdW1tYXJ5JyksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBlbEVkaXRvciA9IHRoaXMuZ2V0RWxlbWVudCgnZWRpdG9yJyk7XHJcbiAgICAgICAgZWxFZGl0b3IuaW5uZXJIVE1MID0gZ2lneWEudXRpbHMudGVtcGxhdGVzLmZpbGwodGhpcy5wbHVnaW4udGVtcGxhdGVzWydlZGl0b3InXSwge1xyXG4gICAgICAgICAgICB3cml0ZV9hX2NvbW1lbnQ6IHdyaXRlQ29tbWVudFRleHQsXHJcbiAgICAgICAgICAgIGZvbnRBbHQ6IHRoaXMuZ2V0VGV4dCgncmljaF90ZXh0X2Zvcm1hdHRpbmcnKSxcclxuICAgICAgICAgICAgbWVkaWFBbHQ6IHRoaXMuZ2V0VGV4dCgnZW1iZWRfYV9tZWRpYV9pdGVtJyksXHJcbiAgICAgICAgICAgIHRhZ0FsdDogdGhpcy5nZXRUZXh0KCd0YWdfY29tbWVudGVycycpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmJ1aWxkVUlFbGVtZW50c09iaigpO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiB0aGlzIHNob3VsZCBtb3ZlIHRvIENvbW1lbnRQbHVnaW5cclxuICAgICAgICB2YXIgZ3Vlc3QgPSB0aGlzLmdldEd1ZXN0VXNlcigpO1xyXG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4udXNlci5pc0Nvbm5lY3RlZCAmJiBndWVzdC5pc0d1ZXN0ICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLmFsbG93R3Vlc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4udXNlciA9IGd1ZXN0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMudWlFbGVtZW50cy5lZGl0b3IgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQ29tbWVudEJvZHkgPT0gJ2Rpc2FibGVkJykge1xyXG4gICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMuZWRpdG9yLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy51aUVsZW1lbnRzLnN1bW1hcnkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudWlFbGVtZW50cy5zdW1tYXJ5SW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IHRoaXMudWlFbGVtZW50cy5zdW1tYXJ5SW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBsYWNlaG9sZGVyJyk7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS5nbG9iYWwuc2V0UGxhY2Vob2xkZXIodGhpcy51aUVsZW1lbnRzLnN1bW1hcnlJbnB1dCwgcGxhY2Vob2xkZXIsICdnaWctY29tbWVudHMtcGxhY2Vob2xkZXInKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLnN1bW1hcnkuc3R5bGUuZGlzcGxheSA9IHRoaXMuZGF0YS5pc1JlcGx5KCkgfHwgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQ29tbWVudFRpdGxlcyA9PSAnZGlzYWJsZWQnID8gJ25vbmUnIDogJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlbmRlclNpZGViYXIoKTtcclxuICAgICAgICB0aGlzLnJlbmRlclJhdGluZ3MoKTtcclxuICAgICAgICB0aGlzLmFmdGVyUmVuZGVyKCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmF0ZU9uUmVuZGVyKCk7XHJcbiAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWN0aXZhdGVPblJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhLmlzUmVwbHkoKSB8fCB0aGlzLnBsdWdpbi50ZXh0TW9kZSA9PSBUZXh0TW9kZS5SRVZJRVdTKSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudCh0aGlzLmNvbnRhaW5lciwgJ2dpZy1jb21tZW50LXJlcGx5Ym94LW9wZW4nKTsgLy8gVE9ETzogaXMgdGhpcyBuZWVkZWQ/IGlzIGNhbGxpbmcgYWN0aXZlKCkgZW5vdWdoP1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLmlzTW9iaWxlVUkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMuYWN0aXZhdGUoKSwgMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclNpZGViYXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVpRWxlbWVudHMuc2lkZWJhcikgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMudWlFbGVtZW50cy5lZGl0b3IgfHwgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQ29tbWVudEJvZHkgPT0gJ2Rpc2FibGVkJyB8fCB0aGlzLnBsdWdpbi5pc01vYmlsZVVJKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy5zaWRlYmFyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVpRWxlbWVudHMuc2lkZWJhckJ1dHRvbnMucmljaFRleHQpIHtcclxuICAgICAgICAgICAgdmFyIGVsID0gdGhpcy51aUVsZW1lbnRzLnNpZGViYXJCdXR0b25zLnJpY2hUZXh0O1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVSaWNoVGV4dEVkaXRpbmcpIHtcclxuICAgICAgICAgICAgICAgIGVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLnNpZGViYXJCdXR0b25zLnJpY2hUZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMudWlFbGVtZW50cy5zaWRlYmFyQnV0dG9ucy5hZGRNZWRpYUl0ZW0pIHtcclxuICAgICAgICAgICAgdmFyIGVsID0gdGhpcy51aUVsZW1lbnRzLnNpZGViYXJCdXR0b25zLmFkZE1lZGlhSXRlbTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlTWVkaWFJdGVtcykge1xyXG4gICAgICAgICAgICAgICAgZWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMuc2lkZWJhckJ1dHRvbnMuYWRkTWVkaWFJdGVtID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMudWlFbGVtZW50cy5zaWRlYmFyQnV0dG9ucy50YWdVc2VyKSB7XHJcbiAgICAgICAgICAgIHZhciBlbCA9IHRoaXMudWlFbGVtZW50cy5zaWRlYmFyQnV0dG9ucy50YWdVc2VyO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVVc2VyVGFnZ2luZykge1xyXG4gICAgICAgICAgICAgICAgZWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMuc2lkZWJhckJ1dHRvbnMudGFnVXNlciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVpRWxlbWVudHMuc2lkZWJhckJ1dHRvbnMucmljaFRleHQgfHwgdGhpcy51aUVsZW1lbnRzLnNpZGViYXJCdXR0b25zLmFkZE1lZGlhSXRlbSB8fCB0aGlzLnVpRWxlbWVudHMuc2lkZWJhckJ1dHRvbnMudGFnVXNlcikge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQodGhpcy51aUVsZW1lbnRzLmVkaXRvciwgJ2dpZy1jb21wb3NlYm94LWVkaXRvci13aXRoLXNpZGViYXInKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIFVJIHVwZGF0ZXNcclxuICAgIGFjdGl2YXRlKCkge1xyXG4gICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudCh0aGlzLmNvbnRhaW5lciwgJ2dpZy1jb21wb3NlYm94LW9wZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZShjYW5jZWxlZD86IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodGhpcy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KHRoaXMuY29udGFpbmVyLCAnZ2lnLWNvbW1lbnQtcmVwbHlib3gtb3BlbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMub25DbG9zZSkgdGhpcy5vbkNsb3NlKGNhbmNlbGVkKTtcclxuICAgIH1cclxuXHJcbiAgICBmb2N1cygpIHtcclxuICAgICAgICBpZiAodGhpcy51aUVsZW1lbnRzLnRleHRBcmVhKSB0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEuZm9jdXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWZyZXNoZXMgdGhlIFVJIGVsZW1lbnRzIHdoZW4gZGF0YSBjaGFuZ2VzXHJcbiAgICB1cGRhdGVVSSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMudWlFbGVtZW50cykgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy51aUVsZW1lbnRzLm5hbWUpIHRoaXMudWlFbGVtZW50cy5uYW1lLmlubmVySFRNTCA9IHRoaXMucGx1Z2luLmdldFVzZXJuYW1lKCk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlVXNlckJhZGdlcygpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlTG9naW5Mb2dvdXRFbGVtZW50cygpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlUHJvZmlsZVBob3RvKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUaXRsZSgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRm9sbG93KCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVSYXRpbmdzKCk7IC8vIFRPRE86IHJlZmFjdG9yICsgbW92ZSB0byBuZXcgY29udmVudGlvblxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVVzZXJCYWRnZXMoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVpRWxlbWVudHMuaGVhZGVyKSByZXR1cm47XHJcblxyXG4gICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KHRoaXMudWlFbGVtZW50cy5oZWFkZXIucGFyZW50RWxlbWVudCwgJ2dpZy1jb21wb3NlYm94LXdpdGhCYWRnZXMnKTtcclxuXHJcbiAgICAgICAgLy8gcmVtb3ZlIGFsbCB1c2VyQmFkZ2VzIGZyb20gdGhlIGNvbXBvc2VCb3hcclxuICAgICAgICB0aGlzLnBsdWdpbi5yZW1vdmVVc2VyQmFkZ2VzKHRoaXMudWlFbGVtZW50cy5oZWFkZXIpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4udXNlci5pc0xvZ2dlZEluICYmIHRoaXMucGx1Z2luLnVzZXJIaWdobGlnaHRpbmdHcm91cHMpIHtcclxuICAgICAgICAgICAgdmFyIGNvbW1lbnRlckVsZW1lbnQgPSB0aGlzLnVpRWxlbWVudHMudGl0bGU7XHJcblxyXG4gICAgICAgICAgICB2YXIgaGFzVXNlckJhZGdlcyA9IHRoaXMucGx1Z2luLmNyZWF0ZVVzZXJIaWdobGlnaHRpbmdCYWRnZXMoY29tbWVudGVyRWxlbWVudCwgdGhpcy5wbHVnaW4udXNlckhpZ2hsaWdodGluZ0dyb3Vwcyk7XHJcbiAgICAgICAgICAgIGlmIChoYXNVc2VyQmFkZ2VzKSBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQodGhpcy51aUVsZW1lbnRzLmhlYWRlci5wYXJlbnRFbGVtZW50LCAnZ2lnLWNvbXBvc2Vib3gtd2l0aEJhZGdlcycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVUaXRsZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMudWlFbGVtZW50cy50aXRsZSkgcmV0dXJuO1xyXG4gICAgICAgIHZhciB0aXRsZSA9IHRoaXMuZ2V0VGl0bGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRpdGxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy50aXRsZS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy50aXRsZS5pbm5lckhUTUwgPSB0aXRsZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMudGl0bGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLnRpdGxlLmlubmVySFRNTCA9IHRpdGxlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVQcm9maWxlUGhvdG8oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVpRWxlbWVudHMucGhvdG8pIHJldHVybjtcclxuXHJcbiAgICAgICAgdmFyIGxvZ2luUHJvdmlkZXIgPSB0aGlzLmdldExvZ2luUHJvdmlkZXIoKTtcclxuXHJcbiAgICAgICAgdmFyIHBob3RvSHRtbCA9IGdpZ3lhLnV0aWxzLnRlbXBsYXRlcy5maWxsKHRoaXMucGx1Z2luLnRlbXBsYXRlc1sncGhvdG8nXSwge1xyXG4gICAgICAgICAgICBwaG90b1VSTDogZ2lneWEuZ2xvYmFsLmdldFBob3RvVVJMKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udXNlci50aHVtYm5haWxVUkwgfHwgdGhpcy5wbHVnaW4udXNlci5waG90b1VSTCxcclxuICAgICAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdBdmF0YXJfZW1wdHknLCB0aGlzLnBsdWdpbi5waXhlbFJhdGlvKSxcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgcHJvdmlkZXJJbWFnZTpcclxuICAgICAgICAgICAgICAgIGxvZ2luUHJvdmlkZXIgJiYgbG9naW5Qcm92aWRlciAhPSAnc2l0ZScgJiYgbG9naW5Qcm92aWRlci50b0xvd2VyQ2FzZSgpICE9ICdjdXN0b21vcGVuaWQnID8gdGhpcy5wbHVnaW4udGVtcGxhdGVzWydwcm92aWRlckltYWdlJ10gOiAnJyxcclxuICAgICAgICAgICAgcHJvdmlkZXJJbWFnZVVybDogaW1nQmFzZSArICdwcm92aWRlcnMvJyArIHRoaXMuZ2V0TG9naW5Qcm92aWRlcigpICsgJ1VzZXJfeDEucG5nJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy51aUVsZW1lbnRzLnBob3RvLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgICAgICB0aGlzLnVpRWxlbWVudHMucGhvdG8uaW5uZXJIVE1MID0gcGhvdG9IdG1sO1xyXG5cclxuICAgICAgICB2YXIgYXJFbEltZyA9IHRoaXMudWlFbGVtZW50cy5waG90by5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJyk7XHJcbiAgICAgICAgaWYgKGFyRWxJbWcgJiYgYXJFbEltZy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciBpbWcgPSBhckVsSW1nWzBdO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcihpbWcsICdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEuZ2xvYmFsLnNjYWxlSW1hZ2VUb0NvbnRhaW5lcihhckVsSW1nWzBdLCB0cnVlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLnBob3RvLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTG9naW5Mb2dvdXRFbGVtZW50cygpIHtcclxuICAgICAgICBpZiAodGhpcy51aUVsZW1lbnRzLmxvZ291dExpbmspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnVzZXIuaXNDb25uZWN0ZWQgfHwgKHRoaXMucGx1Z2luLnVzZXIuaXNHdWVzdCAmJiAhdGhpcy5pc0d1ZXN0TG9ja2VkKCkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMubG9nb3V0TGluay5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMubG9nb3V0TGluay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIEV2ZW50IGhhbmRsaW5nXHJcblxyXG4gICAgYmluZEV2ZW50cygpIHtcclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIodGhpcy51aUVsZW1lbnRzLnN1Ym1pdEJ1dHRvbiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uU3VibWl0Q2xpY2tlZCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIodGhpcy51aUVsZW1lbnRzLmNhbmNlbEJ1dHRvbiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRCdXR0b25TdWJtaXRMaXN0ZW5lcih0aGlzLnVpRWxlbWVudHMuY2xvc2VCdXR0b24sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIodGhpcy51aUVsZW1lbnRzLnNvY2lhbExvZ2luQnV0dG9uLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25Mb2dpbkNsaWNrKHRoaXMudWlFbGVtZW50cy5zb2NpYWxMb2dpbkJ1dHRvbik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRCdXR0b25TdWJtaXRMaXN0ZW5lcih0aGlzLnVpRWxlbWVudHMuc2l0ZUxvZ2luQnV0dG9uLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25TaXRlTG9naW5DbGljaygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIodGhpcy51aUVsZW1lbnRzLmd1ZXN0TG9naW5CdXR0b24sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vbkd1ZXN0Q2xpY2sodGhpcy51aUVsZW1lbnRzLmd1ZXN0TG9naW5CdXR0b24pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnVpRWxlbWVudHMuc2lkZWJhckJ1dHRvbnMucmljaFRleHQsICdtb3VzZWRvd24nLCBlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zaG93Rm9udEJveCh0aGlzLnVpRWxlbWVudHMuc2lkZWJhckJ1dHRvbnMucmljaFRleHQpO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uY2FuY2VsRXZlbnQoZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRFdmVudExpc3RlbmVyKHRoaXMudWlFbGVtZW50cy5zaWRlYmFyQnV0dG9ucy5hZGRNZWRpYUl0ZW0sICdtb3VzZWRvd24nLCBlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TWVkaWFCb3godGhpcy51aUVsZW1lbnRzLnNpZGViYXJCdXR0b25zLmFkZE1lZGlhSXRlbSk7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5jYW5jZWxFdmVudChlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEV2ZW50TGlzdGVuZXIodGhpcy51aUVsZW1lbnRzLnNpZGViYXJCdXR0b25zLnRhZ1VzZXIsICdtb3VzZWRvd24nLCBlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vblNpZGViYXJUYWdDbGlja2VkKGUpO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uY2FuY2VsRXZlbnQoZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEpIHtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEV2ZW50TGlzdGVuZXIodGhpcy51aUVsZW1lbnRzLnRleHRBcmVhLCAna2V5ZG93bicsIChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuYXJyYXkuaW5kZXhPZihCYXNlQ29tcG9zZUJveC5hbGxvd2VkT25MaW1pdEtleXMsIGUua2V5Q29kZSkgPT0gLTEgJiZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEudGV4dENvbnRlbnQubGVuZ3RoID49IHRoaXMucGx1Z2luLnNldHRpbmdzLm1heENvbW1lbnRMZW5ndGhcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5jYW5jZWxFdmVudChlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEsICdmb2N1cycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEsICdrZXl1cCcsIChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKGUua2V5Q29kZSA9PSA4NiAmJiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkpIHx8IChlLmtleUNvZGUgPT0gNDUgJiYgZS5zaGlmdEtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVVcGRhdGVkVGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRFdmVudExpc3RlbmVyKHRoaXMudWlFbGVtZW50cy50ZXh0QXJlYSwgJ2JsdXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BQb2xsaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudWlFbGVtZW50cy50ZXh0QXJlYS5pbm5lckhUTUwgPT0gJzxicj4nKSB0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEuaW5uZXJIVE1MID0gJyc7IC8vIGZmIGFkZHMgPGJyPiB3aGVuIGhpdHRpbmcgc3BhY2VcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG5vIGxvbmdlciB2YWxpZGF0ZWQgYmVjYXVzZSBvZiBidWcgIzM3NjE1IC0gdGhlIGNsaWNrIGV2ZW50IHdvdWxkIG5vdCBmaXJlIGJlY2F1c2UgdGhlIGJ1dHRvbiBtb3ZlcyBiZWZvcmVcclxuICAgICAgICAgICAgICAgIC8vIHRoZSB1c2VyIGNhbiByZWxlYXNlIHRoZSBtb3VzZVxyXG4gICAgICAgICAgICAgICAgLy9pZiAodGhpcy5wZW5kaW5nVmFsaWRhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgdGhpcy52YWxpZGF0ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEsICdmb2N1cycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMudWlFbGVtZW50cy5sb2dvdXRMaW5rKSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRCdXR0b25TdWJtaXRMaXN0ZW5lcih0aGlzLnVpRWxlbWVudHMubG9nb3V0TGluaywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnVzZXIuaXNHdWVzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0R3Vlc3QoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEuc29jaWFsaXplLmxvZ291dCh0aGlzLnBsdWdpbi5wYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGVsRm9sbG93ID0gdGhpcy51aUVsZW1lbnRzLmZvbGxvd0xpbms7XHJcbiAgICAgICAgaWYgKGVsRm9sbG93KSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRCdXR0b25TdWJtaXRMaXN0ZW5lcihlbEZvbGxvdywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkZvbGxvd0NsaWNrKGVsRm9sbG93KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcihlbEZvbGxvdywgJ21vdXNlb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5pc1VzZXJGb2xsb3dpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsRm9sbG93LmlubmVySFRNTCA9IHRoaXMuZ2V0VGV4dCgndW5mb2xsb3cnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZm5Pbk1vdXNlT3V0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGb2xsb3coKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRFdmVudExpc3RlbmVyKGVsRm9sbG93LCAnbW91c2VvdXQnLCBmbk9uTW91c2VPdXQpO1xyXG4gICAgICAgICAgICBmbk9uTW91c2VPdXQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVpRWxlbWVudHMuc3VtbWFyeUlucHV0KSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRFdmVudExpc3RlbmVyKHRoaXMudWlFbGVtZW50cy5zdW1tYXJ5SW5wdXQsICdibHVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ1ZhbGlkYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblN1Ym1pdENsaWNrZWQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVEYXRhRnJvbVVJKCk7XHJcbiAgICAgICAgdGhpcy5zdWJtaXQoKTtcclxuXHJcbiAgICAgICAgLy8gRm9yIHNpbmdsZS1yZXZpZXcgbW9kZVxyXG4gICAgICAgIHRoaXMucGx1Z2luLm1haW5Db21wb3NlQm94LnVwZGF0ZVVJKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRGF0YUZyb21VSSgpIHtcclxuICAgICAgICB2YXIgdGJDb21tZW50VGl0bGUgPSB0aGlzLnVpRWxlbWVudHMuc3VtbWFyeUlucHV0O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5kYXRhLmNvbW1lbnRUZXh0ID09IG51bGwpIHRoaXMuZGF0YS5jb21tZW50VGV4dCA9ICcnO1xyXG5cclxuICAgICAgICB2YXIgdGFnZ2VkVUlEcyA9IFtdO1xyXG4gICAgICAgIGlmICh0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEpIHRoaXMuZGF0YS5jb21tZW50VGV4dCA9IFVzZXJUYWdnaW5nLnJlcGxhY2VVc2VyVGFnc1dpdGhTcGFucyh0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEsIHRhZ2dlZFVJRHMpO1xyXG5cclxuICAgICAgICBpZiAoIXRiQ29tbWVudFRpdGxlKSB0aGlzLmRhdGEuY29tbWVudFRpdGxlID0gbnVsbDtcclxuICAgICAgICBlbHNlIGlmICh0YkNvbW1lbnRUaXRsZS52YWx1ZSAmJiB0YkNvbW1lbnRUaXRsZVsncGxhY2Vob2xkZXJDbGVhcmVkJ10pIHRoaXMuZGF0YS5jb21tZW50VGl0bGUgPSB0YkNvbW1lbnRUaXRsZS52YWx1ZTtcclxuICAgICAgICBlbHNlIHRoaXMuZGF0YS5jb21tZW50VGl0bGUgPSAnJztcclxuXHJcbiAgICAgICAgdGhpcy5kYXRhLnRhZ2dlZFVzZXJzID0gdGFnZ2VkVUlEcztcclxuICAgICAgICB0aGlzLmRhdGEubWVkaWFJdGVtcyA9IHRoaXMubWVkaWFJdGVtID8gW3RoaXMubWVkaWFJdGVtXSA6IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmRhdGEuaGlnaGxpZ2h0R3JvdXBzID0gdGhpcy5wbHVnaW4udXNlckhpZ2hsaWdodGluZ0dyb3VwcztcclxuICAgICAgICB0aGlzLmRhdGEuc3RhdHVzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZXJhdGlvblN0YXRlID09PSAxID8gJ3BlbmRpbmcnIDogJyc7XHJcbiAgICB9XHJcblxyXG4gICAgb25TdGFyQ2xpY2soZSkge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSAoZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50KSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICB2YXIgcGFyZW50ID0gdGFyZ2V0LnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgdmFyIGRpbWVuc2lvbklkID0gcGFyZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kaW1lbnNpb24nKTtcclxuICAgICAgICB2YXIgc3RhclZhbHVlID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZGF0YS5yYXRpbmdzKSB0aGlzLmRhdGEucmF0aW5ncyA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLmRhdGEucmF0aW5nc1tkaW1lbnNpb25JZF0gPSBwYXJzZUludChzdGFyVmFsdWUpO1xyXG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdWYWxpZGF0aW9uKSB0aGlzLnZhbGlkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5vblN0YXJNb3VzZU91dChlKTtcclxuICAgIH1cclxuXHJcbiAgICBvblN0YXJNb3VzZU92ZXIoZSkge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSAoZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50KSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICB2YXIgcGFyZW50ID0gdGFyZ2V0LnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgdmFyIHN0YXJWYWx1ZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKTtcclxuICAgICAgICB2YXIgcGFyZW50ID0gdGFyZ2V0LnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTdGFyc1RvVmFsdWUocGFyZW50LCBwYXJzZUludChzdGFyVmFsdWUpKTtcclxuICAgIH1cclxuXHJcbiAgICBvblN0YXJNb3VzZU91dChlKSB7XHJcbiAgICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcclxuICAgICAgICB2YXIgcGFyZW50ID0gdGFyZ2V0LnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgdmFyIGRpbWVuc2lvbklkID0gcGFyZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kaW1lbnNpb24nKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXJzVG9WYWx1ZShwYXJlbnQsIHRoaXMuZGF0YS5yYXRpbmdzW2RpbWVuc2lvbklkXSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU3RhcnNUb1ZhbHVlKHBhcmVudDogSFRNTEVsZW1lbnQsIHZhbHVlOiBudW1iZXIgPSAwKSB7XHJcbiAgICAgICAgaWYgKCFwYXJlbnQpIHJldHVybjtcclxuICAgICAgICB2YXIgYXJTdGFycyA9IHBhcmVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnaWctY29tcG9zZWJveC1yYXRpbmctc3RhcicpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJTdGFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZWxTdGFyID0gYXJTdGFyc1tpXSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKHBhcnNlSW50KGVsU3Rhci5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKSkgPD0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudChlbFN0YXIsICdnaWctY29tcG9zZWJveC1yYXRpbmctc3Rhci1mdWxsJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00ucmVtb3ZlQ2xhc3NGcm9tRWxlbWVudChlbFN0YXIsICdnaWctY29tcG9zZWJveC1yYXRpbmctc3Rhci1mdWxsJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25Mb2dpbkNsaWNrKGVsT3BlbmVyOiBIVE1MRWxlbWVudCwgc2hvd0d1ZXN0PzogYm9vbGVhbiwgb25Mb2dpbj86IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KGVsT3BlbmVyLCAnZ2lnLWNvbXBvc2Vib3gtc29jaWFsLWxvZ2luLWRvd24nKTtcclxuXHJcbiAgICAgICAgY29uc3QgZGl2TG9naW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXZMb2dpbi5jbGFzc05hbWUgPSAnZ2lnLWNvbW1lbnRzLWNvbnRhaW5lciBnaWctY29tbWVudHMtbG9naW5ib3gnICsgKHRoaXMucGx1Z2luLmF1dG9QaXhlbFJhdGlvID8gJyBnaWctY29tbWVudHMtaGlyZXMtaWNvbnMnIDogJycpO1xyXG5cclxuICAgICAgICBjb25zdCBlbmFibGVkUHJvdmlkZXJzID0gdGhpcy5wbHVnaW4ucGFyYW1zWydlbmFibGVkUHJvdmlkZXJzJ10gfHwgJyonO1xyXG4gICAgICAgIGNvbnN0IGRpc2FibGVkUHJvdmlkZXJzID0gdGhpcy5wbHVnaW4ucGFyYW1zWydkaXNhYmxlZFByb3ZpZGVycyddIHx8ICcnO1xyXG4gICAgICAgIGNvbnN0IGFyUHJvdmlkZXJzID0gZ2lneWEuc29jaWFsaXplLmhpZGVQcm92aWRlcnNCeU5hbWUoZ2lneWEuc29jaWFsaXplLmdldFByb3ZpZGVyc0J5TmFtZShlbmFibGVkUHJvdmlkZXJzKSwgZGlzYWJsZWRQcm92aWRlcnMpO1xyXG5cclxuICAgICAgICBjb25zdCBmbk9uUHJvdmlkZXJDbGljayA9IGUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uTG9naW5Qcm92aWRlckNsaWNrKGUsIGRpdlBvcG92ZXIsIGVsT3BlbmVyLCBvbkxvZ2luKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBjcmVhdGVQcm92aWRlckRpdiA9IChwcm92aWRlcjogeyBuYW1lOiBzdHJpbmc7IGRpc3BsYXlOYW1lOiBzdHJpbmcgfSwgYmFja2dyb3VuZEltYWdlPzogc3RyaW5nKTogSFRNTERpdkVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkaXZQcm92aWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBkaXZQcm92aWRlci5jbGFzc05hbWUgPSAnZ2lnLWxvZ2luYm94LXByb3ZpZGVyJztcclxuICAgICAgICAgICAgZGl2UHJvdmlkZXIuc2V0QXR0cmlidXRlKCdkYXRhLXByb3ZpZGVyJywgcHJvdmlkZXIubmFtZSk7XHJcbiAgICAgICAgICAgIGRpdlByb3ZpZGVyLmlubmVySFRNTCA9IHByb3ZpZGVyLmRpc3BsYXlOYW1lO1xyXG4gICAgICAgICAgICBkaXZQcm92aWRlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBwcm92aWRlci5kaXNwbGF5TmFtZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYmFja2dyb3VuZEltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBkaXZQcm92aWRlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiJHtiYWNrZ3JvdW5kSW1hZ2V9XCIpYDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEJ1dHRvblN1Ym1pdExpc3RlbmVyKGRpdlByb3ZpZGVyLCBmbk9uUHJvdmlkZXJDbGljayk7XHJcblxyXG4gICAgICAgICAgICBkaXZMb2dpbi5hcHBlbmRDaGlsZChkaXZQcm92aWRlcik7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGl2UHJvdmlkZXI7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGV0IGhhc01vcmU7XHJcbiAgICAgICAgaWYgKGFyUHJvdmlkZXJzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpdlByb3ZpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdlByb3ZpZGVyLmNsYXNzTmFtZSA9ICdnaWctc2lnbmluYm94LXByb3ZpZGVyJztcclxuICAgICAgICAgICAgZGl2UHJvdmlkZXIuaW5uZXJIVE1MID0gdGhpcy5nZXRUZXh0KCdzaWduX2luX3dpdGgnKTtcclxuICAgICAgICAgICAgZGl2TG9naW4uYXBwZW5kQ2hpbGQoZGl2UHJvdmlkZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhclByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBwcm92aWRlciA9IGFyUHJvdmlkZXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAocHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpdlByb3ZpZGVyID0gY3JlYXRlUHJvdmlkZXJEaXYocHJvdmlkZXIsIGdpZ3lhLl8uZ2V0Q2RuUmVzb3VyY2UoJy9ncy9pL0hUTUxMb2dpbi8nICsgcHJvdmlkZXIubmFtZSArICdfMTUucG5nJykpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGl2UHJvdmlkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICBoYXNNb3JlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNob3dHdWVzdCkge1xyXG4gICAgICAgICAgICBjcmVhdGVQcm92aWRlckRpdihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZ3Vlc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB0aGlzLmdldFRleHQoJ2FzX2d1ZXN0JyksXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ2xvZ2luX2FzX2d1ZXN0JywgdGhpcy5wbHVnaW4ucGl4ZWxSYXRpbyksXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaGFzTW9yZSkge1xyXG4gICAgICAgICAgICBjcmVhdGVQcm92aWRlckRpdih7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnbW9yZScsXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogdGhpcy5nZXRUZXh0KCdzaG93X21vcmUnKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkaXZQb3BvdmVyID0gZ2lneWEucGx1Z2luVXRpbHMuRE9NLmFkZFBvcG92ZXJOZWFyRWxlbWVudChcclxuICAgICAgICAgICAgZWxPcGVuZXIsXHJcbiAgICAgICAgICAgIGRpdkxvZ2luLFxyXG4gICAgICAgICAgICAnYm90dG9tJyxcclxuICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uaXNSdGwsXHJcbiAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAnc2xpZGVEb3duJyxcclxuICAgICAgICAgICAgKGU/OiBFdmVudCwgd2FzT3Blbj86IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFN0b3AgdGhlIGV2ZW50IHNvIHRoZSBsb2dpbiBib3ggd29uJ3Qgb3BlbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgaWYgKHdhc09wZW4gJiYgKGUudGFyZ2V0ID09IGVsT3BlbmVyIHx8IGdpZ3lhLnV0aWxzLkRPTS5pc0NoaWxkT2YoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQsIGVsT3BlbmVyKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBFdmVudHMuY2FuY2VsRXZlbnQoZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgZmlyc3RQcm92aWRlcjogSFRNTERpdkVsZW1lbnQgPSBkaXZMb2dpbi5xdWVyeVNlbGVjdG9yKCdkaXYuZ2lnLWxvZ2luYm94LXByb3ZpZGVyJyk7XHJcbiAgICAgICAgaWYgKGZpcnN0UHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgZmlyc3RQcm92aWRlci5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkxvZ2luUHJvdmlkZXJDbGljayhlLCBkaXZMb2dpbjogSFRNTEVsZW1lbnQsIGVsT3BlbmVyOiBIVE1MRWxlbWVudCwgb25Mb2dpbjogRnVuY3Rpb24pIHtcclxuICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xyXG4gICAgICAgIHZhciBwcm92aWRlciA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvdmlkZXInKTtcclxuICAgICAgICBpZiAocHJvdmlkZXIgPT0gJ21vcmUnKSB7XHJcbiAgICAgICAgICAgIHZhciBhckRpdlByb3ZpZGVyID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhkaXZMb2dpbiwgJ2dpZy1sb2dpbmJveC1wcm92aWRlcicpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyRGl2UHJvdmlkZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFyRGl2UHJvdmlkZXJbaV0uc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRhcmdldC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICBnaWd5YS5wbHVnaW5VdGlscy5ET00ucGxhY2VQb3BvdmVyTmVhckVsZW1lbnQoZWxPcGVuZXIsIGRpdkxvZ2luLCAnYm90dG9tJywgMCwgdGhpcy5wbHVnaW4uaXNSdGwsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyRWxzID0gZGl2TG9naW4ucXVlcnlTZWxlY3RvckFsbCgnZGl2LmdpZy1sb2dpbmJveC1wcm92aWRlcicpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0UHJvdmlkZXJFbCA9IHByb3ZpZGVyRWxzWzJdIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAobmV4dFByb3ZpZGVyRWwpIHtcclxuICAgICAgICAgICAgICAgIG5leHRQcm92aWRlckVsLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHByb3ZpZGVyID09ICdndWVzdCcpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkd1ZXN0Q2xpY2soZWxPcGVuZXIsIG9uTG9naW4pO1xyXG4gICAgICAgICAgICBkaXZMb2dpbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRpdkxvZ2luKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBnaWd5YS5zb2NpYWxpemUuYWRkQ29ubmVjdGlvbih0aGlzLnBsdWdpbi5wYXJhbXMsIHsgcHJvdmlkZXI6IHByb3ZpZGVyLCBjYWxsYmFjazogb25Mb2dpbiB9KTtcclxuICAgICAgICAgICAgZGl2TG9naW4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXZMb2dpbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uR3Vlc3RDbGljayhlbE9wZW5lcjogSFRNTEVsZW1lbnQsIG9uTG9naW4/OiBGdW5jdGlvbikge1xyXG4gICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudChlbE9wZW5lciwgJ2dpZy1jb21wb3NlYm94LWd1ZXN0LWxvZ2luLWRvd24nKTtcclxuICAgICAgICB2YXIgcG9zID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRQb3NpdGlvbihlbE9wZW5lcik7XHJcblxyXG4gICAgICAgIHZhciBkaXZHdWVzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdkd1ZXN0LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICBpZiAoZGl2R3Vlc3Quc3R5bGUuekluZGV4ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgZGl2R3Vlc3Quc3R5bGUuekluZGV4ID0gZ2lneWEudXRpbHMuRE9NLmdldE5leHRaSW5kZXgoKS50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGl2R3Vlc3QuY2xhc3NOYW1lID0gJ2dpZy1jb21tZW50cy1jb250YWluZXIgZ2lnLWNvbW1lbnRzLWd1ZXN0Ym94JztcclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYXBwZW5kVG9Cb2R5KGRpdkd1ZXN0KTtcclxuXHJcbiAgICAgICAgdmFyIHZpZXdwb3J0ID0gZ2lneWEudXRpbHMudmlld3BvcnQuZ2V0SW5uZXJTaXplKCk7XHJcblxyXG4gICAgICAgIHZhciBsZWZ0ID0gTWF0aC5tYXgoMCwgZ2lneWEubG9jYWxJbmZvLnF1aXJrc01vZGUgPyBwb3MubGVmdCAtIDIgOiBwb3MubGVmdCk7XHJcbiAgICAgICAgaWYgKGxlZnQgKyBkaXZHdWVzdC5vZmZzZXRXaWR0aCA+IHZpZXdwb3J0LncgLSA0MCkge1xyXG4gICAgICAgICAgICBsZWZ0ID0gdmlld3BvcnQudyAtIGRpdkd1ZXN0Lm9mZnNldFdpZHRoIC0gNDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkaXZHdWVzdC5zdHlsZS5sZWZ0ID0gJycgKyBsZWZ0ICsgJ3B4JztcclxuICAgICAgICBkaXZHdWVzdC5zdHlsZS50b3AgPSAnJyArIChwb3MudG9wICsgZWxPcGVuZXIub2Zmc2V0SGVpZ2h0IC0gMiArIChnaWd5YS5sb2NhbEluZm8ucXVpcmtzTW9kZSA/IC0yIDogMCkpICsgJ3B4JztcclxuXHJcbiAgICAgICAgZGl2R3Vlc3QuaW5uZXJIVE1MID0gZ2lneWEudXRpbHMudGVtcGxhdGVzLmZpbGwodGhpcy5wbHVnaW4udGVtcGxhdGVzWydndWVzdGJveCddLCB7XHJcbiAgICAgICAgICAgIG5pY2tuYW1lOiB0aGlzLmdldFRleHQoJ25pY2tuYW1lJyksXHJcbiAgICAgICAgICAgIGVtYWlsOiBnaWd5YS51dGlscy5zYW5pdGl6ZS5zYW5pdGl6ZUF0dHJpYnV0ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc0d1ZXN0RW1haWxSZXF1aXJlZCA/IHRoaXMuZ2V0VGV4dCgnZW1haWwnKSA6IHRoaXMuZ2V0VGV4dCgnZW1haWxfb3B0aW9uYWwnKSksXHJcbiAgICAgICAgICAgIG9rOiB0aGlzLmdldFRleHQoJ29rJyksXHJcbiAgICAgICAgICAgIGVtYWlsX25vdF9kaXNwbGF5ZWRfcHVibGljbHk6IHRoaXMuZ2V0VGV4dCgnZW1haWxfbm90X2Rpc3BsYXllZF9wdWJsaWNseScpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgZWxOaWNrbmFtZSA9IGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50c0J5Q2xhc3MoZGl2R3Vlc3QsICdnaWctZ3Vlc3Rib3gtbmlja25hbWUnKVswXSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIHZhciBlbEVtYWlsID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhkaXZHdWVzdCwgJ2dpZy1ndWVzdGJveC1lbWFpbCcpWzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXF1aXJlR3Vlc3ROYW1lKSB7XHJcbiAgICAgICAgICAgIGlmIChlbE5pY2tuYW1lKSBnaWd5YS5nbG9iYWwuc2V0UGxhY2Vob2xkZXIoZWxOaWNrbmFtZSwgZWxOaWNrbmFtZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGxhY2Vob2xkZXInKSwgJ2dpZy1jb21tZW50cy1wbGFjZWhvbGRlcicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVsTmlja25hbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChlbEVtYWlsKSBnaWd5YS5nbG9iYWwuc2V0UGxhY2Vob2xkZXIoZWxFbWFpbCwgZWxFbWFpbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGxhY2Vob2xkZXInKSwgJ2dpZy1jb21tZW50cy1wbGFjZWhvbGRlcicpO1xyXG5cclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYXBwZW5kVG9Cb2R5KGRpdkd1ZXN0KTtcclxuICAgICAgICBpZiAoIXRoaXMucGx1Z2luLmlzTW9iaWxlVUkpIGdpZ3lhLnBsdWdpblV0aWxzLmFuaW1hdGlvbi5zbGlkZURvd24oZGl2R3Vlc3QpO1xyXG5cclxuICAgICAgICB2YXIgZm5FbnRlckVzY1ByZXNzID0gZSA9PiB7XHJcbiAgICAgICAgICAgIHZhciB2YXJfa2V5ID0gZS5rZXlDb2RlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhcl9rZXkgPT0gMjcpIHtcclxuICAgICAgICAgICAgICAgIGRpdkd1ZXN0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGl2R3Vlc3QpO1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIoZWxPaywgJ2NsaWNrJywgZm5PSyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFyX2tleSA9PSAxMykgZm5PSygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBmblVuYmluZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICdrZXlkb3duJywgZm5FbnRlckVzY1ByZXNzKTtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIoZWxPaywgJ2NsaWNrJywgZm5PSyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZ2lneWEucGx1Z2luVXRpbHMuRE9NLnJlbW92ZUVsZW1lbnRPbkRvY0NsaWNrT3JFc2NhcGUoXHJcbiAgICAgICAgICAgIGRpdkd1ZXN0LFxyXG4gICAgICAgICAgICAoZTogRXZlbnQsIHdhc09wZW46IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFN0b3AgdGhlIGV2ZW50IHNvIHRoZSBsb2dpbiBib3ggd29uJ3Qgb3BlbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgaWYgKHdhc09wZW4gJiYgKGUudGFyZ2V0ID09IGVsT3BlbmVyIHx8IGdpZ3lhLnV0aWxzLkRPTS5pc0NoaWxkT2YoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQsIGVsT3BlbmVyKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBFdmVudHMuY2FuY2VsRXZlbnQoZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdmFyIGVsT2sgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGRpdkd1ZXN0LCAnZ2lnLWd1ZXN0Ym94LW9rJylbMF07XHJcbiAgICAgICAgdmFyIGVsTmlja25hbWUgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGRpdkd1ZXN0LCAnZ2lnLWd1ZXN0Ym94LW5pY2tuYW1lJylbMF0gYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICB2YXIgZWxFbWFpbCA9IGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50c0J5Q2xhc3MoZGl2R3Vlc3QsICdnaWctZ3Vlc3Rib3gtZW1haWwnKVswXSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIHZhciBlbEVycm9yID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhkaXZHdWVzdCwgJ2dpZy1ndWVzdGJveC1lcnJvcicpWzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIC8vaWYgKGVsTmlja25hbWUpIGVsTmlja25hbWUuZm9jdXMoKTtcclxuICAgICAgICBpZiAoZWxOaWNrbmFtZSAmJiBlbEVtYWlsICYmIGVsT2spIHtcclxuICAgICAgICAgICAgdmFyIGZuT0sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JUZXh0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW1haWwgPSBlbEVtYWlsWydwbGFjZWhvbGRlckNsZWFyZWQnXSA/IGVsRW1haWwudmFsdWUgOiAnJztcclxuICAgICAgICAgICAgICAgIHZhciBuaWNrbmFtZSA9IGVsTmlja25hbWVbJ3BsYWNlaG9sZGVyQ2xlYXJlZCddID8gZWxOaWNrbmFtZS52YWx1ZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhhc0VtYWlsID0gZW1haWwucmVwbGFjZSgvIC9nLCAnJykgIT0gJyc7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzTmlja25hbWUgPSBuaWNrbmFtZS5yZXBsYWNlKC8gL2csICcnKS5sZW5ndGggPj0gMztcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXF1aXJlR3Vlc3ROYW1lICYmICFoYXNOaWNrbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yVGV4dCA9IHRoaXMuZ2V0VGV4dCgnbmlja25hbWVfc2hvdWxkX2JlX2F0X2xlYXN0XzNfY2hhcmFjdGVycycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgodGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNHdWVzdEVtYWlsUmVxdWlyZWQgJiYgIWhhc0VtYWlsKSB8fCAoaGFzRW1haWwgJiYgIWdpZ3lhLnBsdWdpblV0aWxzLnZhbGlkYXRpb24uaXNFbWFpbFZhbGlkKGVtYWlsKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvclRleHQgPSB0aGlzLmdldFRleHQoJ3BsZWFzZV9wcm92aWRlX2FfdmFsaWRfZW1haWxfYWRkcmVzcycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxFcnJvci5pbm5lckhUTUwgPSBlcnJvclRleHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVycm9yVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9naW5Bc0d1ZXN0KG5pY2tuYW1lLCBlbWFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGl2R3Vlc3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXZHdWVzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm5VbmJpbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob25Mb2dpbikgb25Mb2dpbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWxPaywgJ2NsaWNrJywgZm5PSyk7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCAna2V5ZG93bicsIGZuRW50ZXJFc2NQcmVzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIFJhdGluZyBzdGFyc1xyXG4gICAgcmVuZGVyUmF0aW5ncygpIHtcclxuICAgICAgICBpZiAoIXRoaXMudWlFbGVtZW50cy5yYXRpbmdzKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5kYXRhLmlzUmVwbHkoKSAmJiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVSYXRpbmdzICE9ICdkaXNhYmxlZCcpIHtcclxuICAgICAgICAgICAgdmFyIGFyRGltczogUmF0aW5nRGltZW5zaW9uW10gPSBbeyBpZDogJ19vdmVyYWxsJywgbmFtZTogdGhpcy5nZXRUZXh0KCdvdmVyYWxsX3JhdGluZycpIH1dO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MucmF0aW5nRGltcykgYXJEaW1zID0gYXJEaW1zLmNvbmNhdCh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yYXRpbmdEaW1zKTtcclxuICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLnJhdGluZ3Muc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMucmF0aW5ncy5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgICAgICAgICAgIHZhciBtYXhEaW1UaXRsZVdpZHRoID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhckRpbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBkaW0gPSBhckRpbXNbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxSYXRpbmcgPSB0aGlzLmdldFJhdGluZ0VsZW1lbnQoZGltKTtcclxuICAgICAgICAgICAgICAgIGlmIChkaW0uaWQgPT09ICdfb3ZlcmFsbCcpIHRoaXMudWlFbGVtZW50cy5yYXRpbmdzT3ZlcmFsbCA9IGVsUmF0aW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy5yYXRpbmdzLmFwcGVuZENoaWxkKGVsUmF0aW5nKTtcclxuICAgICAgICAgICAgICAgIHZhciBlbFRpdGxlID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhlbFJhdGluZywgJ2dpZy1jb21wb3NlYm94LXJhdGluZy10aXRsZScpWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsVGl0bGUpIG1heERpbVRpdGxlV2lkdGggPSBNYXRoLm1heChlbFRpdGxlLm9mZnNldFdpZHRoLCBtYXhEaW1UaXRsZVdpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobWF4RGltVGl0bGVXaWR0aCA+IDApXHJcbiAgICAgICAgICAgICAgICBnaWd5YS5fLnBsdWdpbnMudXRpbHMuY3NzLmFkZENzcyhcclxuICAgICAgICAgICAgICAgICAgICAnIycgKyB0aGlzLnBsdWdpbi5jb250YWluZXJJRCArICcgKi5naWctY29tcG9zZWJveC1yYXRpbmctdGl0bGUgeyB3aWR0aDonICsgKG1heERpbVRpdGxlV2lkdGggKyAxKSArICdweDsgfScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ucGFyYW1zWydjc3NQcmVmaXgnXSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLnJhdGluZ3Muc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUmF0aW5ncygpIHtcclxuICAgICAgICBpZiAoIXRoaXMudWlFbGVtZW50cy5yYXRpbmdzKSByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciBhckRpbXM6IFJhdGluZ0RpbWVuc2lvbltdID0gW3sgaWQ6ICdfb3ZlcmFsbCcsIG5hbWU6IHRoaXMuZ2V0VGV4dCgnb3ZlcmFsbF9yYXRpbmcnKSB9XTtcclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MucmF0aW5nRGltcykgYXJEaW1zID0gYXJEaW1zLmNvbmNhdCh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yYXRpbmdEaW1zKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyRGltcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZGltID0gYXJEaW1zW2ldO1xyXG4gICAgICAgICAgICB2YXIgZWxSYXRpbmcgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUF0dHJpYnV0ZSh0aGlzLnVpRWxlbWVudHMucmF0aW5ncywgJyonLCAnZGF0YS1kaW1lbnNpb24nLCBkaW0uaWQpWzBdO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXJzVG9WYWx1ZShlbFJhdGluZywgdGhpcy5kYXRhLnJhdGluZ3NbZGltLmlkXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFJhdGluZ0VsZW1lbnQoZGltOiBSYXRpbmdEaW1lbnNpb24pOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgdmFyIGVsUmF0aW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZWxSYXRpbmcuY2xhc3NOYW1lID0gJ2dpZy1jb21wb3NlYm94LXJhdGluZyBnaWctY29tcG9zZWJveC1yYXRpbmctJyArIGRpbS5pZDtcclxuICAgICAgICBlbFJhdGluZy5pbm5lckhUTUwgPSB0aGlzLnBsdWdpbi50ZW1wbGF0ZXNbJ2NvbXBvc2Vib3hSYXRpbmcnXTtcclxuICAgICAgICB2YXIgZWxUaXRsZSA9IGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50c0J5Q2xhc3MoZWxSYXRpbmcsICdnaWctY29tcG9zZWJveC1yYXRpbmctdGl0bGUnKVswXTtcclxuICAgICAgICBpZiAoZWxUaXRsZSkgZWxUaXRsZS5pbm5lckhUTUwgPSBkaW0ubmFtZSArICc6JztcclxuICAgICAgICB2YXIgZWxWYWx1ZSA9IGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50c0J5Q2xhc3MoZWxSYXRpbmcsICdnaWctY29tcG9zZWJveC1yYXRpbmctdmFsdWUnKVswXTtcclxuICAgICAgICBpZiAoZWxWYWx1ZSkge1xyXG4gICAgICAgICAgICBlbFZhbHVlLnNldEF0dHJpYnV0ZSgnZGF0YS1kaW1lbnNpb24nLCBkaW0uaWQpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IDY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsU3RhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgZWxTdGFyLnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsIGkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxTdGFyLCAnZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLXN0YXInKTtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRFdmVudExpc3RlbmVyKGVsU3RhciwgJ21vdXNlb3ZlcicsIGUgPT4gdGhpcy5vblN0YXJNb3VzZU92ZXIoZSkpO1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWxTdGFyLCAnbW91c2VvdXQnLCBlID0+IHRoaXMub25TdGFyTW91c2VPdXQoZSkpO1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEJ1dHRvblN1Ym1pdExpc3RlbmVyKGVsU3RhciwgZSA9PiB0aGlzLm9uU3RhckNsaWNrKGUpKTtcclxuICAgICAgICAgICAgICAgIGVsVmFsdWUuYXBwZW5kQ2hpbGQoZWxTdGFyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWxSYXRpbmc7XHJcbiAgICB9XHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gTG9naW4gLyBMb2dvdXRcclxuXHJcbiAgICBsb2dpbkFzR3Vlc3Qobmlja25hbWU6IHN0cmluZywgZW1haWw/OiBzdHJpbmcpIHtcclxuICAgICAgICBnaWd5YS51dGlscy5jb29raWUuc2V0KCdfZ2lnX2NvbW1lbnRzX2lzX2d1ZXN0JywgJzEnKTtcclxuICAgICAgICBpZiAobmlja25hbWUpIGdpZ3lhLnV0aWxzLmNvb2tpZS5zZXQoJ19naWdfY29tbWVudHNfbmlja25hbWUnLCBuaWNrbmFtZSk7XHJcbiAgICAgICAgaWYgKGVtYWlsKSBnaWd5YS51dGlscy5jb29raWUuc2V0KCdfZ2lnX2NvbW1lbnRzX2VtYWlsJywgZW1haWwpO1xyXG4gICAgICAgIHRoaXMucGx1Z2luLnNldFVzZXIodGhpcy5nZXRHdWVzdFVzZXIoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9nb3V0R3Vlc3QoKSB7XHJcbiAgICAgICAgZ2lneWEudXRpbHMuY29va2llLnJlbW92ZSgnX2dpZ19jb21tZW50c19pc19ndWVzdCcpO1xyXG4gICAgICAgIGdpZ3lhLnV0aWxzLmNvb2tpZS5yZW1vdmUoJ19naWdfY29tbWVudHNfZW1haWwnKTtcclxuICAgICAgICBnaWd5YS51dGlscy5jb29raWUucmVtb3ZlKCdfZ2lnX2NvbW1lbnRzX25pY2tuYW1lJyk7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4uc2V0VXNlcih7fSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TaXRlTG9naW5DbGljayhvbkxvZ2luPzogRnVuY3Rpb24pIHtcclxuICAgICAgICBpZiAoIW9uTG9naW4pIG9uTG9naW4gPSAoKSA9PiB7fTtcclxuICAgICAgICBnaWd5YS5ldmVudHMuZGlzcGF0Y2hGb3JXaWRnZXQoeyBldmVudE5hbWU6ICdzaXRlTG9naW5DbGlja2VkJywgY2FsbGJhY2s6IG9uTG9naW4gfSwgdGhpcy5wbHVnaW4ucGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyBUT0RPOiBzaG91bGQgbW92ZSB0byBhbm90aGVyIGNsYXNzXHJcbiAgICAvLyNyZWdpb24gR3Vlc3QgdXNlclxyXG5cclxuICAgIGdldEd1ZXN0VXNlcigpIHtcclxuICAgICAgICB2YXIgaXNHdWVzdCA9IGdpZ3lhLnV0aWxzLmNvb2tpZS5nZXQoJ19naWdfY29tbWVudHNfaXNfZ3Vlc3QnKTtcclxuXHJcbiAgICAgICAgdmFyIG5pY2tuYW1lID0gZ2lneWEudXRpbHMuY29va2llLmdldCgnX2dpZ19jb21tZW50c19uaWNrbmFtZScpIHx8ICcnO1xyXG4gICAgICAgIHZhciBlbWFpbCA9IGdpZ3lhLnV0aWxzLmNvb2tpZS5nZXQoJ19naWdfY29tbWVudHNfZW1haWwnKSB8fCAnJztcclxuXHJcbiAgICAgICAgdmFyIHVzZXIgPSB7XHJcbiAgICAgICAgICAgIFVJRDogJycsXHJcbiAgICAgICAgICAgIG5pY2tuYW1lOiBuaWNrbmFtZSxcclxuICAgICAgICAgICAgaXNHdWVzdDogaXNHdWVzdCA9PSAnMScsXHJcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgfVxyXG5cclxuICAgIGxvY2tHdWVzdCgpIHtcclxuICAgICAgICBnaWd5YS51dGlscy5jb29raWUuc2V0KCdfZ2lnX2NvbW1lbnRzX2xvY2tlZCcsICcxJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNHdWVzdExvY2tlZCgpIHtcclxuICAgICAgICByZXR1cm4gZ2lneWEudXRpbHMuY29va2llLmdldCgnX2dpZ19jb21tZW50c19sb2NrZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gSW5wdXRzIGhhbmRsaW5nXHJcblxyXG4gICAgc3RhcnRQb2xsaW5nKCkge1xyXG4gICAgICAgIHRoaXMucG9sbGluZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVVwZGF0ZWRUZXh0KCk7XHJcbiAgICAgICAgfSwgMTAwKSBhcyBhbnk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcFBvbGxpbmcoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBvbGxpbmdJbnRlcnZhbCAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucG9sbGluZ0ludGVydmFsKTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMucG9sbGluZ0ludGVydmFsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZShzaG91bGRGb2N1cz86IGJvb2xlYW4pIHtcclxuICAgICAgICB2YXIgZmllbGRFcnJvckNsYXNzID0gJ2dpZy1jb21wb3NlYm94LWZpZWxkLWVycm9yJztcclxuICAgICAgICB2YXIgY29tbWVudFZhbHVlID0gdGhpcy51aUVsZW1lbnRzLnRleHRBcmVhID8gdGhpcy51aUVsZW1lbnRzLnRleHRBcmVhLmlubmVySFRNTCA6ICcnO1xyXG4gICAgICAgIHZhciBlbEZpcnN0RXJyb3I6IEhUTUxFbGVtZW50O1xyXG5cclxuICAgICAgICB2YXIgdmFsaWRhdGVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy51aUVsZW1lbnRzLmVkaXRvcikge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00ucmVtb3ZlQ2xhc3NGcm9tRWxlbWVudCh0aGlzLnVpRWxlbWVudHMuZWRpdG9yLCBmaWVsZEVycm9yQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWludmFsaWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudWlFbGVtZW50cy5zdW1tYXJ5KSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KHRoaXMudWlFbGVtZW50cy5zdW1tYXJ5LCBmaWVsZEVycm9yQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy51aUVsZW1lbnRzLnJhdGluZ3NPdmVyYWxsKSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KHRoaXMudWlFbGVtZW50cy5yYXRpbmdzT3ZlcmFsbCwgZmllbGRFcnJvckNsYXNzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYXRlIHRpdGxlIGlmIHJlcXVpcmVkXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVDb21tZW50VGl0bGVzLnNwbGl0KCdfJylbMV0gPT0gJ21hbmRhdG9yeScgJiZcclxuICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLnN1bW1hcnlJbnB1dCAmJlxyXG4gICAgICAgICAgICAhdGhpcy5kYXRhLmlzUmVwbHkoKSAmJlxyXG4gICAgICAgICAgICAodGhpcy51aUVsZW1lbnRzLnN1bW1hcnlJbnB1dC52YWx1ZVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyAvZywgJycpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxuL2csICcnKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcci9nLCAnJykgPT0gJycgfHxcclxuICAgICAgICAgICAgICAgICF0aGlzLnVpRWxlbWVudHMuc3VtbWFyeUlucHV0WydwbGFjZWhvbGRlckNsZWFyZWQnXSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudWlFbGVtZW50cy5zdW1tYXJ5KSBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQodGhpcy51aUVsZW1lbnRzLnN1bW1hcnksIGZpZWxkRXJyb3JDbGFzcyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWVsRmlyc3RFcnJvcikgZWxGaXJzdEVycm9yID0gdGhpcy51aUVsZW1lbnRzLnN1bW1hcnlJbnB1dDtcclxuXHJcbiAgICAgICAgICAgIHZhbGlkYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGUgY29tbWVudCBib2R5IGlmIHJlcXVpcmVkXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAodGhpcy5kYXRhLmlzUmVwbHkoKSB8fCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVDb21tZW50Qm9keS5zcGxpdCgnXycpWzFdID09ICdtYW5kYXRvcnknKSAmJlxyXG4gICAgICAgICAgICBjb21tZW50VmFsdWVcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8gL2csICcnKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnJylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHIvZywgJycpID09ICcnXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVpRWxlbWVudHMuZWRpdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQodGhpcy51aUVsZW1lbnRzLmVkaXRvciwgZmllbGRFcnJvckNsYXNzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy50ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghZWxGaXJzdEVycm9yKSBlbEZpcnN0RXJyb3IgPSB0aGlzLnVpRWxlbWVudHMudGV4dEFyZWE7XHJcblxyXG4gICAgICAgICAgICB2YWxpZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLnJhdGluZ3NPdmVyYWxsICYmXHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVJhdGluZ3Muc3BsaXQoJ18nKVsxXSA9PSAnbWFuZGF0b3J5JyAmJlxyXG4gICAgICAgICAgICAoIXRoaXMuZGF0YS5yYXRpbmdzIHx8ICF0aGlzLmRhdGEucmF0aW5nc1snX292ZXJhbGwnXSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KHRoaXMudWlFbGVtZW50cy5yYXRpbmdzT3ZlcmFsbCwgZmllbGRFcnJvckNsYXNzKTtcclxuICAgICAgICAgICAgdmFsaWRhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy51aUVsZW1lbnRzLmVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nVmFsaWRhdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMuZXJyb3JNZXNzYWdlLmlubmVySFRNTCA9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZSA9PSAncmF0aW5nc09ubHknID8gdGhpcy5nZXRUZXh0KCdwbGVhc2Vfc2VsZWN0X3lvdXJfcmF0aW5nJykgOiB0aGlzLmdldFRleHQoJ3BsZWFzZV9maWxsX3JlcXVpcmVkX2ZpZWxkcycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLmVycm9yTWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgICAgIGlmIChlbEZpcnN0RXJyb3IgJiYgc2hvdWxkRm9jdXMpIGVsRmlyc3RFcnJvci5mb2N1cygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nVmFsaWRhdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLmVycm9yTWVzc2FnZS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy5lcnJvck1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZDtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICBpZiAodGhpcy51aUVsZW1lbnRzLnRleHRBcmVhKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy50ZXh0QXJlYS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLnRleHRBcmVhLnN0eWxlLm1pbkhlaWdodCA9ICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMudWlFbGVtZW50cy5zdW1tYXJ5SW5wdXQpIHtcclxuICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLnN1bW1hcnlJbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMuc3VtbWFyeUlucHV0WydyZWZyZXNoUGxhY2Vob2xkZXInXSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWVkaWFJdGVtKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVpRWxlbWVudHMubWVkaWFJdGVtKSB0aGlzLnVpRWxlbWVudHMubWVkaWFJdGVtLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLm1lZGlhSXRlbSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2xlYXJSYXRpbmdzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJSYXRpbmdzKCkge1xyXG4gICAgICAgIHRoaXMuZGF0YS5yYXRpbmdzID0ge307XHJcbiAgICAgICAgdGhpcy51cGRhdGVSYXRpbmdzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlVXBkYXRlZFRleHQoKSB7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT0gdGhpcy51aUVsZW1lbnRzLnRleHRBcmVhKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb246IGFueSA9IFNlbGVjdGlvbi5nZXRTZWxlY3Rpb24odGhpcy51aUVsZW1lbnRzLnRleHRBcmVhKTtcclxuICAgICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3BQb2xsaW5nKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgY29tbWVudEhUTUwgPSB0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEuaW5uZXJIVE1MO1xyXG5cclxuICAgICAgICAvLyBDb250ZW50IGhhcyBjaGFuZ2VkXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdENvbW1lbnRIVE1MICE9IGNvbW1lbnRIVE1MKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdDb21tZW50SFRNTCA9IHRoaXMuc3RyaXBVbmFsbG93ZWRUYWdzKGNvbW1lbnRIVE1MKTtcclxuICAgICAgICAgICAgbmV3Q29tbWVudEhUTUwgPSB0aGlzLnN0cmlwQ1JMRlRhZ3MobmV3Q29tbWVudEhUTUwpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbW1lbnRIVE1MICE9IG5ld0NvbW1lbnRIVE1MKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IG5ld0NvbW1lbnRIVE1MLmxlbmd0aCAtIGNvbW1lbnRIVE1MLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy50ZXh0QXJlYS5pbm5lckhUTUwgPSBuZXdDb21tZW50SFRNTDtcclxuXHJcbiAgICAgICAgICAgICAgICBTZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbih0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEsIHNlbGVjdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEudGV4dENvbnRlbnQubGVuZ3RoID4gdGhpcy5wbHVnaW4uc2V0dGluZ3MubWF4Q29tbWVudExlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cnVuY2F0ZVRleHROb2Rlcyh0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEsIHRoaXMucGx1Z2luLnNldHRpbmdzLm1heENvbW1lbnRMZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxhc3RDb21tZW50SFRNTCA9IHRoaXMudWlFbGVtZW50cy50ZXh0QXJlYS5pbm5lckhUTUw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2VsZWN0aW9uICYmICF0aGlzLnBsdWdpbi5pc01vYmlsZVVJKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXNlclRhZ2dpbmdJZk5lZWRlZChzZWxlY3Rpb24pO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RTZWxlY3Rpb24gPSBnaWd5YS51dGlscy5vYmplY3QuY2xvbmUoc2VsZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGV4dE5vZGVzKG5vZGU6IE5vZGUsIGFycmF5OiBOb2RlW10pIHtcclxuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMykge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKG5vZGUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGV4dE5vZGVzKGNoaWxkcmVuW2ldLCBhcnJheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdHJ1bmNhdGVUZXh0Tm9kZXMobm9kZTogTm9kZSwgdGV4dExlbmd0aDogbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyIHRleHROb2RlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZ2V0VGV4dE5vZGVzKG5vZGUsIHRleHROb2Rlcyk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dE5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyTm9kZSA9IHRleHROb2Rlc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0ZXh0TGVuZ3RoID4gY3Vyck5vZGUubm9kZVZhbHVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dExlbmd0aCAtPSBjdXJyTm9kZS5ub2RlVmFsdWUubGVuZ3RoO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRleHRMZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgY3Vyck5vZGUubm9kZVZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyTm9kZS5ub2RlVmFsdWUgPSBjdXJyTm9kZS5ub2RlVmFsdWUuc3Vic3RyaW5nKDAsIHRleHRMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgdGV4dExlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RyaXBVbmFsbG93ZWRUYWdzKGNvbW1lbnRIVE1MOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoY29tbWVudEhUTUwpIHtcclxuICAgICAgICAgICAgdmFyIGFsbG93ZWQgPSBCYXNlQ29tcG9zZUJveC5hbHdheXNBbGxvd2VkVGFncyArICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVSaWNoVGV4dEVkaXRpbmcgPyAnfCcgKyBCYXNlQ29tcG9zZUJveC5yaWNoVGV4dEFsbG93ZWRUYWdzIDogJycpO1xyXG4gICAgICAgICAgICB2YXIgdW5hbGxvd2VkUmVnZXggPSBuZXcgUmVnRXhwKCc8KCg/ISgnICsgYWxsb3dlZCArICcpWyA+L10pW2Etel0rKVtePF0qPnw8LygoPyEoJyArIGFsbG93ZWQgKyAnKVsgPi9dKVthLXpdKyk+JywgJ2dpJyk7XHJcbiAgICAgICAgICAgIGNvbW1lbnRIVE1MID0gY29tbWVudEhUTUwucmVwbGFjZSh1bmFsbG93ZWRSZWdleCwgJycpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbW1lbnRIVE1MLmluZGV4T2YoJ3N0eWxlPVwiJykgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRIVE1MID0gY29tbWVudEhUTUwucmVwbGFjZSgvc3R5bGU9XCIoKC58XFxuKSo/KVwiL2csICcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbW1lbnRIVE1MO1xyXG4gICAgfVxyXG5cclxuICAgIHN0cmlwQ1JMRlRhZ3MoY29tbWVudEhUTUw6IHN0cmluZykge1xyXG4gICAgICAgIGlmIChjb21tZW50SFRNTCkge1xyXG4gICAgICAgICAgICBjb21tZW50SFRNTCA9IGNvbW1lbnRIVE1MLnJlcGxhY2UoL1xccnxcXG4vZywgJycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbW1lbnRIVE1MO1xyXG4gICAgfVxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIFVzZXIgVGFnZ2luZ1xyXG4gICAgdXBkYXRlVXNlclRhZ2dpbmdJZk5lZWRlZChzZWxlY3Rpb246IGFueSkge1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVVc2VyVGFnZ2luZyAmJiBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLnN0YXJ0ICE9IHRoaXMubGFzdFNlbGVjdGlvbi5zdGFydCAmJiBzZWxlY3Rpb24uc3RhcnQgPT0gc2VsZWN0aW9uLmVuZCkge1xyXG4gICAgICAgICAgICAvLyBSZXBsYWNlICZuYnNwOyB3aXRoIGEgc3BhY2VcclxuICAgICAgICAgICAgdmFyIHRleHQgPSBzZWxlY3Rpb24uY2hpbGRUZXh0LnJlcGxhY2UoU3RyaW5nLmZyb21DaGFyQ29kZSgxNjApLCAnICcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHdvcmRzID0gdGV4dC5tYXRjaCgvXFxTKy9nKTtcclxuICAgICAgICAgICAgaWYgKHdvcmRzICYmIHdvcmRzLmxlbmd0aCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdCA9IHdvcmRzW3dvcmRzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy51c2VyVGFnZ2luZ0JveCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51c2VyVGFnZ2luZ0JveC5wcm9jZXNzVGV4dENoYW5nZWQodGV4dCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMudXNlclRhZ2dpbmdCb3ggJiYgKHR5cGVvZiBsYXN0ICE9PSAndW5kZWZpbmVkJyAmJiBsYXN0Lmxhc3RJbmRleE9mKCdAJykgPT09IDApKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJUYWdnaW5nQm94ID0gbmV3IFVzZXJUYWdnaW5nQm94KFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgKHVpZDogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVpZCAmJiBlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRVc2VyVGFnKGVsLCBjYXJldExvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnVzZXJUYWdnaW5nQm94O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LFxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY2FyZXRMb2NhdGlvbiA9IHRleHQubGFzdEluZGV4T2YoJ0AnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluc2VydFVzZXJUYWcodXNlckVsZW1lbnQ6IEhUTUxFbGVtZW50LCByZXBsYWNlU3RhcnQ/OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAocmVwbGFjZVN0YXJ0ID09PSAtMSkgcmV0dXJuO1xyXG4gICAgICAgIGlmICghd2luZG93LmdldFNlbGVjdGlvbikgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEuZm9jdXMoKTtcclxuICAgICAgICBTZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvbih0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEsIHRoaXMubGFzdFNlbGVjdGlvbik7XHJcbiAgICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuXHJcbiAgICAgICAgaWYgKHNlbC5nZXRSYW5nZUF0ICYmIHNlbC5yYW5nZUNvdW50KSB7XHJcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHNlbC5nZXRSYW5nZUF0KDApO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXBsYWNlU3RhcnQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KHJhbmdlLnN0YXJ0Q29udGFpbmVyLCByZXBsYWNlU3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UuZGVsZXRlQ29udGVudHMoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBhZGQgZW1wdHkgdGV4dCBub2RlcyBiZWZvcmUgJiBhZnRlciB0aGUgYnV0dG9uIHNvIGJyb3dzZXJzIHdpbGwgYmUgbmljZSBhYm91dCBpdFxyXG4gICAgICAgICAgICB2YXIgdGV4dE5vZGU6IE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcuZnJvbUNoYXJDb2RlKDE2MCkpO1xyXG4gICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKHRleHROb2RlKTtcclxuXHJcbiAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUodXNlckVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcuZnJvbUNoYXJDb2RlKDE2MCkpO1xyXG4gICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKHRleHROb2RlKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBuZXdSYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgICAgIG5ld1JhbmdlLnNldFN0YXJ0QWZ0ZXIodGV4dE5vZGUpO1xyXG4gICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgIHNlbC5hZGRSYW5nZShuZXdSYW5nZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8vIFRPRE86IHNob3VsZCBtb3ZlIHRvIGEgZGlmZmVyZW50IGNsYXNzXHJcbiAgICAvLyNyZWdpb24gRm9sbG93aW5nIHJlcGxpZXNcclxuXHJcbiAgICBvbkZvbGxvd0NsaWNrKGVsT3BlbmVyOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5pc1VzZXJGb2xsb3dpbmcoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnVuZm9sbG93KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZGlhbG9nQm9keSA9IGdpZ3lhLnV0aWxzLnRlbXBsYXRlcy5maWxsKHRoaXMucGx1Z2luLnRlbXBsYXRlc1snZW1haWxUZXh0Ym94RGlhbG9nQm9keSddLCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnRleHRNb2RlID09IFRleHRNb2RlLlJFVklFV1NcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmdldFRleHQoJ2VudGVyX3lvdXJfZW1haWxfdG9fcmVjZWl2ZV9ub3RpZmljYXRpb25zX3doZW5fc29tZW9uZV9jb21tZW50c19vbl95b3VyX3Jldmlld3NfY29sb24nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0VGV4dCgnZW50ZXJfeW91cl9lbWFpbF90b19yZWNlaXZlX25vdGlmaWNhdGlvbnNfd2hlbl9zb21lb25lX3JlcGxpZXNfdG9feW91cl9jb21tZW50c19jb2xvbicpLFxyXG4gICAgICAgICAgICAgICAgYnV0dG9uVGV4dDogdGhpcy5nZXRUZXh0KCdmb2xsb3cnKSxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLnBsdWdpbi51c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgZW1haWxMYWJlbDogdGhpcy5nZXRUZXh0KCdlbWFpbCcpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgZGlhbG9nID0gdGhpcy5wbHVnaW4uc2hvd0RpYWxvZyh0aGlzLmdldFRleHQoJ25vdGlmaWNhdGlvbnNfc2V0dGluZ3MnKSwgZGlhbG9nQm9keSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBmaXJlcyB3aGVuIHRoZSBkaWFsb2cgY2xvc2VzLiBSZXR1cm4gZm9jdXMgdG8gdGhlIGZvbGxvdyBsaW5rLlxyXG4gICAgICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLmZvbGxvd0xpbmsuZm9jdXMoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBidG5Gb2xsb3cgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGRpYWxvZywgJ2dpZy1jb21tZW50cy1kaWFsb2ctdGV4dGJveC1idXR0b24nKVswXTtcclxuXHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRCdXR0b25TdWJtaXRMaXN0ZW5lcihidG5Gb2xsb3csIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGIgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGRpYWxvZywgJ2dpZy1jb21tZW50cy1kaWFsb2ctdGV4dGJveCcpWzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodGIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWFpbCA9IHRiLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2lneWEucGx1Z2luVXRpbHMudmFsaWRhdGlvbi5pc0VtYWlsVmFsaWQoZW1haWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9sbG93KHRiLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uYWN0aXZlRGlhbG9nLmNhbmNlbEhhbmRsZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbEVycm9yID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhkaWFsb2csICdnaWctY29tbWVudHMtZGlhbG9nLWVycm9yJylbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsRXJyb3IuaW5uZXJIVE1MID0gdGhpcy5nZXRUZXh0KCdwbGVhc2VfcHJvdmlkZV9hX3ZhbGlkX2VtYWlsX2FkZHJlc3MnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb2xsb3coZW1haWw6IHN0cmluZykge1xyXG4gICAgICAgIGdpZ3lhLmNvbW1lbnRzLnNldFVzZXJPcHRpb25zKHRoaXMucGx1Z2luLnBhcmFtcywge1xyXG4gICAgICAgICAgICByZXBseU5vdGlmaWNhdGlvbnM6ICdpbW1lZGlhdGUnLFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb25zRW1haWw6IGVtYWlsLFxyXG4gICAgICAgICAgICBub3RpZmljYXRpb25zTGFuZ3VhZ2U6IHRoaXMucGx1Z2luLnBhcmFtc1snbGFuZyddLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4udXNlck9wdGlvbnMpIHRoaXMucGx1Z2luLnVzZXJPcHRpb25zID0ge307XHJcbiAgICAgICAgdGhpcy5wbHVnaW4udXNlck9wdGlvbnMucmVwbHlOb3RpZmljYXRpb25zID0gJ2ltbWVkaWF0ZSc7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGb2xsb3coKTtcclxuICAgIH1cclxuXHJcbiAgICB1bmZvbGxvdygpIHtcclxuICAgICAgICBnaWd5YS5jb21tZW50cy5zZXRVc2VyT3B0aW9ucyh0aGlzLnBsdWdpbi5wYXJhbXMsIHsgcmVwbHlOb3RpZmljYXRpb25zOiAnZGlzYWJsZWQnIH0pO1xyXG4gICAgICAgIHRoaXMucGx1Z2luLnVzZXJPcHRpb25zLnJlcGx5Tm90aWZpY2F0aW9ucyA9ICdkaXNhYmxlZCc7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGb2xsb3coKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVGb2xsb3coKSB7XHJcbiAgICAgICAgdmFyIGVsRm9sbG93ID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyh0aGlzLmNvbnRhaW5lciwgJ2dpZy1jb21wb3NlYm94LWZvbGxvdycpWzBdO1xyXG4gICAgICAgIGlmIChlbEZvbGxvdykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4udXNlci5pc0Nvbm5lY3RlZCAmJiAhdGhpcy5wbHVnaW4udXNlci5pc1RlbXBVc2VyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGx1Z2luLmlzVXNlckZvbGxvd2luZygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoZWxGb2xsb3csICdnaWctY29tcG9zZWJveC1mb2xsb3dpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uaXNNb2JpbGVVSSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbEZvbGxvdy5pbm5lckhUTUwgPSB0aGlzLmdldFRleHQoJ2ZvbGxvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsRm9sbG93LmlubmVySFRNTCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi50ZXh0TW9kZSA9PSBUZXh0TW9kZS5SRVZJRVdTXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmdldFRleHQoJ2ZvbGxvd19yZXBsaWVzX3RvX215X3Jldmlld3MnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5nZXRUZXh0KCdmb2xsb3dfcmVwbGllc190b19teV9jb21tZW50cycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbEZvbGxvdy50aXRsZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnRleHRNb2RlID09IFRleHRNb2RlLlJFVklFV1NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5nZXRUZXh0KCdub3RpZnlfbWVfd2hlbl9zb21lb25lX2NvbW1lbnRzX29uX215X3JldmlldycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0VGV4dCgnbm90aWZ5X21lX3doZW5fc29tZW9uZV9yZXBsaWVzX3RvX215X2NvbW1lbnRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxGb2xsb3cuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgZWxGb2xsb3cudGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxGb2xsb3csICdnaWctY29tcG9zZWJveC1mb2xsb3dpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICBlbEZvbGxvdy5pbm5lckhUTUwgPSB0aGlzLmdldFRleHQoJ2ZvbGxvd2luZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsRm9sbG93LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRoaXMuZ2V0VGV4dCgndW5mb2xsb3cnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxGb2xsb3cudGl0bGUgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsRm9sbG93LnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsRm9sbG93LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIFNpZGViYXIgcG9wdXBzXHJcblxyXG4gICAgdG9nZ2xlU2lkZWJhckJ1dHRvbihidXR0b246IEhUTUxFbGVtZW50LCBoaWdobGlnaHQ6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAoaGlnaGxpZ2h0KSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudChidXR0b24sICdnaWctY29tcG9zZWJveC1zaWRlYmFyLWJ1dHRvbi1kb3duJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoYnV0dG9uLCAnZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1idXR0b24tZG93bicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblNpZGViYXJUYWdDbGlja2VkKGU6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgZWxTaWRlYmFyVGFnID0gKGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudCkgYXMgSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy51c2VyVGFnZ2luZ0JveCAmJiBlbFNpZGViYXJUYWcuY2xhc3NOYW1lLmluZGV4T2YoJ2dpZy1jb21wb3NlYm94LXNpZGViYXItYnV0dG9uLWRvd24nKSA9PSAtMSkge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxTaWRlYmFyVGFnLCAnZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1idXR0b24tZG93bicpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlclRhZ2dpbmdCb3gpIHRoaXMudXNlclRhZ2dpbmdCb3guY2FuY2VsKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVzZXJUYWdnaW5nQm94ID0gbmV3IFVzZXJUYWdnaW5nQm94KFxyXG4gICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICAgICh1aWQ6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVpZCAmJiBlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluc2VydFVzZXJUYWcoZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMudXNlclRhZ2dpbmdCb3g7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoZWxTaWRlYmFyVGFnLCAnZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1idXR0b24tZG93bicpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93U2lkZWJhckJveChvcGVuZXI6IEhUTUxFbGVtZW50LCBib3g6IEhUTUxFbGVtZW50LCBvbkNsb3NlPzogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgIGlmICghb3BlbmVyKSByZXR1cm47XHJcbiAgICAgICAgdmFyIHBvcyA9IGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50UG9zaXRpb24ob3BlbmVyKTtcclxuICAgICAgICB0aGlzLnRvZ2dsZVNpZGViYXJCdXR0b24ob3BlbmVyLCB0cnVlKTtcclxuXHJcbiAgICAgICAgYm94LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICBpZiAoYm94LnN0eWxlLnpJbmRleCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS56SW5kZXggPSBnaWd5YS51dGlscy5ET00uZ2V0TmV4dFpJbmRleCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnaWd5YS5wbHVnaW5VdGlscy5hbmltYXRpb24uZmFkZUluKGJveCk7XHJcblxyXG4gICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hcHBlbmRUb0JvZHkoYm94KTtcclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uaXNSdGwpIHtcclxuICAgICAgICAgICAgYm94LnN0eWxlLmxlZnQgPSBNYXRoLm1heCgwLCBwb3MubGVmdCArIG9wZW5lci5vZmZzZXRXaWR0aCkgKyAncHgnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5sZWZ0ID0gTWF0aC5tYXgoMCwgcG9zLmxlZnQgLSBib3gub2Zmc2V0V2lkdGgpICsgJ3B4JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJveC5zdHlsZS50b3AgPSBwb3MudG9wICsgJ3B4JztcclxuXHJcbiAgICAgICAgZ2lneWEucGx1Z2luVXRpbHMuRE9NLnJlbW92ZUVsZW1lbnRPbkRvY0NsaWNrT3JFc2NhcGUoYm94LCAoZTogRXZlbnQsIHdhc09wZW46IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgaWYgKCF3YXNPcGVuKSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlU2lkZWJhckJ1dHRvbihvcGVuZXIsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PSBvcGVuZXIpIHtcclxuICAgICAgICAgICAgICAgIEV2ZW50cy5jYW5jZWxFdmVudChlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG9uQ2xvc2UpIG9uQ2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93TWVkaWFCb3gob3BlbmVyOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIHZhciBkaXZNZWRpYUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdk1lZGlhQm94LmNsYXNzTmFtZSA9ICdnaWctY29tbWVudHMtY29udGFpbmVyIGdpZy1jb21tZW50cy1tZWRpYWJveCc7XHJcbiAgICAgICAgZGl2TWVkaWFCb3guaW5uZXJIVE1MID0gZ2lneWEudXRpbHMudGVtcGxhdGVzLmZpbGwodGhpcy5wbHVnaW4udGVtcGxhdGVzWydtZWRpYWJveCddLCB7XHJcbiAgICAgICAgICAgIHVybDogdGhpcy5tZWRpYUl0ZW0gPyB0aGlzLm1lZGlhSXRlbS51cmwgOiAnJyxcclxuICAgICAgICAgICAgZW50ZXJfdXJsOiB0aGlzLnBsdWdpbi5nZXRUZXh0KCdlbnRlcl91cmwnKSxcclxuICAgICAgICAgICAgYWRkX21lZGlhX2l0ZW06IHRoaXMucGx1Z2luLmdldFRleHQoJ3RpcF91c2VfdHJ1c3RlZF91cmxzJyksXHJcbiAgICAgICAgICAgIG9rOiB0aGlzLnBsdWdpbi5nZXRUZXh0KCdvaycpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgZWxVUkwgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGRpdk1lZGlhQm94LCAnZ2lnLW1lZGlhYm94LXVybCcpWzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgdmFyIGVsT0sgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGRpdk1lZGlhQm94LCAnZ2lnLW1lZGlhYm94LW9rJylbMF07XHJcbiAgICAgICAgaWYgKGVsT0spIHtcclxuICAgICAgICAgICAgdmFyIGZuUmVtb3ZlTGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICdrZXlkb3duJywgZm5FbnRlckVzY1ByZXNzKTtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVFdmVudExpc3RlbmVyKGVsT0ssICdjbGljaycsIGZuT0spO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGZuRW50ZXJFc2NQcmVzcyA9IGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhcl9rZXkgPSBlLmtleUNvZGU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZhcl9rZXkgPT0gMjcpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXZNZWRpYUJveC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGRpdk1lZGlhQm94KTtcclxuICAgICAgICAgICAgICAgICAgICBmblJlbW92ZUxpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YXJfa2V5ID09IDEzKSBmbk9LKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgZm5PSyA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbFVSTCAmJiBlbFVSTC52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdk1lZGlhQm94LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZGl2TWVkaWFCb3gpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lZGlhSXRlbVByZXZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVNpZGViYXJCdXR0b24ob3BlbmVyLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLmNvbW1lbnRzLmFuYWx5emVNZWRpYUl0ZW0oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUlEOiB0aGlzLnBsdWdpbi5wYXJhbXNbJ2NhdGVnb3J5SUQnXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsczogZWxVUkwudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLmVycm9yQ29kZSAmJiByZXNwb25zZS5tZWRpYUl0ZW1zICYmIHJlc3BvbnNlLm1lZGlhSXRlbXMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhSXRlbSA9IHJlc3BvbnNlLm1lZGlhSXRlbXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVNZWRpYUl0ZW0oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLmVycm9yTWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMuZXJyb3JNZXNzYWdlLmlubmVySFRNTCA9IHRoaXMucGx1Z2luLmdldFRleHQoJ3RoZV9wcm92aWRlZF91cmxfaXNfbm90X3N1cHBvcnRlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdpZ3lhLnBsdWdpblV0aWxzLkRPTS5oaWRlRWxlbWVudE9uRG9jQ2xpY2sodGhpcy51aUVsZW1lbnRzLmVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVNZWRpYUl0ZW1QcmV2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdk1lZGlhQm94LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZGl2TWVkaWFCb3gpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlU2lkZWJhckJ1dHRvbihvcGVuZXIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmblJlbW92ZUxpc3RlbmVycygpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICdrZXlkb3duJywgZm5FbnRlckVzY1ByZXNzKTtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWxPSywgJ2NsaWNrJywgZm5PSyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNob3dTaWRlYmFyQm94KG9wZW5lciwgZGl2TWVkaWFCb3gsIGZuUmVtb3ZlTGlzdGVuZXJzKTtcclxuICAgICAgICBlbFVSTC5mb2N1cygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8vI3JlZ2lvbiBNZWRpYSBpdGVtc1xyXG5cclxuICAgIHJlbW92ZU1lZGlhSXRlbVByZXZpZXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudWlFbGVtZW50cy5tZWRpYUl0ZW0pIHRoaXMudWlFbGVtZW50cy5tZWRpYUl0ZW0uaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgdGhpcy5tZWRpYUl0ZW0gPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dNZWRpYUl0ZW1QcmV2aWV3KCkge1xyXG4gICAgICAgIGlmICghdGhpcy51aUVsZW1lbnRzLm1lZGlhSXRlbSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMudWlFbGVtZW50cy5tZWRpYUl0ZW0uaW5uZXJIVE1MID0gJyc7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVpRWxlbWVudHMuZWRpdG9yKSBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQodGhpcy51aUVsZW1lbnRzLmVkaXRvciwgJ2dpZy1jb21wb3NlYm94LWVkaXRvci13aXRoLW1lZGlhJyk7XHJcblxyXG4gICAgICAgIHZhciBlbFByZXZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxQcmV2aWV3LCAnZ2lnLWNvbXBvc2Vib3gtbWVkaWEtcHJldmlldycpO1xyXG4gICAgICAgIHRoaXMudWlFbGVtZW50cy5tZWRpYUl0ZW0uYXBwZW5kQ2hpbGQoZWxQcmV2aWV3KTtcclxuICAgICAgICBlbFByZXZpZXcuc3R5bGUuaGVpZ2h0ID0gZWxQcmV2aWV3Lm9mZnNldFdpZHRoICogMC43NSArICdweCc7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTWVkaWFJdGVtKCkge1xyXG4gICAgICAgIGlmICghdGhpcy51aUVsZW1lbnRzLm1lZGlhSXRlbSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgZWxQcmV2aWV3ID0gdGhpcy51aUVsZW1lbnRzLm1lZGlhSXRlbS5jaGlsZE5vZGVzWzBdIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGVsUHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAnJztcclxuXHJcbiAgICAgICAgdmFyIGZuT25DYW5jZWwgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy5tZWRpYUl0ZW0uaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIHRoaXMubWVkaWFJdGVtID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVpRWxlbWVudHMuZWRpdG9yKSBnaWd5YS51dGlscy5ET00ucmVtb3ZlQ2xhc3NGcm9tRWxlbWVudCh0aGlzLnVpRWxlbWVudHMuZWRpdG9yLCAnZ2lnLWNvbXBvc2Vib3gtZWRpdG9yLXdpdGgtbWVkaWEnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnBsdWdpbi5idWlsZE1lZGlhSXRlbUVsZW1lbnQoZWxQcmV2aWV3LCB0aGlzLm1lZGlhSXRlbSwgdHJ1ZSwgZm5PbkNhbmNlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIFJpY2ggdGV4dFxyXG5cclxuICAgIHNob3dGb250Qm94KG9wZW5lcjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgZGl2Rm9udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdkZvbnQuaW5uZXJIVE1MID0gdGhpcy5wbHVnaW4udGVtcGxhdGVzWydmb250Ym94J107XHJcbiAgICAgICAgZGl2Rm9udC5jbGFzc05hbWUgPSAnZ2lnLWNvbW1lbnRzLWNvbnRhaW5lciBnaWctY29tbWVudHMtZm9udGJveCc7XHJcblxyXG4gICAgICAgIHZhciBhckZvbnRJdGVtcyA9IGRpdkZvbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpJyk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhckZvbnRJdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZm9udEl0ZW0gPSBhckZvbnRJdGVtc1tpXSBhcyBIVE1MRWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRFdmVudExpc3RlbmVyKGZvbnRJdGVtLCAnbW91c2Vkb3duJywgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvbnRDb21tYW5kID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb21tYW5kJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZm9udENvbW1hbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXZGb250LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGl2Rm9udCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVTaWRlYmFyQnV0dG9uKG9wZW5lciwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Rm9udENvbW1hbmQoZm9udENvbW1hbmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmNhbmNlbEV2ZW50KGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2hvd1NpZGViYXJCb3gob3BlbmVyLCBkaXZGb250KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRGb250Q29tbWFuZChjb21tYW5kOiBzdHJpbmcpIHtcclxuICAgICAgICBzd2l0Y2ggKGNvbW1hbmQpIHtcclxuICAgICAgICAgICAgY2FzZSAnYm9sZCc6XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnYm9sZCcsIGZhbHNlLCB0cnVlIGFzIGFueSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnaXRhbGljJzpcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdpdGFsaWMnLCBmYWxzZSwgdHJ1ZSBhcyBhbnkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3VuZGVybGluZSc6XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgndW5kZXJsaW5lJywgZmFsc2UsIHRydWUgYXMgYW55KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdidWxsZXRzJzpcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdJbnNlcnRVbm9yZGVyZWRMaXN0JywgZmFsc2UsICduZXdVTCcpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8vI3JlZ2lvbiBcIkFic3RyYWN0XCIgbWV0aG9kc1xyXG5cclxuICAgIHN1Ym1pdCgpOiB2b2lkIHt9XHJcblxyXG4gICAgc3VibWl0Q2FsbGJhY2socmVzcG9uc2U6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHZhciBjb21tZW50ID0gdGhpcy5wbHVnaW4uZ2V0Q29tbWVudCh0aGlzLmRhdGEuSUQpO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VbJ2Vycm9yQ29kZSddID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgZXJyb3JUZXh0O1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlWydlcnJvckNvZGUnXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0MDMwMzc6XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0ID0gdGhpcy5nZXRUZXh0KCdvbmx5X29uZV9yZXZpZXdfcGVyX3Byb2R1Y3RfaXNfYWxsb3dlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0MDAxMjQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0ID0gdGhpcy5nZXRUZXh0KCdkYWlseV9jb21tZW50aW5nX2xpbWl0X3JlYWNoZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDAwMTI1OlxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yVGV4dCA9IHRoaXMuZ2V0VGV4dCgnY29tbWVudGluZ19mcmVxdWVuY3lfbGltaXRfcmVhY2hlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0MDMwMzg6XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0ID0gdGhpcy5wbHVnaW4udGV4dE1vZGUgPT0gVGV4dE1vZGUuQ09NTUVOVFMgPyB0aGlzLmdldFRleHQoJ2NvbW1lbnRfZWRpdF9yZWplY3RlZCcpIDogdGhpcy5nZXRUZXh0KCdyZXZpZXdfZWRpdF9yZWplY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBlcnJvclRleHQgPSB0aGlzLmdldFRleHQoJ2FuX2Vycm9yX2hhc19vY2N1cnJlZF9wbGVhc2VfdHJ5X2FnYWluX2xhdGVyJywgJyVlcnJvckNvZGUnLCByZXNwb25zZVsnZXJyb3JDb2RlJ10pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZXJyb3JUZXh0KSBjb21tZW50LnVwZGF0ZVN0YXR1cyhlcnJvclRleHQpO1xyXG5cclxuICAgICAgICAgICAgZ2lneWEuZXZlbnRzLmRpc3BhdGNoRXJyb3JGcm9tUmVzcG9uc2UodGhpcy5wbHVnaW4ucGFyYW1zLCByZXNwb25zZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZVsnY29tbWVudCddKSB7XHJcbiAgICAgICAgICAgIGNvbW1lbnQuaXNUZW1wID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbW1lbnQuaXNQb3N0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29tbWVudC5yZXNldChDb21tZW50RGF0YS5mcm9tUmF3RGF0YShyZXNwb25zZVsnY29tbWVudCddKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFN1Ym1pdFRleHQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXJSZW5kZXIoKTogdm9pZCB7fVxyXG5cclxuICAgIGdldFRpdGxlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG59XHJcbiIsImltcG9ydCB7IENvbW1lbnREYXRhLCBDb21tZW50Vm90ZSwgQ29tbWVudFN0YXR1cyB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudERhdGEnO1xyXG5pbXBvcnQgeyBOZXdDb21tZW50Qm94IH0gZnJvbSAnc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9OZXdDb21tZW50Qm94JztcclxuaW1wb3J0IHsgQ29tbWVudHNQbHVnaW4gfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnRzUGx1Z2luJztcclxuaW1wb3J0IHsgVGV4dE1vZGUsIEhpZ2hsaWdodEdyb3VwLCBCYWRnZUZyYW1lRW51bSB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudHMuTW9kZWxzJztcclxuaW1wb3J0IHsgSW1hZ2VzIH0gZnJvbSAnc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9Db21tZW50c1V0aWxzJztcclxuaW1wb3J0IHsgRWRpdENvbW1lbnRCb3ggfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0VkaXRDb21tZW50Qm94JztcclxuZXhwb3J0IGNsYXNzIENvbW1lbnQge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIGRhdGE6IENvbW1lbnREYXRhO1xyXG4gICAgcmVwbGllczogQ29tbWVudFtdID0gW107XHJcbiAgICBjb21wb3NlYm94OiBOZXdDb21tZW50Qm94O1xyXG5cclxuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgaXNGbGFnZ2VkOiBib29sZWFuO1xyXG4gICAgaXNQb3N0OiBib29sZWFuO1xyXG4gICAgdm90ZUluUHJvZ3Jlc3M6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIGtleWRvd25EZWxlZ2F0ZTogRnVuY3Rpb247XHJcbiAgICBwdWJsaWMgZGVzY2VuZGFudHNDb3VudDogbnVtYmVyID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIHBsdWdpbjogQ29tbWVudHNQbHVnaW4sXHJcbiAgICAgICAgZGF0YTogQ29tbWVudERhdGEsXHJcbiAgICAgICAgcHVibGljIGxldmVsOiBudW1iZXIgPSAwLFxyXG4gICAgICAgIHByaXZhdGUgdmlhUHJvdmlkZXI/OiBzdHJpbmcsXHJcbiAgICAgICAgcHVibGljIGlzVGVtcDogYm9vbGVhbiA9IGZhbHNlLFxyXG4gICAgICAgIHB1YmxpYyBpc05ldzogYm9vbGVhbiA9IGZhbHNlLFxyXG4gICAgICAgIHB1YmxpYyBlcnJvcj86IHN0cmluZyxcclxuICAgICAgICBwdWJsaWMgaW5mbz86IHN0cmluZyxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMucmVzZXQoZGF0YSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVQYXJlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUGFyZW50cygpIHtcclxuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKTtcclxuXHJcbiAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuZGF0YSAmJiBwYXJlbnQuZGF0YS5yZXBsaWVzICYmIGdpZ3lhLnV0aWxzLmFycmF5LmluZGV4T2YocGFyZW50LmRhdGEucmVwbGllcywgdGhpcy5kYXRhKSA9PSAtMSkge1xyXG4gICAgICAgICAgICBwYXJlbnQuZGF0YS5yZXBsaWVzLnB1c2godGhpcy5kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQucmVwbGllcyAmJiBnaWd5YS51dGlscy5hcnJheS5pbmRleE9mKHBhcmVudC5yZXBsaWVzLCB0aGlzKSA9PSAtMSkge1xyXG4gICAgICAgICAgICBwYXJlbnQucmVwbGllcy5wdXNoKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXBhcmVudCAmJiBnaWd5YS51dGlscy5hcnJheS5pbmRleE9mKHRoaXMucGx1Z2luLmNvbW1lbnRzLCB0aGlzKSA9PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5jb21tZW50cy5wdXNoKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZURlc2NlbmRhbnRzQ291bnRJblBhcmVudHMocGFyZW50PzogQ29tbWVudCkge1xyXG4gICAgICAgIHdoaWxlIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgLy8gRG8gbm90IGFkZCB0byB0b3RhbCBjb3VudCBpZiBpcyByZW1vdmVkIGNvbW1lbnQgb3IgY29tbWVudCBoYXMgbm90IHlldCBiZWVuIGFjY2VwdGVkIGJ5IHRoZSBBUEkuXHJcbiAgICAgICAgICAgIHBhcmVudC5kZXNjZW5kYW50c0NvdW50ID0gKHBhcmVudC5kZXNjZW5kYW50c0NvdW50IHx8IDApICsgKHRoaXMuaXNSZW1vdmVkQ29tbWVudCgpIHx8ICF0aGlzLmRhdGEuc3RhdHVzID8gMCA6IDEpO1xyXG4gICAgICAgICAgICBwYXJlbnQudXBkYXRlUmVwbGllc0NvdW50KCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXRMaW5rcyhwYXJlbnQuZ2V0Q29udGFpbmVyKCkpO1xyXG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuZ2V0UGFyZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0RWxlbWVudEh0bWwoc3ViQ2xhc3M6IHN0cmluZywgaHRtbDogc3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIGVsID0gdGhpcy5nZXRFbGVtZW50KHN1YkNsYXNzKTtcclxuICAgICAgICBpZiAoZWwpIGVsLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBiaW5kQnV0dG9uU3VibWl0RWxlbWVudChzdWJDbGFzczogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbikge1xyXG4gICAgICAgIHZhciBlbCA9IHRoaXMuZ2V0RWxlbWVudChzdWJDbGFzcyk7XHJcbiAgICAgICAgaWYgKGVsKSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRCdXR0b25TdWJtaXRMaXN0ZW5lcihlbCwgaGFuZGxlci5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRFbGVtZW50KHN1YkNsYXNzOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgdmFyIGFyRWxzID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyh0aGlzLmdldENvbnRhaW5lcigpLCAnZ2lnLWNvbW1lbnQtJyArIHN1YkNsYXNzKTtcclxuICAgICAgICByZXR1cm4gYXJFbHMubGVuZ3RoID4gMCA/IGFyRWxzWzBdIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIHRoaXMucGx1Z2luLnJlbW92ZUNvbW1lbnQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXQoZGF0YTogQ29tbWVudERhdGEsIGlzVXBkYXRlPzogYm9vbGVhbiwgaXNQb3N0PzogYm9vbGVhbikge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLnBsdWdpbi5jb21tZW50SW5zdGFuY2VzW3RoaXMuaWRdO1xyXG4gICAgICAgIHRoaXMuaWQgPSBkYXRhLklEO1xyXG4gICAgICAgIHRoaXMucGx1Z2luLmNvbW1lbnRJbnN0YW5jZXNbdGhpcy5pZF0gPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgaWYgKGlzTmFOKHRoaXMuZGF0YS5wb3NWb3RlcykpIHRoaXMuZGF0YS5wb3NWb3RlcyA9IDA7XHJcbiAgICAgICAgaWYgKGlzTmFOKHRoaXMuZGF0YS5uZWdWb3RlcykpIHRoaXMuZGF0YS5uZWdWb3RlcyA9IDA7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLnNlbmRlci5uYW1lICYmIGRhdGEuc2VuZGVyLm5hbWUudG9Mb3dlckNhc2UoKSA9PSAnYW5vbnltb3VzJykgZGF0YS5zZW5kZXIubmFtZSA9IHRoaXMucGx1Z2luLmdldFRleHQoJ2Fub255bW91cycpO1xyXG4gICAgICAgIGVsc2UgaWYgKCFkYXRhLnNlbmRlci5uYW1lICYmIGRhdGEuaXNNb2RlcmF0b3IpIGRhdGEuc2VuZGVyLm5hbWUgPSB0aGlzLnBsdWdpbi5nZXRUZXh0KCdtb2RlcmF0b3InKTtcclxuICAgICAgICBlbHNlIGlmIChkYXRhLnNlbmRlci5uYW1lICYmIGRhdGEuc2VuZGVyLm5hbWUudG9Mb3dlckNhc2UoKSA9PSAnZ3Vlc3QnKSBkYXRhLnNlbmRlci5uYW1lID0gdGhpcy5wbHVnaW4uZ2V0VGV4dCgnZ3Vlc3QnKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVBbGwoKTtcclxuICAgICAgICBpZiAoZGF0YS5yZXBsaWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY2VuZGFudHNDb3VudCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5yZXBsaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVwbHlEYXRhID0gZGF0YS5yZXBsaWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcGx5OiBDb21tZW50ID0gdGhpcy5wbHVnaW4uZ2V0Q29tbWVudChyZXBseURhdGEuSUQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZXBseSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcGx5LnJlc2V0KHJlcGx5RGF0YSwgaXNVcGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXBseSA9IG5ldyBDb21tZW50KHRoaXMucGx1Z2luLCByZXBseURhdGEsIHRoaXMubGV2ZWwgKyAxLCBudWxsLCBudWxsLCB0aGlzLmlzTmV3IHx8IGlzVXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlcGxpZXNDb3VudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVwZGF0ZURlc2NlbmRhbnRzQ291bnRJblBhcmVudHModGhpcy5nZXRQYXJlbnQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlQ2hpbGQoaWQpOiB2b2lkIHtcclxuICAgICAgICBnaWd5YS51dGlscy5hcnJheS5yZW1vdmVCeVByb3BlcnR5KHRoaXMucmVwbGllcywgJ2lkJywgaWQpO1xyXG4gICAgICAgIGdpZ3lhLnV0aWxzLmFycmF5LnJlbW92ZUJ5UHJvcGVydHkodGhpcy5kYXRhLnJlcGxpZXMsICdJRCcsIGlkKTtcclxuICAgIH1cclxuICAgIGdldFVzZXJuYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zZW5kZXIubmFtZSB8fCAodGhpcy5kYXRhLmlzTW9kZXJhdG9yID8gdGhpcy5wbHVnaW4uZ2V0VGV4dCgnbW9kZXJhdG9yJykgOiB0aGlzLnBsdWdpbi5nZXRUZXh0KCdndWVzdCcpKTtcclxuICAgIH1cclxuICAgIGdldENvbnRhaW5lcigpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xyXG4gICAgfVxyXG4gICAgZ2V0UGFyZW50KCk6IENvbW1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsdWdpbi5nZXRDb21tZW50KHRoaXMuZGF0YS5wYXJlbnRJRCk7XHJcbiAgICB9XHJcbiAgICBnZXRUZXh0KHRleHRLZXk6IHN0cmluZywgcmVwbGFjZVN0cj86IHN0cmluZywgd2l0aFN0cj86IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2luLmdldFRleHQodGV4dEtleSwgcmVwbGFjZVN0ciwgd2l0aFN0cik7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwYW5kKCkge1xyXG4gICAgICAgIHZhciBlbEV4cGFuZEFycm93ID0gdGhpcy5nZXRFbGVtZW50KCdyZXBsaWVzQXJyb3cnKTtcclxuICAgICAgICB2YXIgZWxSZXBsaWVzID0gdGhpcy5nZXRFbGVtZW50KCdyZXBsaWVzJyk7XHJcbiAgICAgICAgaWYgKGVsRXhwYW5kQXJyb3cgJiYgZWxSZXBsaWVzKSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KGVsUmVwbGllcywgJ2dpZy1jb21tZW50LXJlcGxpZXMtY29sbGFwc2VkJyk7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KGVsRXhwYW5kQXJyb3csICdnaWctY29tbWVudC1yZXBsaWVzQXJyb3ctY29sbGFwc2VkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXBkYXRlUmVwbGllcyh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb2xsYXBzZSgpIHtcclxuICAgICAgICB2YXIgZWxFeHBhbmRBcnJvdyA9IHRoaXMuZ2V0RWxlbWVudCgncmVwbGllc0Fycm93Jyk7XHJcbiAgICAgICAgdmFyIGVsUmVwbGllcyA9IHRoaXMuZ2V0RWxlbWVudCgncmVwbGllcycpO1xyXG4gICAgICAgIGlmIChlbEV4cGFuZEFycm93ICYmIGVsUmVwbGllcykge1xyXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudChlbFJlcGxpZXMsICdnaWctY29tbWVudC1yZXBsaWVzLWNvbGxhcHNlZCcpO1xyXG4gICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KGVsRXhwYW5kQXJyb3csICdnaWctY29tbWVudC1yZXBsaWVzQXJyb3ctY29sbGFwc2VkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRldGFjaFJlcGxpZXMoKTtcclxuICAgICAgICBlbFJlcGxpZXMuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQ29sbGFwc2UoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2dpZy1jb21tZW50LXJlcGxpZXMtY29sbGFwc2VkJykubGVuZ3RoID4gMDtcclxuICAgIH1cclxuXHJcbiAgICBleHBhbmRDb2xsYXBzZSgpIHtcclxuICAgICAgICBjb25zdCBlbFJlcGxpZXMgPSB0aGlzLmdldEVsZW1lbnQoJ3JlcGxpZXMnKTtcclxuICAgICAgICBpZiAoZWxSZXBsaWVzKSB7XHJcbiAgICAgICAgICAgIGlmICghZ2lneWEudXRpbHMuRE9NLmlzRWxlbWVudENsYXNzKGVsUmVwbGllcywgJ2dpZy1jb21tZW50LXJlcGxpZXMtY29sbGFwc2VkJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2UoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RDb21tZW50ID0gZWxSZXBsaWVzLnF1ZXJ5U2VsZWN0b3IoJy5naWctY29tbWVudCcpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0Q29tbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0Q29tbWVudC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRldGFjaFJlcGxpZXMoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJlcGxpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHJlcGx5ID0gdGhpcy5yZXBsaWVzW2ldO1xyXG4gICAgICAgICAgICByZXBseS5jb250YWluZXIgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlcGx5LnBsdWdpbi50ZW1wQ29tcG9zZUJveCkge1xyXG4gICAgICAgICAgICAgICAgcmVwbHkucGx1Z2luLnRlbXBDb21wb3NlQm94LmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlcGx5LmRldGFjaFJlcGxpZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUmVwbGllc0NvdW50KCkge1xyXG4gICAgICAgIHZhciBjID0gdGhpcy5nZXRDb250YWluZXIoKTtcclxuICAgICAgICBpZiAoYykge1xyXG4gICAgICAgICAgICB2YXIgcmVwbGllc0Fycm93ID0gdGhpcy5nZXRFbGVtZW50KCdyZXBsaWVzQXJyb3cnKTtcclxuICAgICAgICAgICAgdmFyIHJlcGxpZXNBcnJvd1RleHQgPSB0aGlzLmdldEVsZW1lbnQoJ3JlcGxpZXNBcnJvdy10ZXh0Jyk7XHJcbiAgICAgICAgICAgIHZhciByZXBsaWVzQ291bnQgPSB0aGlzLmRlc2NlbmRhbnRzQ291bnQgfHwgMDtcclxuICAgICAgICAgICAgaWYgKHJlcGxpZXNDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXBsaWVzQXJyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXBsaWVzQXJyb3cuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlcGxpZXNBcnJvd1RleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc1JlcGxpZXNDb3VudEtleTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVwbGllc0NvdW50ID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc1JlcGxpZXNDb3VudEtleSA9IHRoaXMucGx1Z2luLnRleHRNb2RlID09IFRleHRNb2RlLkNPTU1FTlRTID8gJ29uZV9yZXBseScgOiAnb25lX2NvbW1lbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNSZXBsaWVzQ291bnRLZXkgPSB0aGlzLnBsdWdpbi50ZXh0TW9kZSA9PSBUZXh0TW9kZS5DT01NRU5UUyA/ICdudW1fcmVwbGllcycgOiAnbnVtX2NvbW1lbnRzJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gdGhpcy5nZXRUZXh0KHNSZXBsaWVzQ291bnRLZXksICclbnVtJywgcmVwbGllc0NvdW50LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIG9mIGZyZW5jaCAwIC0gc2hvdWxkIG5vdCBiZSBwbHVyYWwgKDI4NjAwKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5wYXJhbXNbJ2xhbmcnXSA9PSAnZnInICYmIHJlcGxpZXNDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSB0aGlzLmdldFRleHQodGhpcy5wbHVnaW4udGV4dE1vZGUgPT0gVGV4dE1vZGUuQ09NTUVOVFMgPyAnb25lX3JlcGx5JyA6ICdvbmVfY29tbWVudCcsICclbnVtJywgcmVwbGllc0NvdW50LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKCcxJywgJzAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlcGxpZXNBcnJvd1RleHQuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXBsaWVzQXJyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXBsaWVzQXJyb3cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXRMaW5rcyhjKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbWFya0FzRmxhZ2dlZCgpIHtcclxuICAgICAgICB0aGlzLmlzRmxhZ2dlZCA9IHRydWU7XHJcbiAgICAgICAgdmFyIGRpdkZsYWcgPSB0aGlzLmdldEVsZW1lbnQoJ2ZsYWcnKTtcclxuICAgICAgICBpZiAoZGl2RmxhZykge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZGl2RmxhZywgJ2dpZy1jb21tZW50LWZsYWctc3VibWl0dGVkJyk7XHJcbiAgICAgICAgICAgIGRpdkZsYWcuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xyXG4gICAgICAgICAgICBkaXZGbGFnLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4uc3RhdGUuZmxhZ3MpIHRoaXMucGx1Z2luLnN0YXRlLmZsYWdzID0ge307XHJcbiAgICAgICAgdmFyIHVpZCA9IHRoaXMucGx1Z2luLnVzZXIuaXNHdWVzdCA/ICdndWVzdCcgOiB0aGlzLnBsdWdpbi51c2VyLlVJRDtcclxuICAgICAgICB0aGlzLnBsdWdpbi5zdGF0ZS5mbGFnc1t1aWQgKyAnXycgKyB0aGlzLmlkXSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRIdG1sKCkge1xyXG4gICAgICAgIHJldHVybiBnaWd5YS51dGlscy50ZW1wbGF0ZXMuZmlsbCh0aGlzLnBsdWdpbi50ZW1wbGF0ZXNbJ2NvbW1lbnQnXSwge1xyXG4gICAgICAgICAgICBjb21tZW50SWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgIGxpa2U6IHRoaXMuZ2V0VGV4dCgnbGlrZScpLFxyXG4gICAgICAgICAgICB1bmxpa2U6IHRoaXMuZ2V0VGV4dCgndW5saWtlJyksXHJcbiAgICAgICAgICAgIHJlcGx5OiB0aGlzLnBsdWdpbi50ZXh0TW9kZSA9PSBUZXh0TW9kZS5DT01NRU5UUyA/IHRoaXMuZ2V0VGV4dCgncmVwbHknKSA6IHRoaXMuZ2V0VGV4dCgnY29tbWVudCcpLFxyXG4gICAgICAgICAgICBkZWxldGU6IHRoaXMuZ2V0VGV4dCgnZGVsZXRlJyksXHJcbiAgICAgICAgICAgIHNoYXJlOiB0aGlzLmdldFRleHQoJ3NoYXJlJyksXHJcbiAgICAgICAgICAgIGVkaXQ6IHRoaXMuZ2V0VGV4dCgnZWRpdCcpLFxyXG4gICAgICAgICAgICBlZGl0ZWQ6IHRoaXMuZ2V0VGV4dCgnZWRpdGVkJykudG9Mb3dlckNhc2UoKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDaGlsZHJlbkh0bWwoKSB7XHJcbiAgICAgICAgdmFyIGFyQ2hpbGRyZW4gPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVwbGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhckNoaWxkcmVuLnB1c2godGhpcy5yZXBsaWVzW2ldLmdldEh0bWwoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhckNoaWxkcmVuLmpvaW4oJycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1JlbW92ZWRDb21tZW50KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAoIXRoaXMuaXNQb3N0ICYmIFsncmVqZWN0ZWQnLCAncGVuZGluZyddLmluZGV4T2YodGhpcy5kYXRhLnN0YXR1cykgIT0gLTEpIHx8IHRoaXMuZGF0YS5zdGF0dXMgPT09ICdkZWxldGVkJztcclxuICAgIH1cclxuXHJcbiAgICBpc1Bvc3RQZW5kaW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzUG9zdCAmJiB0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLnN0YXR1cyA9PSAncGVuZGluZyc7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29tbWVudElEQXR0cmlidXRlKCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS1jb21tZW50LWlkJywgdGhpcy5kYXRhLklEKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDb21tZW50VUlEQXR0cmlidXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEuc2VuZGVyLlVJRCkgdGhpcy5jb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLWdpZy11aWQnLCB0aGlzLmRhdGEuc2VuZGVyLlVJRCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQWxsKGNsZWFuOiBib29sZWFuID0gZmFsc2UsIHVwZGF0ZUNoaWxkcmVuOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIHZhciBuZXdDb250YWluZXIgPSBmYWxzZTtcclxuICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyIHx8ICF0aGlzLmNvbnRhaW5lci5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgIG5ld0NvbnRhaW5lciA9IHRydWU7XHJcbiAgICAgICAgICAgIGNsZWFuID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmFyIHBhcmVudENvbW1lbnQ6IENvbW1lbnQgPSB0aGlzLmdldFBhcmVudCgpO1xyXG4gICAgICAgICAgICBpZiAoIXBhcmVudENvbW1lbnQgJiYgdGhpcy5kYXRhLnBhcmVudElEKSByZXR1cm47IC8vaWdub3JlIG9ycGhhbmVkIGNvbW1lbnRzXHJcblxyXG4gICAgICAgICAgICB2YXIgcGFyZW50OiBIVE1MRWxlbWVudCA9IHBhcmVudENvbW1lbnQgPyBwYXJlbnRDb21tZW50LmdldEVsZW1lbnQoJ3JlcGxpZXMnKSA6IHRoaXMucGx1Z2luLmdldEVsZW1lbnQoJ2NvbW1lbnRzJyk7XHJcbiAgICAgICAgICAgIGlmICghcGFyZW50KSByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBlbDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdnaWctY29tbWVudCcpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc05ldykge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KGVsLCAnZ2lnLWNvbW1lbnQtbmV3Q29tbWVudCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLmlzTW9iaWxlVUkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoZWwsICdnaWctY29tbWVudC1uZXdDb21tZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29tbWVudEhpZ2hsaWdodGluZ0JhZGdlc0JhY2tncm91bmRDb2xvckZvck5ld0NvbW1lbnQodGhpcy5kYXRhLmhpZ2hsaWdodEdyb3Vwcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1sZXZlbCcsIHRoaXMubGV2ZWwudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEudGFncykge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRhdGEudGFncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS10YWctJyArIHRoaXMuZGF0YS50YWdzW2ldLnJlcGxhY2UoL1teQS1aYS16MC05XS9nLCAnXycpLCAnMScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlbC5pbm5lckhUTUwgPSB0aGlzLmdldEh0bWwoKTtcclxuICAgICAgICAgICAgaWYgKCh0aGlzLmlzVGVtcCB8fCB0aGlzLmlzTmV3KSAmJiBwYXJlbnQuZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShlbCwgcGFyZW50LmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGVsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBlbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjbGVhbikgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy5nZXRIdG1sKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzUmVtb3ZlZENvbW1lbnQoKSAmJiAhdGhpcy5pc1RlbXApIHRoaXMuc2V0UmVtb3ZlZENvbW1lbnRQcm9wKCk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlQ29tbWVudChjbGVhbik7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlVm90ZSgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlUmVwbGllc0NvdW50KCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNZWRpYUl0ZW0oKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRpdGxlKGNsZWFuKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNvbW1lbnRJREF0dHJpYnV0ZSgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ29tbWVudFVJREF0dHJpYnV0ZSgpO1xyXG4gICAgICAgIGlmICh1cGRhdGVDaGlsZHJlbikgdGhpcy51cGRhdGVSZXBsaWVzKGNsZWFuKTtcclxuICAgICAgICB0aGlzLnBsdWdpbi5zZXRMaW5rcyh0aGlzLmdldENvbnRhaW5lcigpKTtcclxuXHJcbiAgICAgICAgaWYgKG5ld0NvbnRhaW5lciB8fCBjbGVhbikgdGhpcy5iaW5kQWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRSZW1vdmVkQ29tbWVudFByb3AoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5zdGF0dXMgPT0gJ3BlbmRpbmcnKVxyXG4gICAgICAgICAgICB0aGlzLmRhdGEuY29tbWVudFRleHQgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUyAmJiB0aGlzLmxldmVsID09IDBcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZ2V0VGV4dCgndGhpc19yZXZpZXdfaXNfYXdhaXRpbmdfbW9kZXJhdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFRleHQoJ3RoaXNfY29tbWVudF9pc19hd2FpdGluZ19tb2RlcmF0aW9uJyk7XHJcbiAgICAgICAgLy8gJ2RlbGV0ZWQnIC8gJ3JlamVjdGVkJ1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5kYXRhLmNvbW1lbnRUZXh0ID1cclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnRleHRNb2RlID09IFRleHRNb2RlLlJFVklFV1MgJiYgdGhpcy5sZXZlbCA9PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmdldFRleHQoJ3RoaXNfcmV2aWV3X2hhc19iZWVuX2RlbGV0ZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5nZXRUZXh0KCd0aGlzX2NvbW1lbnRfaGFzX2JlZW5fZGVsZXRlZCcpO1xyXG5cclxuICAgICAgICB0aGlzLmRhdGEubWVkaWFJdGVtcyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kYXRhLnRhZ2dlZFVzZXJzID0gbnVsbDtcclxuICAgICAgICB0aGlzLmRhdGEucmF0aW5ncyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kYXRhLmhpZ2hsaWdodEdyb3VwcyA9IG51bGw7XHJcblxyXG4gICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudCh0aGlzLmdldEVsZW1lbnQoJ3NlbGYtZGF0YScpLCAnZ2lnLWNvbW1lbnQtZGF0YS1yZW1vdmVkJyk7XHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KHRoaXMuZ2V0RWxlbWVudCgncGhvdG8nKSwgJ2dpZy1jb21tZW50LXBob3RvLXJlbW92ZWQnKTtcclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQodGhpcy5nZXRFbGVtZW50KCd0aXRsZScpLCAnZ2lnLWNvbW1lbnQtdGl0bGUtcmVtb3ZlZCcpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZGF0YS5yZXBsaWVzIHx8IHRoaXMuZGF0YS5yZXBsaWVzLmxlbmd0aCA9PT0gMCkgdGhpcy5kaXNwb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaG93UmF0aW5ncygpIHtcclxuICAgICAgICB2YXIgZWxPcGVuZXIgPSB0aGlzLmdldEVsZW1lbnQoJ3JhdGluZy1kcm9wJyk7XHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KGVsT3BlbmVyLCAnZ2lnLWNvbW1lbnQtcmF0aW5nLWRyb3AtZG93bicpO1xyXG4gICAgICAgIHZhciBtYXhEaW1XaWR0aCA9IDA7XHJcbiAgICAgICAgdmFyIGVsRGltZW5zaW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGVsRGltZW5zaW9ucy5zdHlsZS56SW5kZXggPSBnaWd5YS51dGlscy5ET00uZ2V0TmV4dFpJbmRleCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFwcGVuZFRvQm9keShlbERpbWVuc2lvbnMpO1xyXG4gICAgICAgIGVsRGltZW5zaW9ucy5jbGFzc05hbWUgPSAnZ2lnLWNvbW1lbnRzLWNvbnRhaW5lciBnaWctY29tbWVudC1yYXRpbmctZGltZW5zaW9ucyc7XHJcbiAgICAgICAgZWxEaW1lbnNpb25zLmlkID0gJ2dpZ18nICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yYXRpbmdEaW1zO1xyXG4gICAgICAgIGlmIChkaW1lbnNpb25zICYmIGVsRGltZW5zaW9ucyAmJiB0aGlzLmRhdGEucmF0aW5ncykge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgcmF0aW5nIGRpbWVuc2lvbnMgZGVmaW5pdGlvbiwgZHJhd2luZyB0aGUgZGltZW5zaW9uIHJhdGluZ3NcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaW1lbnNpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGltID0gZGltZW5zaW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChkaW0uaWQgPT0gJ19vdmVyYWxsJyB8fCAhdGhpcy5kYXRhLnJhdGluZ3NbZGltLmlkXSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxEaW1lbnNpb246IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBlbERpbWVuc2lvbi5pbm5lckhUTUwgPSB0aGlzLnBsdWdpbi50ZW1wbGF0ZXNbJ3JhdGluZyddO1xyXG4gICAgICAgICAgICAgICAgZWxEaW1lbnNpb24uY2xhc3NOYW1lID0gJ2dpZy1jb21tZW50LXJhdGluZyc7XHJcblxyXG4gICAgICAgICAgICAgICAgZWxEaW1lbnNpb25zLmFwcGVuZENoaWxkKGVsRGltZW5zaW9uKTtcclxuICAgICAgICAgICAgICAgIHZhciBlbERpbVRpdGxlID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhlbERpbWVuc2lvbiwgJ2dpZy1jb21tZW50LXJhdGluZy10aXRsZScpWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsRGltVGl0bGUpIGVsRGltVGl0bGUuaW5uZXJIVE1MID0gZGltLm5hbWUgKyAnOic7XHJcbiAgICAgICAgICAgICAgICBtYXhEaW1XaWR0aCA9IE1hdGgubWF4KG1heERpbVdpZHRoLCBlbERpbVRpdGxlLm9mZnNldFdpZHRoICsgMik7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGVsRGltVmFsdWUgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGVsRGltZW5zaW9uLCAnZ2lnLWNvbW1lbnQtcmF0aW5nLXZhbHVlJylbMF07XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxEaW1WYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsRGltVmFsdWUuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGFyc0VsZW1lbnQoZWxEaW1WYWx1ZSwgZGltLmlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRpbmcgdGhlIENTUyBmb3IgdGhlIG1heCBjYXRlZ29yeSB3aWR0aFxyXG4gICAgICAgICAgICBnaWd5YS5fLnBsdWdpbnMudXRpbHMuY3NzLmFkZENzcygnIycgKyBlbERpbWVuc2lvbnMuaWQgKyAnICouZ2lnLWNvbW1lbnQtcmF0aW5nLXRpdGxlIHsgd2lkdGg6JyArIG1heERpbVdpZHRoICsgJ3B4OyB9JywgJycpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBvcyA9IGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50UG9zaXRpb24oZWxPcGVuZXIpO1xyXG4gICAgICAgICAgICBlbERpbWVuc2lvbnMuc3R5bGUudG9wID0gcG9zLnRvcCArIGVsT3BlbmVyLm9mZnNldEhlaWdodCArICdweCc7XHJcbiAgICAgICAgICAgIHZhciBkaW1lbnNpb25MZWZ0ID0gTWF0aC5tYXgoNSwgcG9zLmxlZnQgKyAoZWxPcGVuZXIub2Zmc2V0V2lkdGggLSBlbERpbWVuc2lvbnMub2Zmc2V0V2lkdGgpIC8gMik7XHJcbiAgICAgICAgICAgIGVsRGltZW5zaW9ucy5zdHlsZS5sZWZ0ID0gZGltZW5zaW9uTGVmdCArICdweCc7XHJcbiAgICAgICAgICAgIHZhciB0aHViTGVmdCA9IHBvcy5sZWZ0IC0gZGltZW5zaW9uTGVmdCAtIDExO1xyXG4gICAgICAgICAgICBnaWd5YS5fLnBsdWdpbnMudXRpbHMuY3NzLmFkZENzcygnIycgKyBlbERpbWVuc2lvbnMuaWQgKyAnLmdpZy1jb21tZW50LXJhdGluZy1kaW1lbnNpb25zOmJlZm9yZSB7bWFyZ2luLWxlZnQ6ICcgKyB0aHViTGVmdCArICdweH0nLCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdpZ3lhLnBsdWdpblV0aWxzLkRPTS5yZW1vdmVFbGVtZW50T25Eb2NDbGlja09yRXNjYXBlKFxyXG4gICAgICAgICAgICBlbERpbWVuc2lvbnMsXHJcbiAgICAgICAgICAgIChlPzogRXZlbnQsIHdhc09wZW4/OiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00ucmVtb3ZlQ2xhc3NGcm9tRWxlbWVudChlbE9wZW5lciwgJ2dpZy1jb21tZW50LXJhdGluZy1kcm9wLWRvd24nKTtcclxuICAgICAgICAgICAgICAgIGlmICh3YXNPcGVuICYmIGUudGFyZ2V0ID09IGVsT3BlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZVRpdGxlKGNsZWFuPykge1xyXG4gICAgICAgIHZhciBlbFRpdGxlID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyh0aGlzLmNvbnRhaW5lciwgJ2dpZy1jb21tZW50LXRpdGxlJylbMF07XHJcbiAgICAgICAgaWYgKCFlbFRpdGxlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmIChjbGVhbikge1xyXG4gICAgICAgICAgICB0aGlzLnNldEVsZW1lbnRIdG1sKCd0aXRsZScsIHRoaXMucGx1Z2luLnRlbXBsYXRlc1snY29tbWVudFRpdGxlJ10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCghdGhpcy5kYXRhLnJhdGluZ3MgfHwgIXRoaXMuZGF0YS5yYXRpbmdzWydfb3ZlcmFsbCddKSAmJiAoIXRoaXMuZGF0YS5jb21tZW50VGl0bGUgfHwgdGhpcy5kYXRhLnBhcmVudElEKSkge1xyXG4gICAgICAgICAgICBlbFRpdGxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWxUaXRsZS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudEh0bWwoJ3N1bW1hcnknLCB0aGlzLmRhdGEuY29tbWVudFRpdGxlIHx8ICcnKTtcclxuICAgICAgICAgICAgdmFyIGVsUmF0aW5nID0gdGhpcy5nZXRFbGVtZW50KCdyYXRpbmcnKTtcclxuICAgICAgICAgICAgdmFyIGVsUmF0aW5nRHJvcCA9IHRoaXMuZ2V0RWxlbWVudCgncmF0aW5nLWRyb3AnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChlbFJhdGluZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsUmF0aW5nRHJvcCkgZWxSYXRpbmdEcm9wLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICBlbFJhdGluZy5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGEucmF0aW5ncyAmJiB0aGlzLmRhdGEucmF0aW5nc1snX292ZXJhbGwnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsUmF0aW5nLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXJzRWxlbWVudChlbFJhdGluZywgJ19vdmVyYWxsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcmF0aW5nSWQgaW4gdGhpcy5kYXRhLnJhdGluZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhdGluZ0lkICE9ICdfb3ZlcmFsbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbFJhdGluZ0Ryb3ApIGVsUmF0aW5nRHJvcC5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxSYXRpbmcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGJhZGdlc0NvbnRhaW5lckVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoJ2hlYWRlci1sZWZ0Jyk7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4ucmVtb3ZlVXNlckJhZGdlcyhiYWRnZXNDb250YWluZXJFbGVtZW50KTtcclxuXHJcbiAgICAgICAgdmFyIGNvbW1lbnRlckVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgdmFyIGhhc1VzZXJCYWRnZXMgPSB0aGlzLnBsdWdpbi5jcmVhdGVVc2VySGlnaGxpZ2h0aW5nQmFkZ2VzKGNvbW1lbnRlckVsZW1lbnQsIHRoaXMuZGF0YS5oaWdobGlnaHRHcm91cHMpO1xyXG5cclxuICAgICAgICB2YXIgc2VsZkRhdGFFbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50KCdzZWxmLWRhdGEnKTtcclxuICAgICAgICBpZiAoaGFzVXNlckJhZGdlcykge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoc2VsZkRhdGFFbGVtZW50LCAnZ2lnLWNvbW1lbnQtd2l0aEJhZGdlcycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KHNlbGZEYXRhRWxlbWVudCwgJ2dpZy1jb21tZW50LXdpdGhCYWRnZXMnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVTdGFyc0VsZW1lbnQocGFyZW50OiBIVE1MRWxlbWVudCwgZGltZW5zaW9uSUQ6IHN0cmluZykge1xyXG4gICAgICAgIHZhciByYXRpbmc6IG51bWJlciA9IHRoaXMuZGF0YS5yYXRpbmdzW2RpbWVuc2lvbklEXTtcclxuXHJcbiAgICAgICAgLy8gRmlsbGluZyB0aGUgc3RhcnMgd2l0aCBhcHByb3ByaWF0ZSBpbWFnZVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlbEN1cnJTdGFyOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxDdXJyU3RhciwgJ2dpZy1jb21tZW50LXJhdGluZy1zdGFyJyk7XHJcbiAgICAgICAgICAgIHZhciBzdGFyQ2xhc3MgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGlmIChpIDwgTWF0aC5mbG9vcihyYXRpbmcpKSBzdGFyQ2xhc3MgPSAnZ2lnLWNvbW1lbnQtcmF0aW5nLXN0YXItZnVsbCc7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGkgPT0gcmF0aW5nIC0gMC41KSBzdGFyQ2xhc3MgPSAnZ2lnLWNvbW1lbnQtcmF0aW5nLXN0YXItaGFsZic7XHJcblxyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxDdXJyU3Rhciwgc3RhckNsYXNzKTtcclxuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGVsQ3VyclN0YXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVNZWRpYUl0ZW0oKSB7XHJcbiAgICAgICAgdmFyIGVsTWVkaWFJdGVtID0gdGhpcy5nZXRFbGVtZW50KCdtZWRpYUl0ZW0nKTtcclxuICAgICAgICBpZiAoIWVsTWVkaWFJdGVtKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRhdGEubWVkaWFJdGVtcyAmJiB0aGlzLmRhdGEubWVkaWFJdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGVsTWVkaWFJdGVtLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgdmFyIG1lZGlhSXRlbSA9IHRoaXMuZGF0YS5tZWRpYUl0ZW1zWzBdO1xyXG4gICAgICAgICAgICBlbE1lZGlhSXRlbS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uYnVpbGRNZWRpYUl0ZW1FbGVtZW50KGVsTWVkaWFJdGVtLCBtZWRpYUl0ZW0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVsTWVkaWFJdGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVZvdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi51c2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YS52b3RlID0gJ25vbmUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZWxWb3RlUG9zID0gdGhpcy5nZXRFbGVtZW50KCd2b3RlLXBvcycpO1xyXG4gICAgICAgIHZhciBlbFZvdGVOZWcgPSB0aGlzLmdldEVsZW1lbnQoJ3ZvdGUtbmVnJyk7XHJcbiAgICAgICAgdmFyIGVsVm90ZVRvdGFsID0gdGhpcy5nZXRFbGVtZW50KCd2b3RlLXRvdGFsJyk7XHJcbiAgICAgICAgdmFyIGVsTGlrZUxpbmsgPSB0aGlzLmdldEVsZW1lbnQoJ2xpa2VMaW5rJyk7XHJcblxyXG4gICAgICAgIHZhciB2b3RlRW5hYmxlZCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVZvdGluZztcclxuICAgICAgICB2YXIgYWxsb3dOZWcgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxvd05lZ2F0aXZlVm90aW5nO1xyXG5cclxuICAgICAgICBpZiAoZWxWb3RlUG9zKSBlbFZvdGVQb3Muc3R5bGUuZGlzcGxheSA9IHZvdGVFbmFibGVkID8gJycgOiAnbm9uZSc7XHJcbiAgICAgICAgaWYgKGVsVm90ZU5lZykgZWxWb3RlTmVnLnN0eWxlLmRpc3BsYXkgPSB2b3RlRW5hYmxlZCA/ICcnIDogJ25vbmUnO1xyXG4gICAgICAgIGlmIChlbFZvdGVUb3RhbCkgZWxWb3RlVG90YWwuc3R5bGUuZGlzcGxheSA9IHZvdGVFbmFibGVkID8gJycgOiAnbm9uZSc7XHJcblxyXG4gICAgICAgIHZhciBlbFZvdGVDb250YWluZXIgPSB0aGlzLmdldEVsZW1lbnQoJ2Zvb3Rlci1yaWdodCcpO1xyXG4gICAgICAgIGlmIChlbFZvdGVDb250YWluZXIpXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGlzcGxheVBvc05lZ1ZvdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxWb3RlQ29udGFpbmVyLCAnZ2lnLWNvbW1lbnQtdm90ZS1wb3NuZWcnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KGVsVm90ZUNvbnRhaW5lciwgJ2dpZy1jb21tZW50LXZvdGUtcG9zbmVnJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9kaXNwbGF5UG9zTmVnVm90ZXNcclxuXHJcbiAgICAgICAgaWYgKGVsVm90ZU5lZykgZWxWb3RlTmVnLnN0eWxlLmRpc3BsYXkgPSBhbGxvd05lZyA/ICcnIDogJ25vbmUnO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMuZGF0YS52b3RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bvcyc6XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxWb3RlUG9zKSBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxWb3RlUG9zLCAnZ2lnLWNvbW1lbnQtdm90ZS1wb3MtZG93bicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsVm90ZU5lZykgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoZWxWb3RlTmVnLCAnZ2lnLWNvbW1lbnQtdm90ZS1uZWctZG93bicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsTGlrZUxpbmspIGVsTGlrZUxpbmsuaW5uZXJIVE1MID0gdGhpcy5nZXRUZXh0KCd1bmxpa2UnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICduZWcnOlxyXG4gICAgICAgICAgICAgICAgaWYgKGVsVm90ZVBvcykgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoZWxWb3RlUG9zLCAnZ2lnLWNvbW1lbnQtdm90ZS1wb3MtZG93bicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsVm90ZU5lZykgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KGVsVm90ZU5lZywgJ2dpZy1jb21tZW50LXZvdGUtbmVnLWRvd24nKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgaWYgKGVsVm90ZVBvcykgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoZWxWb3RlUG9zLCAnZ2lnLWNvbW1lbnQtdm90ZS1wb3MtZG93bicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsVm90ZU5lZykgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoZWxWb3RlTmVnLCAnZ2lnLWNvbW1lbnQtdm90ZS1uZWctZG93bicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsTGlrZUxpbmspIGVsTGlrZUxpbmsuaW5uZXJIVE1MID0gdGhpcy5nZXRUZXh0KCdsaWtlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZWxWb3RlVG90YWwpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5kaXNwbGF5UG9zTmVnVm90ZXMgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYWxsb3dOZWdhdGl2ZVZvdGluZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZvdGVWYWx1ZSA9IHRoaXMuZGF0YS5wb3NWb3RlcyAtIHRoaXMuZGF0YS5uZWdWb3RlcztcclxuICAgICAgICAgICAgICAgIHZhciBzVm90ZVZhbHVlOiBzdHJpbmcgPSB2b3RlVmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmICh2b3RlVmFsdWUgPiAwKSBzVm90ZVZhbHVlID0gJysnICsgdm90ZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgZWxWb3RlVG90YWwuaW5uZXJIVE1MID0gc1ZvdGVWYWx1ZTtcclxuICAgICAgICAgICAgICAgIGVsVm90ZVRvdGFsLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsVm90ZVRvdGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVsVm90ZVBvcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGlzcGxheVBvc05lZ1ZvdGVzIHx8ICF0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxvd05lZ2F0aXZlVm90aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBlbFZvdGVQb3MuaW5uZXJIVE1MID0gdGhpcy5kYXRhLnBvc1ZvdGVzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxWb3RlUG9zLCAnZ2lnLWNvbW1lbnQtdm90ZS13aXRoLXZhbHVlJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00ucmVtb3ZlQ2xhc3NGcm9tRWxlbWVudChlbFZvdGVQb3MsICdnaWctY29tbWVudC12b3RlLXdpdGgtdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIGVsVm90ZVBvcy5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZWxWb3RlTmVnKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kaXNwbGF5UG9zTmVnVm90ZXMpIHtcclxuICAgICAgICAgICAgICAgIGVsVm90ZU5lZy5pbm5lckhUTUwgPSB0aGlzLmRhdGEubmVnVm90ZXMudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudChlbFZvdGVOZWcsICdnaWctY29tbWVudC12b3RlLXdpdGgtdmFsdWUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsVm90ZU5lZy5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KGVsVm90ZU5lZywgJ2dpZy1jb21tZW50LXZvdGUtd2l0aC12YWx1ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbFZvdGVDb250YWluZXIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNUZW1wKSB7XHJcbiAgICAgICAgICAgICAgICBlbFZvdGVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsVm90ZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsaXN0ZW5Gb3JDb21iaW5hdGlvbihlOiBhbnkpIHtcclxuICAgICAgICBpZiAoIWUpIGUgPSB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSA0MCAmJiBlLnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgIHZhciBzQ29tbWVudERhdGEgPSBnaWd5YS51dGlscy5zdHJpbmdVdGlscy5mb3JtYXQoXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy1jb250YWluZXJcIj5TdHJlYW0gSUQ6IHswfTxiciAvPkNvbW1lbnQgSUQ6IHsxfTwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5wYXJhbXNbJ3N0cmVhbUlEJ10sXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlkLFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBnaWd5YS5nbG9iYWwucHV0R01CYWxsb29uTmV4dFRvKHRoaXMuZ2V0Q29udGFpbmVyKCksIHNDb21tZW50RGF0YSwgJ0NvbW1lbnQgRGF0YScsIDQwMCwgMTAwKTtcclxuICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBtb3VzZU92ZXIoKSB7XHJcbiAgICAgICAgdmFyIFRoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5pc01vYmlsZVVJKSByZXR1cm47XHJcbiAgICAgICAgaWYgKCF0aGlzLmtleWRvd25EZWxlZ2F0ZSkgdGhpcy5rZXlkb3duRGVsZWdhdGUgPSAoZTogRXZlbnQpID0+IHRoaXMubGlzdGVuRm9yQ29tYmluYXRpb24oZSk7XHJcblxyXG4gICAgICAgIGlmIChnaWd5YS51dGlscy5ET00uaXNFbGVtZW50Q2xhc3ModGhpcy5jb250YWluZXIsICdnaWctY29tbWVudC1uZXdDb21tZW50JykpIHtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQodGhpcy5jb250YWluZXIsICdnaWctY29tbWVudC1uZXdDb21tZW50Jyk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29tbWVudEhpZ2hsaWdodGluZ0JhZGdlc0JhY2tncm91bmRDb2xvckZvck5ld0NvbW1lbnQodGhpcy5kYXRhLmhpZ2hsaWdodEdyb3Vwcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5uZXdDb21tZW50c0NvdW50LS07XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnVwZGF0ZVN0cmlwKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmtleWRvd25EZWxlZ2F0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbW91c2VPdXQoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5rZXlkb3duRGVsZWdhdGUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7fVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvbW1lbnQoY2xlYW46IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1cygpO1xyXG5cclxuICAgICAgICB2YXIgdXNlcm5hbWUgPSBnaWd5YS51dGlscy5zYW5pdGl6ZS5zYW5pdGl6ZUhUTUwoZ2lneWEuZ2xvYmFsLndicih0aGlzLmdldFVzZXJuYW1lKCksIDIwKSkucmVwbGFjZSgvXFwkL2csICcmIzM2OycpO1xyXG4gICAgICAgIHRoaXMuc2V0RWxlbWVudEh0bWwoJ3VzZXJuYW1lJywgdXNlcm5hbWUpO1xyXG4gICAgICAgIHRoaXMuc2V0RWxlbWVudEh0bWwoJ3RpbWUnLCB0aGlzLmdldFRpbWVTdHJpbmcoKSk7XHJcbiAgICAgICAgdmFyIGVsVmlhUHJvdmlkZXIgPSB0aGlzLmdldEVsZW1lbnQoJ3ZpYVByb3ZpZGVyJyk7XHJcbiAgICAgICAgaWYgKGVsVmlhUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmlhUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgICAgIGVsVmlhUHJvdmlkZXIuaW5uZXJIVE1MID0gdGhpcy5nZXRUZXh0KCd2aWFfcHJvdmlkZXInLCAnJXByb3ZpZGVyJywgdGhpcy52aWFQcm92aWRlcik7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxWaWFQcm92aWRlciwgJ2dpZy1jb21tZW50LXZpYVByb3ZpZGVyLScgKyB0aGlzLnZpYVByb3ZpZGVyLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICAgICAgZWxWaWFQcm92aWRlci5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbFZpYVByb3ZpZGVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgZWxWaWFQcm92aWRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBoYXNDb21tZW50QmFkZ2VzID0gdGhpcy5jcmVhdGVDb21tZW50SGlnaGxpZ2h0aW5nQmFkZ2VzKHRoaXMuZGF0YS5oaWdobGlnaHRHcm91cHMpO1xyXG4gICAgICAgIHZhciBzZWxmRGF0YUVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoJ3NlbGYtZGF0YScpO1xyXG4gICAgICAgIGlmIChoYXNDb21tZW50QmFkZ2VzKSBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoc2VsZkRhdGFFbGVtZW50LCAnZ2lnLWNvbW1lbnQtd2l0aEJhZGdlcycpO1xyXG4gICAgICAgIGVsc2UgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoc2VsZkRhdGFFbGVtZW50LCAnZ2lnLWNvbW1lbnQtd2l0aEJhZGdlcycpO1xyXG5cclxuICAgICAgICB2YXIgYm9keSA9ICh0aGlzLmRhdGEuY29tbWVudFRleHQgfHwgJycpLnJlcGxhY2UoL1xcJC9nLCAnJiMzNjsnKTtcclxuICAgICAgICBib2R5ID0gYm9keS5yZXBsYWNlKC9cXG4vZywgJzxiciAvPicpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlTGlua3MpIGJvZHkgPSBnaWd5YS5fLnBsdWdpbnMudXRpbHMuRE9NLnJlcGxhY2VMaW5rc1dpdGhIVE1MRWxlbWVudHMoYm9keSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0RWxlbWVudEh0bWwoJ2JvZHknLCBib2R5KTtcclxuXHJcbiAgICAgICAgdmFyIGVsRWRpdGVkID0gdGhpcy5nZXRFbGVtZW50KCdlZGl0ZWQnKTtcclxuICAgICAgICBpZiAoZWxFZGl0ZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJFZGl0Q29tbWVudCAmJiB0aGlzLmRhdGEuZWRpdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBlbEVkaXRlZC5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbEVkaXRlZC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbG5rTGlrZSA9IHRoaXMuZ2V0RWxlbWVudCgnbGlrZUxpbmsnKTtcclxuICAgICAgICBpZiAobG5rTGlrZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlVm90aW5nICYmICF0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxvd05lZ2F0aXZlVm90aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBsbmtMaWtlLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxua0xpa2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGxua0VkaXQgPSB0aGlzLmdldEVsZW1lbnQoJ2VkaXRMaW5rJyk7XHJcbiAgICAgICAgaWYgKGxua0VkaXQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJFZGl0Q29tbWVudCAmJiB0aGlzLmRhdGEuc2VuZGVyLmlzU2VsZiAmJiAhdGhpcy5wbHVnaW4uc2V0dGluZ3MucmVhZE9ubHkpIHtcclxuICAgICAgICAgICAgICAgIGxua0VkaXQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbG5rRWRpdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbG5rRGVsZXRlID0gdGhpcy5nZXRFbGVtZW50KCdkZWxldGVMaW5rJyk7XHJcbiAgICAgICAgaWYgKGxua0RlbGV0ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuYWxsb3dDb21tZW50RGVsZXRpb24gJiYgdGhpcy5kYXRhLnNlbmRlci5pc1NlbGYgJiYgIXRoaXMucGx1Z2luLnVzZXIuaXNHdWVzdCkge1xyXG4gICAgICAgICAgICAgICAgbG5rRGVsZXRlLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxua0RlbGV0ZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbG5rUmVwbHkgPSB0aGlzLmdldEVsZW1lbnQoJ3JlcGx5TGluaycpO1xyXG4gICAgICAgIGlmIChsbmtSZXBseSkge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5pc1RlbXAgJiZcclxuICAgICAgICAgICAgICAgICF0aGlzLnZpYVByb3ZpZGVyICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3RhdHVzICE9ICdwZW5kaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sZXZlbCA8IHRoaXMucGx1Z2luLnNldHRpbmdzLnRocmVhZGluZ0RlcHRoICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5wbHVnaW4uc2V0dGluZ3MucmVhZE9ubHkgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZUNvbW1lbnRCb2R5ICE9ICdkaXNhYmxlZCcgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnN0cmVhbUluZm8uc3RhdHVzICE9ICdyZWFkT25seSdcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBsbmtSZXBseS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsbmtSZXBseS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBlbExpa2VMaW5rID0gdGhpcy5nZXRFbGVtZW50KCdsaWtlTGluaycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGxua1NoYXJlID0gdGhpcy5nZXRFbGVtZW50KCdzaGFyZUxpbmsnKTtcclxuICAgICAgICBpZiAobG5rU2hhcmUpIHtcclxuICAgICAgICAgICAgbG5rU2hhcmUuc3R5bGUuZGlzcGxheSA9IHRoaXMucGx1Z2luLnBhcmFtc1snc2hhcmVVc2VyQWN0aW9uJ10gJiYgIXRoaXMucGx1Z2luLnBhcmFtc1snaGlkZVNoYXJlQnV0dG9ucyddICYmIHRoaXMucGx1Z2luLnNoYXJlRW5hYmxlZCA/ICcnIDogJ25vbmUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBsdWdpbi5zZXRMaW5rcyh0aGlzLmNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRhdGEucmF0aW5ncykge1xyXG4gICAgICAgICAgICB2YXIgcmF0aW5nc0h0bWw6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICB2YXIgcmF0aW5nVGVtcGxhdGUgPSB0aGlzLnBsdWdpbi50ZW1wbGF0ZXNbJ3JhdGluZyddO1xyXG4gICAgICAgICAgICBmb3IgKHZhciByYXRpbmdJRCBpbiB0aGlzLmRhdGEucmF0aW5ncykge1xyXG4gICAgICAgICAgICAgICAgLy9pZiAodGhpcy5wbHVnaW4uX3NldHRpbmdzLnJhdGluZ3NbcmF0aW5nSURdKSB7XHJcbiAgICAgICAgICAgICAgICByYXRpbmdzSHRtbCArPSBnaWd5YS51dGlscy50ZW1wbGF0ZXMuZmlsbChyYXRpbmdUZW1wbGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJDbGFzc05hbWU6ICdnaWctY29tbWVudHMtc3RhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nSUQ6IHJhdGluZ0lELFxyXG4gICAgICAgICAgICAgICAgICAgIC8vbmFtZTogdGhpcy5wbHVnaW4uX3NldHRpbmdzLnJhdGluZ3NbcmF0aW5nSURdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmRhdGEucmF0aW5nc1tyYXRpbmdJRF0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudEh0bWwoJ3JhdGluZ3MnLCByYXRpbmdzSHRtbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsb2dpblByb3ZpZGVyID0gdGhpcy5kYXRhLnNlbmRlci5sb2dpblByb3ZpZGVyO1xyXG5cclxuICAgICAgICB2YXIgcGhvdG9IdG1sID0gZ2lneWEudXRpbHMudGVtcGxhdGVzLmZpbGwodGhpcy5wbHVnaW4udGVtcGxhdGVzWydwaG90byddLCB7XHJcbiAgICAgICAgICAgIHBob3RvVVJMOiBnaWd5YS5nbG9iYWwuZ2V0UGhvdG9VUkwoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc2VuZGVyLnBob3RvVVJMLFxyXG4gICAgICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUodGhpcy5kYXRhLmlzTW9kZXJhdG9yID8gJ21vZF9pY29uJyA6ICdBdmF0YXJfZW1wdHknLCB0aGlzLnBsdWdpbi5waXhlbFJhdGlvKSxcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgcHJvdmlkZXJJbWFnZTpcclxuICAgICAgICAgICAgICAgIGxvZ2luUHJvdmlkZXIgJiYgbG9naW5Qcm92aWRlci50b0xvd2VyQ2FzZSgpICE9ICdzaXRlJyAmJiBsb2dpblByb3ZpZGVyLnRvTG93ZXJDYXNlKCkgIT0gJ2N1c3RvbW9wZW5pZCdcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMucGx1Z2luLnRlbXBsYXRlc1sncHJvdmlkZXJJbWFnZSddXHJcbiAgICAgICAgICAgICAgICAgICAgOiAnJyxcclxuICAgICAgICAgICAgcHJvdmlkZXJJbWFnZVVybDogbG9naW5Qcm92aWRlciA/IEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdwcm92aWRlcnMvJyArIHRoaXMuZGF0YS5zZW5kZXIubG9naW5Qcm92aWRlciArICdVc2VyJywgdGhpcy5wbHVnaW4ucGl4ZWxSYXRpbykgOiAnJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGVsUGhvdG8gPSB0aGlzLmdldEVsZW1lbnQoJ3Bob3RvJyk7XHJcbiAgICAgICAgaWYgKGVsUGhvdG8gJiYgZWxQaG90by5pbm5lckhUTUwgPT0gJycpIHtcclxuICAgICAgICAgICAgZWxQaG90by5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgIGVsUGhvdG8uaW5uZXJIVE1MID0gcGhvdG9IdG1sO1xyXG4gICAgICAgICAgICB2YXIgYXJFbEltZyA9IGVsUGhvdG8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpO1xyXG4gICAgICAgICAgICBpZiAoYXJFbEltZyAmJiBhckVsSW1nLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWcgPSBhckVsSW1nWzBdO1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEV2ZW50TGlzdGVuZXIoaW1nLCAnbG9hZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLmdsb2JhbC5zY2FsZUltYWdlVG9Db250YWluZXIoYXJFbEltZ1swXSwgdHJ1ZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsUGhvdG8uc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBlbEZsYWcgPSB0aGlzLmdldEVsZW1lbnQoJ2ZsYWcnKTtcclxuICAgICAgICBpZiAoZWxGbGFnKSB7XHJcbiAgICAgICAgICAgIHZhciB1aWQgPSB0aGlzLnBsdWdpbi51c2VyLmlzR3Vlc3QgPyAnZ3Vlc3QnIDogdGhpcy5wbHVnaW4udXNlci5VSUQ7XHJcbiAgICAgICAgICAgIGVsRmxhZy5zdHlsZS5kaXNwbGF5ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlRmxhZ2dpbmcgJiYgIWdpZ3lhLmxvY2FsSW5mby5pc1RvdWNoICYmICF0aGlzLmlzVGVtcCA/ICcnIDogJ25vbmUnO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc3RhdGUuZmxhZ3MgJiYgdGhpcy5wbHVnaW4uc3RhdGUuZmxhZ3NbdWlkICsgJ18nICsgdGhpcy5pZF0pIHRoaXMubWFya0FzRmxhZ2dlZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDb21tZW50SGlnaGxpZ2h0aW5nQmFkZ2VzKGNvbW1lbnRIaWdobGlnaHRHcm91cHM6IEFycmF5PHN0cmluZz4pIHtcclxuICAgICAgICB2YXIgYmFkZ2VzQ29udGFpbmVyRWxlbWVudDogSFRNTEVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoJ2hlYWRlci1yaWdodCcpO1xyXG4gICAgICAgIHZhciBoaWdobGlnaHRHcm91cHMgPSB0aGlzLnBsdWdpbi5nZXRIaWdobGlnaHRpbmdCYWRnZXMoY29tbWVudEhpZ2hsaWdodEdyb3VwcywgWydjb21tZW50J10pO1xyXG4gICAgICAgIHZhciBoaWdobGlnaHRHcm91cDogSGlnaGxpZ2h0R3JvdXAgPSBoaWdobGlnaHRHcm91cHMgPyBoaWdobGlnaHRHcm91cHNbMF0gOiBudWxsO1xyXG5cclxuICAgICAgICB2YXIgYmFkZ2VFbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50KCdjb21tZW50QmFkZ2UnKTtcclxuICAgICAgICB2YXIgY29udGVudEVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50KCdjb250ZW50Jyk7XHJcbiAgICAgICAgdmFyIGNvbW1lbnRlclBob3RvRWxlbWVudDogSFRNTEVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoJ3Bob3RvJyk7XHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoY29udGVudEVsZW1lbnQsICdnaWctY29tbWVudC1iYWRnZS0nLCB0cnVlKTtcclxuXHJcbiAgICAgICAgaWYgKCFoaWdobGlnaHRHcm91cCkge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00ucmVtb3ZlQ2xhc3NGcm9tRWxlbWVudChjb21tZW50ZXJQaG90b0VsZW1lbnQsICdnaWctY29tbWVudC1waG90by1iYWRnZScpO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00ucmVtb3ZlQ2xhc3NGcm9tRWxlbWVudChjb250ZW50RWxlbWVudCwgJ2dpZy1jb21tZW50LWNvbG9yZWQtYmFja2dyb3VuZCcpO1xyXG4gICAgICAgICAgICBpZiAoYmFkZ2VFbGVtZW50KSBiYWRnZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFiYWRnZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgYmFkZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGJhZGdlc0NvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQoYmFkZ2VFbGVtZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBiYWRnZUVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KGJhZGdlRWxlbWVudCwgJ2dpZy1iYWRnZS0nLCB0cnVlKTtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoYmFkZ2VFbGVtZW50LCAnZ2lnLWJhZGdlLWJvcmRlcicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KGJhZGdlRWxlbWVudCwgJ2dpZy1jb21tZW50LWNvbW1lbnRCYWRnZScpO1xyXG4gICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudChiYWRnZUVsZW1lbnQsIGhpZ2hsaWdodEdyb3VwLmNsYXNzTmFtZSk7IC8vIGZvciBjdXN0b21lcidzIGNzc1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMucGx1Z2luLmlzTW9iaWxlVUkpIHtcclxuICAgICAgICAgICAgYmFkZ2VFbGVtZW50LmlubmVySFRNTCA9IGhpZ2hsaWdodEdyb3VwLmJhZGdlVGV4dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChCYWRnZUZyYW1lRW51bVtoaWdobGlnaHRHcm91cC5iYWRnZUZyYW1lXSA9PT0gQmFkZ2VGcmFtZUVudW0ucmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudChiYWRnZUVsZW1lbnQsICdnaWctYmFkZ2UtYm9yZGVyJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBmaXJzdCBjb21tZW50IGdyb3VwIGRlZmluZXMgdGhlIGJhY2tncm91bmQgY29sb3JcclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoY29udGVudEVsZW1lbnQsICdnaWctY29tbWVudC1jb2xvcmVkLWJhY2tncm91bmQnKTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogbm8gcmVhc29uIHRvIGRvIHRoaXMsIENTUyBzaG91bGQgYmUgYnVpbHQgaW4gYSB3YXkgdGhhdCB3aGVuIGdpZy1jb21tZW50LW5ld0NvbW1lbnQgaXMgcmVtb3ZlZCB0aGlzIHJ1bGUgYXBwbGllc1xyXG4gICAgICAgIC8vIGlmIHRoaXMgY29tbWVudCBpcyBuZXcsIGRvbid0IHNldCB0aGUgYmFja2dyb3VuZCAoZG8gaXQgb24gbW91c2Ugb3ZlcilcclxuICAgICAgICBpZiAoIWdpZ3lhLnV0aWxzLkRPTS5pc0VsZW1lbnRDbGFzcyh0aGlzLmNvbnRhaW5lciwgJ2dpZy1jb21tZW50LW5ld0NvbW1lbnQnKSkge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoY29udGVudEVsZW1lbnQsIGhpZ2hsaWdodEdyb3VwLmNvbW1lbnRDbGFzc05hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29tbWVudEhpZ2hsaWdodGluZ0JhZGdlc0JhY2tncm91bmRDb2xvckZvck5ld0NvbW1lbnQoY29tbWVudEhpZ2hsaWdodEdyb3VwczogQXJyYXk8c3RyaW5nPikge1xyXG4gICAgICAgIGlmICghY29tbWVudEhpZ2hsaWdodEdyb3VwcykgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgaGlnaGxpZ2h0R3JvdXBzID0gdGhpcy5wbHVnaW4uZ2V0SGlnaGxpZ2h0aW5nQmFkZ2VzKGNvbW1lbnRIaWdobGlnaHRHcm91cHMsIFsnY29tbWVudCddKTtcclxuICAgICAgICB2YXIgaGlnaGxpZ2h0R3JvdXA6IEhpZ2hsaWdodEdyb3VwID0gaGlnaGxpZ2h0R3JvdXBzWzBdO1xyXG4gICAgICAgIGlmICghaGlnaGxpZ2h0R3JvdXApIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gZmlyc3QgdXNlciBncm91cCBkZWZpbmVzIHRoZSBiYWNrZ3JvdW5kIGNvbG9yXHJcbiAgICAgICAgdmFyIGNvbnRhaW5lckVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50KCdzZWxmLWRhdGEnKTtcclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoY29udGFpbmVyRWxlbWVudCwgaGlnaGxpZ2h0R3JvdXAuY29tbWVudENsYXNzTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJFcnJvcigpIHtcclxuICAgICAgICB0aGlzLmVycm9yID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTdGF0dXMoZXJyb3I/OiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoZXJyb3IgIT0gbnVsbCkgdGhpcy5lcnJvciA9IGVycm9yO1xyXG4gICAgICAgIHZhciBlbFN0YXR1cyA9IHRoaXMuZ2V0RWxlbWVudCgnc3RhdHVzJyk7XHJcbiAgICAgICAgaWYgKCFlbFN0YXR1cykgcmV0dXJuO1xyXG5cclxuICAgICAgICBnaWd5YS51dGlscy5ET00ucmVtb3ZlQ2xhc3NGcm9tRWxlbWVudChlbFN0YXR1cywgJ2dpZy1jb21tZW50LXN0YXR1cy1pbmZvJyk7XHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoZWxTdGF0dXMsICdnaWctY29tbWVudC1zdGF0dXMtZXJyb3InKTtcclxuICAgICAgICBnaWd5YS51dGlscy5ET00ucmVtb3ZlQ2xhc3NGcm9tRWxlbWVudChlbFN0YXR1cywgJ2dpZy1jb21tZW50LXN0YXR1cy1wZW5kaW5nJyk7XHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoZWxTdGF0dXMsICdnaWctY29tbWVudC1zdGF0dXMtbW9kZXJhdG9yLWVkaXRlZCcpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5lcnJvcikge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxTdGF0dXMsICdnaWctY29tbWVudC1zdGF0dXMtZXJyb3InKTtcclxuICAgICAgICAgICAgZWxTdGF0dXMuaW5uZXJIVE1MID0gdGhpcy5lcnJvcjtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaW5mbykge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxTdGF0dXMsICdnaWctY29tbWVudC1zdGF0dXMtaW5mbycpO1xyXG4gICAgICAgICAgICBlbFN0YXR1cy5pbm5lckhUTUwgPSB0aGlzLmluZm87XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzUG9zdFBlbmRpbmcoKSkge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxTdGF0dXMsICdnaWctY29tbWVudC1zdGF0dXMtaW5mbycpO1xyXG4gICAgICAgICAgICBlbFN0YXR1cy5pbm5lckhUTUwgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUyAmJiB0aGlzLmxldmVsID09IDBcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZ2V0VGV4dCgneW91cl9yZXZpZXdfaXNfYXdhaXRpbmdfbW9kZXJhdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFRleHQoJ3lvdXJfY29tbWVudF9pc19hd2FpdGluZ19tb2RlcmF0aW9uJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEubW9kZXJhdG9yRWRpdCkge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxTdGF0dXMsICdnaWctY29tbWVudC1zdGF0dXMtbW9kZXJhdG9yLWVkaXRlZCcpO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxTdGF0dXMsICdnaWctY29tbWVudC1zdGF0dXMtaW5mbycpO1xyXG4gICAgICAgICAgICBlbFN0YXR1cy5pbm5lckhUTUwgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUyAmJiB0aGlzLmxldmVsID09IDBcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZ2V0VGV4dCgncmV2aWV3X2VkaXRlZF9ieV9hX21vZGVyYXRvcicpXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFRleHQoJ2NvbW1lbnRfZWRpdGVkX2J5X2FfbW9kZXJhdG9yJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWxTdGF0dXMuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVJlcGxpZXMoY2xlYW46IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZXBsaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVwbGllc1tpXS51cGRhdGVBbGwoY2xlYW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRUaW1lU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICAgICAgdmFyIGRhdGVTdHJpbmcgPSAnJztcclxuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGQuc2V0VGltZSh0aGlzLmRhdGEudGltZXN0YW1wKTtcclxuICAgICAgICB2YXIgZGggPSAobm93IC0gdGhpcy5kYXRhLnRpbWVzdGFtcCkgLyAxMDAwIC8gNjAgLyA2MDtcclxuICAgICAgICBpZiAoZGggKiA2MCA8IDEpIHtcclxuICAgICAgICAgICAgZGF0ZVN0cmluZyA9IHRoaXMuZ2V0VGV4dCgnbGVzc190aGFuX2FfbWludXRlX2FnbycpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGggPCAxKSB7XHJcbiAgICAgICAgICAgIGRhdGVTdHJpbmcgPSBNYXRoLnJvdW5kKGRoICogNjApID09IDEgPyB0aGlzLmdldFRleHQoJ29uZV9taW51dGVfYWdvJykgOiB0aGlzLmdldFRleHQoJ251bV9taW51dGVzX2FnbycsICclbnVtJywgTWF0aC5yb3VuZChkaCAqIDYwKS50b1N0cmluZygpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRoIDwgMjQpIHtcclxuICAgICAgICAgICAgZGF0ZVN0cmluZyA9IE1hdGgucm91bmQoZGgpID09IDEgPyB0aGlzLmdldFRleHQoJ29uZV9ob3VyX2FnbycpIDogdGhpcy5nZXRUZXh0KCdudW1faG91cnNfYWdvJywgJyVudW0nLCBNYXRoLnJvdW5kKGRoKS50b1N0cmluZygpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRlU3RyaW5nID0gTWF0aC5yb3VuZChkaCAvIDI0KSA9PSAxID8gdGhpcy5nZXRUZXh0KCdvbmVfZGF5X2FnbycpIDogdGhpcy5nZXRUZXh0KCdudW1fZGF5c19hZ28nLCAnJW51bScsIE1hdGgucm91bmQoZGggLyAyNCkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkYXRlU3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGJpbmRBbGwoKSB7XHJcbiAgICAgICAgdmFyIGMgPSB0aGlzLmdldENvbnRhaW5lcigpO1xyXG4gICAgICAgIGlmIChjKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZEJ1dHRvblN1Ym1pdEVsZW1lbnQoJ3JlcGxpZXNBcnJvdycsIHRoaXMuZXhwYW5kQ29sbGFwc2UpO1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRCdXR0b25TdWJtaXRFbGVtZW50KCdkZWxldGVMaW5rJywgdGhpcy5zaG93RGVsZXRlRGlhbG9nKTtcclxuICAgICAgICAgICAgdGhpcy5iaW5kQnV0dG9uU3VibWl0RWxlbWVudCgncmVwbHlMaW5rJywgdGhpcy5zaG93UmVwbHlCb3gpO1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRCdXR0b25TdWJtaXRFbGVtZW50KCdsaWtlTGluaycsIHRoaXMub25Wb3RlUG9zQ2xpY2spO1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRCdXR0b25TdWJtaXRFbGVtZW50KCd2b3RlLXBvcycsIHRoaXMub25Wb3RlUG9zQ2xpY2spO1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRCdXR0b25TdWJtaXRFbGVtZW50KCd2b3RlLW5lZycsIHRoaXMub25Wb3RlTmVnQ2xpY2spO1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRCdXR0b25TdWJtaXRFbGVtZW50KCdzaGFyZUxpbmsnLCB0aGlzLm9uU2hhcmVDbGljayk7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZEJ1dHRvblN1Ym1pdEVsZW1lbnQoJ2VkaXRMaW5rJywgdGhpcy5vbkVkaXRDbGljayk7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZEJ1dHRvblN1Ym1pdEVsZW1lbnQoJ2ZsYWcnLCB0aGlzLnNob3dGbGFnRGlhbG9nKTtcclxuICAgICAgICAgICAgdGhpcy5iaW5kQnV0dG9uU3VibWl0RWxlbWVudCgncmF0aW5nLWRyb3AnLCB0aGlzLnNob3dSYXRpbmdzKTtcclxuXHJcbiAgICAgICAgICAgIC8vZXZlbnRzIGFyZSBuZWVkZWQgaW5zdGVhZCBvZiBjc3MgZm9yIGxlZ2FjeVxyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmdldENvbnRhaW5lcigpLCAnbW91c2VvdmVyJywgKCkgPT4gdGhpcy5tb3VzZU92ZXIoKSk7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRFdmVudExpc3RlbmVyKHRoaXMuZ2V0Q29udGFpbmVyKCksICdtb3VzZW91dCcsICgpID0+IHRoaXMubW91c2VPdXQoKSk7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5lbmFibGVTYWZlQ29weShjKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25FZGl0Q2xpY2soZTogRXZlbnQpIHtcclxuICAgICAgICB2YXIgZWxFZGl0Qm94ID0gdGhpcy5nZXRFbGVtZW50KCdlZGl0Ym94Jyk7XHJcbiAgICAgICAgaWYgKCFlbEVkaXRCb3gpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnRlbXBDb21wb3NlQm94KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi50ZW1wQ29tcG9zZUJveC5kYXRhLklEID09IHRoaXMuaWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnRlbXBDb21wb3NlQm94LmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi50ZW1wQ29tcG9zZUJveC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZWxTZWxmID0gdGhpcy5nZXRFbGVtZW50KCdzZWxmLWRhdGEnKTtcclxuICAgICAgICBlbFNlbGYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBlbEVkaXRCb3guc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblxyXG4gICAgICAgIHZhciBlbFBob3RvID0gdGhpcy5nZXRFbGVtZW50KCdwaG90bycpO1xyXG4gICAgICAgIGlmIChlbFBob3RvKSBlbFBob3RvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgIHZhciBlbFRpdGxlID0gdGhpcy5nZXRFbGVtZW50KCd0aXRsZScpO1xyXG4gICAgICAgIHZhciBwcmV2VGl0bGVEaXNwbGF5ID0gZWxUaXRsZS5zdHlsZS5kaXNwbGF5O1xyXG4gICAgICAgIGlmIChlbFRpdGxlKSBlbFRpdGxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgIHRoaXMucGx1Z2luLnRlbXBDb21wb3NlQm94ID0gbmV3IEVkaXRDb21tZW50Qm94KHRoaXMucGx1Z2luLCBlbEVkaXRCb3gsIHRoaXMuZGF0YSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBlbFNlbGYuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICBlbEVkaXRCb3guc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgaWYgKGVsUGhvdG8pIGVsUGhvdG8uc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICBpZiAoZWxUaXRsZSkgZWxUaXRsZS5zdHlsZS5kaXNwbGF5ID0gcHJldlRpdGxlRGlzcGxheTtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4udGVtcENvbXBvc2VCb3ggPSBudWxsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBsdWdpbi50ZW1wQ29tcG9zZUJveC5vcGVuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1JlcGx5Qm94KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi50ZW1wQ29tcG9zZUJveCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4udGVtcENvbXBvc2VCb3guZGF0YS5wYXJlbnRJRCA9PSB0aGlzLmlkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi50ZW1wQ29tcG9zZUJveC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udGVtcENvbXBvc2VCb3guY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb21wb3NlYm94ID0gbmV3IE5ld0NvbW1lbnRCb3godGhpcy5wbHVnaW4sIHRoaXMuZ2V0RWxlbWVudCgncmVwbHlib3gnKSwgdGhpcy5kYXRhLklELCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9zZWJveCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnRlbXBDb21wb3NlQm94ID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wbHVnaW4udGVtcENvbXBvc2VCb3ggPSB0aGlzLmNvbXBvc2Vib3g7XHJcbiAgICAgICAgdGhpcy5jb21wb3NlYm94Lm9wZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBvblNoYXJlQ2xpY2soZTogRXZlbnQpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQgPT0gdGhpcy5wbHVnaW4uc2ltcGxlU2hhcmVTb3VyY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2ltcGxlU2hhcmVTb3VyY2UgPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxua1NoYXJlID0gdGhpcy5nZXRFbGVtZW50KCdzaGFyZUxpbmsnKTtcclxuICAgICAgICAgICAgaWYgKCFsbmtTaGFyZS5pZCkge1xyXG4gICAgICAgICAgICAgICAgbG5rU2hhcmUuaWQgPSB0aGlzLmlkICsgJ19sbmtTaGFyZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2ltcGxlU2hhcmVTb3VyY2UgPSBsbmtTaGFyZTtcclxuICAgICAgICAgICAgY29uc3QgdXNlckFjdGlvbiA9IHRoaXMuZ2V0U2hhcmVVc2VyQWN0aW9uKHRoaXMubGV2ZWwgPiAwKTtcclxuICAgICAgICAgICAgaWYgKHVzZXJBY3Rpb24gJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlRGlyZWN0Q29tbWVudExpbmtpbmcpXHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aW9uLmxpbmtCYWNrID0gZ2lneWEuXy5wbHVnaW5zLnV0aWxzLlVSTC5hZGRPclJlcGxhY2VIYXNoRnJhZ21lbnQodXNlckFjdGlvbi5saW5rQmFjaywgJ2dpZ19jb21tZW50X2lkJywgdGhpcy5pZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLm1lZGlhSXRlbXMgJiYgdGhpcy5kYXRhLm1lZGlhSXRlbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVkaWFJdGVtID0gdGhpcy5kYXRhLm1lZGlhSXRlbXNbMF07XHJcbiAgICAgICAgICAgICAgICBpZiAobWVkaWFJdGVtLnR5cGUudG9Mb3dlckNhc2UoKSA9PSAncmljaCcgfHwgbWVkaWFJdGVtLnR5cGUudG9Mb3dlckNhc2UoKSA9PSAndmlkZW8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckFjdGlvbi5zZXREZXNjcmlwdGlvbih1c2VyQWN0aW9uLmRlc2NyaXB0aW9uICsgJ1xcbicgKyBtZWRpYUl0ZW0udXJsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZ2lneWEuc29jaWFsaXplLnNob3dTaGFyZVVJKHRoaXMucGx1Z2luLnBhcmFtcywge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVySUQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogbnVsbCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogbnVsbCxcclxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbk1vZGU6ICdzaW1wbGVTaGFyZScsXHJcbiAgICAgICAgICAgICAgICBzbmFwVG9FbGVtZW50SUQ6IGxua1NoYXJlLmlkLFxyXG4gICAgICAgICAgICAgICAgdXNlckFjdGlvbjogdXNlckFjdGlvbixcclxuICAgICAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zaW1wbGVTaGFyZVNvdXJjZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBmb2N1cyB0byB0aGUgc2hhcmUgbGluay5cclxuICAgICAgICAgICAgICAgICAgICBsbmtTaGFyZS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFNoYXJlVXNlckFjdGlvbihpc1JlcGx5PzogYm9vbGVhbikge1xyXG4gICAgICAgIHZhciB1c2VyYWN0aW9uID0gdGhpcy5wbHVnaW4ucGFyYW1zWydzaGFyZVVzZXJBY3Rpb24nXTtcclxuICAgICAgICBpZiAoIXVzZXJhY3Rpb24pIHJldHVybjtcclxuICAgICAgICB1c2VyYWN0aW9uID0gdXNlcmFjdGlvbi5jbG9uZSgpO1xyXG4gICAgICAgIGlmICh1c2VyYWN0aW9uLmRlc2NyaXB0aW9uKSB1c2VyYWN0aW9uLnNldERlc2NyaXB0aW9uKHRoaXMucmVwbGFjZVBsYWNlaG9sZGVycyh1c2VyYWN0aW9uLmRlc2NyaXB0aW9uKSk7XHJcbiAgICAgICAgaWYgKHVzZXJhY3Rpb24udGl0bGUpIHVzZXJhY3Rpb24uc2V0VGl0bGUodGhpcy5yZXBsYWNlUGxhY2Vob2xkZXJzKHVzZXJhY3Rpb24udGl0bGUpKTtcclxuICAgICAgICByZXR1cm4gdXNlcmFjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICByZXBsYWNlUGxhY2Vob2xkZXJzKHM6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBzXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8ldXNlcm5hbWUvZ2ksIHRoaXMuZGF0YS5zZW5kZXIubmFtZSB8fCB0aGlzLnBsdWdpbi5nZXRUZXh0KCdndWVzdCcpKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvJXBhZ2V0aXRsZS9naSwgZG9jdW1lbnQudGl0bGUpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8lcmF0aW5nL2dpLCB0aGlzLmRhdGEucmF0aW5ncyAmJiB0aGlzLmRhdGEucmF0aW5nc1snX292ZXJhbGwnXSA/IHRoaXMuZGF0YS5yYXRpbmdzWydfb3ZlcmFsbCddLnRvU3RyaW5nKCkgOiAnJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoLyVjb21tZW50dGV4dC9naSwgdGhpcy5kYXRhLmNvbW1lbnRUZXh0KVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvJWNvbW1lbnR0aXRsZS9naSwgdGhpcy5kYXRhLmNvbW1lbnRUaXRsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Vm90ZSh2b3RlOiBDb21tZW50Vm90ZSwgc291cmNlRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMucGx1Z2luLnVzZXIgfHwgIXRoaXMucGx1Z2luLnVzZXIuaXNDb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVNpdGVMb2dpbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubWFpbkNvbXBvc2VCb3gub25TaXRlTG9naW5DbGljaygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubWFpbkNvbXBvc2VCb3gub25Mb2dpbkNsaWNrKHNvdXJjZUVsZW1lbnQsIGZhbHNlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRWb3RlKHZvdGUsIHNvdXJjZUVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQnVnICMzODIyOCAtIERvbid0IGFsbG93IHVzZXIgdG8gaXNzdWUgbXVsdGlwbGUgdm90ZXMgYXQgdGhlIHNhbWUgdGltZS5cclxuICAgICAgICBpZiAodGhpcy52b3RlSW5Qcm9ncmVzcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnZvdGVJblByb2dyZXNzID0gdHJ1ZTtcclxuICAgICAgICBnaWd5YS5jb21tZW50cy52b3RlKHRoaXMucGx1Z2luLnBhcmFtcywge1xyXG4gICAgICAgICAgICB2b3RlOiB2b3RlLFxyXG4gICAgICAgICAgICBjb21tZW50SUQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZvdGVJblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3dpdGNoICh2b3RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bvcyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEucG9zVm90ZXMrKztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICduZWcnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLm5lZ1ZvdGVzKys7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmRhdGEudm90ZSkge1xyXG4gICAgICAgICAgICBjYXNlICdwb3MnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnBvc1ZvdGVzLS07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbmVnJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5uZWdWb3Rlcy0tO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGF0YS52b3RlID0gdm90ZTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVZvdGUoKTtcclxuICAgICAgICB2YXIgb0V2ZW50ID0ge1xyXG4gICAgICAgICAgICBldmVudE5hbWU6ICdjb21tZW50Vm90ZWQnLFxyXG4gICAgICAgICAgICBjYXRlZ29yeUlEOiB0aGlzLnBsdWdpbi5wYXJhbXNbJ2NhdGVnb3J5SUQnXSxcclxuICAgICAgICAgICAgc3RyZWFtSUQ6IHRoaXMucGx1Z2luLnBhcmFtc1snc3RyZWFtSUQnXSxcclxuICAgICAgICAgICAgY29tbWVudDogdGhpcy5kYXRhLFxyXG4gICAgICAgICAgICB2b3RlOiB2b3RlLFxyXG4gICAgICAgICAgICBtb2RlOiB0aGlzLnBsdWdpbi50ZXh0TW9kZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGdpZ3lhLmV2ZW50cy5kaXNwYXRjaEZvcldpZGdldChvRXZlbnQsIHRoaXMucGx1Z2luLnBhcmFtcyk7XHJcbiAgICAgICAgb0V2ZW50ID0gZ2lneWEudXRpbHMub2JqZWN0LmNsb25lKG9FdmVudCk7XHJcblxyXG4gICAgICAgIG9FdmVudC5ldmVudE5hbWUgPSAnY29tbWVudFZvdGUnOyAvL2JhY2sgY29tcGF0XHJcbiAgICAgICAgZ2lneWEuZXZlbnRzLmRpc3BhdGNoRm9yV2lkZ2V0KG9FdmVudCwgdGhpcy5wbHVnaW4ucGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBvblZvdGVQb3NDbGljayhlOiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGVsID0gKGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudCkgYXMgSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRhdGEudm90ZSA9PSAncG9zJykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFZvdGUoJ25vbmUnLCBlbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRWb3RlKCdwb3MnLCBlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVm90ZU5lZ0NsaWNrKGU6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgZWwgPSAoZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50KSBhcyBIVE1MRWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS52b3RlID09ICduZWcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Vm90ZSgnbm9uZScsIGVsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFZvdGUoJ25lZycsIGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0RlbGV0ZURpYWxvZygpIHtcclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuYWxsb3dDb21tZW50RGVsZXRpb24pIHtcclxuICAgICAgICAgICAgdmFyIGRpYWxvZ1RpdGxlID0gdGhpcy5wbHVnaW4udGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUyAmJiB0aGlzLmxldmVsID09IDAgPyB0aGlzLmdldFRleHQoJ2RlbGV0ZV9yZXZpZXcnKSA6IHRoaXMuZ2V0VGV4dCgnZGVsZXRlX2NvbW1lbnQnKTtcclxuICAgICAgICAgICAgdmFyIGRpYWxvZ0JvZHkgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUyAmJiB0aGlzLmxldmVsID09IDBcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZ2V0VGV4dCgnYXJlX3lvdV9zdXJlX3lvdV93YW50X3RvX3Blcm1hbmVudGx5X2RlbGV0ZV95b3VyX3Jldmlld19xbScpXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFRleHQoJ2FyZV95b3Vfc3VyZV95b3Vfd2FudF90b19wZXJtYW5lbnRseV9kZWxldGVfeW91cl9jb21tZW50X3FtJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zaG93RGlhbG9nKFxyXG4gICAgICAgICAgICAgICAgZGlhbG9nVGl0bGUsXHJcbiAgICAgICAgICAgICAgICBkaWFsb2dCb2R5LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRUZXh0KCd5ZXMnKSxcclxuICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvbW1lbnQoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFRleHQoJ25vJyksXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dGbGFnRGlhbG9nKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVGbGFnZ2luZyAmJiAhdGhpcy5pc0ZsYWdnZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZmxhZ0VsID0gdGhpcy5nZXRFbGVtZW50KCdmbGFnJyk7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudChmbGFnRWwsICdnaWctY29tbWVudC1mbGFnLXZpc2libGUnKTtcclxuICAgICAgICAgICAgY29uc3QgZGlhbG9nVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUyAmJiB0aGlzLmxldmVsID09IDBcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZ2V0VGV4dCgncmVwb3J0X3Jldmlld190b19zaXRlX293bmVyJylcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0VGV4dCgncmVwb3J0X2NvbW1lbnRfdG9fc2l0ZV9vd25lcicpO1xyXG4gICAgICAgICAgICBjb25zdCBkaWFsb2dCb2R5ID1cclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnRleHRNb2RlID09IFRleHRNb2RlLlJFVklFV1MgJiYgdGhpcy5sZXZlbCA9PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmdldFRleHQoJ2FyZV95b3Vfc3VyZV95b3Vfd2FudF90b19tYXJrX3RoaXNfcmV2aWV3X2FzX2luYXBwcm9wcmlhdGUnKVxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5nZXRUZXh0KCdhcmVfeW91X3N1cmVfeW91X3dhbnRfdG9fbWFya190aGlzX2NvbW1lbnRfYXNfaW5hcHByb3ByaWF0ZScpO1xyXG4gICAgICAgICAgICBjb25zdCBva1RleHQgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUyAmJiB0aGlzLmxldmVsID09IDAgPyB0aGlzLmdldFRleHQoJ3llc19mbGFnX3RoaXNfcmV2aWV3JykgOiB0aGlzLmdldFRleHQoJ3llc19mbGFnX3RoaXNfY29tbWVudCcpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2hvd0RpYWxvZyhcclxuICAgICAgICAgICAgICAgIGRpYWxvZ1RpdGxlLFxyXG4gICAgICAgICAgICAgICAgZGlhbG9nQm9keSxcclxuICAgICAgICAgICAgICAgIG9rVGV4dCxcclxuICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsYWcoKTtcclxuICAgICAgICAgICAgICAgICAgICBmbGFnRWwuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFRleHQoJ2NhbmNlbCcpLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KGZsYWdFbCwgJ2dpZy1jb21tZW50LWZsYWctdmlzaWJsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZsYWdFbC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZmxhZygpIHtcclxuICAgICAgICBnaWd5YS5jb21tZW50cy5mbGFnQ29tbWVudCh0aGlzLnBsdWdpbi5wYXJhbXMsIHsgY29tbWVudElEOiB0aGlzLmlkIH0pO1xyXG4gICAgICAgIHRoaXMubWFya0FzRmxhZ2dlZCgpO1xyXG4gICAgICAgIHRoaXMucGx1Z2luLnNhdmVTdGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUNvbW1lbnQoKSB7XHJcbiAgICAgICAgZ2lneWEuY29tbWVudHMuZGVsZXRlQ29tbWVudCh0aGlzLnBsdWdpbi5wYXJhbXMsIHsgY29tbWVudElEOiB0aGlzLmlkIH0pO1xyXG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpO1xyXG5cclxuICAgICAgICB3aGlsZSAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5kZXNjZW5kYW50c0NvdW50LS07XHJcbiAgICAgICAgICAgIHBhcmVudC51cGRhdGVSZXBsaWVzQ291bnQoKTtcclxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LmdldFBhcmVudCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wbHVnaW4udXBkYXRlQ291bnQoKTtcclxuICAgICAgICB0aGlzLmNoYW5nZVN0YXR1cygnZGVsZXRlZCcpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5kYXRhLnByZXZpb3VzU3RhdHVzID09PSAncHVibGlzaGVkJykge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zdHJlYW1JbmZvLmNvbW1lbnRDb3VudC0tO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLmRhdGEuaXNSZXBseSgpKSB0aGlzLnBsdWdpbi5zdHJlYW1JbmZvLnJhdGluZ0NvdW50LS07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUFsbCgpO1xyXG4gICAgICAgIHRoaXMucGx1Z2luLnVwZGF0ZUNvdW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlU3RhdHVzKG5ld1N0YXR1czogQ29tbWVudFN0YXR1cykge1xyXG4gICAgICAgIHRoaXMuZGF0YS5wcmV2aW91c1N0YXR1cyA9IHRoaXMuZGF0YS5zdGF0dXM7XHJcbiAgICAgICAgdGhpcy5kYXRhLnN0YXR1cyA9IG5ld1N0YXR1cztcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBNZWRpYUl0ZW0gfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnRzLk1vZGVscyc7XHJcblxyXG5leHBvcnQgdHlwZSBDb21tZW50Vm90ZSA9ICdwb3MnIHwgJ25lZycgfCAnbm9uZSc7XHJcbmV4cG9ydCB0eXBlIENvbW1lbnRTdGF0dXMgPSAncHVibGlzaGVkJyB8ICdwZW5kaW5nJyB8ICdyZWplY3RlZCcgfCAnZGVsZXRlZCcgfCAnJztcclxuZXhwb3J0IGNsYXNzIENvbW1lbnREYXRhIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbVJhd0RhdGFBcnJheShyYXdEYXRhQXJyYXk6IEFycmF5PGFueT4pOiBDb21tZW50RGF0YVtdIHtcclxuICAgICAgICBpZiAoIXJhd0RhdGFBcnJheSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHZhciByZXM6IENvbW1lbnREYXRhW10gPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0RhdGFBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY3VyclJhdyA9IHJhd0RhdGFBcnJheVtpXTtcclxuICAgICAgICAgICAgcmVzLnB1c2goQ29tbWVudERhdGEuZnJvbVJhd0RhdGEoY3VyclJhdykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb21SYXdEYXRhKHJhd0RhdGE6IGFueSk6IENvbW1lbnREYXRhIHtcclxuICAgICAgICBpZiAocmF3RGF0YS5yZXBsaWVzICYmIHJhd0RhdGEucmVwbGllcy5sZW5ndGggPiAwKSByYXdEYXRhLnJlcGxpZXMgPSBDb21tZW50RGF0YS5mcm9tUmF3RGF0YUFycmF5KHJhd0RhdGEucmVwbGllcyk7XHJcblxyXG4gICAgICAgIHJldHVybiBnaWd5YS51dGlscy5vYmplY3QubWVyZ2UoW25ldyBDb21tZW50RGF0YSgpLCByYXdEYXRhXSkgYXMgQ29tbWVudERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIElEOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgdGFnczogc3RyaW5nW107XHJcbiAgICBwdWJsaWMgcGFyZW50SUQ6IHN0cmluZztcclxuICAgIHB1YmxpYyB0aHJlYWRJRDogc3RyaW5nO1xyXG4gICAgcHVibGljIGNvbW1lbnRUaXRsZTogc3RyaW5nO1xyXG4gICAgcHVibGljIGNvbW1lbnRUZXh0OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmF0aW5nczogYW55OyAvL3sgW3JhdGluZ0RpbWVuc2lvbjogc3RyaW5nXTogbnVtYmVyOyB9OyAvL19vdmVyYWxsIGlzIHRoZSBkZWZhdWx0IHJhdGluZyBjYXRlZ29yeVxyXG4gICAgcHVibGljIHBvc1ZvdGVzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgbmVnVm90ZXM6IG51bWJlcjtcclxuICAgIHB1YmxpYyB2b3RlOiBDb21tZW50Vm90ZTtcclxuICAgIHB1YmxpYyBkZXNjZW5kYW50c0NvdW50OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgc2VuZGVyOiB7XHJcbiAgICAgICAgVUlEPzogc3RyaW5nO1xyXG4gICAgICAgIHBob3RvVVJMPzogc3RyaW5nO1xyXG4gICAgICAgIHByb2ZpbGVVUkw/OiBzdHJpbmc7XHJcbiAgICAgICAgbmFtZT86IHN0cmluZztcclxuICAgICAgICBsb2dpblByb3ZpZGVyPzogc3RyaW5nO1xyXG4gICAgICAgIGlzU2VsZj86IGJvb2xlYW47XHJcbiAgICB9O1xyXG4gICAgcHVibGljIGlzTW9kZXJhdG9yOiBib29sZWFuO1xyXG4gICAgcHVibGljIHByb3ZpZGVyUG9zdElEczogeyBbcHJvdmlkZXI6IHN0cmluZ106IHN0cmluZ1tdIH07XHJcbiAgICBwdWJsaWMgZmxhZ0NvdW50OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgbW9kZXJhdG9yRWRpdDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBlZGl0ZWQ6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgdGltZXN0YW1wOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdGhyZWFkVGltZXN0YW1wOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVwbGllczogQ29tbWVudERhdGFbXTtcclxuICAgIHB1YmxpYyBzdGF0dXM6IENvbW1lbnRTdGF0dXM7XHJcbiAgICBwdWJsaWMgdGFnZ2VkVXNlcnM6IHtcclxuICAgICAgICB1aWQ6IHN0cmluZztcclxuICAgICAgICBwaG90b1VSTDogc3RyaW5nO1xyXG4gICAgICAgIHByb3ZpZGVyOiBzdHJpbmc7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nO1xyXG4gICAgfVtdO1xyXG4gICAgcHVibGljIG1lZGlhSXRlbXM6IE1lZGlhSXRlbVtdO1xyXG4gICAgcHVibGljIGhpZ2hsaWdodEdyb3Vwczogc3RyaW5nW107XHJcbiAgICBwdWJsaWMgcHJldmlvdXNTdGF0dXM6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZD86IHN0cmluZywgcGFyZW50SUQ/OiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLklEID0gaWQ7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRJRCA9IHBhcmVudElEO1xyXG4gICAgICAgIHRoaXMucmVwbGllcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1JlcGx5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudElEICE9IG51bGw7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tbWVudCB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudCc7XHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJvdmlkZXJDb21tZW50cyB7XHJcbiAgICBbcHJvdmlkZXI6IHN0cmluZ106IHsgW3Byb3ZpZGVyQ29tbWVudElkOiBzdHJpbmddOiBDb21tZW50IH07XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBDb21tZW50c1NldHRpbmdzIHtcclxuICAgIHVzZVNpdGVMb2dpbj86IGJvb2xlYW47XHJcbiAgICBzaGFyZVRvU05DaGVja2JveENoZWNrZWQ/OiBib29sZWFuO1xyXG4gICAgbW9kZT86IHN0cmluZzsgLy8gY29tbWVudHMvcmV2aWV3cy9yYXRpbmdzT25seVxyXG4gICAgbmV3Q29tbWVudFBvc2l0aW9uPzogc3RyaW5nOyAvL3RvcC9ib3R0b21cclxuICAgIGRpc2FibGVSU1M/OiBib29sZWFuO1xyXG4gICAgZGlzYWJsZUNvbW1lbnRzQ291bnQ/OiBib29sZWFuO1xyXG4gICAgcmVwbGllc0NvbGxhcHNlZD86IGJvb2xlYW47XHJcbiAgICBkaXNwbGF5UG9zTmVnVm90ZXM/OiBib29sZWFuO1xyXG4gICAgcmVmcmVzaE1vZGU/OiBzdHJpbmc7IC8vIGZ1bGwvY291bnRPbmx5L29mZlxyXG4gICAgcmVmcmVzaEludGVydmFsPzogbnVtYmVyO1xyXG4gICAgbWF4Q29tbWVudExlbmd0aD86IG51bWJlcjtcclxuICAgIGVuYWJsZVJpY2hUZXh0RWRpdGluZz86IGJvb2xlYW47XHJcbiAgICBlbmFibGVVc2VyVGFnZ2luZz86IGJvb2xlYW47XHJcbiAgICByZWFkT25seT86IGJvb2xlYW47XHJcbiAgICB0aHJlYWRpbmdEZXB0aD86IG51bWJlcjtcclxuICAgIHNvcnRCeT86IHN0cmluZztcclxuICAgIGFsbG93TmVnYXRpdmVWb3Rpbmc/OiBib29sZWFuO1xyXG4gICAgYWxsb3dHdWVzdD86IGJvb2xlYW47XHJcbiAgICBwYWdlU2l6ZT86IG51bWJlcjtcclxuICAgIGVuYWJsZUNvbW1lbnRUaXRsZXM/OiBzdHJpbmc7IC8vIGRpc2FibGVkL2VuYWJsZWRfbWFuZGF0b3J5L2VuYWJsZWRfb3B0aW9uYWxcclxuICAgIGVuYWJsZUNvbW1lbnRCb2R5Pzogc3RyaW5nOyAvLyBkaXNhYmxlZC9lbmFibGVkX21hbmRhdG9yeS9lbmFibGVkX29wdGlvbmFsXHJcbiAgICBhbGxvd0NvbW1lbnREZWxldGlvbj86IGJvb2xlYW47XHJcbiAgICBpc0d1ZXN0RW1haWxSZXF1aXJlZD86IGJvb2xlYW47XHJcbiAgICByZXF1aXJlR3Vlc3ROYW1lPzogYm9vbGVhbjtcclxuICAgIGFsbG93QW5vbnltb3VzPzogYm9vbGVhbjtcclxuICAgIGVuYWJsZUZsYWdnaW5nPzogYm9vbGVhbjtcclxuICAgIGVuYWJsZVJhdGluZ3M/OiBzdHJpbmc7IC8vIGRpc2FibGVkL2VuYWJsZWRfbWFuZGF0b3J5L2VuYWJsZWRfb3B0aW9uYWxcclxuICAgIGZsYWdnaW5nRW1haWxBZnRlcj86IG51bWJlcjtcclxuICAgIGZsYWdnaW5nUGVuZGluZ0FmdGVyPzogbnVtYmVyO1xyXG4gICAgbW9kZXJhdGlvblN0YXRlPzogbnVtYmVyO1xyXG4gICAgZW5hYmxlVm90aW5nPzogYm9vbGVhbjtcclxuICAgIGVuYWJsZVVzZXJTb3J0aW5nPzogYm9vbGVhbjtcclxuICAgIHJhdGluZ0RpbXM/OiBSYXRpbmdEaW1lbnNpb25bXTtcclxuICAgIGFsbG93TXVsdGlwbGVSZXZpZXdzUGVyVXNlcj86IGJvb2xlYW47XHJcbiAgICBlbmFibGVNZWRpYUl0ZW1zPzogYm9vbGVhbjtcclxuICAgIGhpZ2hsaWdodEdyb3Vwc1NldHRpbmdzPzogSGlnaGxpZ2h0R3JvdXBbXTtcclxuICAgIHVzZXJFZGl0Q29tbWVudD86IGJvb2xlYW47XHJcbiAgICBlbmFibGVEaXJlY3RDb21tZW50TGlua2luZz86IGJvb2xlYW47XHJcbiAgICBlbmFibGVMaW5rcz86IGJvb2xlYW47XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBSYXRpbmdEaW1lbnNpb24ge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIG5hbWU6IHN0cmluZztcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIEhpZ2hsaWdodEdyb3VwIHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIGVuYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBzaG93QmFkZ2U6IGJvb2xlYW47XHJcbiAgICBiYWRnZVRleHQ6IHN0cmluZztcclxuICAgIGJhZGdlQ29sb3I6IHN0cmluZztcclxuICAgIGJhZGdlRnJhbWU6IHN0cmluZztcclxuICAgIGJhZGdlSW1hZ2VVUkw6IHN0cmluZztcclxuICAgIGNvbW1lbnRlck5hbWVDb2xvcjogc3RyaW5nO1xyXG4gICAgY29tbWVudEJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xyXG5cclxuICAgIC8vIENsaWVudCBnZW5lcmF0ZWRcclxuICAgIGNzc1J1bGU/OiBzdHJpbmc7XHJcbiAgICBjbGFzc05hbWU/OiBzdHJpbmc7XHJcbiAgICBjb21tZW50Q2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gICAgdXNlckNsYXNzTmFtZT86IHN0cmluZztcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIENvbW1lbnRzVXNlck9wdGlvbnMge1xyXG4gICAgcmVwbHlOb3RpZmljYXRpb25zPzogc3RyaW5nO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9zZWJveE9wdGlvbnMge31cclxuZXhwb3J0IGludGVyZmFjZSBNZWRpYUl0ZW0ge1xyXG4gICAgdHlwZTogc3RyaW5nO1xyXG4gICAgdXJsOiBzdHJpbmc7XHJcbiAgICBwaG90b1VybD86IHN0cmluZztcclxuICAgIHByb3ZpZGVyOiBzdHJpbmc7XHJcbiAgICBodG1sPzogc3RyaW5nO1xyXG4gICAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICB3aWR0aDogbnVtYmVyO1xyXG4gICAgdGh1bWJuYWlsVXJsOiBzdHJpbmc7XHJcbiAgICB0aHVtYm5haWxXaWR0aDogbnVtYmVyO1xyXG4gICAgdGh1bWJuYWlsSGVpZ2h0OiBudW1iZXI7XHJcbiAgICB0aXRsZT86IHN0cmluZztcclxuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gICAgcHJvdmlkZXJJY29uVXJsOiBzdHJpbmc7XHJcbn1cclxuZXhwb3J0IGVudW0gVGV4dE1vZGUge1xyXG4gICAgQ09NTUVOVFMsXHJcbiAgICBSRVZJRVdTLFxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tbWVudHNTdGF0ZSB7XHJcbiAgICBmbGFnczogYW55O1xyXG59XHJcbmV4cG9ydCBlbnVtIEhpZ2h0bGlnaEdyb3VwVHlwZUVudW0ge1xyXG4gICAgdXNlcixcclxuICAgIGNvbW1lbnQsXHJcbiAgICBtb2RlcmF0b3IsXHJcbn1cclxuZXhwb3J0IGVudW0gQmFkZ2VMb2NhdGlvbkVudW0ge1xyXG4gICAgY29tbWVudGVyTmFtZSxcclxuICAgIGNvbW1lbnRUaW1lLFxyXG59XHJcbmV4cG9ydCBlbnVtIEJhZGdlRnJhbWVFbnVtIHtcclxuICAgIG5vbmUsXHJcbiAgICByZWN0YW5nbGUsXHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tbWVudCB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudCc7XHJcbmltcG9ydCB7IGRlZmF1bHRUZW1wbGF0ZXMgfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL1RlbXBsYXRlcyc7XHJcbmltcG9ydCB7IENvbW1lbnRzU2V0dGluZ3MsIFRleHRNb2RlLCBDb21tZW50c1N0YXRlLCBIaWdobGlnaHRHcm91cCwgQmFkZ2VGcmFtZUVudW0sIE1lZGlhSXRlbSB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudHMuTW9kZWxzJztcclxuaW1wb3J0IHsgQ29tbWVudERhdGEgfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnREYXRhJztcclxuaW1wb3J0IHsgQmFzZUNvbXBvc2VCb3ggfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0Jhc2VDb21wb3NlQm94JztcclxuaW1wb3J0IHsgTmV3Q29tbWVudEJveCB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvTmV3Q29tbWVudEJveCc7XHJcbmltcG9ydCB7IGRlZmF1bHRDc3MgfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0RlZmF1bHRDc3MnO1xyXG5pbXBvcnQgeyBFdmVudHMsIEltYWdlcyB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudHNVdGlscyc7XHJcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Byb3ZpZGVycyc7XHJcbmV4cG9ydCBjbGFzcyBDb21tZW50c1BsdWdpbiB7XHJcbiAgICB2ZXJzaW9uOiBudW1iZXIgPSAyO1xyXG4gICAgY29udGFpbmVySUQ6IHN0cmluZztcclxuICAgIGNvbW1lbnRJbnN0YW5jZXM6IHsgW2NvbW1lbnRJRDogc3RyaW5nXTogQ29tbWVudCB9ID0ge307XHJcbiAgICB0ZW1wbGF0ZXM6IE9iamVjdCA9IGdpZ3lhLnV0aWxzLm9iamVjdC5jbG9uZShkZWZhdWx0VGVtcGxhdGVzLCBmYWxzZSk7XHJcbiAgICBjb21tZW50czogQ29tbWVudFtdO1xyXG4gICAgc2V0dGluZ3M6IENvbW1lbnRzU2V0dGluZ3MgPSB7fTtcclxuICAgIHRleHRNb2RlOiBUZXh0TW9kZTtcclxuICAgIHN0YXRlOiBDb21tZW50c1N0YXRlID0geyBmbGFnczoge30gfTsgLy91c2VkIHRvIHBlcnNpc3QgZGF0YSwganVzdCBmb3IgZmxhZ2dpbmcgZm9yIG5vd1xyXG4gICAgdXNlcjogYW55O1xyXG4gICAgcGFnaW5nRGlzYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBuZXh0UGFnZVN0YXJ0OiBudW1iZXI7XHJcbiAgICBzdHJlYW1JbmZvOiBhbnkgPSB7fTtcclxuICAgIGJyb2FkY2FzdGVkRXJyb3I6IGJvb2xlYW47XHJcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG4gICAgdXNlckNvbW1lbnRzRGF0YTogQ29tbWVudERhdGFbXSA9IFtdO1xyXG4gICAgaGFzTW9yZTogYm9vbGVhbjtcclxuICAgIHVzZXJPcHRpb25zOiBhbnkgPSB7fTtcclxuICAgIHJlZnJlc2hUaW1lb3V0OiBudW1iZXI7XHJcbiAgICBpc01vYmlsZVVJOiBib29sZWFuO1xyXG4gICAgdW5zdWJzY3JpYmVUb2tlbjogc3RyaW5nO1xyXG4gICAgdXNlckNvbW1lbnRzOiBDb21tZW50W10gPSBbXTtcclxuICAgIGdldE1vcmVJblByb2dyZXNzOiBib29sZWFuO1xyXG4gICAgYWRkZWRDc3M6IGJvb2xlYW47XHJcbiAgICB0ZW1wQ29tcG9zZUJveDogQmFzZUNvbXBvc2VCb3g7IC8vIEZvciByZXBseSAvIGVkaXRcclxuICAgIG1haW5Db21wb3NlQm94OiBOZXdDb21tZW50Qm94OyAvLyBUaGUgY29tcG9zZSBib3ggdGhhdCdzIGFsd2F5cyBvcGVuLCBhdCB0aGUgYm90dG9tIG9yIHRvcCBvZiB0aGUgc3RyZWFtXHJcbiAgICBpc1BhdXNlZDogYm9vbGVhbjtcclxuICAgIGxhc3RDb21tZW50VGltZXN0YW1wOiBzdHJpbmc7XHJcbiAgICBuZXdDb21tZW50c0NvdW50OiBudW1iZXIgPSAwO1xyXG4gICAgdXBkYXRlZFN0cmVhbUluZm86IE9iamVjdDtcclxuICAgIGlzUnRsOiBib29sZWFuO1xyXG4gICAgc2hhcmVFbmFibGVkOiBib29sZWFuO1xyXG4gICAgdXNlckhpZ2hsaWdodGluZ0dyb3Vwczogc3RyaW5nW10gPSBbXTtcclxuICAgIGF1dG9QaXhlbFJhdGlvOiBib29sZWFuID0gZmFsc2U7IC8vIGRpc2FibGVkIGJ5IGRlZmF1bHQgLSBwaXhlbFJhdGlvIGlzIHNldCB0byAxXHJcbiAgICBwaXhlbFJhdGlvOiBudW1iZXIgPSAxOyAvLyAwID0gYXV0bzsgMS0zID0gZm9yY2UgdGhhdCByYXRpb1xyXG4gICAgcGlubmVkQ29tbWVudElEOiBzdHJpbmc7XHJcbiAgICBzaW1wbGVTaGFyZVNvdXJjZTogSFRNTEVsZW1lbnQgPSBudWxsO1xyXG4gICAgYWN0aXZlRGlhbG9nOlxyXG4gICAgICAgIHwge1xyXG4gICAgICAgICAgICAgIGVsOiBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICBva0hhbmRsZXI6IEZ1bmN0aW9uO1xyXG4gICAgICAgICAgICAgIGNhbmNlbEhhbmRsZXI6IEZ1bmN0aW9uO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIGdldFRleHQodGV4dEtleTogc3RyaW5nLCByZXBsYWNlU3RyPzogc3RyaW5nLCB3aXRoU3RyPzogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zWydjdXN0b21MYW5nJ10gJiYgdGhpcy5wYXJhbXNbJ2N1c3RvbUxhbmcnXVt0ZXh0S2V5XSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXNbJ2N1c3RvbUxhbmcnXVt0ZXh0S2V5XS5yZXBsYWNlKHJlcGxhY2VTdHIsIHdpdGhTdHIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnaWd5YS5wbHVnaW5VdGlscy5sYW5nLmdldExvY2FsaXplZFRleHQoJ2dpZ3lhLnNlcnZpY2VzLmNvbW1lbnRzLnBsdWdpbnMuY29tbWVudHMyLmpzJywgdGV4dEtleSwgdGhpcy5wYXJhbXNbJ2xhbmcnXSwgcmVwbGFjZVN0ciwgd2l0aFN0cik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBwYXJhbXM6IE9iamVjdCwgcHJpdmF0ZSByZWZTdHJpbmc6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMubG9hZFN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5zaGFyZUVuYWJsZWQgPSB0aGlzLmlzU2hhcmVQb3NzaWJsZSgpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVySUQgPSBwYXJhbXNbJ2NvbnRhaW5lcklEJ107XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSB0aGlzLmdldENvbnRhaW5lcigpO1xyXG4gICAgICAgIGlmICh0aGlzLnBhcmFtc1sndXNlSGlSZXNJY29ucyddKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXV0b1BpeGVsUmF0aW8gPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnBpeGVsUmF0aW8gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMucGFyYW1zWyd0ZW1wbGF0ZXMnXSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtc1sndGVtcGxhdGVzJ10gPSB7fTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFyYW1zWydjdGFnJ10pIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ2N0YWcnXSArPSAnX3RlbXBsYXRlcyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRlbXBsYXRlcyA9IGdpZ3lhLnV0aWxzLm9iamVjdC5tZXJnZShbdGhpcy50ZW1wbGF0ZXMsIHRoaXMucGFyYW1zWyd0ZW1wbGF0ZXMnXV0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhcmFtc1sncGlubmVkQ29tbWVudElEJ10gPSBnaWd5YS5fLnBsdWdpbnMudXRpbHMuVVJMLmdldEhhc2hQYXJhbVZhbHVlKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsICdnaWdfY29tbWVudF9pZCcpO1xyXG4gICAgICAgIGlmICh0aGlzLnBhcmFtc1sncGlubmVkQ29tbWVudElEJ10pIHRoaXMucGlubmVkQ29tbWVudElEID0gdGhpcy5wYXJhbXNbJ3Bpbm5lZENvbW1lbnRJRCddO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRNb2RlID0gdGhpcy5zZXR0aW5ncy5tb2RlID09ICdyYXRpbmdzT25seScgfHwgdGhpcy5zZXR0aW5ncy5tb2RlID09ICdyZXZpZXdzJyA/IFRleHRNb2RlLlJFVklFV1MgOiBUZXh0TW9kZS5DT01NRU5UUztcclxuXHJcbiAgICAgICAgdmFyIGRldmljZVR5cGUgPSB0aGlzLnBhcmFtc1snZGV2aWNlVHlwZSddID8gdGhpcy5wYXJhbXNbJ2RldmljZVR5cGUnXS50b0xvd2VyQ2FzZSgpIDogJ2Rlc2t0b3AnO1xyXG4gICAgICAgIHRoaXMuaXNNb2JpbGVVSSA9IGRldmljZVR5cGUgPT0gJ21vYmlsZScgfHwgKGRldmljZVR5cGUgPT0gJ2F1dG8nICYmIGdpZ3lhLmxvY2FsSW5mby5pc01vYmlsZSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0RGVmYXVsdHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYWluQ29tcG9zZUJveCA9IG5ldyBOZXdDb21tZW50Qm94KHRoaXMsIHRoaXMuZ2V0RWxlbWVudCgnY29tcG9zZWJveCcpLCBudWxsKTtcclxuXHJcbiAgICAgICAgdGhpcy5mZXRjaEFsbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiBwbHVnaW4gaXMgbG9hZGVkIGluIGRpc3BsYXk6bm9uZSwgd2UgbmVlZCB0byByZS1yZW5kZXIgaXQgd2hlbiBpdCBzaG93cyxcclxuICAgICAgICAgICAgLy8gIHNvIHRoZSBlbWJlZGRlZCBtZWRpYSB3aWxsIGRpc3BsYXkgcmlnaHRcclxuICAgICAgICAgICAgaWYgKCFnaWd5YS51dGlscy5ET00uaXNWaXNpYmxlKHRoaXMuY29udGFpbmVyKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvbGxlciA9IG5ldyBnaWd5YS5fLlBvbGxlcigpO1xyXG4gICAgICAgICAgICAgICAgcG9sbGVyLmFkZEFjdGlvbnMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChnaWd5YS51dGlscy5ET00uaXNWaXNpYmxlKHRoaXMuY29udGFpbmVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xsZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcG9sbGVyLnN0YXJ0KDMwMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWxsKHRydWUpO1xyXG4gICAgICAgICAgICBnaWd5YS5ldmVudHMuZGlzcGF0Y2hGb3JXaWRnZXQoeyBldmVudE5hbWU6ICdsb2FkJywgdmVyc2lvbjogdGhpcy52ZXJzaW9uIH0sIHRoaXMucGFyYW1zKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGZuVXNlckNoYW5nZWQgPSByZXMgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzICYmIHJlcy51c2VyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFVzZXIocmVzLnVzZXIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRVc2VyKHt9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGdpZ3lhLnNvY2lhbGl6ZS5hZGRFdmVudEhhbmRsZXJzKFxyXG4gICAgICAgICAgICB7IGxpc3RlbmVyVHlwZTogJ2NvbXBvbmVudCcgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgb25Mb2dpbjogZm5Vc2VyQ2hhbmdlZCxcclxuICAgICAgICAgICAgICAgIG9uTG9nb3V0OiBmblVzZXJDaGFuZ2VkLFxyXG4gICAgICAgICAgICAgICAgb25Db25uZWN0aW9uQWRkZWQ6IGZuVXNlckNoYW5nZWQsXHJcbiAgICAgICAgICAgICAgICBvbkNvbm5lY3Rpb25SZW1vdmVkOiBmblVzZXJDaGFuZ2VkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZFN0YXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gZ2lneWEudXRpbHMubG9jYWxTdG9yYWdlLmdldE9iamVjdCgnZ2lnLWNvbW1lbnRzJywgdW5kZWZpbmVkKTtcclxuICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlIGFzIENvbW1lbnRzU3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNhdmVTdGF0ZSgpIHtcclxuICAgICAgICBnaWd5YS51dGlscy5sb2NhbFN0b3JhZ2Uuc2V0T2JqZWN0KCdnaWctY29tbWVudHMnLCB0aGlzLnN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREZWZhdWx0cygpIHtcclxuICAgICAgICBpZiAoIXRoaXMucGFyYW1zWydzdHJlYW1JRCddKSB0aGlzLnBhcmFtc1snc3RyZWFtSUQnXSA9IDA7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRTb3J0ID0gdGhpcy5nZXREZWZhdWx0U29ydCgpO1xyXG4gICAgICAgIGlmIChkZWZhdWx0U29ydCkgdGhpcy5wYXJhbXNbJ3NvcnQnXSA9IGRlZmF1bHRTb3J0O1xyXG4gICAgfVxyXG5cclxuICAgIHNldERlZmF1bHRTaGFyZVVzZXJBY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNoYXJlVXNlckFjdGlvbiA9IG5ldyBnaWd5YS5zb2NpYWxpemUuVXNlckFjdGlvbih0aGlzLnBhcmFtc1snc2hhcmVVc2VyQWN0aW9uJ10pO1xyXG5cclxuICAgICAgICB2YXIgdGl0bGU7XHJcbiAgICAgICAgdmFyIGRlc2NyaXB0aW9uO1xyXG4gICAgICAgIHZhciByZXBseVRpdGxlO1xyXG4gICAgICAgIHZhciByZXBseURlc2NyaXB0aW9uO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50ZXh0TW9kZSA9PSBUZXh0TW9kZS5SRVZJRVdTKSB7XHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gdGhpcy5nZXRUZXh0KCd1c2VybmFtZV9yYXRlZF9wYWdldGl0bGVfYXNfcmF0aW5nXzUnKSArICdcXG4lcGFnZXRpdGxlJztcclxuICAgICAgICAgICAgdGl0bGUgPSB0aGlzLmdldFRleHQoJ3VzZXJuYW1lX3Bvc3RlZF9hX3Jldmlld19vbl9wYWdldGl0bGUnKTtcclxuICAgICAgICAgICAgcmVwbHlUaXRsZSA9IHRoaXMuZ2V0VGV4dCgndXNlcm5hbWVfY29tbWVudGVkX29uX3BhZ2V0aXRsZScpO1xyXG4gICAgICAgICAgICByZXBseURlc2NyaXB0aW9uID0gJyVjb21tZW50VGV4dCc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSByZXBseURlc2NyaXB0aW9uID0gJyVjb21tZW50VGV4dCc7XHJcbiAgICAgICAgICAgIHRpdGxlID0gcmVwbHlUaXRsZSA9IHRoaXMuZ2V0VGV4dCgndXNlcm5hbWVfY29tbWVudGVkX29uX3BhZ2V0aXRsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFzaGFyZVVzZXJBY3Rpb24uZGVzY3JpcHRpb24pIHNoYXJlVXNlckFjdGlvbi5zZXREZXNjcmlwdGlvbihkZXNjcmlwdGlvbik7XHJcbiAgICAgICAgaWYgKCFzaGFyZVVzZXJBY3Rpb24udGl0bGUpIHNoYXJlVXNlckFjdGlvbi5zZXRUaXRsZSh0aXRsZSk7XHJcbiAgICAgICAgaWYgKCFzaGFyZVVzZXJBY3Rpb24ubGlua0JhY2spIHNoYXJlVXNlckFjdGlvbi5zZXRMaW5rQmFjayhkb2N1bWVudC5sb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICB0aGlzLnBhcmFtc1snc2hhcmVVc2VyQWN0aW9uJ10gPSBzaGFyZVVzZXJBY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RWxlbWVudChzdWJDbGFzczogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIHZhciBhckVscyA9IGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50c0J5Q2xhc3ModGhpcy5jb250YWluZXIsICdnaWctY29tbWVudHMtJyArIHN1YkNsYXNzKTtcclxuICAgICAgICByZXR1cm4gYXJFbHMubGVuZ3RoID4gMCA/IGFyRWxzWzBdIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgdmFyIGZpbmFsQ3NzID0gJyc7XHJcbiAgICAgICAgdmFyIGNzc1ByZWZpeCA9IHRoaXMucGFyYW1zWydjc3NQcmVmaXgnXTtcclxuICAgICAgICBpZiAoY3NzUHJlZml4IHx8ICF0aGlzLmFkZGVkQ3NzKSB7XHJcbiAgICAgICAgICAgIHZhciBsYW5nID0gdGhpcy5wYXJhbXNbJ2xhbmcnXTtcclxuICAgICAgICAgICAgdGhpcy5pc1J0bCA9IGxhbmcgPT0gJ2hlJyB8fCBsYW5nID09ICdhcic7XHJcblxyXG4gICAgICAgICAgICBmaW5hbENzcyArPSBkZWZhdWx0Q3NzLnJlc2V0O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1J0bCkgZmluYWxDc3MgKz0gZGVmYXVsdENzcy5yZXNldFJ0bDtcclxuXHJcbiAgICAgICAgICAgIHZhciBmaXhlZENzcyA9IGdpZ3lhLnBsdWdpblV0aWxzLmNzcy5maXhDc3MoZGVmYXVsdENzcy5nbG9iYWwpO1xyXG4gICAgICAgICAgICB2YXIgZml4ZWRSdGxDc3MgPSBnaWd5YS5wbHVnaW5VdGlscy5jc3MuZml4Q3NzKGRlZmF1bHRDc3MucnRsKTtcclxuXHJcbiAgICAgICAgICAgIGZpbmFsQ3NzICs9IGZpeGVkQ3NzO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1J0bCkgZmluYWxDc3MgKz0gZml4ZWRSdGxDc3M7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc01vYmlsZVVJKSB7XHJcbiAgICAgICAgICAgICAgICBmaW5hbENzcyArPSBkZWZhdWx0Q3NzLm1vYmlsZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1J0bCkgZmluYWxDc3MgKz0gZGVmYXVsdENzcy5tb2JpbGVSdGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmaW5hbENzcyArPSBkZWZhdWx0Q3NzLm5vbk1vYmlsZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGdpZ3lhLmxvY2FsSW5mby5pc01vYmlsZSAmJiBnaWd5YS5sb2NhbEluZm8uaXNTYWZhcmkpIHtcclxuICAgICAgICAgICAgICAgIGZpbmFsQ3NzICs9ICcuZ2lnLWNvbW1lbnRzLWNvbnRhaW5lciAqIHstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6bm9uZTt9JztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZ2lneWEuXy5wbHVnaW5zLnV0aWxzLmNzcy5hZGRDc3MoZmluYWxDc3MsIGNzc1ByZWZpeCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkZWRDc3MgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc01vYmlsZVVJKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPVxyXG4gICAgICAgICAgICAnZ2lnLWNvbW1lbnRzLWNvbnRhaW5lcicgK1xyXG4gICAgICAgICAgICAodGhpcy50ZXh0TW9kZSA9PSBUZXh0TW9kZS5SRVZJRVdTID8gJyBnaWctY29tbWVudHMtcmV2aWV3cycgOiAnJykgK1xyXG4gICAgICAgICAgICAodGhpcy5hdXRvUGl4ZWxSYXRpbyA/ICcgZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zJyA6ICcnKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmVyc2lvbicsICcyJyk7XHJcbiAgICAgICAgdmFyIHRlbXBsYXRlID1cclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5uZXdDb21tZW50UG9zaXRpb24gPT0gJ2JvdHRvbScgJiYgIXRoaXMucGFyYW1zWyd0ZW1wbGF0ZXMnXVsnY29tbWVudHNQbHVnaW5Db21wb3NlQm90dG9tJ11cclxuICAgICAgICAgICAgICAgID8gdGhpcy50ZW1wbGF0ZXNbJ2NvbW1lbnRzUGx1Z2luQ29tcG9zZUJvdHRvbSddXHJcbiAgICAgICAgICAgICAgICA6IHRoaXMudGVtcGxhdGVzWydjb21tZW50c1BsdWdpbiddO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9IHRlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMubWFpbkNvbXBvc2VCb3guY29udGFpbmVyID0gdGhpcy5nZXRFbGVtZW50KCdjb21wb3NlYm94Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29udGFpbmVyKCkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNvbnRhaW5lcklEKTtcclxuICAgIH1cclxuXHJcbiAgICBmZXRjaENvbW1lbnRzKGdldE5ld0NvbW1lbnRzT25seTogYm9vbGVhbiA9IGZhbHNlLCBjYWxsYmFjaz86IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdmFyIHBhcmFtcyA9IHtcclxuICAgICAgICAgICAgLy9pbmNsdWRlUmF0aW5nc0RpbXM6dHJ1ZSxcclxuICAgICAgICAgICAgdGhyZWFkZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5SUQ6IHRoaXMucGFyYW1zWydjYXRlZ29yeUlEJ10sXHJcbiAgICAgICAgICAgIHN0cmVhbUlEOiB0aGlzLnBhcmFtc1snc3RyZWFtSUQnXSxcclxuICAgICAgICAgICAgaW5jbHVkZVNldHRpbmdzOiB0cnVlLFxyXG4gICAgICAgICAgICBpbmNsdWRlVXNlck9wdGlvbnM6IHRydWUsXHJcbiAgICAgICAgICAgIGluY2x1ZGVVc2VySGlnaGxpZ2h0aW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBwaW5uZWRDb21tZW50SUQ6IHRoaXMucGFyYW1zWydwaW5uZWRDb21tZW50SUQnXSxcclxuICAgICAgICAgICAgdGFnczogdGhpcy5wYXJhbXNbJ2ZpbHRlclRhZ3MnXSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IChyZXNwb25zZTogT2JqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldENvbW1lbnRzQ2FsbGJhY2socmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHRoaXMucGFnaW5nRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgcGFyYW1zWyd0aHJlYWRMaW1pdCddID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubmV4dFBhZ2VTdGFydCkge1xyXG4gICAgICAgICAgICBpZiAoIWdldE5ld0NvbW1lbnRzT25seSkge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zWydzdGFydCddID0gdGhpcy5uZXh0UGFnZVN0YXJ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9maXJzdCBjYWxsXHJcbiAgICAgICAgICAgIHBhcmFtc1snaW5jbHVkZVN0cmVhbUluZm8nXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZ2V0TmV3Q29tbWVudHNPbmx5ICYmIHRoaXMuc3RyZWFtSW5mby5sYXN0Q29tbWVudFRpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICBwYXJhbXNbJ3NpbmNlJ10gPSB0aGlzLnN0cmVhbUluZm8ubGFzdENvbW1lbnRUaW1lc3RhbXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdpZ3lhLmNvbW1lbnRzLmdldENvbW1lbnRzKHRoaXMucGFyYW1zLCBwYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuY29tbWVudHMgPSBbXTtcclxuICAgICAgICB0aGlzLmNvbW1lbnRJbnN0YW5jZXMgPSB7fTtcclxuICAgICAgICB0aGlzLnN0cmVhbUluZm8gPSB7fTtcclxuICAgICAgICB0aGlzLm5leHRQYWdlU3RhcnQgPSBudWxsO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLnBhcmFtc1snc3RhcnQnXTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVVbnB1Ymxpc2hlZENvbW1lbnRzKCkge1xyXG4gICAgICAgIGZvciAodmFyIGNvbW1lbnRJRCBpbiB0aGlzLmNvbW1lbnRJbnN0YW5jZXMpIHtcclxuICAgICAgICAgICAgdmFyIGNvbW1lbnQgPSB0aGlzLmNvbW1lbnRJbnN0YW5jZXNbY29tbWVudElEXTtcclxuICAgICAgICAgICAgY29tbWVudC5pc1Bvc3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29tbWVudC5pbmZvID0gbnVsbDtcclxuICAgICAgICAgICAgY29tbWVudC5lcnJvciA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29tbWVudC5pc1JlbW92ZWRDb21tZW50KCkpIGNvbW1lbnQudXBkYXRlQWxsKCk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbW1lbnQuZGF0YS5zdGF0dXMgIT09ICdwdWJsaXNoZWQnKSB0aGlzLnJlbW92ZUNvbW1lbnQoY29tbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlzVXNlckZvbGxvd2luZygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy51c2VyT3B0aW9ucyAmJiB0aGlzLnVzZXJPcHRpb25zLnJlcGx5Tm90aWZpY2F0aW9ucyA9PSAnaW1tZWRpYXRlJztcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VyQ29tbWVudHModXNlckNvbW1lbnRzOiBDb21tZW50RGF0YVtdKSB7XHJcbiAgICAgICAgaWYgKCF1c2VyQ29tbWVudHMpIHJldHVybjtcclxuICAgICAgICB2YXIgaGFkU2VsZlJldmlldyA9IHRoaXMuZ2V0U2VsZlJldmlldygpICE9IG51bGw7XHJcbiAgICAgICAgdGhpcy51c2VyQ29tbWVudHNEYXRhID0gdXNlckNvbW1lbnRzO1xyXG4gICAgICAgIHRoaXMudXNlckNvbW1lbnRzID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51c2VyQ29tbWVudHNEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjID0gdGhpcy5jb21tZW50SW5zdGFuY2VzW3RoaXMudXNlckNvbW1lbnRzRGF0YVtpXS5JRF0gfHwgbmV3IENvbW1lbnQodGhpcywgdGhpcy51c2VyQ29tbWVudHNEYXRhW2ldKTtcclxuICAgICAgICAgICAgdGhpcy51c2VyQ29tbWVudHMucHVzaChjKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRleHRNb2RlID09IFRleHRNb2RlLlJFVklFV1MgJiYgaGFkU2VsZlJldmlldyAhPSAodGhpcy5nZXRTZWxmUmV2aWV3KCkgIT0gbnVsbCkpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVVc2VyUmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldENvbW1lbnRzQ2FsbGJhY2soZGF0YTogYW55KSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZXJyb3JDb2RlICE9IDApIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmJyb2FkY2FzdGVkRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRhaW5lciAmJiAhdGhpcy5uZXh0UGFnZVN0YXJ0KSB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgICAgIGdpZ3lhLmV2ZW50cy5kaXNwYXRjaEVycm9yRnJvbVJlc3BvbnNlKHRoaXMucGFyYW1zLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnJvYWRjYXN0ZWRFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5zZXR0aW5ncykgdGhpcy5zZXR0aW5ncyA9IGdpZ3lhLnV0aWxzLm9iamVjdC5tZXJnZShbe30sIGRhdGEuc2V0dGluZ3NdKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGV4dE1vZGUgPSB0aGlzLnNldHRpbmdzLm1vZGUgPT0gJ3JhdGluZ3NPbmx5JyB8fCB0aGlzLnNldHRpbmdzLm1vZGUgPT0gJ3Jldmlld3MnID8gVGV4dE1vZGUuUkVWSUVXUyA6IFRleHRNb2RlLkNPTU1FTlRTO1xyXG4gICAgICAgICAgICB0aGlzLnNldERlZmF1bHRTaGFyZVVzZXJBY3Rpb24oKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjbGVhbiA9ICFkYXRhLnJlcXVlc3RQYXJhbXNbJ3N0YXJ0J10gJiYgIWRhdGEucmVxdWVzdFBhcmFtc1snc2luY2UnXTtcclxuICAgICAgICAgICAgaWYgKGNsZWFuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1lbnRzID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tbWVudENvbnRhaW5lciA9IHRoaXMuZ2V0RWxlbWVudCgnY29tbWVudHMnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21tZW50Q29udGFpbmVyKSBjb21tZW50Q29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkSGlnaGxpZ2h0c0NzcygpO1xyXG4gICAgICAgICAgICB2YXIgYWRkTmV3Q29tbWVudHMgPSBkYXRhLnJlcXVlc3RQYXJhbXNbJ3NpbmNlJ10gIT0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5hZGRDb21tZW50cyhDb21tZW50RGF0YS5mcm9tUmF3RGF0YUFycmF5KGRhdGEuY29tbWVudHMpLCAwLCBhZGROZXdDb21tZW50cywgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFVzZXJDb21tZW50cyhDb21tZW50RGF0YS5mcm9tUmF3RGF0YUFycmF5KGRhdGEudXNlckNvbW1lbnRzKSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhc01vcmUgPSBkYXRhLmhhc01vcmU7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnN0cmVhbUluZm8pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtSW5mbyA9IGRhdGEuc3RyZWFtSW5mbztcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ291bnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGF0YS51c2VyT3B0aW9ucykgdGhpcy51c2VyT3B0aW9ucyA9IGRhdGEudXNlck9wdGlvbnM7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXNbJ3VzZVNpdGVMb2dpbiddICE9IG51bGwpIHRoaXMuc2V0dGluZ3MudXNlU2l0ZUxvZ2luID0gZ2lneWEudXRpbHMudmFsaWRhdGlvbi5pc0V4cGxpY2l0VHJ1ZSh0aGlzLnBhcmFtc1sndXNlU2l0ZUxvZ2luJ10pO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLm5leHRQYWdlU3RhcnQpIHtcclxuICAgICAgICAgICAgICAgIC8vZmlyc3QgdGltZVxyXG4gICAgICAgICAgICAgICAgdmFyIHJlZnJlc2hNb2RlID0gdGhpcy5zZXR0aW5ncy5yZWZyZXNoTW9kZTtcclxuICAgICAgICAgICAgICAgIHZhciByZWZyZXNoSW50ZXJ2YWwgPSB0aGlzLnNldHRpbmdzLnJlZnJlc2hJbnRlcnZhbCAqIDEwMDAgfHwgMDtcclxuICAgICAgICAgICAgICAgIGlmIChyZWZyZXNoSW50ZXJ2YWwgPiAwICYmIHJlZnJlc2hNb2RlICE9ICdvZmYnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoVGltZW91dCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tGb3JOZXdDb21tZW50cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHJlZnJlc2hJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFkYXRhLnJlcXVlc3RQYXJhbXNbJ3NpbmNlJ10pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VTdGFydCA9IGRhdGEubmV4dDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFkYXRhLnJlcXVlc3RQYXJhbXNbJ3VzZXJIaWdobGlnaHRpbmdHcm91cHMnXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51c2VySGlnaGxpZ2h0aW5nR3JvdXBzID0gZGF0YS51c2VySGlnaGxpZ2h0aW5nR3JvdXBzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRNb3JlSW5Qcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRNb3JlSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNldCBmb2N1cyB0byB0aGUgZmlyc3QgbmV3IGNvbW1lbnQuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdENvbW1lbnRJRCA9IGRhdGEuY29tbWVudHNbMF0uSUQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb21tZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdENvbW1lbnRFbCA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYGRpdi5naWctY29tbWVudFtkYXRhLWNvbW1lbnQtaWQ9XCIke2ZpcnN0Q29tbWVudElEfVwiXWApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdENvbW1lbnRFbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdENvbW1lbnRFbC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS51dGlscy52aWV3cG9ydC5zY3JvbGxJbnRvVmlldyhmaXJzdENvbW1lbnRFbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKmlmIChjbGVhbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQWxsKGNsZWFuKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7Ki9cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVNb3JlKGNsZWFuKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb3VudCgpO1xyXG4gICAgICAgICAgICAvL31cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ29tbWVudHMoY29tbWVudHNEYXRhOiBDb21tZW50RGF0YVtdLCBsZXZlbDogbnVtYmVyID0gMCwgaXNGcm9tTGl2ZVVwZGF0ZT86IGJvb2xlYW4sIGlzVGVtcD86IGJvb2xlYW4sIGVycm9yPzogc3RyaW5nLCBpbmZvPzogc3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIG5ld0NvbW1lbnRzOiBDb21tZW50W10gPSBbXTtcclxuICAgICAgICBpZiAoaXNGcm9tTGl2ZVVwZGF0ZSkgY29tbWVudHNEYXRhLnJldmVyc2UoKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbW1lbnRzRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY29tbWVudERhdGEgPSBjb21tZW50c0RhdGFbaV07XHJcbiAgICAgICAgICAgIHZhciBjID0gdGhpcy5jb21tZW50SW5zdGFuY2VzW2NvbW1lbnREYXRhLklEXTtcclxuICAgICAgICAgICAgaWYgKGMpIHtcclxuICAgICAgICAgICAgICAgIGMuZXJyb3IgPSBlcnJvcjtcclxuICAgICAgICAgICAgICAgIGMuaW5mbyA9IGluZm87XHJcbiAgICAgICAgICAgICAgICBjLnJlc2V0KGNvbW1lbnREYXRhLCB0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGMgPSBuZXcgQ29tbWVudCh0aGlzLCBjb21tZW50RGF0YSwgbGV2ZWwsIG51bGwsIGlzVGVtcCwgaXNGcm9tTGl2ZVVwZGF0ZSwgZXJyb3IsIGluZm8pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuZXdDb21tZW50cy5wdXNoKGMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVVc2VySGlnaGxpZ2h0aW5nQmFkZ2VzKGNvbW1lbnRlckVsZW1lbnQ6IEhUTUxFbGVtZW50LCB1c2VySGlnaGxpZ2h0aW5nR3JvdXBzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghdXNlckhpZ2hsaWdodGluZ0dyb3VwcykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgaGlnaGxpZ2h0R3JvdXBzID0gdGhpcy5nZXRIaWdobGlnaHRpbmdCYWRnZXModXNlckhpZ2hsaWdodGluZ0dyb3VwcywgWyd1c2VyJywgJ21vZGVyYXRvciddKTtcclxuICAgICAgICB2YXIgaGFzVXNlckJhZGdlczogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpc0ZpcnN0Q29tbWVudGVyQ29sb3I6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gaGlnaGxpZ2h0R3JvdXBzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHZhciBoaWdobGlnaHRHcm91cDogSGlnaGxpZ2h0R3JvdXAgPSBoaWdobGlnaHRHcm91cHNbaV07XHJcblxyXG4gICAgICAgICAgICBpZiAoaGlnaGxpZ2h0R3JvdXAuc2hvd0JhZGdlKSB7XHJcbiAgICAgICAgICAgICAgICBoYXNVc2VyQmFkZ2VzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYmFkZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoYmFkZ2VFbGVtZW50LCAnZ2lnLWNvbW1lbnQtdXNlckJhZGdlJyk7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoYmFkZ2VFbGVtZW50LCBoaWdobGlnaHRHcm91cC5jbGFzc05hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJhZGdlRWxlbWVudC5pbm5lckhUTUwgPSBoaWdobGlnaHRHcm91cC5iYWRnZVRleHQgPT0gJ01vZGVyYXRvcicgPyB0aGlzLmdldFRleHQoJ21vZGVyYXRvcicpIDogaGlnaGxpZ2h0R3JvdXAuYmFkZ2VUZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKEJhZGdlRnJhbWVFbnVtW2hpZ2hsaWdodEdyb3VwLmJhZGdlRnJhbWVdID09PSBCYWRnZUZyYW1lRW51bS5yZWN0YW5nbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoYmFkZ2VFbGVtZW50LCAnZ2lnLWJhZGdlLWJvcmRlcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgYmFkZ2UgZWxlbWVudCBuZXh0IHRvIHRoZSB1c2VybmFtZVxyXG4gICAgICAgICAgICAgICAgY29tbWVudGVyRWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiYWRnZUVsZW1lbnQsIGNvbW1lbnRlckVsZW1lbnQubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmaXJzdCB1c2VyIGdyb3VwIGRlZmluZXMgdGhlIGNvbW1lbnRlciBjb2xvclxyXG4gICAgICAgICAgICBpZiAoaXNGaXJzdENvbW1lbnRlckNvbG9yICYmIGhpZ2hsaWdodEdyb3VwLmNvbW1lbnRlck5hbWVDb2xvciAmJiBoaWdobGlnaHRHcm91cC5jb21tZW50ZXJOYW1lQ29sb3IgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoY29tbWVudGVyRWxlbWVudCwgaGlnaGxpZ2h0R3JvdXAudXNlckNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpc0ZpcnN0Q29tbWVudGVyQ29sb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGhhc1VzZXJCYWRnZXM7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tGb3JOZXdDb21tZW50cygpIHtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5yZWZyZXNoTW9kZSAhPSAnb2ZmJyAmJiAhdGhpcy5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICBnaWd5YS5jb21tZW50cy5nZXRTdHJlYW1JbmZvKHRoaXMucGFyYW1zLCB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogcmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdHJlYW1JbmZvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdDb21tZW50Q291bnQgPSB0aGlzLnRleHRNb2RlID09PSBUZXh0TW9kZS5SRVZJRVdTID8gcmVzcG9uc2Uuc3RyZWFtSW5mby5yYXRpbmdDb3VudCA6IHJlc3BvbnNlLnN0cmVhbUluZm8uY29tbWVudENvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkQ29tbWVudENvdW50ID0gdGhpcy50ZXh0TW9kZSA9PT0gVGV4dE1vZGUuUkVWSUVXUyA/IHRoaXMuc3RyZWFtSW5mby5yYXRpbmdDb3VudCA6IHRoaXMuc3RyZWFtSW5mby5jb21tZW50Q291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkZWRDb3VudCA9IG5ld0NvbW1lbnRDb3VudCAtIG9sZENvbW1lbnRDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVkU3RyZWFtSW5mbyA9IHJlc3BvbnNlLnN0cmVhbUluZm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGRlZENvdW50ID4gMCB8fCB0aGlzLmxhc3RDb21tZW50VGltZXN0YW1wICE9PSByZXNwb25zZS5zdHJlYW1JbmZvLmxhc3RDb21tZW50VGltZXN0YW1wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld0NvbW1lbnRzQ291bnQgPSB0aGlzLm5ld0NvbW1lbnRzQ291bnQgKyBhZGRlZENvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0Q29tbWVudFRpbWVzdGFtcCA9IHJlc3BvbnNlLnN0cmVhbUluZm8ubGFzdENvbW1lbnRUaW1lc3RhbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc05ld0NvbW1lbnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFzTmV3Q29tbWVudHMoKSB7XHJcbiAgICAgICAgdmFyIHJlZnJlc2hNb2RlID0gdGhpcy5zZXR0aW5ncy5yZWZyZXNoTW9kZTtcclxuICAgICAgICBpZiAocmVmcmVzaE1vZGUgPT0gJ2NvdW50T25seScpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVTdHJpcCgpO1xyXG4gICAgICAgICAgICB0aGlzLm5ld0NvbW1lbnRzQ291bnQgPSAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocmVmcmVzaE1vZGUgPT0gJ2Z1bGwnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hOZXdDb21tZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpc1NoYXJlUG9zc2libGUoKSB7XHJcbiAgICAgICAgLy8gSWYgd2UncmUgbm90IGluIGh0dHAgY29udGV4dCAtIGZvciBleGFtcGxlIGlPUyBwbHVnaW4gdmlld1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2h0dHAnKSAhPSAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIFNwZWNpZmljIGNoZWNrIGZvciBhbmRyb2lkIHBsdWdpbiB2aWV3IC0gc2hvdWxkIGJlIHJlbW92ZWQgYWZ0ZXIgQW5kcm9pZCBTREsgZml4XHJcbiAgICAgICAgaWYgKHdpbmRvd1snX19naWdBUElBZGFwdGVyU2V0dGluZ3MnXSAmJiBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID09ICdodHRwOi8vd3d3LmdpZ3lhLmNvbS8nKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZldGNoTmV3Q29tbWVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5zdHJlYW1JbmZvID0gdGhpcy51cGRhdGVkU3RyZWFtSW5mbztcclxuICAgICAgICB0aGlzLnVwZGF0ZWRTdHJlYW1JbmZvID0gbnVsbDtcclxuICAgICAgICB0aGlzLmZldGNoQ29tbWVudHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTdHJpcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVN0cmlwKGNsZWFuPzogYm9vbGVhbikge1xyXG4gICAgICAgIHZhciByZWZyZXNoTW9kZSA9IHRoaXMuc2V0dGluZ3MucmVmcmVzaE1vZGU7XHJcbiAgICAgICAgdmFyIHVwZGF0ZVN0cmlwID0gdGhpcy5nZXRFbGVtZW50KCd1cGRhdGVzJyk7XHJcbiAgICAgICAgaWYgKCF1cGRhdGVTdHJpcCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAoY2xlYW4pIHtcclxuICAgICAgICAgICAgdXBkYXRlU3RyaXAuaW5uZXJIVE1MID0gdGhpcy50ZW1wbGF0ZXNbJ3VwZGF0ZXMnXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBlbFRleHQgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKHVwZGF0ZVN0cmlwLCAnZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtdGV4dCcpWzBdO1xyXG4gICAgICAgIHZhciBlbExpbmsgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKHVwZGF0ZVN0cmlwLCAnZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtbGluaycpWzBdO1xyXG4gICAgICAgIHZhciB1cGRhdGVUZXh0ID0gJyc7XHJcbiAgICAgICAgdmFyIGxpbmtUZXh0ID0gJyc7XHJcblxyXG4gICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KHVwZGF0ZVN0cmlwLCAnZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtY291bnRvbmx5Jyk7XHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQodXBkYXRlU3RyaXAsICdnaWctY29tbWVudHMtdXBkYXRlcy1mdWxsJyk7XHJcblxyXG4gICAgICAgIGlmIChyZWZyZXNoTW9kZSA9PSAnY291bnRPbmx5Jykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5uZXdDb21tZW50c0NvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGV4dE1vZGUgPT0gVGV4dE1vZGUuQ09NTUVOVFMpIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVUZXh0ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdDb21tZW50c0NvdW50ID09IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5nZXRUZXh0KCcxX25ld19jb21tZW50X3dhc19yZWNlbnRseV9wb3N0ZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFRleHQoJ251bV9uZXdfY29tbWVudHNfd2VyZV9yZWNlbnRseV9wb3N0ZWQnLCAnJW51bScsIHRoaXMubmV3Q29tbWVudHNDb3VudC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVGV4dCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV3Q29tbWVudHNDb3VudCA9PSAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZ2V0VGV4dCgnMV9uZXdfcmV2aWV3X3dhc19yZWNlbnRseV9wb3N0ZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFRleHQoJ251bV9uZXdfcmV2aWV3c193ZXJlX3JlY2VudGx5X3Bvc3RlZCcsICclbnVtJywgdGhpcy5uZXdDb21tZW50c0NvdW50LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxpbmtUZXh0ID0gdGhpcy5nZXRUZXh0KCdjbGlja190b19zaG93Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNsZWFuKSB7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIoZWxMaW5rLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaE5ld0NvbW1lbnRzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQodXBkYXRlU3RyaXAsICdnaWctY29tbWVudHMtdXBkYXRlcy1jb3VudG9ubHknKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHJlZnJlc2hNb2RlID09ICdmdWxsJykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5uZXdDb21tZW50c0NvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGV4dE1vZGUgPT0gVGV4dE1vZGUuQ09NTUVOVFMpIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVUZXh0ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdDb21tZW50c0NvdW50ID09IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5nZXRUZXh0KCcxX25ld19jb21tZW50X3dhc19yZWNlbnRseV9wb3N0ZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFRleHQoJ251bV9uZXdfY29tbWVudHNfd2VyZV9yZWNlbnRseV9wb3N0ZWQnLCAnJW51bScsIHRoaXMubmV3Q29tbWVudHNDb3VudC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVGV4dCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV3Q29tbWVudHNDb3VudCA9PSAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZ2V0VGV4dCgnMV9uZXdfcmV2aWV3X3dhc19yZWNlbnRseV9wb3N0ZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFRleHQoJ251bV9uZXdfcmV2aWV3c193ZXJlX3JlY2VudGx5X3Bvc3RlZCcsICclbnVtJywgdGhpcy5uZXdDb21tZW50c0NvdW50LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxpbmtUZXh0ID0gdGhpcy5pc1BhdXNlZCA/IHRoaXMuZ2V0VGV4dCgncmVzdW1lX3N0cmVhbScpIDogdGhpcy5nZXRUZXh0KCdwYXVzZV9zdHJlYW0nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudCh1cGRhdGVTdHJpcCwgJ2dpZy1jb21tZW50cy11cGRhdGVzLXBhdXNlZCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00ucmVtb3ZlQ2xhc3NGcm9tRWxlbWVudCh1cGRhdGVTdHJpcCwgJ2dpZy1jb21tZW50cy11cGRhdGVzLXBhdXNlZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjbGVhbikge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEJ1dHRvblN1Ym1pdExpc3RlbmVyKGVsTGluaywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNQYXVzZWQgPSAhdGhpcy5pc1BhdXNlZDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0cmlwKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQodXBkYXRlU3RyaXAsICdnaWctY29tbWVudHMtdXBkYXRlcy1mdWxsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodXBkYXRlVGV4dCB8fCBsaW5rVGV4dCkge1xyXG4gICAgICAgICAgICBpZiAoZWxUZXh0KSBlbFRleHQuaW5uZXJIVE1MID0gdXBkYXRlVGV4dDtcclxuICAgICAgICAgICAgaWYgKGVsTGluaykgZWxMaW5rLmlubmVySFRNTCA9IGxpbmtUZXh0O1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQodXBkYXRlU3RyaXAsICdnaWctY29tbWVudHMtdXBkYXRlcy12aXNpYmxlJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQodXBkYXRlU3RyaXAsICdnaWctY29tbWVudHMtdXBkYXRlcy12aXNpYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldENvbW1lbnQoaWQ6IHN0cmluZyk6IENvbW1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1lbnRJbnN0YW5jZXNbaWRdO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUNvbW1lbnQoY29tbWVudDogQ29tbWVudCkge1xyXG4gICAgICAgIC8vcmVtb3ZlIHJlcGxpZXNcclxuICAgICAgICB2YXIgcmVwbGllcyA9IGNvbW1lbnQucmVwbGllcy5jb25jYXQoKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcGxpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVwbGllc1tpXS5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwID0gY29tbWVudC5nZXRQYXJlbnQoKTtcclxuICAgICAgICBpZiAocCkge1xyXG4gICAgICAgICAgICBwLnJlbW92ZUNoaWxkKGNvbW1lbnQuaWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLmFycmF5LnJlbW92ZUJ5UHJvcGVydHkodGhpcy5jb21tZW50cywgJ2lkJywgY29tbWVudC5pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdpZ3lhLnV0aWxzLmFycmF5LnJlbW92ZUJ5UHJvcGVydHkodGhpcy51c2VyQ29tbWVudHMsICdpZCcsIGNvbW1lbnQuaWQpO1xyXG4gICAgICAgIGdpZ3lhLnV0aWxzLmFycmF5LnJlbW92ZUJ5UHJvcGVydHkodGhpcy51c2VyQ29tbWVudHNEYXRhLCAnSUQnLCBjb21tZW50LmlkKTtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gY29tbWVudC5nZXRDb250YWluZXIoKTtcclxuICAgICAgICBpZiAoY29udGFpbmVyKSBjb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmNvbW1lbnRJbnN0YW5jZXNbY29tbWVudC5pZF07XHJcblxyXG4gICAgICAgIGlmIChjb21tZW50LmRhdGEuc3RhdHVzID09PSAncHVibGlzaGVkJykge1xyXG4gICAgICAgICAgICB0aGlzLnN0cmVhbUluZm8uY29tbWVudENvdW50LS07XHJcbiAgICAgICAgICAgIGlmICghcCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1JbmZvLnJhdGluZ0NvdW50LS07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChwKSB7XHJcbiAgICAgICAgICAgICAgICBwLmRlc2NlbmRhbnRzQ291bnQtLTtcclxuICAgICAgICAgICAgICAgIHAudXBkYXRlUmVwbGllc0NvdW50KCk7XHJcbiAgICAgICAgICAgICAgICBwID0gcC5nZXRQYXJlbnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVDb3VudCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnRleHRNb2RlID09IFRleHRNb2RlLlJFVklFV1MpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVVc2VyUmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKGNhbGxiYWNrPzogRnVuY3Rpb24pIHtcclxuICAgICAgICBnaWd5YS5zb2NpYWxpemUuZ2V0VXNlckluZm8odGhpcy5wYXJhbXMsIHtcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvckNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VXNlcihyZXNwb25zZS51c2VyLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEuZXZlbnRzLmRpc3BhdGNoRXJyb3JGcm9tUmVzcG9uc2UodGhpcy5wYXJhbXMsIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmaWx0ZXJJZGVudGl0aWVzKHVzZXIpIHtcclxuICAgICAgICBpZiAoIXVzZXIgfHwgIXVzZXIuaWRlbnRpdGllcykgcmV0dXJuIHVzZXI7XHJcbiAgICAgICAgdmFyIGVuYWJsZWRQcm92aWRlcnMgPSB0aGlzLnBhcmFtc1snZW5hYmxlZFByb3ZpZGVycyddIHx8ICcqJztcclxuICAgICAgICB2YXIgZGlzYWJsZWRQcm92aWRlcnMgPSB0aGlzLnBhcmFtc1snZGlzYWJsZWRQcm92aWRlcnMnXSB8fCAnJztcclxuICAgICAgICB2YXIgaWRlbnRpdGllc0NvdW50ID0gMDtcclxuICAgICAgICB2YXIgYXJQcm92aWRlcnMgPSBnaWd5YS5zb2NpYWxpemUuZ2V0UHJvdmlkZXJzQnlOYW1lKGVuYWJsZWRQcm92aWRlcnMgKyAnLHNpdGUnKTtcclxuICAgICAgICBhclByb3ZpZGVycyA9IGdpZ3lhLnNvY2lhbGl6ZS5oaWRlUHJvdmlkZXJzQnlOYW1lKGFyUHJvdmlkZXJzLCBkaXNhYmxlZFByb3ZpZGVycyk7XHJcbiAgICAgICAgdmFyIG5ld0lkZW50aXRpZXMgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyUHJvdmlkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm92aWRlcjogUHJvdmlkZXIgPSBhclByb3ZpZGVyc1tpXTtcclxuICAgICAgICAgICAgaWYgKHVzZXIuaWRlbnRpdGllc1twcm92aWRlci5uYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgaWRlbnRpdGllc0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgICBuZXdJZGVudGl0aWVzW3Byb3ZpZGVyLm5hbWVdID0gdXNlci5pZGVudGl0aWVzW3Byb3ZpZGVyLm5hbWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVzZXIuaWRlbnRpdGllcyA9IG5ld0lkZW50aXRpZXM7XHJcbiAgICAgICAgaWYgKHVzZXIubG9naW5Qcm92aWRlciAmJiAhdXNlci5pZGVudGl0aWVzW3VzZXIubG9naW5Qcm92aWRlcl0pIHtcclxuICAgICAgICAgICAgZGVsZXRlIHVzZXIubG9naW5Qcm92aWRlcjtcclxuICAgICAgICAgICAgZGVsZXRlIHVzZXIubmlja25hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpZGVudGl0aWVzQ291bnQgPT0gMCkge1xyXG4gICAgICAgICAgICB1c2VyLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXIodXNlciwgZmlyc3Q/OiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy51c2VyID0gdGhpcy5maWx0ZXJJZGVudGl0aWVzKHVzZXIpO1xyXG4gICAgICAgIGlmICghZmlyc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRVc2VyQ29tbWVudHMoW10pO1xyXG4gICAgICAgICAgICB0aGlzLnN0cmVhbUluZm8uaXNVc2VyU3Vic2NyaWJlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVVbnB1Ymxpc2hlZENvbW1lbnRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hVc2VyVm90ZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5mZXRjaFNlbGZDb21tZW50cygpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHVzZXIuaXNDb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLmNvbW1lbnRzLmdldFN0cmVhbUluZm8odGhpcy5wYXJhbXMsIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnN0cmVhbUluZm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtSW5mbyA9IGUuc3RyZWFtSW5mbztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSGVhZGVyTGlua3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVBbGwoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGZldGNoQWxsKGNhbGxiYWNrOiBGdW5jdGlvbikge1xyXG4gICAgICAgIHZhciBjYWxsZWQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgZm5DYiA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFjYWxsZWQgJiYgdGhpcy51c2VyICYmIHRoaXMuY29tbWVudHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZVByb2dyZXNzKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5yZXBsaWVzQ29sbGFwc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWVudHNbaV0uY29sbGFwc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5waW5uZWRDb21tZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudHNQbHVnaW4gPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwaW5uZWRDb21tZW50ID0gY29tbWVudHNQbHVnaW4uZ2V0Q29tbWVudChjb21tZW50c1BsdWdpbi5waW5uZWRDb21tZW50SUQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRocmVhZElEID0gcGlubmVkQ29tbWVudC5kYXRhLnRocmVhZElEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhyZWFkSUQgPT0gJycpIHRocmVhZElEID0gcGlubmVkQ29tbWVudC5pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBhbnNjZXRvciBvZiB0aGUgY29tbWVudCwgaGF2ZSBpdCdzIHJlcGxheXMgY29sbGFwc2VkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21tZW50c1BsdWdpbi5nZXRDb21tZW50KHRocmVhZElEKS5pc0NvbGxhcHNlKCkpIGNvbW1lbnRzUGx1Z2luLmdldENvbW1lbnQodGhyZWFkSUQpLmV4cGFuZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudHNQbHVnaW4uc2Nyb2xsVG9QaW5uZWRDb21tZW50KGNvbW1lbnRzUGx1Z2luLnBpbm5lZENvbW1lbnRJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzUGx1Z2luLnNldFBpbm5lZENvbW1lbnRDb2xvcihjb21tZW50c1BsdWdpbi5waW5uZWRDb21tZW50SUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmZldGNoQ29tbWVudHMoZmFsc2UsIGZuQ2IpO1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlckluZm8oZm5DYik7XHJcbiAgICAgICAgdGhpcy5zaG93UHJvZ3Jlc3MoKTtcclxuICAgIH1cclxuXHJcbiAgICBzY3JvbGxUb1Bpbm5lZENvbW1lbnQocGlubmVkQ29tbWVudElEOiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgcGlubmVkQ29tbWVudEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb21tZW50LWlkPVwiJyArIHBpbm5lZENvbW1lbnRJRCArICdcIl0nKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAocGlubmVkQ29tbWVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHRvcCA9IHBpbm5lZENvbW1lbnRFbGVtZW50Lm9mZnNldFRvcDtcclxuICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHRvcCAtIDEyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGlubmVkQ29tbWVudENvbG9yKHBpbm5lZENvbW1lbnRJRDogc3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIHBpbm5lZENvbW1lbnRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29tbWVudC1pZD1cIicgKyBwaW5uZWRDb21tZW50SUQgKyAnXCJdJykgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKHBpbm5lZENvbW1lbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBwaW5uZWRDb21tZW50Q29udGVudEVsZW1lbnQgPSBwaW5uZWRDb21tZW50RWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnaWctY29tbWVudC1jb250ZW50JylbMF0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudChwaW5uZWRDb21tZW50Q29udGVudEVsZW1lbnQsICdnaWctY29tbWVudC1waW5uZWQtYmFja2dyb3VuZCcpO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQocGlubmVkQ29tbWVudENvbnRlbnRFbGVtZW50LCAnZ2lnLWNvbW1lbnQtY29sb3JlZC1iYWNrZ3JvdW5kJyk7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KHBpbm5lZENvbW1lbnRDb250ZW50RWxlbWVudCwgJ2dpZy1jb21tZW50LWJhZGdlLXBpY2snKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlcm5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gZ2lneWEudXRpbHMuc2FuaXRpemUuc2FuaXRpemVIVE1MKFxyXG4gICAgICAgICAgICB0aGlzLnVzZXIubmlja25hbWUgfHwgdGhpcy51c2VyLmZpcnN0TmFtZSB8fCAodGhpcy51c2VyLmlzR3Vlc3QgPyB0aGlzLmdldFRleHQoJ2d1ZXN0JykgOiB0aGlzLmdldFRleHQoJ2Fub255bW91cycpKSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUFsbChjbGVhbjogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudXNlciAmJiB0aGlzLmNvbW1lbnRzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1haW5Db21wb3NlQm94KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW4pIHRoaXMubWFpbkNvbXBvc2VCb3gucmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMubWFpbkNvbXBvc2VCb3gudXBkYXRlVUkoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudGVtcENvbXBvc2VCb3gpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjbGVhbikgdGhpcy50ZW1wQ29tcG9zZUJveC5yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy50ZW1wQ29tcG9zZUJveC51cGRhdGVVSSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUhlYWRlckxpbmtzKGNsZWFuKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb21tZW50cyhjbGVhbik7XHJcbiAgICAgICAgICAgIGlmIChjbGVhbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kQWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVNb3JlKGNsZWFuKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVTdHJpcChjbGVhbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZldGNoVXNlclZvdGVzKCkge1xyXG4gICAgICAgIGdpZ3lhLmNvbW1lbnRzLmdldFVzZXJWb3Rlcyh0aGlzLnBhcmFtcywge1xyXG4gICAgICAgICAgICBjYWxsYmFjazogcmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGNvbW1lbnRJRCBpbiB0aGlzLmNvbW1lbnRJbnN0YW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudCA9IHRoaXMuY29tbWVudEluc3RhbmNlc1tjb21tZW50SURdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29tbWVudC52b3RlSW5Qcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50LmRhdGEudm90ZSA9IHJlcy51c2VyVm90ZXMgPyByZXMudXNlclZvdGVzW2NvbW1lbnRJRF0gOiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQudXBkYXRlVm90ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmZXRjaFNlbGZDb21tZW50cygpIHtcclxuICAgICAgICAvLyAgaWYgKHRoaXMuc2V0dGluZ3MuYWxsb3dDb21tZW50RGVsZXRpb24gfHwgdGhpcy50ZXh0TW9kZSA9PSBUZXh0TW9kZS5SRVZJRVdTKSB7XHJcbiAgICAgICAgZ2lneWEuY29tbWVudHMuZ2V0VXNlckNvbW1lbnRzKHRoaXMucGFyYW1zLCB7XHJcbiAgICAgICAgICAgIGluY2x1ZGVSZXBsaWVzOiB0cnVlLFxyXG4gICAgICAgICAgICBpbmNsdWRlVXNlckhpZ2hsaWdodGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUgJiYgZS5jb21tZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VXNlckNvbW1lbnRzKGUuY29tbWVudHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZS5jb21tZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudElEID0gZS5jb21tZW50c1tpXS5JRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tbWVudEluc3RhbmNlc1tjb21tZW50SURdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IHRoaXMuY29tbWVudEluc3RhbmNlc1tjb21tZW50SURdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5kYXRhLnNlbmRlci5pc1NlbGYgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy51cGRhdGVDb21tZW50KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRVc2VyQ29tbWVudHMoW10pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNvbW1lbnRJbnN0YW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmNvbW1lbnRJbnN0YW5jZXNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYy5kYXRhLnNlbmRlci5pc1NlbGYgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYy51cGRhdGVDb21tZW50KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFlLnJlcXVlc3RQYXJhbXNbJ3VzZXJIaWdobGlnaHRpbmdHcm91cHMnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXNlckhpZ2hsaWdodGluZ0dyb3VwcyA9IGUudXNlckhpZ2hsaWdodGluZ0dyb3VwcztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1haW5Db21wb3NlQm94LnVwZGF0ZVVzZXJCYWRnZXMoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dQcm9ncmVzcygpIHtcclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQodGhpcy5jb250YWluZXIsICdnaWctY29tbWVudHMtY29udGFpbmVyLXByb2dyZXNzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZVByb2dyZXNzKCkge1xyXG4gICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KHRoaXMuY29udGFpbmVyLCAnZ2lnLWNvbW1lbnRzLWNvbnRhaW5lci1wcm9ncmVzcycpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUhlYWRlckxpbmtzKGNsZWFuPzogYm9vbGVhbikge1xyXG4gICAgICAgIHZhciBlbEhlYWRlciA9IHRoaXMuZ2V0RWxlbWVudCgnaGVhZGVyJyk7XHJcbiAgICAgICAgaWYgKGNsZWFuKSB7XHJcbiAgICAgICAgICAgIGlmIChlbEhlYWRlcilcclxuICAgICAgICAgICAgICAgIGVsSGVhZGVyLmlubmVySFRNTCA9IGdpZ3lhLnV0aWxzLnRlbXBsYXRlcy5maWxsKHRoaXMudGVtcGxhdGVzWydoZWFkZXInXSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvcnQ6IHRoaXMuZ2V0VGV4dCgnc29ydCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZTogdGhpcy5nZXRUZXh0KCdzdWJzY3JpYmUnKSxcclxuICAgICAgICAgICAgICAgICAgICByc3M6ICc8YT4nICsgdGhpcy5nZXRUZXh0KCdyc3MnKSArICc8L2E+JyxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZWxTb3J0ID0gdGhpcy5nZXRFbGVtZW50KCdzb3J0Jyk7XHJcbiAgICAgICAgaWYgKGVsU29ydCkgZWxTb3J0LnN0eWxlLmRpc3BsYXkgPSB0aGlzLnNldHRpbmdzLmVuYWJsZVVzZXJTb3J0aW5nID8gJycgOiAnbm9uZSc7XHJcbiAgICAgICAgdmFyIGVsUnNzID0gdGhpcy5nZXRFbGVtZW50KCdyc3MnKTtcclxuICAgICAgICBpZiAoZWxSc3MpIGVsUnNzLnN0eWxlLmRpc3BsYXkgPSB0aGlzLnNldHRpbmdzLmRpc2FibGVSU1MgPyAnbm9uZScgOiAnJztcclxuXHJcbiAgICAgICAgdmFyIGVsU3Vic2NyaWJlID0gdGhpcy5nZXRFbGVtZW50KCdzdWJzY3JpYmUnKTtcclxuICAgICAgICBpZiAoZWxTdWJzY3JpYmUpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaWJlVGV4dCA9IHRoaXMuc3RyZWFtSW5mby5pc1VzZXJTdWJzY3JpYmVkIHx8IHRoaXMudW5zdWJzY3JpYmVUb2tlbiA/IHRoaXMuZ2V0VGV4dCgndW5zdWJzY3JpYmUnKSA6IHRoaXMuZ2V0VGV4dCgnc3Vic2NyaWJlJyk7XHJcbiAgICAgICAgICAgIGVsU3Vic2NyaWJlLnRpdGxlID0gc3Vic2NyaWJlVGV4dDtcclxuICAgICAgICAgICAgZWxTdWJzY3JpYmUuaW5uZXJIVE1MID0gc3Vic2NyaWJlVGV4dDtcclxuICAgICAgICAgICAgZWxTdWJzY3JpYmUuc3R5bGUuZGlzcGxheSA9IHRoaXMuc2V0dGluZ3MuZGlzYWJsZVJTUyA/ICdub25lJyA6ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZWxIZWFkZXIpIHRoaXMuc2V0TGlua3MoZWxIZWFkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVVzZXJSZXZpZXcoKSB7XHJcbiAgICAgICAgdGhpcy5tYWluQ29tcG9zZUJveC51cGRhdGVVSSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNlbGZSZXZpZXcoKTogQ29tbWVudCB7XHJcbiAgICAgICAgaWYgKHRoaXMudGV4dE1vZGUgIT0gVGV4dE1vZGUuUkVWSUVXUykgcmV0dXJuO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51c2VyQ29tbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnVzZXJDb21tZW50c1tpXS5kYXRhLnBhcmVudElEKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51c2VyQ29tbWVudHNbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TGlua3MoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIHZhciBhckxpbmtzQ29udGFpbmVycyA9IGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50c0J5Q2xhc3MoY29udGFpbmVyLCAnZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyJyk7XHJcbiAgICAgICAgdmFyIGY7XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuO1xyXG4gICAgICAgIGZvciAodmFyIGlMaW5rc0NvbnRhaW5lciA9IDA7IGlMaW5rc0NvbnRhaW5lciA8IGFyTGlua3NDb250YWluZXJzLmxlbmd0aDsgaUxpbmtzQ29udGFpbmVyKyspIHtcclxuICAgICAgICAgICAgZiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IGFyTGlua3NDb250YWluZXJzW2lMaW5rc0NvbnRhaW5lcl0uY2hpbGROb2RlcztcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQ6IEhUTUxFbGVtZW50ID0gY2hpbGRyZW5baV0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuc3R5bGUuZGlzcGxheSAhPSAnbm9uZScgJiYgY2hpbGQuaW5uZXJIVE1MICE9ICcnICYmICFmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KGNoaWxkLCAnZ2lnLWNvbW1lbnRzLWxpbmstbGFzdFZpc2libGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBmID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoY2hpbGQsICdnaWctY29tbWVudHMtbGluay1sYXN0VmlzaWJsZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvbW1lbnRzKGNsZWFuOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICB2YXIgZWxDb21tZW50cyA9IHRoaXMuZ2V0RWxlbWVudCgnY29tbWVudHMnKTtcclxuICAgICAgICBpZiAoIWVsQ29tbWVudHMpIHJldHVybjtcclxuICAgICAgICBpZiAoY2xlYW4pIHRoaXMuZ2V0RWxlbWVudCgnY29tbWVudHMnKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29tbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5jb21tZW50c1tpXS51cGRhdGVBbGwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb3VudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvdW50KCkge1xyXG4gICAgICAgIHZhciBlbENvdW50ID0gdGhpcy5nZXRFbGVtZW50KCdjb3VudCcpO1xyXG4gICAgICAgIGlmIChlbENvdW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRpc2FibGVDb21tZW50c0NvdW50KSB7XHJcbiAgICAgICAgICAgICAgICBlbENvdW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRleHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXZpZXdDb3VudCA9IHRoaXMuc3RyZWFtSW5mby5yYXRpbmdDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudENvdW50ID0gdGhpcy5zdHJlYW1JbmZvLmNvbW1lbnRDb3VudCAtIHRoaXMuc3RyZWFtSW5mby5yYXRpbmdDb3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuZ2V0UGx1cmFsaXplZENvdW50KHJldmlld0NvdW50LCAncmV2aWV3JykgKyAoY29tbWVudENvdW50ID4gMCA/ICcsICcgKyB0aGlzLmdldFBsdXJhbGl6ZWRDb3VudChjb21tZW50Q291bnQsICdjb21tZW50JykgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0aGlzLmdldFBsdXJhbGl6ZWRDb3VudCh0aGlzLnN0cmVhbUluZm8uY29tbWVudENvdW50LCAnY29tbWVudCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGVsQ291bnQuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRQbHVyYWxpemVkQ291bnQoY291bnQ6IG51bWJlciwgZW50aXR5OiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgdGV4dEtleU9uZSA9ICdvbmVfJyArIGVudGl0eTtcclxuICAgICAgICB2YXIgdGV4dEtleU1hbnkgPSAnbnVtXycgKyBlbnRpdHkgKyAncyc7XHJcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLmdldFRleHQoY291bnQgPT0gMSA/IHRleHRLZXlPbmUgOiB0ZXh0S2V5TWFueSwgJyVudW0nLCBjb3VudC50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zWydsYW5nJ10gPT0gJ2ZyJyAmJiBjb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRleHQgPSB0aGlzLmdldFRleHQodGV4dEtleU9uZSwgJyVudW0nLCBjb3VudC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgnMScsICcwJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVNb3JlKGNsZWFuPzogYm9vbGVhbikge1xyXG4gICAgICAgIHZhciBtb3JlID0gdGhpcy5nZXRFbGVtZW50KCdtb3JlJyk7XHJcbiAgICAgICAgaWYgKG1vcmUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzTW9yZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0TW9yZUluUHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQobW9yZSwgJ2dpZy1jb21tZW50cy1tb3JlLXByb2dyZXNzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9yZS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQobW9yZSwgJ2dpZy1jb21tZW50cy1tb3JlLXByb2dyZXNzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9yZS5pbm5lckhUTUwgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLm1vZGUgPT0gJ3Jldmlld3MnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZ2V0VGV4dCgnc2hvd19tb3JlX3Jldmlld3MnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnNldHRpbmdzLm1vZGUgPT0gJ3JhdGluZ3NPbmx5J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5nZXRUZXh0KCdzaG93X21vcmVfcmF0aW5ncycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFRleHQoJ3Nob3dfbW9yZV9jb21tZW50cycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbW9yZS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtb3JlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYmluZEFsbCgpIHtcclxuICAgICAgICB2YXIgbW9yZSA9IHRoaXMuZ2V0RWxlbWVudCgnbW9yZScpO1xyXG4gICAgICAgIGlmIChtb3JlKSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRCdXR0b25TdWJtaXRMaXN0ZW5lcihtb3JlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uTW9yZUNsaWNrKG1vcmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHN1YnNjcmliZSA9IHRoaXMuZ2V0RWxlbWVudCgnc3Vic2NyaWJlJyk7XHJcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIoc3Vic2NyaWJlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3Vic2NyaWJlQ2xpY2soKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcnNzID0gdGhpcy5nZXRFbGVtZW50KCdyc3MnKTtcclxuICAgICAgICBpZiAocnNzKSB7XHJcbiAgICAgICAgICAgIHZhciByc3NBbmNob3JzID0gcnNzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnNzQW5jaG9ycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxua1JzcyA9IHJzc0FuY2hvcnNbaV0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBsbmtSc3Muc2V0QXR0cmlidXRlKCdocmVmJywgdGhpcy5zdHJlYW1JbmZvLnJzc1VSTCk7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIobG5rUnNzLCBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUnNzQ2xpY2soZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRFdmVudExpc3RlbmVyKGxua1JzcywgJ2NvbnRleHRtZW51JywgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblJzc0NsaWNrKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNvcnQgPSB0aGlzLmdldEVsZW1lbnQoJ3NvcnQnKTtcclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcihzb3J0LCAnbW91c2Vkb3duJywgZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25Tb3J0Q2xpY2soc29ydCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TdWJzY3JpYmVDbGljaygpIHtcclxuICAgICAgICBpZiAodGhpcy5zdHJlYW1JbmZvLmlzVXNlclN1YnNjcmliZWQpIHtcclxuICAgICAgICAgICAgZ2lneWEuY29tbWVudHMudW5zdWJzY3JpYmUodGhpcy5wYXJhbXMsIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBlID0+IHRoaXMub25VbnN1YnNjcmliZShlKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnVuc3Vic2NyaWJlVG9rZW4pIHtcclxuICAgICAgICAgICAgZ2lneWEuY29tbWVudHMudW5zdWJzY3JpYmUodGhpcy5wYXJhbXMsIHtcclxuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlVG9rZW46IHRoaXMudW5zdWJzY3JpYmVUb2tlbixcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBlID0+IHRoaXMub25VbnN1YnNjcmliZShlKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMudGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUyA/ICdyZXZpZXcnIDogJ2NvbW1lbnQnO1xyXG4gICAgICAgICAgICBjb25zdCBkaWFsb2dCb2R5ID0gZ2lneWEudXRpbHMudGVtcGxhdGVzLmZpbGwodGhpcy50ZW1wbGF0ZXNbJ2VtYWlsVGV4dGJveERpYWxvZ0JvZHknXSwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogdGhpcy5nZXRUZXh0KCdlbnRlcl95b3VyX2VtYWlsX3RvX3N1YnNjcmliZV90b19uZXdfJyArIHR5cGUgKyAnc19pbl90aGlzX3N0cmVhbV9jb2xvbicpLFxyXG4gICAgICAgICAgICAgICAgYnV0dG9uVGV4dDogdGhpcy5nZXRUZXh0KCdzdWJzY3JpYmUnKSxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLnVzZXIuZW1haWwgfHwgJycsXHJcbiAgICAgICAgICAgICAgICBlbWFpbExhYmVsOiB0aGlzLmdldFRleHQoJ2VtYWlsJyksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBkaWFsb2cgPSB0aGlzLnNob3dEaWFsb2codGhpcy5nZXRUZXh0KCdub3RpZmljYXRpb25zX3NldHRpbmdzJyksIGRpYWxvZ0JvZHksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgZmlyZXMgd2hlbiB0aGUgZGlhbG9nIGNsb3Nlcy4gUmV0dXJuIGZvY3VzIHRvIHRoZSBzdWJzY3JpYmUgbGluay5cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RWxlbWVudCgnc3Vic2NyaWJlJykuZm9jdXMoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBidG5TdWJzY3JpYmUgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGRpYWxvZywgJ2dpZy1jb21tZW50cy1kaWFsb2ctdGV4dGJveC1idXR0b24nKVswXTtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEJ1dHRvblN1Ym1pdExpc3RlbmVyKGJ0blN1YnNjcmliZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGIgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGRpYWxvZywgJ2dpZy1jb21tZW50cy1kaWFsb2ctdGV4dGJveCcpWzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodGIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWFpbCA9IHRiLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2lneWEucGx1Z2luVXRpbHMudmFsaWRhdGlvbi5pc0VtYWlsVmFsaWQoZW1haWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKHRiLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVEaWFsb2cuY2FuY2VsSGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsRXJyb3IgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGRpYWxvZywgJ2dpZy1jb21tZW50cy1kaWFsb2ctZXJyb3InKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxFcnJvci5pbm5lckhUTUwgPSB0aGlzLmdldFRleHQoJ3BsZWFzZV9wcm92aWRlX2FfdmFsaWRfZW1haWxfYWRkcmVzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN1YnNjcmliZShlbWFpbDogU3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdHJlYW1JbmZvSWZOZWVkZWQobnVsbCwgbnVsbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBnaWd5YS5jb21tZW50cy5zdWJzY3JpYmUodGhpcy5wYXJhbXMsIHtcclxuICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU3Vic2NyaWJlKGUpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMudGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUyA/ICdyZXZpZXcnIDogJ2NvbW1lbnQnO1xyXG4gICAgICAgIGNvbnN0IGNvbmZpcm1hdGlvbkhUTUwgPVxyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy1kaWFsb2ctc3Vic2NyaWJlLW9rSWNvblwiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICB0aGlzLmdldFRleHQoJ3RoYW5rX3lvdV9mb3Jfc3Vic2NyaWJpbmcnKSArXHJcbiAgICAgICAgICAgICc8YnIgLz4nICtcclxuICAgICAgICAgICAgdGhpcy5nZXRUZXh0KCduZXdfJyArIHR5cGUgKyAnc193aWxsX2JlX3NlbnRfZGlyZWN0bHlfdG9feW91cl9lbWFpbF9pbmJveCcpO1xyXG4gICAgICAgIHRoaXMuc2hvd0RpYWxvZyh0aGlzLmdldFRleHQoJ25vdGlmaWNhdGlvbnNfc2V0dGluZ3MnKSwgY29uZmlybWF0aW9uSFRNTCk7XHJcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVEaWFsb2cpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlRGlhbG9nLmNhbmNlbEhhbmRsZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDMwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVW5zdWJzY3JpYmUoZSkge1xyXG4gICAgICAgIGlmIChlLmVycm9yQ29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0RpYWxvZyh0aGlzLmdldFRleHQoJ25vdGlmaWNhdGlvbnNfc2V0dGluZ3MnKSwgdGhpcy5nZXRUZXh0KCd5b3VfaGF2ZV9zdWNjZXNzZnVsbHlfdW5zdWJzY3JpYmVkJykpO1xyXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVEaWFsb2cpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZURpYWxvZy5jYW5jZWxIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy51bnN1YnNjcmliZVRva2VuO1xyXG4gICAgICAgICAgICB0aGlzLnN0cmVhbUluZm8uaXNVc2VyU3Vic2NyaWJlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUhlYWRlckxpbmtzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uU3Vic2NyaWJlKGUpIHtcclxuICAgICAgICBpZiAoZSAmJiBlLnVuc3Vic2NyaWJlVG9rZW4pIHRoaXMudW5zdWJzY3JpYmVUb2tlbiA9IGUudW5zdWJzY3JpYmVUb2tlbjtcclxuICAgICAgICBpZiAoIWUudW5zdWJzY3JpYmVUb2tlbikgdGhpcy5zdHJlYW1JbmZvLmlzVXNlclN1YnNjcmliZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlSGVhZGVyTGlua3MoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbk1vcmVDbGljayhlbE1vcmU6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzTW9yZSAmJiAhdGhpcy5nZXRNb3JlSW5Qcm9ncmVzcykge1xyXG4gICAgICAgICAgICB0aGlzLmdldE1vcmVJblByb2dyZXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVNb3JlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hDb21tZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblJzc0NsaWNrKGV2ZW50LCByZWRpcmVjdD8pIHtcclxuICAgICAgICBpZiAocmVkaXJlY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0U3RyZWFtSW5mb0lmTmVlZGVkKGV2ZW50LCB0aGlzLnN0cmVhbUluZm8ucnNzVVJMKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0cmVhbUluZm9JZk5lZWRlZChldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uU29ydENsaWNrKG9wZW5lcjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoIW9wZW5lcikgcmV0dXJuO1xyXG4gICAgICAgIHZhciBwb3MgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudFBvc2l0aW9uKG9wZW5lcik7XHJcbiAgICAgICAgdmFyIGRpdlNvcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXZTb3J0LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuXHJcbiAgICAgICAgaWYgKGRpdlNvcnQuc3R5bGUuekluZGV4ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgZGl2U29ydC5zdHlsZS56SW5kZXggPSBnaWd5YS51dGlscy5ET00uZ2V0TmV4dFpJbmRleCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkaXZTb3J0LmlubmVySFRNTCA9IGdpZ3lhLnV0aWxzLnRlbXBsYXRlcy5maWxsKHRoaXMudGVtcGxhdGVzWydzb3J0Ym94J10sIHtcclxuICAgICAgICAgICAgbW9zdF9yZWNlbnQ6IHRoaXMuZ2V0VGV4dCgnbW9zdF9yZWNlbnQnKSxcclxuICAgICAgICAgICAgb2xkZXN0OiB0aGlzLmdldFRleHQoJ29sZGVzdCcpLFxyXG4gICAgICAgICAgICBtb3N0X3ZvdGVkOiB0aGlzLmdldFRleHQoJ21vc3Rfdm90ZWQnKSxcclxuICAgICAgICAgICAgcmF0aW5nczogdGhpcy5nZXRUZXh0KCdyYXRpbmdzJyksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRpdlNvcnQuY2xhc3NOYW1lID0gJ2dpZy1jb21tZW50cy1jb250YWluZXIgZ2lnLWNvbW1lbnRzLXNvcnRib3gnO1xyXG5cclxuICAgICAgICB2YXIgYXJTb3J0SXRlbXMgPSBkaXZTb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaScpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJTb3J0SXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHNvcnRJdGVtID0gYXJTb3J0SXRlbXNbaV0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHZhciBzb3J0ID0gc29ydEl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXNvcnQnKTtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkU29ydCA9IHRoaXMucGFyYW1zWydzb3J0J107XHJcbiAgICAgICAgICAgIGlmIChzb3J0ID09IHNlbGVjdGVkU29ydCB8fCAoIXNlbGVjdGVkU29ydCAmJiBzb3J0ID09IHRoaXMuc2V0dGluZ3Muc29ydEJ5KSkge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KHNvcnRJdGVtLCAnZ2lnLWNvbW1lbnRzLXNvcnRib3gtc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudGV4dE1vZGUgIT0gVGV4dE1vZGUuUkVWSUVXUyAmJiBzb3J0LmluZGV4T2YoJ3JhdGluZycpID09IDApIHtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVFbGVtZW50KHNvcnRJdGVtKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRCdXR0b25TdWJtaXRMaXN0ZW5lcihzb3J0SXRlbSwgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc29ydCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc29ydCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBFcmFzZSB0aGUgcGlubmVkQ29tbWVudCBhZnRlciB0aGUgdXNlciBjbGlja2VkIG9uIHNvcnRcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJhbXNbJ3Bpbm5lZENvbW1lbnRJRCddKSBkZWxldGUgdGhpcy5wYXJhbXNbJ3Bpbm5lZENvbW1lbnRJRCddO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc29ydCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXZTb3J0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGl2U29ydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zWydzb3J0J10gPSBzb3J0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERlZmF1bHRTb3J0KHNvcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVTdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hDb21tZW50cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYXBwZW5kVG9Cb2R5KGRpdlNvcnQpO1xyXG4gICAgICAgIGRpdlNvcnQuc3R5bGUubGVmdCA9IHBvcy5sZWZ0IC0gZGl2U29ydC5vZmZzZXRXaWR0aCArIDMwICsgJ3B4JztcclxuICAgICAgICBkaXZTb3J0LnN0eWxlLnRvcCA9IHBvcy50b3AgKyBvcGVuZXIub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcclxuXHJcbiAgICAgICAgZ2lneWEucGx1Z2luVXRpbHMuYW5pbWF0aW9uLmZhZGVJbihkaXZTb3J0KTtcclxuICAgICAgICBnaWd5YS5wbHVnaW5VdGlscy5ET00ucmVtb3ZlRWxlbWVudE9uRG9jQ2xpY2tPckVzY2FwZShkaXZTb3J0LCAoZTogRXZlbnQsIHdhc09wZW46IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgaWYgKHdhc09wZW4pIHtcclxuICAgICAgICAgICAgICAgIEV2ZW50cy5jYW5jZWxFdmVudChlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERlZmF1bHRTb3J0KHNvcnQ6IHN0cmluZykge1xyXG4gICAgICAgIGdpZ3lhLnV0aWxzLmNvb2tpZS5zZXQoJ19naWdfY29tbWVudHNfc29ydCcsIHNvcnQpO1xyXG4gICAgfVxyXG4gICAgZ2V0RGVmYXVsdFNvcnQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gZ2lneWEudXRpbHMuY29va2llLmdldCgnX2dpZ19jb21tZW50c19zb3J0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0RpYWxvZyhcclxuICAgICAgICBjYXB0aW9uOiBzdHJpbmcsXHJcbiAgICAgICAgYm9keTogc3RyaW5nLFxyXG4gICAgICAgIG9rQnV0dG9uVGV4dD86IHN0cmluZyxcclxuICAgICAgICBvbk9rPzogKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpID0+IHZvaWQsXHJcbiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dD86IHN0cmluZyxcclxuICAgICAgICBvbkNhbmNlbD86IChjb250YWluZXI6IEhUTUxFbGVtZW50KSA9PiB2b2lkLFxyXG4gICAgKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIC8vIElmIGFub3RoZXIgZGlhbG9nIGlzIG9wZW4sIGNhbmNlbCBpdCBmaXJzdC5cclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVEaWFsb2cpIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVEaWFsb2cuY2FuY2VsSGFuZGxlcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZGlhbG9nRWwgPSBnaWd5YS51dGlscy5ET00uY3JlYXRlVG9wTGV2ZWxEaXYoKTtcclxuICAgICAgICBkaWFsb2dFbC5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XHJcbiAgICAgICAgZGlhbG9nRWwuY2xhc3NOYW1lID0gdGhpcy5jb250YWluZXIuY2xhc3NOYW1lO1xyXG4gICAgICAgIGRpYWxvZ0VsLmlubmVySFRNTCA9IHRoaXMudGVtcGxhdGVzWydkaWFsb2cnXTtcclxuXHJcbiAgICAgICAgY29uc3QgZGlhbG9nQ2FwdGlvbkVsID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhkaWFsb2dFbCwgJ2dpZy1jb21tZW50cy1kaWFsb2ctY2FwdGlvbicpWzBdIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IGRpYWxvZ0JvZHlFbCA9IGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50c0J5Q2xhc3MoZGlhbG9nRWwsICdnaWctY29tbWVudHMtZGlhbG9nLWJvZHknKVswXSBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHJcbiAgICAgICAgZGlhbG9nQ2FwdGlvbkVsLmlubmVySFRNTCA9IGNhcHRpb247XHJcbiAgICAgICAgZGlhbG9nQm9keUVsLmlubmVySFRNTCA9IGJvZHk7XHJcblxyXG4gICAgICAgIC8vIFVuaXF1ZSBJRCBvbiBjYXB0aW9uIHNvIGl0IGNhbiBiZSB1c2VkIGFzIGxhYmVsIGZvciBkaWFsb2cuXHJcbiAgICAgICAgZGlhbG9nQ2FwdGlvbkVsLnNldEF0dHJpYnV0ZSgnaWQnLCAnZ2lnLWNvbW1lbnRzLWRpYWxvZy1jYXB0aW9uLScgKyB0aGlzLmNvbnRhaW5lcklEKTtcclxuXHJcbiAgICAgICAgLy8gRGlhbG9nIG11c3QgYmUgZm9jdXNhYmxlIGFuZCBtYXJrZWQgYXMgZGlhbG9nIGZvciBXQ0FHLlxyXG4gICAgICAgIGRpYWxvZ0VsLnNldEF0dHJpYnV0ZSgncm9sZScsICdkaWFsb2cnKTtcclxuICAgICAgICBkaWFsb2dFbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XHJcbiAgICAgICAgZGlhbG9nRWwuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknLCBkaWFsb2dDYXB0aW9uRWwuaWQpO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBtYWtlIHRoZSBzdHlsZSBpbnNpZGUgdGhlIENTUyBpcyBub3Qgb3B0aW9uYWwgYmVjYXVzZSBpdCBiZWVuIG92ZXJyaWRlZCBieSBvdGhlciBwbHVnaW5zIENTUy5cclxuICAgICAgICBjb25zdCByZW1vdmVEaWFsb2cgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVFdmVudExpc3RlbmVyKGRvY3VtZW50LCAna2V5ZG93bicsIGZuRXNjUHJlc3MpO1xyXG4gICAgICAgICAgICBpZiAoZGlhbG9nRWwucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nRWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaWFsb2dFbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVEaWFsb2cgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBmbk9uQ2FuY2VsID0gKCkgPT4ge1xyXG4gICAgICAgICAgICByZW1vdmVEaWFsb2coKTtcclxuICAgICAgICAgICAgaWYgKG9uQ2FuY2VsKSB7XHJcbiAgICAgICAgICAgICAgICBvbkNhbmNlbChkaWFsb2dFbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGZuT25PayA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmVtb3ZlRGlhbG9nKCk7XHJcbiAgICAgICAgICAgIGlmIChvbk9rKSB7XHJcbiAgICAgICAgICAgICAgICBvbk9rKGRpYWxvZ0VsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgZWxDbG9zZSA9IGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50c0J5Q2xhc3MoZGlhbG9nRWwsICdnaWctY29tbWVudHMtZGlhbG9nLWNsb3NlJylbMF07XHJcbiAgICAgICAgaWYgKGVsQ2xvc2UpIHtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEJ1dHRvblN1Ym1pdExpc3RlbmVyKGVsQ2xvc2UsIGZuT25DYW5jZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBlbE9rID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhkaWFsb2dFbCwgJ2dpZy1jb21tZW50cy1kaWFsb2ctYnV0dG9uLW9rJylbMF07XHJcbiAgICAgICAgaWYgKGVsT2spIHtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEJ1dHRvblN1Ym1pdExpc3RlbmVyKGVsT2ssIGZuT25Payk7XHJcbiAgICAgICAgICAgIGlmIChva0J1dHRvblRleHQpIHtcclxuICAgICAgICAgICAgICAgIGVsT2suaW5uZXJIVE1MID0gb2tCdXR0b25UZXh0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxPay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVsQ2FuY2VsID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhkaWFsb2dFbCwgJ2dpZy1jb21tZW50cy1kaWFsb2ctYnV0dG9uLWNhbmNlbCcpWzBdO1xyXG4gICAgICAgIGlmIChlbENhbmNlbCkge1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIoZWxDYW5jZWwsIGZuT25DYW5jZWwpO1xyXG4gICAgICAgICAgICBpZiAoY2FuY2VsQnV0dG9uVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgZWxDYW5jZWwuaW5uZXJIVE1MID0gY2FuY2VsQnV0dG9uVGV4dDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsQ2FuY2VsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbmNlbCBkaWFsb2cgYXV0b21hdGljYWxseSB3aGVuIGVzY2FwZSBrZXkgaXMgcHJlc3NlZC5cclxuICAgICAgICBjb25zdCBmbkVzY1ByZXNzID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKChlLndoaWNoIHx8IGUua2V5Q29kZSkgPT0gMjcpIHtcclxuICAgICAgICAgICAgICAgIC8vIEVzY2FwZSBrZXlcclxuICAgICAgICAgICAgICAgIGZuT25DYW5jZWwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICdrZXlkb3duJywgZm5Fc2NQcmVzcyk7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCBkaWFsb2cgdG8gRE9NIGFuZCBwb3NpdGlvbi5cclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYXBwZW5kVG9Cb2R5KGRpYWxvZ0VsKTtcclxuICAgICAgICBjb25zdCB2cCA9IGdpZ3lhLnV0aWxzLnZpZXdwb3J0LmdldElubmVyU2l6ZSgpO1xyXG4gICAgICAgIGNvbnN0IHZwdyA9IHZwLnc7XHJcbiAgICAgICAgY29uc3QgdnBoID0gdnAuaDtcclxuICAgICAgICBkaWFsb2dFbC5zdHlsZS50b3AgPSAnJyArIE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKHZwaCAtIGRpYWxvZ0VsLm9mZnNldEhlaWdodCkgLyAyKSkgKyAncHgnO1xyXG4gICAgICAgIGRpYWxvZ0VsLnN0eWxlLmxlZnQgPSAnJyArIE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKHZwdyAtIGRpYWxvZ0VsLm9mZnNldFdpZHRoKSAvIDIpKSArICdweCc7XHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlRGlhbG9nID0ge1xyXG4gICAgICAgICAgICBlbDogZGlhbG9nRWwsXHJcbiAgICAgICAgICAgIG9rSGFuZGxlcjogZm5Pbk9rLFxyXG4gICAgICAgICAgICBjYW5jZWxIYW5kbGVyOiBmbk9uQ2FuY2VsLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEZvY3VzIGRpYWxvZy5cclxuICAgICAgICBkaWFsb2dFbC5mb2N1cygpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGlhbG9nRWw7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U3RyZWFtSW5mb0lmTmVlZGVkKGV2ZW50PzogRXZlbnQsIHJlZGlyZWN0VVJMPzogc3RyaW5nLCBjYWxsYmFjaz86ICgpID0+IHZvaWQpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgc3RyZWFtVGl0bGUgPSB0aGlzLnBhcmFtc1snc3RyZWFtVGl0bGUnXTtcclxuICAgICAgICBpZiAoIXN0cmVhbVRpdGxlKSBzdHJlYW1UaXRsZSA9IGRvY3VtZW50LnRpdGxlO1xyXG4gICAgICAgIGlmICghc3RyZWFtVGl0bGUgfHwgc3RyZWFtVGl0bGUgPT0gJycpIHN0cmVhbVRpdGxlID0gJ1NpdGUnO1xyXG4gICAgICAgIHZhciBzdHJlYW1VUkwgPSB0aGlzLnBhcmFtc1snc3RyZWFtVVJMJ107XHJcbiAgICAgICAgaWYgKCFzdHJlYW1VUkwpIHN0cmVhbVVSTCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgIXRoaXMuc3RyZWFtSW5mby5zdHJlYW1VUkwgfHxcclxuICAgICAgICAgICAgKHRoaXMucGFyYW1zWydzdHJlYW1JbmZvU2lnJ10gJiYgKHN0cmVhbVRpdGxlICE9IHRoaXMuc3RyZWFtSW5mby5zdHJlYW1UaXRsZSB8fCBzdHJlYW1VUkwgIT0gdGhpcy5zdHJlYW1JbmZvLnN0cmVhbVVSTCkpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLmNvbW1lbnRzLnNldFN0cmVhbUluZm8odGhpcy5wYXJhbXMsIHtcclxuICAgICAgICAgICAgICAgIHN0cmVhbVRpdGxlOiBzdHJlYW1UaXRsZSxcclxuICAgICAgICAgICAgICAgIHN0cmVhbVVSTDogc3RyZWFtVVJMLFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbUluZm8uc3RyZWFtVGl0bGUgPSBzdHJlYW1UaXRsZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbUluZm8uc3RyZWFtVVJMID0gc3RyZWFtVVJMO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWRpcmVjdFVSTCkgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IHJlZGlyZWN0VVJMO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9zdG9wIGN1cnJlbnQgbmF2aWdhdGlvblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIEV2ZW50cy5jYW5jZWxFdmVudChldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBidWlsZE1lZGlhSXRlbUVsZW1lbnQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgbWVkaWFJdGVtOiBNZWRpYUl0ZW0sIHByZXZpZXc/OiBib29sZWFuLCBmbk9uQ2FuY2VsPzogKCkgPT4gYW55KSB7XHJcbiAgICAgICAgdmFyIGVsTWVkaWFJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsTWVkaWFJdGVtKTtcclxuICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJyc7XHJcblxyXG4gICAgICAgIGVsTWVkaWFJdGVtLmlubmVySFRNTCA9IGdpZ3lhLnV0aWxzLnRlbXBsYXRlcy5maWxsKHRoaXMudGVtcGxhdGVzWydtZWRpYUl0ZW0nXSwge1xyXG4gICAgICAgICAgICBkaXNwbGF5VXJsOiBtZWRpYUl0ZW0udXJsLFxyXG4gICAgICAgICAgICB1cmw6IG1lZGlhSXRlbS51cmwsXHJcbiAgICAgICAgICAgIGNhcHRpb246IG1lZGlhSXRlbS50aXRsZSA/IG1lZGlhSXRlbS50aXRsZSA6IG1lZGlhSXRlbS5kZXNjcmlwdGlvbiA/IG1lZGlhSXRlbS5kZXNjcmlwdGlvbiA6ICcnLFxyXG4gICAgICAgICAgICBwcm92aWRlckljb246IEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdtZWRpYVByb3ZpZGVycy8nICsgbWVkaWFJdGVtLnByb3ZpZGVyLnRvTG93ZXJDYXNlKCksIHRoaXMucGl4ZWxSYXRpbyksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBlbFRodW1iID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhlbE1lZGlhSXRlbSwgJ2dpZy1tZWRpYS10aHVtYm5haWwnKVswXTtcclxuICAgICAgICB2YXIgZWxDYXB0aW9uID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhlbE1lZGlhSXRlbSwgJ2dpZy1tZWRpYS1jYXB0aW9uJylbMF07XHJcbiAgICAgICAgdmFyIGVsSW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxJbWFnZSwgJ2dpZy1tZWRpYS10aHVtYm5haWwtaW1hZ2UnKTtcclxuXHJcbiAgICAgICAgdmFyIGNvbnRhaW5lcldpZHRoID0gZWxUaHVtYi5vZmZzZXRXaWR0aDtcclxuICAgICAgICB2YXIgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyV2lkdGggKiAwLjc1IC0gZWxDYXB0aW9uLm9mZnNldEhlaWdodDtcclxuICAgICAgICB2YXIgdGh1bWJIZWlnaHQgPSBtZWRpYUl0ZW0udGh1bWJuYWlsSGVpZ2h0O1xyXG4gICAgICAgIHZhciB0aHVtYldpZHRoID0gbWVkaWFJdGVtLnRodW1ibmFpbFdpZHRoO1xyXG5cclxuICAgICAgICBpZiAobWVkaWFJdGVtLnR5cGUudG9Mb3dlckNhc2UoKSA9PSAnaW1hZ2UnICYmIG1lZGlhSXRlbS50aHVtYm5haWxXaWR0aCA8IGNvbnRhaW5lcldpZHRoICogMC43KSB7XHJcbiAgICAgICAgICAgIHRodW1iSGVpZ2h0ID0gbWVkaWFJdGVtLmhlaWdodDtcclxuICAgICAgICAgICAgdGh1bWJXaWR0aCA9IG1lZGlhSXRlbS53aWR0aDtcclxuICAgICAgICAgICAgZWxJbWFnZS5zcmMgPSBnaWd5YS5nbG9iYWwuZ2V0UGhvdG9VUkwobWVkaWFJdGVtLnBob3RvVXJsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbEltYWdlLnNyYyA9IGdpZ3lhLmdsb2JhbC5nZXRQaG90b1VSTChtZWRpYUl0ZW0udGh1bWJuYWlsVXJsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aHVtYkhlaWdodCA+IGNvbnRhaW5lckhlaWdodCkge1xyXG4gICAgICAgICAgICB2YXIgZmFjdG9yID0gY29udGFpbmVySGVpZ2h0IC8gdGh1bWJIZWlnaHQ7XHJcbiAgICAgICAgICAgIHRodW1iSGVpZ2h0ID0gdGh1bWJIZWlnaHQgKiBmYWN0b3I7XHJcbiAgICAgICAgICAgIHRodW1iV2lkdGggPSB0aHVtYldpZHRoICogZmFjdG9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRodW1iV2lkdGggPiBjb250YWluZXJXaWR0aCkge1xyXG4gICAgICAgICAgICB2YXIgZmFjdG9yID0gY29udGFpbmVyV2lkdGggLyB0aHVtYldpZHRoO1xyXG4gICAgICAgICAgICB0aHVtYkhlaWdodCA9IHRodW1iSGVpZ2h0ICogZmFjdG9yO1xyXG4gICAgICAgICAgICB0aHVtYldpZHRoID0gdGh1bWJXaWR0aCAqIGZhY3RvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aHVtYkhlaWdodCA8IGNvbnRhaW5lckhlaWdodCkge1xyXG4gICAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSB0aHVtYkhlaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0aHVtYk1hcmdpbiA9IHByZXZpZXcgPyAoY29udGFpbmVyV2lkdGggLSB0aHVtYldpZHRoKSAvIDIgOiAwO1xyXG4gICAgICAgIGVsSW1hZ2Uuc3R5bGUud2lkdGggPSB0aHVtYldpZHRoICsgJ3B4JztcclxuICAgICAgICBlbEltYWdlLnN0eWxlLmhlaWdodCA9IHRodW1iSGVpZ2h0ICsgJ3B4JztcclxuICAgICAgICBlbEltYWdlLnN0eWxlLm1hcmdpblJpZ2h0ID0gdGh1bWJNYXJnaW4gKyAncHgnO1xyXG4gICAgICAgIGVsSW1hZ2Uuc3R5bGUubWFyZ2luTGVmdCA9IHRodW1iTWFyZ2luICsgJ3B4JztcclxuXHJcbiAgICAgICAgZWxUaHVtYi5zdHlsZS5oZWlnaHQgPSBjb250YWluZXJIZWlnaHQgKyAncHgnO1xyXG5cclxuICAgICAgICB2YXIgZWxPdmVybGF5ID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhlbE1lZGlhSXRlbSwgJ2dpZy1tZWRpYS1vdmVybGF5JylbMF07XHJcbiAgICAgICAgaWYgKGVsT3ZlcmxheSkge1xyXG4gICAgICAgICAgICBlbE92ZXJsYXkuc3R5bGUudG9wID0gLWNvbnRhaW5lckhlaWdodCArICdweCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWVkaWFJdGVtLnR5cGUudG9Mb3dlckNhc2UoKSA9PSAncmljaCcgfHwgbWVkaWFJdGVtLnR5cGUudG9Mb3dlckNhc2UoKSA9PSAndmlkZW8nKSB7XHJcbiAgICAgICAgICAgIHZhciBlbFBsYXkgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGVsTWVkaWFJdGVtLCAnZ2lnLW1lZGlhLXBsYXknKVswXTtcclxuICAgICAgICAgICAgaWYgKGVsUGxheSkge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWxJbWFnZSwgJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxQbGF5LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwbGF5TWFyZ2luVG9wID0gKHRodW1iSGVpZ2h0IC0gZWxQbGF5Lm9mZnNldEhlaWdodCkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwbGF5TWFyZ2luID0gdGh1bWJNYXJnaW4gKyAodGh1bWJXaWR0aCAtIGVsUGxheS5vZmZzZXRXaWR0aCkgLyAyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNSdGwpIGVsUGxheS5zdHlsZS5sZWZ0ID0gcGxheU1hcmdpbiArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBlbFBsYXkuc3R5bGUucmlnaHQgPSBwbGF5TWFyZ2luICsgJ3B4JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZWxQbGF5LnN0eWxlLnRvcCA9IHBsYXlNYXJnaW5Ub3AgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRCdXR0b25TdWJtaXRMaXN0ZW5lcihlbFBsYXksICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5TWVkaWFJdGVtKG1lZGlhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVsSW1hZ2Uuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIoZWxJbWFnZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgd2luZG93Lm9wZW4obWVkaWFJdGVtLnVybCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGVsQ2FuY2VsID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhlbE1lZGlhSXRlbSwgJ2dpZy1tZWRpYS1jYW5jZWwnKVswXTtcclxuICAgICAgICBpZiAoZWxDYW5jZWwpIHtcclxuICAgICAgICAgICAgaWYgKHByZXZpZXcgJiYgZm5PbkNhbmNlbCkge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEJ1dHRvblN1Ym1pdExpc3RlbmVyKGVsQ2FuY2VsLCBmbk9uQ2FuY2VsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsQ2FuY2VsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsVGh1bWIuYXBwZW5kQ2hpbGQoZWxJbWFnZSk7XHJcbiAgICAgICAgcmV0dXJuIGVsTWVkaWFJdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXlNZWRpYUl0ZW0obWVkaWFJdGVtKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNNb2JpbGVVSSkge1xyXG4gICAgICAgICAgICB3aW5kb3cub3BlbihtZWRpYUl0ZW0udXJsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgb3ZlcmZsb3cgPSBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93O1xyXG5cclxuICAgICAgICAgICAgdmFyIGVsRGltID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGVsRGltLmNsYXNzTmFtZSA9ICdnaWctY29tbWVudHMtbWVkaWFwbGF5ZXItZGltbWVyJztcclxuICAgICAgICAgICAgZWxEaW0uc3R5bGUuekluZGV4ID0gZ2lneWEudXRpbHMuRE9NLmdldE5leHRaSW5kZXgoKSArICcnO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYXBwZW5kVG9Cb2R5KGVsRGltKTtcclxuICAgICAgICAgICAgZ2lneWEucGx1Z2luVXRpbHMuYW5pbWF0aW9uLmZhZGVJbihlbERpbSwgMC44KTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVsUGxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGVsUGxheWVyLmNsYXNzTmFtZSA9ICdnaWctY29tbWVudHMtbWVkaWFwbGF5ZXInO1xyXG4gICAgICAgICAgICBlbFBsYXllci5pbm5lckhUTUwgPSBnaWd5YS51dGlscy50ZW1wbGF0ZXMuZmlsbCh0aGlzLnRlbXBsYXRlc1snbWVkaWFJdGVtUGxheWVyJ10sIHtcclxuICAgICAgICAgICAgICAgIHBsYXllckhlaWdodDogbWVkaWFJdGVtLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHBsYXllckhUTUw6IG1lZGlhSXRlbS5odG1sLFxyXG4gICAgICAgICAgICAgICAgY2FwdGlvbjogbWVkaWFJdGVtLnRpdGxlID8gbWVkaWFJdGVtLnRpdGxlIDogJycsXHJcbiAgICAgICAgICAgICAgICBwcm92aWRlckljb246IEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdtZWRpYVByb3ZpZGVycy8nICsgbWVkaWFJdGVtLnByb3ZpZGVyLnRvTG93ZXJDYXNlKCksIHRoaXMucGl4ZWxSYXRpbyksXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZWxQbGF5ZXIuc3R5bGUuekluZGV4ID0gZ2lneWEudXRpbHMuRE9NLmdldE5leHRaSW5kZXgoKSArICcnO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYXBwZW5kVG9Cb2R5KGVsUGxheWVyKTtcclxuICAgICAgICAgICAgZ2lneWEucGx1Z2luVXRpbHMuYW5pbWF0aW9uLmZhZGVJbihlbFBsYXllcik7XHJcbiAgICAgICAgICAgIGVsUGxheWVyLnN0eWxlLm1hcmdpbkxlZnQgPSAtZWxQbGF5ZXIub2Zmc2V0V2lkdGggLyAyICsgJ3B4JztcclxuICAgICAgICAgICAgZWxQbGF5ZXIuc3R5bGUubWFyZ2luVG9wID0gLWVsUGxheWVyLm9mZnNldEhlaWdodCAvIDIgKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgdmFyIGZuSGlkZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBvdmVyZmxvdztcclxuICAgICAgICAgICAgICAgIGVsRGltLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxEaW0pO1xyXG4gICAgICAgICAgICAgICAgZWxQbGF5ZXIucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbFBsYXllcik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgZWxDYW5jZWwgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGVsUGxheWVyLCAnZ2lnLW1lZGlhLWNhbmNlbCcpWzBdO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIoZWxEaW0sIGZuSGlkZSk7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRCdXR0b25TdWJtaXRMaXN0ZW5lcihlbENhbmNlbCwgZm5IaWRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlVXNlckJhZGdlcyhjb250YWluZXJFbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGlmICghY29udGFpbmVyRWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgZWxlbWVudHMgPSBjb250YWluZXJFbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2dpZy1jb21tZW50LXVzZXJCYWRnZScpO1xyXG4gICAgICAgIHdoaWxlIChlbGVtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnRzWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudHNbMF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBidWlsZEhpZ2hsaWdodHNDc3MoKSB7XHJcbiAgICAgICAgdmFyIGZpbmFsQ3NzID0gJyc7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzIHx8ICF0aGlzLnNldHRpbmdzLmhpZ2hsaWdodEdyb3Vwc1NldHRpbmdzKSByZXR1cm47XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZXR0aW5ncy5oaWdobGlnaHRHcm91cHNTZXR0aW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZ3JvdXA6IEhpZ2hsaWdodEdyb3VwID0gdGhpcy5zZXR0aW5ncy5oaWdobGlnaHRHcm91cHNTZXR0aW5nc1tpXTtcclxuICAgICAgICAgICAgaWYgKGdyb3VwLmNzc1J1bGUpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgZ3JvdXAuY2xhc3NOYW1lID0gJ2dpZy1iYWRnZS0nICsgZ3JvdXAubmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBncm91cC5jb21tZW50Q2xhc3NOYW1lID0gJ2dpZy1jb21tZW50LWJhZGdlLScgKyBncm91cC5uYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIGdyb3VwLnVzZXJDbGFzc05hbWUgPSAnZ2lnLWNvbW1lbnQtdXNlcm5hbWUtYmFkZ2UtJyArIGdyb3VwLm5hbWUudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kSW1hZ2VSdWxlID0gJyc7XHJcbiAgICAgICAgICAgIGlmIChncm91cC5iYWRnZUltYWdlVVJMKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmFkZ2VJbWFnZUZ1bGxVUkwgPVxyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLmJhZGdlSW1hZ2VVUkwgPT0gJ2h0dHBzOi8vY2Rucy5naWd5YS5jb20vZ3MvaS9jb21tZW50czIvZWRpdG9yc19waWNrLnBuZydcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnZWRpdG9yc19waWNrJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBnaWd5YS5nbG9iYWwuZ2V0UGhvdG9VUkwoZ3JvdXAuYmFkZ2VJbWFnZVVSTCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlUnVsZSA9ICdiYWNrZ3JvdW5kLWltYWdlOnVybCgnICsgYmFkZ2VJbWFnZUZ1bGxVUkwgKyAnKTsgYmFja2dyb3VuZC1zaXplOiAxN3B4IDE3cHg7JztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZ3JvdXAuY3NzUnVsZSA9XHJcbiAgICAgICAgICAgICAgICAnLmdpZy1jb21tZW50cy1jb250YWluZXIgKi4nICtcclxuICAgICAgICAgICAgICAgIGdyb3VwLmNsYXNzTmFtZSArXHJcbiAgICAgICAgICAgICAgICAnIHtjb2xvcjonICtcclxuICAgICAgICAgICAgICAgIGdyb3VwLmJhZGdlQ29sb3IgK1xyXG4gICAgICAgICAgICAgICAgJzsnICtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZVJ1bGUgK1xyXG4gICAgICAgICAgICAgICAgJ30gJyArXHJcbiAgICAgICAgICAgICAgICAnLmdpZy1jb21tZW50cy1jb250YWluZXIgKi4nICtcclxuICAgICAgICAgICAgICAgIGdyb3VwLmNsYXNzTmFtZSArXHJcbiAgICAgICAgICAgICAgICAnLmdpZy1iYWRnZS1ib3JkZXIge2JvcmRlci1jb2xvcjonICtcclxuICAgICAgICAgICAgICAgIGdyb3VwLmJhZGdlQ29sb3IgK1xyXG4gICAgICAgICAgICAgICAgJzt9ICc7XHJcblxyXG4gICAgICAgICAgICAvLyBCYWNrZ3JvdW5kIGNvbG9yIGZvciBoaWdobGlnaHRlZCBjb21tZW50c1xyXG4gICAgICAgICAgICBpZiAoZ3JvdXAuY29tbWVudEJhY2tncm91bmRDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgZ3JvdXAuY3NzUnVsZSArPSAnLmdpZy1jb21tZW50cy1jb250YWluZXIgKi4nICsgZ3JvdXAuY29tbWVudENsYXNzTmFtZSArICcge2JhY2tncm91bmQtY29sb3I6JyArIGdyb3VwLmNvbW1lbnRCYWNrZ3JvdW5kQ29sb3IgKyAnO30gJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVXNlcm5hbWUgY29sb3JpbmdcclxuICAgICAgICAgICAgaWYgKGdyb3VwLmNvbW1lbnRlck5hbWVDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgZ3JvdXAuY3NzUnVsZSArPSAnLmdpZy1jb21tZW50cy1jb250YWluZXIgKi4nICsgZ3JvdXAudXNlckNsYXNzTmFtZSArICcge2NvbG9yOicgKyBncm91cC5jb21tZW50ZXJOYW1lQ29sb3IgKyAnO30gJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZmluYWxDc3MgKz0gZ3JvdXAuY3NzUnVsZSArICcgJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdpZ3lhLl8ucGx1Z2lucy51dGlscy5jc3MuYWRkQ3NzKGZpbmFsQ3NzLCB0aGlzLnBhcmFtc1snY3NzUHJlZml4J10pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRIaWdobGlnaHRpbmdCYWRnZXMoZ3JvdXBzOiBzdHJpbmdbXSwgdHlwZXM/OiBzdHJpbmdbXSkge1xyXG4gICAgICAgIGlmICghZ3JvdXBzKSByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciBvdXRwdXQgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNldHRpbmdzLmhpZ2hsaWdodEdyb3Vwc1NldHRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBncm91cCA9IHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0R3JvdXBzU2V0dGluZ3NbaV07XHJcbiAgICAgICAgICAgIGlmIChncm91cC5lbmFibGVkICYmIGdyb3Vwcy5pbmRleE9mKGdyb3VwLm5hbWUpICE9IC0xICYmICghdHlwZXMgfHwgdHlwZXMuaW5kZXhPZihncm91cC50eXBlKSAhPSAtMSkpIG91dHB1dC5wdXNoKGdyb3VwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaW1nQmFzZSB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvSW1nQmFzZSc7XHJcbmV4cG9ydCBjbGFzcyBTZWxlY3Rpb24ge1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRTZWxlY3Rpb24oY29udGFpbmVyRWwpIHtcclxuICAgICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbiAmJiBkb2N1bWVudC5jcmVhdGVSYW5nZSkge1xyXG4gICAgICAgICAgICBjb250YWluZXJFbC5ub3JtYWxpemUoKTtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gd2luZG93LmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdG9wQ29udGFpbmVyUmFuZ2UgPSByYW5nZS5jbG9uZVJhbmdlKCk7XHJcbiAgICAgICAgICAgIHRvcENvbnRhaW5lclJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhjb250YWluZXJFbCk7XHJcbiAgICAgICAgICAgIHRvcENvbnRhaW5lclJhbmdlLnNldEVuZChyYW5nZS5zdGFydENvbnRhaW5lciwgcmFuZ2Uuc3RhcnRPZmZzZXQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxvY2FsQ29udGFpbmVyUmFuZ2UgPSByYW5nZS5jbG9uZVJhbmdlKCk7XHJcbiAgICAgICAgICAgIGxvY2FsQ29udGFpbmVyUmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKHJhbmdlLnN0YXJ0Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgbG9jYWxDb250YWluZXJSYW5nZS5zZXRFbmQocmFuZ2Uuc3RhcnRDb250YWluZXIsIHJhbmdlLnN0YXJ0T2Zmc2V0KTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0ZXh0OiBzdHJpbmcgPSB0b3BDb250YWluZXJSYW5nZS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICB2YXIgbG9jYWxUZXh0OiBzdHJpbmcgPSBsb2NhbENvbnRhaW5lclJhbmdlLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQ6IHRleHQubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgZW5kOiB0ZXh0Lmxlbmd0aCArIHJhbmdlLnRvU3RyaW5nKCkubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICAgICAgICAgIGNoaWxkQ29udGFpbmVyOiBsb2NhbENvbnRhaW5lclJhbmdlLnN0YXJ0Q29udGFpbmVyLFxyXG4gICAgICAgICAgICAgICAgY2hpbGRPZmZzZXQ6IGxvY2FsVGV4dC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBjaGlsZFRleHQ6IGxvY2FsVGV4dCxcclxuICAgICAgICAgICAgfSBhcyBhbnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkb2N1bWVudFsnc2VsZWN0aW9uJ10gJiYgKGRvY3VtZW50LmJvZHkgYXMgYW55KS5jcmVhdGVUZXh0UmFuZ2UpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkVGV4dFJhbmdlID0gZG9jdW1lbnRbJ3NlbGVjdGlvbiddLmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgICAgIHZhciBwcmVTZWxlY3Rpb25UZXh0UmFuZ2UgPSAoZG9jdW1lbnQuYm9keSBhcyBhbnkpLmNyZWF0ZVRleHRSYW5nZSgpO1xyXG4gICAgICAgICAgICBwcmVTZWxlY3Rpb25UZXh0UmFuZ2UubW92ZVRvRWxlbWVudFRleHQoY29udGFpbmVyRWwpO1xyXG4gICAgICAgICAgICBwcmVTZWxlY3Rpb25UZXh0UmFuZ2Uuc2V0RW5kUG9pbnQoJ0VuZFRvU3RhcnQnLCBzZWxlY3RlZFRleHRSYW5nZSk7XHJcbiAgICAgICAgICAgIHZhciBzdGFydDogbnVtYmVyID0gcHJlU2VsZWN0aW9uVGV4dFJhbmdlLnRleHQubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcclxuICAgICAgICAgICAgICAgIGVuZDogc3RhcnQgKyBzZWxlY3RlZFRleHRSYW5nZS50ZXh0Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHRleHQ6IHByZVNlbGVjdGlvblRleHRSYW5nZS50ZXh0LFxyXG4gICAgICAgICAgICAgICAgY2hpbGRDb250YWluZXI6IHJhbmdlLmVuZENvbnRhaW5lcixcclxuICAgICAgICAgICAgICAgIGVuZEluQ2hpbGRDb250YWluZXI6IDAsXHJcbiAgICAgICAgICAgICAgICBjaGlsZFRleHQ6IHJhbmdlLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIH0gYXMgYW55O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlc3RvcmVTZWxlY3Rpb24oY29udGFpbmVyRWwsIHNhdmVkU2VsKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24gJiYgZG9jdW1lbnQuY3JlYXRlUmFuZ2UpIHtcclxuICAgICAgICAgICAgdmFyIGNoYXJJbmRleCA9IDAsXHJcbiAgICAgICAgICAgICAgICByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGNvbnRhaW5lckVsLCAwKTtcclxuICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciBub2RlU3RhY2sgPSBbY29udGFpbmVyRWxdLFxyXG4gICAgICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgICAgIGZvdW5kU3RhcnQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN0b3AgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlICghc3RvcCAmJiAobm9kZSA9IG5vZGVTdGFjay5wb3AoKSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dENoYXJJbmRleCA9IGNoYXJJbmRleCArIG5vZGUubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZm91bmRTdGFydCAmJiBzYXZlZFNlbC5zdGFydCA+PSBjaGFySW5kZXggJiYgc2F2ZWRTZWwuc3RhcnQgPD0gbmV4dENoYXJJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChub2RlLCBzYXZlZFNlbC5zdGFydCAtIGNoYXJJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kU3RhcnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRTdGFydCAmJiBzYXZlZFNlbC5lbmQgPj0gY2hhckluZGV4ICYmIHNhdmVkU2VsLmVuZCA8PSBuZXh0Q2hhckluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChub2RlLCBzYXZlZFNlbC5lbmQgLSBjaGFySW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhckluZGV4ID0gbmV4dENoYXJJbmRleDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBub2RlLmNoaWxkTm9kZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVN0YWNrLnB1c2gobm9kZS5jaGlsZE5vZGVzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50WydzZWxlY3Rpb24nXSAmJiAoZG9jdW1lbnQuYm9keSBhcyBhbnkpLmNyZWF0ZVRleHRSYW5nZSkge1xyXG4gICAgICAgICAgICB2YXIgdGV4dFJhbmdlID0gKGRvY3VtZW50LmJvZHkgYXMgYW55KS5jcmVhdGVUZXh0UmFuZ2UoKTtcclxuICAgICAgICAgICAgdGV4dFJhbmdlLm1vdmVUb0VsZW1lbnRUZXh0KGNvbnRhaW5lckVsKTtcclxuICAgICAgICAgICAgdGV4dFJhbmdlLmNvbGxhcHNlKHRydWUpO1xyXG4gICAgICAgICAgICB0ZXh0UmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgc2F2ZWRTZWwuZW5kKTtcclxuICAgICAgICAgICAgdGV4dFJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgc2F2ZWRTZWwuc3RhcnQpO1xyXG4gICAgICAgICAgICB0ZXh0UmFuZ2Uuc2VsZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBJbWFnZXMge1xyXG4gICAgcHVibGljIHN0YXRpYyBwaXhlbFJhdGlvID0gd2luZG93WydkZXZpY2VQaXhlbFJhdGlvJ10gPyBNYXRoLm1pbihNYXRoLmNlaWwod2luZG93WydkZXZpY2VQaXhlbFJhdGlvJ10pLCAzKSA6IDE7XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFBob3RvRnVsbE5hbWUocGhvdG9OYW1lOiBzdHJpbmcsIGZvcmNlUmF0aW86IG51bWJlciA9IDAsIGV4dDogc3RyaW5nID0gJ3BuZycpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBpbWdCYXNlICsgcGhvdG9OYW1lICsgJ194JyArIChmb3JjZVJhdGlvID4gMCA/IGZvcmNlUmF0aW8gOiBJbWFnZXMucGl4ZWxSYXRpbykgKyAnLicgKyBleHQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIEV2ZW50cyB7XHJcbiAgICBwdWJsaWMgc3RhdGljIGNhbmNlbEV2ZW50KGV2ZW50OiBFdmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBVc2VyVGFnZ2luZyB7XHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZVRhZ2dlZFVzZXJFbGVtZW50KG5hbWU6IHN0cmluZywgdWlkOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgdmFyIGVsVXNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcblxyXG4gICAgICAgIGVsVXNlci50eXBlID0gJ2J1dHRvbic7XHJcbiAgICAgICAgZWxVc2VyLnZhbHVlID0gJ0AnICsgbmFtZTtcclxuICAgICAgICBlbFVzZXIuaW5uZXJIVE1MID0gbmFtZTtcclxuICAgICAgICBlbFVzZXIudGFiSW5kZXggPSAtMTtcclxuXHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KGVsVXNlciwgJ2dpZy11c2VydGFnZ2luZy10YWcnKTtcclxuICAgICAgICBpZiAodWlkKSBlbFVzZXIuc2V0QXR0cmlidXRlKCdkYXRhLWdpZy11aWQnLCB1aWQpO1xyXG5cclxuICAgICAgICByZXR1cm4gZWxVc2VyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVwbGFjZVVzZXJUYWdzV2l0aFNwYW5zKGVsQ29tbWVudDogSFRNTERpdkVsZW1lbnQsIHRhZ2dlZFVJRHM6IHN0cmluZ1tdKTogc3RyaW5nIHtcclxuICAgICAgICB2YXIgYXJyVGFnRWxlbWVudHMgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGVsQ29tbWVudCwgJ2dpZy11c2VydGFnZ2luZy10YWcnKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJUYWdFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZWxUYWdnZWRVc2VyID0gYXJyVGFnRWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgIHZhciB1aWQgPSBlbFRhZ2dlZFVzZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWdpZy11aWQnKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh1aWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChnaWd5YS51dGlscy5hcnJheS5pbmRleE9mKHRhZ2dlZFVJRHMsIHVpZCkgPT0gLTEpIHRhZ2dlZFVJRHMucHVzaCh1aWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gZWxUYWdnZWRVc2VyLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIGlmICghdGV4dCkgdGV4dCA9IGVsVGFnZ2VkVXNlci5pbm5lckhUTUw7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGVsUmVwbGFjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgICAgIGVsUmVwbGFjZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZ2lnLXVpZCcsIHVpZCk7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxSZXBsYWNlLCAnZ2lnLXVzZXJ0YWdnaW5nLXRhZycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRleHQpIGVsUmVwbGFjZS5pbm5lckhUTUwgPSB0ZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgIGVsVGFnZ2VkVXNlci5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShlbFJlcGxhY2UsIGVsVGFnZ2VkVXNlcik7XHJcbiAgICAgICAgICAgICAgICBlbFRhZ2dlZFVzZXIucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbFRhZ2dlZFVzZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZWxDb21tZW50LmlubmVySFRNTDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlcGxhY2VTcGFuc1dpdGhVc2VyVGFncyhlbENvbW1lbnQ6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIHNwYW5zID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhlbENvbW1lbnQsICdnaWctdXNlcnRhZ2dpbmctdGFnJyk7XHJcbiAgICAgICAgaWYgKCFzcGFucykgcmV0dXJuO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlbFNwYW4gPSBzcGFuc1tpXTtcclxuICAgICAgICAgICAgdmFyIHVpZCA9IGVsU3Bhbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtZ2lnLXVpZCcpO1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9IGVsU3Bhbi5pbm5lckhUTUwuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgIHZhciBlbFVzZXJUYWcgPSBVc2VyVGFnZ2luZy5jcmVhdGVUYWdnZWRVc2VyRWxlbWVudChuYW1lLCB1aWQpO1xyXG4gICAgICAgICAgICBlbFNwYW4ucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoZWxVc2VyVGFnLCBlbFNwYW4pO1xyXG4gICAgICAgICAgICBlbFNwYW4ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbFNwYW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21tZW50c1BsdWdpbiB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudHNQbHVnaW4nO1xyXG5pbXBvcnQgeyBJbWFnZXMsIEV2ZW50cyB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudHNVdGlscyc7XHJcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Byb3ZpZGVycyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29tcG9zZVNoYXJlIHtcclxuICAgIHByaXZhdGUgc2VsZWN0ZWRQcm92aWRlcnM6IE9iamVjdCA9IHt9O1xyXG4gICAgcHJpdmF0ZSBzaG93blByb3ZpZGVyczogT2JqZWN0ID0ge307XHJcbiAgICBwcml2YXRlIGRpdk1vcmU6IEhUTUxFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcml2YXRlIHBsdWdpbjogQ29tbWVudHNQbHVnaW4sIHB1YmxpYyBwcm92aWRlcnM6IFByb3ZpZGVyW10sIHByaXZhdGUgdXNlcklkZW50aXRpZXM6IE9iamVjdCA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgICAgICB0aGlzLmxvYWRTZWxlY3RlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNlbGVjdGVkKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICB2YXIgYXJQcm92aWRlcnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHRoaXMuc2VsZWN0ZWRQcm92aWRlcnMpIHtcclxuICAgICAgICAgICAgYXJQcm92aWRlcnMucHVzaChwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFyUHJvdmlkZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNQcm92aWRlckNvbm5lY3RlZChwcm92aWRlcjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlcklkZW50aXRpZXMgJiYgdGhpcy51c2VySWRlbnRpdGllc1twcm92aWRlcl0gIT0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXRVSSgpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgICAgICAgdmFyIGFyQ29ubmVjdGVkUHJvdmlkZXJzID0gW107XHJcbiAgICAgICAgdmFyIGFyTm90Q29ubmVjdGVkUHJvdmlkZXJzID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHByb3ZpZGVyID0gdGhpcy5wcm92aWRlcnNbaV07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUHJvdmlkZXJDb25uZWN0ZWQocHJvdmlkZXIubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGFyQ29ubmVjdGVkUHJvdmlkZXJzLnB1c2gocHJvdmlkZXIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXJOb3RDb25uZWN0ZWRQcm92aWRlcnMucHVzaChwcm92aWRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcm92aWRlcnMgPSBhckNvbm5lY3RlZFByb3ZpZGVycy5jb25jYXQoYXJOb3RDb25uZWN0ZWRQcm92aWRlcnMpO1xyXG5cclxuICAgICAgICB2YXIgbWluU2hhcmVPcHRpb25zID0gdGhpcy5wbHVnaW4ucGFyYW1zWydtaW5TaGFyZU9wdGlvbnMnXSB8fCAodGhpcy5wbHVnaW4uaXNNb2JpbGVVSSA/IDEgOiAyKTtcclxuICAgICAgICB2YXIgc2hvd25Qcm92aWRlcnNMZW5ndGggPSBNYXRoLm1heChtaW5TaGFyZU9wdGlvbnMsIGFyQ29ubmVjdGVkUHJvdmlkZXJzLmxlbmd0aCk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHByb3ZpZGVyID0gdGhpcy5wcm92aWRlcnNbaV07XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nZXRQcm92aWRlckVsZW1lbnQocHJvdmlkZXIubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc0Nvbm5lY3RlZCA9IHRoaXMuaXNQcm92aWRlckNvbm5lY3RlZChwcm92aWRlci5uYW1lKTtcclxuICAgICAgICAgICAgICAgIHZhciBkaXZQcm92aWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgZGl2UHJvdmlkZXIuY2xhc3NOYW1lID0gJ2dpZy1jb21tZW50cy1zaGFyZS1wcm92aWRlcic7XHJcbiAgICAgICAgICAgICAgICBkaXZQcm92aWRlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPVxyXG4gICAgICAgICAgICAgICAgICAgICd1cmwoXCInICtcclxuICAgICAgICAgICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnc2hhcmVUb1Byb3ZpZGVycy8nICsgcHJvdmlkZXIubmFtZSArICdfJyArIChpc0Nvbm5lY3RlZCA/ICdjb2xvcicgOiAnZ3JleScpLCB0aGlzLnBsdWdpbi5waXhlbFJhdGlvKSArXHJcbiAgICAgICAgICAgICAgICAgICAgJ1wiKSc7XHJcbiAgICAgICAgICAgICAgICBkaXZQcm92aWRlci5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvdmlkZXInLCBwcm92aWRlci5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGRpdlByb3ZpZGVyLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnRzLXNoYXJlLXByb3ZpZGVyLWNoZWNrYm94IGdpZy1jb21tZW50cy1jaGVja2JveFwiIGRhdGEtcHJvdmlkZXI9XCInICsgcHJvdmlkZXIubmFtZSArICdcIj48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgZGl2UHJvdmlkZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgcHJvdmlkZXIuZGlzcGxheU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEJ1dHRvblN1Ym1pdExpc3RlbmVyKGRpdlByb3ZpZGVyLCBlID0+IHRoaXMucHJvdmlkZXJDbGljayhlKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZQcm92aWRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCBzaG93blByb3ZpZGVyc0xlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1Byb3ZpZGVyKHByb3ZpZGVyLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnByb3ZpZGVycy5sZW5ndGggPiBzaG93blByb3ZpZGVyc0xlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgZGl2TW9yZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBkaXZNb3JlLmNsYXNzTmFtZSA9ICdnaWctY29tbWVudHMtc2hhcmUtbW9yZSc7XHJcbiAgICAgICAgICAgIGRpdk1vcmUuc2V0QXR0cmlidXRlKCdkYXRhLXByb3ZpZGVyJywgJ21vcmUnKTtcclxuICAgICAgICAgICAgZGl2TW9yZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzLnBsdWdpbi5nZXRUZXh0KCdzaG93X21vcmUnKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdk1vcmUpO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIoZGl2TW9yZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TW9yZShkaXZNb3JlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd1Byb3ZpZGVyKHByb3ZpZGVyOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnNob3duUHJvdmlkZXJzW3Byb3ZpZGVyXSA9IDE7XHJcbiAgICAgICAgdmFyIGVsUHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyRWxlbWVudChwcm92aWRlcik7XHJcbiAgICAgICAgaWYgKGVsUHJvdmlkZXIpIGdpZ3lhLnV0aWxzLkRPTS5hZGRDbGFzc1RvRWxlbWVudChlbFByb3ZpZGVyLCAnZ2lnLWNvbW1lbnRzLXNoYXJlLXByb3ZpZGVyLXNob3duJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVjayhwcm92aWRlcjogc3RyaW5nLCBuZXZlckNvbm5lY3Q/OiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQcm92aWRlckNvbm5lY3RlZChwcm92aWRlcikpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFByb3ZpZGVyc1twcm92aWRlcl0gPSAxO1xyXG4gICAgICAgICAgICB2YXIgZWxQcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXJFbGVtZW50KHByb3ZpZGVyKTtcclxuICAgICAgICAgICAgdmFyIGVsQ2hlY2tib3ggPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGVsUHJvdmlkZXIsICdnaWctY29tbWVudHMtY2hlY2tib3gnKVswXTtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KGVsQ2hlY2tib3gsICdnaWctY29tbWVudHMtY2hlY2tib3gtY2hlY2tlZCcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIW5ldmVyQ29ubmVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RQcm92aWRlcihwcm92aWRlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdW5jaGVjayhwcm92aWRlcjogc3RyaW5nKSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuc2VsZWN0ZWRQcm92aWRlcnNbcHJvdmlkZXJdO1xyXG4gICAgICAgIHZhciBlbFByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlckVsZW1lbnQocHJvdmlkZXIpO1xyXG4gICAgICAgIHZhciBlbENoZWNrYm94ID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhlbFByb3ZpZGVyLCAnZ2lnLWNvbW1lbnRzLWNoZWNrYm94JylbMF07XHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnQoZWxDaGVja2JveCwgJ2dpZy1jb21tZW50cy1jaGVja2JveC1jaGVja2VkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc1Byb3ZpZGVyQ2hlY2tlZChwcm92aWRlcjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRQcm92aWRlcnNbcHJvdmlkZXJdICE9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwcm92aWRlckNsaWNrKGUpIHtcclxuICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xyXG4gICAgICAgIHZhciBwcm92aWRlcjogc3RyaW5nID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wcm92aWRlcicpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMucGx1Z2luLnVzZXIuaXNDb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgZ2lneWEuc29jaWFsaXplLmxvZ2luKHRoaXMucGx1Z2luLnBhcmFtcywge1xyXG4gICAgICAgICAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmVycm9yQ29kZSA9PSAwICYmIGUudXNlciAmJiBlLnVzZXIuaWRlbnRpdGllcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXJJZGVudGl0aWVzID0gZS51c2VyLmlkZW50aXRpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvdmlkZXJJY29uKHByb3ZpZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVjayhwcm92aWRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzUHJvdmlkZXJDaGVja2VkKHByb3ZpZGVyKSkge1xyXG4gICAgICAgICAgICB0aGlzLnVuY2hlY2socHJvdmlkZXIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2socHJvdmlkZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFByb3ZpZGVyRWxlbWVudChwcm92aWRlcjogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUF0dHJpYnV0ZSh0aGlzLmNvbnRhaW5lciwgJyonLCAnZGF0YS1wcm92aWRlcicsIHByb3ZpZGVyKVswXTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dNb3JlKG9wZW5lcjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgcG9zID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRQb3NpdGlvbihvcGVuZXIpO1xyXG5cclxuICAgICAgICBjb25zdCBkaXZNb3JlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5kaXZNb3JlID0gZGl2TW9yZTtcclxuXHJcbiAgICAgICAgZGl2TW9yZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZGlhbG9nJyk7XHJcbiAgICAgICAgZGl2TW9yZS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XHJcblxyXG4gICAgICAgIGRpdk1vcmUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgIGlmIChkaXZNb3JlLnN0eWxlLnpJbmRleCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGRpdk1vcmUuc3R5bGUuekluZGV4ID0gZ2lneWEudXRpbHMuRE9NLmdldE5leHRaSW5kZXgoKS50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaXZNb3JlLmNsYXNzTmFtZSA9ICdnaWctY29tbWVudHMtY29udGFpbmVyIGdpZy1jb21wb3NlYm94LW1vcmVib3gnO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2TW9yZSk7XHJcbiAgICAgICAgdmFyIHZpZXdwb3J0ID0gZ2lneWEudXRpbHMudmlld3BvcnQuZ2V0SW5uZXJTaXplKCk7XHJcblxyXG4gICAgICAgIHZhciBsZWZ0ID0gTWF0aC5tYXgoMCwgZ2lneWEubG9jYWxJbmZvLnF1aXJrc01vZGUgPyBwb3MubGVmdCAtIDIgOiBwb3MubGVmdCk7XHJcbiAgICAgICAgaWYgKGxlZnQgKyBkaXZNb3JlLm9mZnNldFdpZHRoID4gdmlld3BvcnQudyAtIDQwKSB7XHJcbiAgICAgICAgICAgIGxlZnQgPSAodmlld3BvcnQudyAtIGRpdk1vcmUub2Zmc2V0V2lkdGgpIC8gMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRpdk1vcmUuc3R5bGUubGVmdCA9ICcnICsgbGVmdCArICdweCc7XHJcbiAgICAgICAgZGl2TW9yZS5zdHlsZS50b3AgPSAnJyArIChwb3MudG9wICsgb3BlbmVyLm9mZnNldEhlaWdodCAtIDIgKyAoZ2lneWEubG9jYWxJbmZvLnF1aXJrc01vZGUgPyAtMiA6IDApKSArICdweCc7XHJcblxyXG4gICAgICAgIGRpdk1vcmUuaW5uZXJIVE1MID0gZ2lneWEudXRpbHMudGVtcGxhdGVzLmZpbGwodGhpcy5wbHVnaW4udGVtcGxhdGVzWydjb21wb3NlU2hhcmVNb3JlQm94J10sIHtcclxuICAgICAgICAgICAgbW9yZV9zaGFyZV9kZXN0aW5hdGlvbnM6IHRoaXMucGx1Z2luLmdldFRleHQoJ21vcmVfc2hhcmVfZGVzdGluYXRpb25zJyksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBlbE1vcmVQcm92aWRlcnNDb250YWluZXIgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGRpdk1vcmUsICdnaWctY29tcG9zZWJveC1tb3JlYm94LXByb3ZpZGVycycpWzBdO1xyXG4gICAgICAgIGlmIChlbE1vcmVQcm92aWRlcnNDb250YWluZXIpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXI6IFByb3ZpZGVyID0gdGhpcy5wcm92aWRlcnNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2hvd25Qcm92aWRlcnNbdGhpcy5wcm92aWRlcnNbaV0ubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxQcm92aWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsUHJvdmlkZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1cmwoXCInICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ3NoYXJlVG9Qcm92aWRlcnMvJyArIHByb3ZpZGVyLm5hbWUgKyAnX2NvbG9yJywgdGhpcy5wbHVnaW4ucGl4ZWxSYXRpbykgKyAnXCIpJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxQcm92aWRlci5pbm5lckhUTUwgPSBwcm92aWRlci5kaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxQcm92aWRlci5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvdmlkZXInLCBwcm92aWRlci5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxQcm92aWRlci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsUHJvdmlkZXIuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRCdXR0b25TdWJtaXRMaXN0ZW5lcihlbFByb3ZpZGVyLCBlID0+IHRoaXMubW9yZVByb3ZpZGVyQ2xpY2soZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbE1vcmVQcm92aWRlcnNDb250YWluZXIuYXBwZW5kQ2hpbGQoZWxQcm92aWRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBlbENsb3NlID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhkaXZNb3JlLCAnZ2lnLWNvbXBvc2Vib3gtbW9yZWJveC1jbG9zZScpWzBdO1xyXG4gICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5hZGRCdXR0b25TdWJtaXRMaXN0ZW5lcihlbENsb3NlLCAoKSA9PiB0aGlzLmNsb3NlTW9yZShvcGVuZXIpKTtcclxuXHJcbiAgICAgICAgZ2lneWEucGx1Z2luVXRpbHMuRE9NLnJlbW92ZUVsZW1lbnRPbkRvY0NsaWNrT3JFc2NhcGUoXHJcbiAgICAgICAgICAgIGRpdk1vcmUsXHJcbiAgICAgICAgICAgIChlOiBFdmVudCwgd2FzT3BlbjogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gU3RvcCB0aGUgZXZlbnQgc28gdGhlIG1vcmUgYm94IHdvbid0IG9wZW4gYWdhaW5cclxuICAgICAgICAgICAgICAgIGlmICh3YXNPcGVuICYmIGUudGFyZ2V0ID09IG9wZW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50cy5jYW5jZWxFdmVudChlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBkaXZNb3JlLmZvY3VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjbG9zZU1vcmUob3BlbmVyPzogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5kaXZNb3JlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGl2TW9yZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2TW9yZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3BlbmVyKSB7XHJcbiAgICAgICAgICAgIG9wZW5lci5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vcmVQcm92aWRlckNsaWNrKGUpIHtcclxuICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xyXG4gICAgICAgIHZhciBwcm92aWRlciA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvdmlkZXInKTtcclxuICAgICAgICBpZiAoIXRoaXMuaXNQcm92aWRlckNvbm5lY3RlZChwcm92aWRlcikpIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0UHJvdmlkZXIocHJvdmlkZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNsb3NlTW9yZSgpO1xyXG4gICAgICAgIHRoaXMuc2hvd1Byb3ZpZGVyKHByb3ZpZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbm5lY3RQcm92aWRlcihwcm92aWRlcjogc3RyaW5nKSB7XHJcbiAgICAgICAgZ2lneWEuc29jaWFsaXplLmFkZENvbm5lY3Rpb24odGhpcy5wbHVnaW4ucGFyYW1zLCB7XHJcbiAgICAgICAgICAgIHByb3ZpZGVyOiBwcm92aWRlcixcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUuZXJyb3JDb2RlID09IDAgJiYgZS51c2VyICYmIGUudXNlci5pZGVudGl0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VySWRlbnRpdGllcyA9IGUudXNlci5pZGVudGl0aWVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvdmlkZXJJY29uKHByb3ZpZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrKHByb3ZpZGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgdXBkYXRlUHJvdmlkZXJJY29uKHByb3ZpZGVyOiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgaXNDb25uZWN0ZWQgPSB0aGlzLmlzUHJvdmlkZXJDb25uZWN0ZWQocHJvdmlkZXIpO1xyXG4gICAgICAgIHZhciBwcm92aWRlckVsZW1lbnQgPSB0aGlzLmdldFByb3ZpZGVyRWxlbWVudChwcm92aWRlcik7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVyRWxlbWVudClcclxuICAgICAgICAgICAgcHJvdmlkZXJFbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9XHJcbiAgICAgICAgICAgICAgICAndXJsKFwiJyArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdzaGFyZVRvUHJvdmlkZXJzLycgKyBwcm92aWRlciArICdfJyArIChpc0Nvbm5lY3RlZCA/ICdjb2xvcicgOiAnZ3JleScpLCB0aGlzLnBsdWdpbi5waXhlbFJhdGlvKSArICdcIiknO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlSWNvbnMoKSB7XHJcbiAgICAgICAgdGhpcy51c2VySWRlbnRpdGllcyA9IHRoaXMucGx1Z2luLnVzZXIuaWRlbnRpdGllcztcclxuICAgICAgICBmb3IgKHZhciBwcm92aWRlciBpbiB0aGlzLnNob3duUHJvdmlkZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvdmlkZXJJY29uKHByb3ZpZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4udXNlci5pc0Nvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm92aWRlciBpbiB0aGlzLnNob3duUHJvdmlkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVuY2hlY2socHJvdmlkZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkU2VsZWN0ZWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzYXZlU2VsZWN0ZWQoKSB7XHJcbiAgICAgICAgZ2lneWEudXRpbHMuY29va2llLnNldCgnX2dpZ19jb21tZW50c19zZWxlY3RlZF9wcm92aWRlcnMnLCB0aGlzLmdldFNlbGVjdGVkKCkuam9pbignLCcpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRTZWxlY3RlZCgpIHtcclxuICAgICAgICB2YXIgc1NhdmVkU2VsZWN0ZWQgPSBnaWd5YS51dGlscy5jb29raWUuZ2V0KCdfZ2lnX2NvbW1lbnRzX3NlbGVjdGVkX3Byb3ZpZGVycycpO1xyXG4gICAgICAgIHZhciBzYXZlZFNlbGVjdGVkOiBzdHJpbmdbXSA9IHNTYXZlZFNlbGVjdGVkID8gc1NhdmVkU2VsZWN0ZWQuc3BsaXQoJywnKSA6IFtdO1xyXG4gICAgICAgIHZhciBjaGVja0FsbCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLnNoYXJlVG9TTkNoZWNrYm94Q2hlY2tlZCAmJiBzU2F2ZWRTZWxlY3RlZCA9PSBudWxsO1xyXG4gICAgICAgIGZvciAodmFyIHByb3ZpZGVyIGluIHRoaXMuc2hvd25Qcm92aWRlcnMpIHtcclxuICAgICAgICAgICAgaWYgKGNoZWNrQWxsIHx8IGdpZ3lhLnV0aWxzLmFycmF5LmluZGV4T2Yoc2F2ZWRTZWxlY3RlZCwgcHJvdmlkZXIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2socHJvdmlkZXIsIHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bmNoZWNrKHByb3ZpZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJbWFnZXMgfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnRzVXRpbHMnO1xyXG5leHBvcnQgdmFyIGRlZmF1bHRDc3MgPSB7XHJcbiAgICByZXNldDogW1xyXG4gICAgICAgICcuZ2lnLWNvbW1lbnRzLWNvbnRhaW5lciAqLCAqLmdpZy1jb21tZW50cy1jb250YWluZXIgeycsXHJcbiAgICAgICAgJ3dvcmQtd3JhcDpicmVhay13b3JkO3BhZGRpbmc6MHB4O21hcmdpbjowcHg7Y29sb3I6aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246bm9uZTt3aWR0aDphdXRvO2Zsb2F0Om5vbmU7JyxcclxuICAgICAgICAnZm9udC1mYW1pbHk6YXJpYWw7Y29sb3I6IzMzMzMzMztwb3NpdGlvbjpzdGF0aWM7dGV4dC1hbGlnbjpsZWZ0O3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lOy1tb3otYm94LXNpemluZzogY29udGVudC1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOiBjb250ZW50LWJveDtib3gtc2l6aW5nOiBjb250ZW50LWJveDt9JyxcclxuICAgIF0uam9pbignJyksXHJcbiAgICByZXNldFJ0bDogJy5naWctY29tbWVudHMtY29udGFpbmVyICosICouZ2lnLWNvbW1lbnRzLWNvbnRhaW5lciB7ZGlyZWN0aW9uOnJ0bDt0ZXh0LWFsaWduOnJpZ2h0O30nLFxyXG4gICAgZ2xvYmFsOiBbXHJcbiAgICAgICAgJy5naWctY29tbWVudHMtY29udGFpbmVyIGlucHV0IHtvdXRsaW5lOm5vbmV9JyxcclxuICAgICAgICAnLmdpZy1jb21tZW50cy1jb250YWluZXIgLmdpZy1jb21wb3NlYm94LXN1bW1hcnktaW5wdXQgeyBmb250LXdlaWdodDogYm9sZDsgfScsXHJcbiAgICAgICAgJy5naWctY29tbWVudHMtY29udGFpbmVyIC5naWctY29tcG9zZWJveC1zdW1tYXJ5LWlucHV0LmdpZy1jb21tZW50cy1wbGFjZWhvbGRlciB7IGZvbnQtd2VpZ2h0OiBib2xkOyB9JyxcclxuICAgICAgICAnLmdpZy1jb21tZW50cy1jb250YWluZXIgLmdpZy1jb21tZW50cy1wbGFjZWhvbGRlciB7Y29sb3I6ICM5OTk7b3BhY2l0eToxfScsXHJcbiAgICAgICAgJy5naWctY29tbWVudHMtY29udGFpbmVyIGlucHV0Oi1tb3otcGxhY2Vob2xkZXIge2NvbG9yOiAjNTg1ODU4O29wYWNpdHk6MX0nLFxyXG4gICAgICAgICcuZ2lnLWNvbW1lbnRzLWNvbnRhaW5lciBpbnB1dDo6LW1vei1wbGFjZWhvbGRlciB7Y29sb3I6ICM1ODU4NTg7b3BhY2l0eToxfScsXHJcbiAgICAgICAgJy5naWctY29tbWVudHMtY29udGFpbmVyIGlucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyICB7Y29sb3I6ICM1ODU4NTg7b3BhY2l0eToxfScsXHJcbiAgICAgICAgJy5naWctY29tbWVudHMtY29udGFpbmVyIGlucHV0Oi1tb3otcGxhY2Vob2xkZXIge2NvbG9yOiAjNTg1ODU4O29wYWNpdHk6MX0nLFxyXG5cclxuICAgICAgICAnKi5naWctY29tbWVudHMtY29udGFpbmVyIHUge3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9JyxcclxuICAgICAgICAnLmdpZy1jb21tZW50cy1jb250YWluZXIgbGkge21hcmdpbjowO3BhZGRpbmc6MDtsaXN0LXN0eWxlLXR5cGU6bm9uZX0nLFxyXG4gICAgICAgICcuZ2lnLWNvbW1lbnRzLWNvbnRhaW5lciB1bCB7bWFyZ2luOjA7cGFkZGluZzowO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXRleHRhcmVhIHVsLCAuZ2lnLWNvbW1lbnQtYm9keSB1bCB7cGFkZGluZy1sZWZ0OjIwcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtdGV4dGFyZWEgbGksIC5naWctY29tbWVudC1ib2R5IGxpIHtsaXN0LXN0eWxlLXR5cGU6ZGlzY30nLFxyXG4gICAgICAgICcuZ2lnLWNvbW1lbnRzLWNvbnRhaW5lciAqIHt9JyxcclxuICAgICAgICBcIiouZ2lnLWNvbW1lbnRzLWNvbnRhaW5lci1wcm9ncmVzcyB7d2lkdGg6MTAwJTtoZWlnaHQ6MzhweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgY2VudGVyO2JhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdwcm9ncmVzc19hbmlfZ2lmJywgMSwgJ2dpZicpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudHMtY29udGFpbmVyLXByb2dyZXNzIHtiYWNrZ3JvdW5kLXNpemU6Y29udGFpbjtiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgncHJvZ3Jlc3NfYW5pX2dpZicsIDAsICdnaWYnKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgJyouZ2lnLWNsZWFyZml4IHtjbGVhcjpib3RofScsXHJcblxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1oZWFkZXIge292ZXJmbG93OmhpZGRlbjtib3JkZXItYm90dG9tOiAxcHggc29saWQgI0VCRUJFQjsgbWFyZ2luLWJvdHRvbTo4cHg7cGFkZGluZy1ib3R0b206OHB4OyB9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtY291bnQge2ZvbnQtc2l6ZToxNnB4O2ZvbnQtd2VpZ2h0OmJvbGQ7fScsXHJcblxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1oZWFkZXItcmlnaHQge2Zsb2F0OnJpZ2h0O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1oZWFkZXItbGVmdCB7ZmxvYXQ6bGVmdDt9JyxcclxuXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyIHtkaXNwbGF5OmlubGluZS1ibG9jazt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtbGlua3NDb250YWluZXIgbGksICouZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyIGEsICouZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyIGxpIGE6aG92ZXIsICouZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyIGE6YWN0aXZlLCAqLmdpZy1jb21tZW50cy1saW5rc0NvbnRhaW5lciBhOnZpc2l0ZWQsICouZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyIGE6bGluayB7Y29sb3I6Izk5OTk5OTsgY3Vyc29yOnBvaW50ZXI7ZGlzcGxheTppbmxpbmUtYmxvY2s7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyIGxpIHttYXJnaW4tcmlnaHQ6M3B4O30nLFxyXG5cclxuICAgICAgICAnKi5naWctY29tbWVudHMtbGlua3NDb250YWluZXIgbGk6YWZ0ZXIge2NvbnRlbnQ6XCIgXCI7IHdpZHRoOjJweDsgaGVpZ2h0OjJweDsgYmFja2dyb3VuZC1jb2xvcjojOTk5OTk5OyB2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7IG1hcmdpbi1sZWZ0OjNweDsgZGlzcGxheTppbmxpbmUtYmxvY2s7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyICouZ2lnLWNvbW1lbnRzLWxpbmstbGFzdFZpc2libGU6YWZ0ZXIge2NvbnRlbnQ6XCJcIjttYXJnaW46MDtkaXNwbGF5Om5vbmU7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyICouZ2lnLWNvbW1lbnRzLWxpbmstbGFzdFZpc2libGUge21hcmdpbi1yaWdodDowO30nLFxyXG5cclxuICAgICAgICAvLycqLmdpZy1jb21tZW50cy1oZWFkZXItcmlnaHQgbGkge21hcmdpbi10b3A6M3B4O30nLFxyXG5cclxuICAgICAgICAnKi5naWctY29tbWVudCB7IHdpZHRoOiAxMDAlOyBvdXRsaW5lOiAwOyB9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudCAqIHtjb2xvcjojOTk5OTk5OyB9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudCAuZ2lnLWNvbW1lbnQtY29udGVudCB7cGFkZGluZy1sZWZ0OjZweDt0cmFuc2l0aW9uLXByb3BlcnR5OmJhY2tncm91bmQtY29sb3IsIHBhZGRpbmc7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtbmV3Q29tbWVudCAuZ2lnLWNvbW1lbnQtY29udGVudCB7cGFkZGluZzogNnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjQ0VGQUQzOyBib3JkZXItcmFkaXVzOjRweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1zdW1tYXJ5IHtkaXNwbGF5OmlubGluZS1ibG9jaztmb250LXNpemU6IDEzcHg7Zm9udC13ZWlnaHQ6Ym9sZDt2ZXJ0aWNhbC1hbGlnbjp0b3A7IGNvbG9yOiMzMzMzMzM7Zm9udC1zaXplOiAxNHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXBob3RvIHtmbG9hdDpsZWZ0O3dpZHRoOiAzN3B4OyBoZWlnaHQ6MzdweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1wcm92aWRlckxvZ28ge3RleHQtYWxpZ246cmlnaHQ7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtcHJvdmlkZXJMb2dvIGltZyB7d2lkdGg6MTRweDtoZWlnaHQ6MTRweDttYXJnaW4tdG9wOi0xMXB4OyBtYXJnaW4tcmlnaHQ6LTNweDtkaXNwbGF5OmlubGluZS1ibG9jazt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1kYXRhIHtwYWRkaW5nLWxlZnQ6NDFweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1oZWFkZXIgeyBvdmVyZmxvdzpoaWRkZW47IG1hcmdpbi1ib3R0b206NnB4OyB9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1oZWFkZXItcmlnaHQgeyBmbG9hdDpyaWdodDsgfScsXHJcbiAgICAgICAgLy8nKi5naWctY29tbWVudC1oZWFkZXItbGVmdCB7ZmxvYXQ6bGVmdDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC10aW1lIHtmb250LXNpemU6IDExcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luOjJweCAwIDAgMTBweDsgZmxvYXQ6IHJpZ2h0O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXVzZXJuYW1lIHtmb250LXdlaWdodDpib2xkO2NvbG9yOiMzMzMzMzM7IG1hcmdpbi1yaWdodDo2cHg7IGRpc3BsYXk6aW5saW5lLWJsb2NrOyB9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1ib2R5LCAuZ2lnLWNvbW1lbnQtYm9keSAqIHtjb2xvcjojNTg1ODU4OyBsaW5lLWhlaWdodDoxOHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWZvb3RlciwgKi5naWctY29tbWVudC1yZXBsaWVzIHtwYWRkaW5nLWxlZnQ6IDZweH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXJlcGxpZXMge3RyYW5zaXRpb24tcHJvcGVydHk6IG1heC1oZWlnaHQ7b3ZlcmZsb3c6aGlkZGVuO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXJlcGxpZXMtY29sbGFwc2VkIHtkaXNwbGF5Om5vbmU7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtZm9vdGVyIHtmb250LXNpemU6MTFweDtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNFQkVCRUI7bWFyZ2luOiAxMHB4IDA7IHBhZGRpbmctYm90dG9tOjEwcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRbZGF0YS1sZXZlbD1cIjBcIl06bGFzdC1vZi10eXBlICouZ2lnLWNvbW1lbnQtZm9vdGVyOmxhc3QtY2gge2JvcmRlci1ib3R0b206bm9uZTt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1mb290ZXItbGVmdCB7ZmxvYXQ6bGVmdDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1mb290ZXIgbGl7Y3Vyc29yOnBvaW50ZXI7fScsXHJcblxyXG4gICAgICAgICcqLmdpZy1jb21tZW50IC5naWctY29tbWVudC1yZXBseWJveCB7ZGlzcGxheTpub25lO2JhY2tncm91bmQtY29sb3I6I0Y2RjZGNjsgcGFkZGluZzo0cHggNnB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50IC5naWctY29tbWVudC1yZXBseWJveC1vcGVuIHtkaXNwbGF5OmJsb2NrOyBtYXJnaW4tYm90dG9tOiAxMHB4O30nLFxyXG5cclxuICAgICAgICAnKi5naWctY29tbWVudCAuZ2lnLWNvbXBvc2Vib3gtdGl0bGUsICouZ2lnLWNvbW1lbnQgLmdpZy1jb21wb3NlYm94LXRpdGxlICoge2ZvbnQtd2VpZ2h0Om5vcm1hbDsgZm9udC1zdHlsZTppdGFsaWM7Y29sb3I6IzMzMzMzM30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50ICouZ2lnLWNvbXBvc2Vib3gtdXNlcm5hbWUge2ZvbnQtd2VpZ2h0OmJvbGQ7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtcmVwbGllc0Fycm93IGRpdiB7ZGlzcGxheTppbmxpbmUtYmxvY2t9JyxcclxuICAgICAgICBcIiouZ2lnLWNvbW1lbnQtcmVwbGllc0Fycm93LWltZyB7bWFyZ2luOiAwIDFweCAwIDZweDsgd2lkdGg6IDlweDsgaGVpZ2h0OjlweDsgbWFyZ2luLXJpZ2h0OjNweDtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1JlcGx5X0Fycm93JywgMSkgK1xyXG4gICAgICAgICAgICBcIicpO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjBweCAzcHg7fVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21tZW50LXJlcGxpZXNBcnJvdy1pbWcge2JhY2tncm91bmQtc2l6ZTpjb250YWluOyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1JlcGx5X0Fycm93JykgK1xyXG4gICAgICAgICAgICBcIicpO31cIixcclxuICAgICAgICAnKi5naWctY29tbWVudC1yZXBsaWVzQXJyb3cgLmdpZy1jb21tZW50LXJlcGxpZXNBcnJvdy1pbWcge30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXJlcGxpZXNBcnJvdy1jb2xsYXBzZWQgLmdpZy1jb21tZW50LXJlcGxpZXNBcnJvdy1pbWcgey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgyNzBkZWcpOyB0cmFuc2Zvcm06cm90YXRlKDI3MGRlZyk7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtc3RhdHVzIHtkaXNwbGF5Om5vbmU7Ym9yZGVyLXJhZGl1czogM3B4O2NvbG9yOiNGRkZGRkY7cGFkZGluZzoycHggOHB4OyBib3JkZXItcmFkaXVzOjNweDttYXJnaW4tYm90dG9tOjZweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1ib2R5IGE6bGluayB7Y29sb3I6IzAwN0FDRjt0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1ib2R5IGE6dmlzaXRlZCB7Y29sb3I6IzYxMDA3ZDt0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1zdGF0dXMtaW5mbyB7ZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZC1jb2xvcjojNjRCNDZGO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXN0YXR1cy1lcnJvciB7ZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZC1jb2xvcjojRDA2MDVGO21hcmdpbi1ib3R0b206NnB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXZpYVByb3ZpZGVyIHtkaXNwbGF5OmlubGluZS1ibG9jaztmb250LXN0eWxlOml0YWxpYzttYXJnaW46MCAxMnB4O3BhZGRpbmc6IDAgMCAwIDEycHg7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246bGVmdCBjZW50ZXI7fScsXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50LXZpYVByb3ZpZGVyLWZhY2Vib29rIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJy9wcm92aWRlcnMvRmFjZWJvb2tfOXg5JywgMSkgKyBcIicpO31cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudC12aWFQcm92aWRlci1mYWNlYm9vayB7YmFja2dyb3VuZC1zaXplOmNvbnRhaW47IGJhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnL3Byb3ZpZGVycy9GYWNlYm9va185eDknKSArXHJcbiAgICAgICAgICAgIFwiJyk7fVwiLFxyXG4gICAgICAgICcuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWxvZ2luYm94LXByb3ZpZGVyIHtiYWNrZ3JvdW5kLXNpemU6MTVweDt9JyxcclxuXHJcbiAgICAgICAgJ2ltZy5naWctY29tbWVudC1pbWcge2JvcmRlci1yYWRpdXM6M3B4O30nLFxyXG5cclxuICAgICAgICAvLyBmb290ZXJcclxuICAgICAgICAnKi5naWctY29tbWVudC1mb290ZXItcmlnaHQge2Zsb2F0OnJpZ2h0O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWZvb3Rlci1yaWdodCBkaXYge2Rpc3BsYXk6aW5saW5lLWJsb2NrO2hlaWdodDoxN3B4O2xpbmUtaGVpZ2h0OjE2cHg7dmVydGljYWwtYWxpZ246Ym90dG9tO30nLFxyXG5cclxuICAgICAgICAvLyB2b3RlXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtdm90ZS1wb3MsICouZ2lnLWNvbW1lbnQtdm90ZS1uZWcge2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDA7cGFkZGluZy1sZWZ0OiAxNHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXZvdGUtd2l0aC12YWx1ZSB7cGFkZGluZy1sZWZ0OiAxN3B4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXZvdGUtdG90YWwge21hcmdpbi1yaWdodDo1cHg7fScsXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50LXZvdGUtcG9zIHtiYWNrZ3JvdW5kLXNpemU6MTRweCAxNHB4O2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgKyBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnVGh1bWJzX3VwJywgMSkgKyBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21tZW50LXZvdGUtcG9zIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1RodW1ic191cCcpICsgXCInKX1cIixcclxuXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50LXZvdGUtcG9zLWRvd24ge2JhY2tncm91bmQtc2l6ZToxNHB4IDE0cHg7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdUaHVtYnNfdXBfcHJlc3NlZCcsIDEpICsgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudC12b3RlLXBvcy1kb3duIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1RodW1ic191cF9wcmVzc2VkJykgKyBcIicpfVwiLFxyXG4gICAgICAgIFwiKi5naWctY29tbWVudC12b3RlLW5lZyB7YmFja2dyb3VuZC1zaXplOjE0cHggMTRweDtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1RodW1ic19kb3duJywgMSkgK1xyXG4gICAgICAgICAgICBcIicpO21hcmdpbi1sZWZ0OjE1cHg7cG9zaXRpb246cmVsYXRpdmU7IGJhY2tncm91bmQtcG9zaXRpb246IDAgM3B4OyB9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnQtdm90ZS1uZWcge2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgKyBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnVGh1bWJzX2Rvd24nKSArIFwiJyk7fVwiLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXZvdGUtcG9zbmVnICouZ2lnLWNvbW1lbnQtdm90ZS1uZWcge21hcmdpbi1sZWZ0OjJweDt9JyxcclxuICAgICAgICBcIiouZ2lnLWNvbW1lbnQtdm90ZS1uZWctZG93biB7YmFja2dyb3VuZC1zaXplOjE0cHggMTRweDtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1RodW1ic19kb3duX3ByZXNzZWQnLCAxKSArIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnQtdm90ZS1uZWctZG93biB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdUaHVtYnNfZG93bl9wcmVzc2VkJykgKyBcIicpfVwiLFxyXG5cclxuICAgICAgICAvLyBmbGFnXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50LWZsYWcge21hcmdpbjogMCAxNXB4O3ZlcnRpY2FsLWFsaWduOnRvcDtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDogMTRweDsgaGVpZ2h0OiAxNHB4OyB2aXNpYmlsaXR5OmhpZGRlbjsgY3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdGbGFnX0ljb24nLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnQtZmxhZyB7YmFja2dyb3VuZC1zaXplOmNvbnRhaW47YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdGbGFnX0ljb24nKSArIFwiJyl9XCIsXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50LWZsYWctc3VibWl0dGVkIHtjdXJzb3I6ZGVmYXVsdDt2aXNpYmlsaXR5OnZpc2libGU7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdGbGFnX0ljb25fU3VibWl0dGVkJywgMSkgKyBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21tZW50LWZsYWctc3VibWl0dGVkIHtiYWNrZ3JvdW5kLXNpemU6Y29udGFpbjtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ0ZsYWdfSWNvbl9TdWJtaXR0ZWQnKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcblxyXG4gICAgICAgIC8vIG1vcmVcclxuICAgICAgICAnKi5naWctY29tbWVudHMtbW9yZSB7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czozcHg7IGxpbmUtaGVpZ2h0OiAzOHB4O2JvcmRlcjogMXB4IHNvbGlkICNGN0Y2RjY7IGJhY2tncm91bmQtY29sb3I6I0Y5RjlGOTt0ZXh0LWFsaWduOmNlbnRlcjt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtbW9yZTpob3ZlciB7YmFja2dyb3VuZC1jb2xvcjogI0U1RTVFNX0nLFxyXG4gICAgICAgIFwiKi5naWctY29tbWVudHMtbW9yZS1wcm9ncmVzcyB7Y3Vyc29yOmRlZmF1bHQ7d2lkdGg6MTAwJTtoZWlnaHQ6MzhweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgY2VudGVyOyBiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgncHJvZ3Jlc3NfYW5pX2dpZicsIDAsICdnaWYnKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnRzLW1vcmUtcHJvZ3Jlc3Mge2JhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdwcm9ncmVzc19hbmlfZ2lmJywgMCwgJ2dpZicpICsgXCInKX1cIixcclxuICAgICAgICAnKi5naWctY29tbWVudHMtbW9yZS1wcm9ncmVzczpob3ZlciB7YmFja2dyb3VuZC1jb2xvcjojRjlGOUY5O30nLFxyXG5cclxuICAgICAgICAvLyBkaWFsb2dcclxuICAgICAgICAnKi5naWctY29tbWVudHMtZGlhbG9nIHttaW4td2lkdGg6IDM2N3B4O21pbi1oZWlnaHQ6MTQwcHg7Ym9yZGVyOiA2cHggc29saWQgIzg1ODU4NTsgYm9yZGVyLXJhZGl1czogNXB4OyBiYWNrZ3JvdW5kLWNvbG9yOiNGRkZGRkY7fScsXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50cy1kaWFsb2ctY2xvc2Uge2JhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdjbG9zZV9pY29uJywgMSkgK1xyXG4gICAgICAgICAgICBcIicpOyB3aWR0aDoxNXB4OyBoZWlnaHQ6MTVweDsgZmxvYXQ6cmlnaHQ7IGN1cnNvcjpwb2ludGVyO31cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudHMtZGlhbG9nLWNsb3NlIHtiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnY2xvc2VfaWNvbicpICtcclxuICAgICAgICAgICAgXCInKTsgYmFja2dyb3VuZC1zaXplOiBjb250YWluO31cIixcclxuICAgICAgICAnKi5naWctY29tbWVudHMtZGlhbG9nLWNhcHRpb24tY29udGFpbmVyIHtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMzsgcGFkZGluZzogNXB4IDVweCA1cHggMTJweDtvdmVyZmxvdzphdXRvO3pvb206MTtmb250LXNpemU6IDE0cHg7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjogIzRkNGQ0ZDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtZGlhbG9nLWNhcHRpb24ge2Rpc3BsYXk6aW5saW5lLWJsb2NrO2Zsb2F0OmxlZnQ7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWRpYWxvZy1ib2R5e3BhZGRpbmc6MjRweCAxMnB4IDEycHggMTJweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtZGlhbG9nLWJ1dHRvbnN7bWFyZ2luLXRvcDoxMnB4O3RleHQtYWxpZ246cmlnaHQ7bWFyZ2luOiAyMHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1kaWFsb2ctdGV4dCB7bWFyZ2luLWJvdHRvbToxMHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1kaWFsb2ctdGV4dGJveC1jb250YWluZXIge2Zsb2F0OmxlZnR9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtZGlhbG9nLXRleHRib3gge3dpZHRoOiAyNjBweDtjb2xvcjogIzRENEQ0RDstbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O2JveC1zaXppbmc6IGJvcmRlci1ib3g7cGFkZGluZzowIDRweDtiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO2JvcmRlcjogMXB4IHNvbGlkICNDMEMwQzA7aGVpZ2h0OjI0cHg7Ym94LXNoYWRvdzppbnNldCAwIDAgNHB4ICNEQ0RDREM7IC1tb3otYm94LXNoYWRvdzppbnNldCAwIDAgNHB4ICNEQ0RDREM7IC13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDAgNHB4ICNEQ0RDREM7fScsXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50cy1kaWFsb2ctc3Vic2NyaWJlLW9rSWNvbiB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ29rX2ljb24nLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyk7d2lkdGg6MTRweDtoZWlnaHQ6MTRweDtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6MnB4O21hcmdpbi1yaWdodDoycHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7fVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21tZW50cy1kaWFsb2ctc3Vic2NyaWJlLW9rSWNvbiB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ29rX2ljb24nKSArIFwiJyk7fVwiLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1kaWFsb2ctYnV0dG9uIHsnLFxyXG4gICAgICAgICdsaW5lLWhlaWdodDoyMnB4O2ZvbnQtc2l6ZToxMnB4O21hcmdpbi1sZWZ0OjdweDtmb250LXdlaWdodDpib2xkO21pbi13aWR0aDogNTBweDsnLFxyXG4gICAgICAgICdwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXItcmFkaXVzOiAzcHg7IGNvbG9yOiM0ZDRkNGQ7Y3Vyc29yOnBvaW50ZXI7JyxcclxuICAgICAgICAnZm9udC1zaXplOiAxMXB4O3BhZGRpbmc6IDAgNXB4OyBib3JkZXI6IDFweCBzb2xpZCAjQzVDN0M3O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3pvb206MTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7IHRleHQtYWxpZ246Y2VudGVyOycsXHJcbiAgICAgICAgJ2JveC1zaGFkb3c6MCAwIDJweCBSR0JBKDAsMCwwLDAuMTUpOy13ZWJraXQtYm94LXNoYWRvdzowIDAgMnB4IFJHQkEoMCwwLDAsMC4xNSk7LW1vei1ib3gtc2hhZG93OjAgMCAycHggUkdCQSgwLDAsMCwwLjE1KTsnLFxyXG4gICAgICAgICdncmFkaWVudCgjRkZGRkZGLCNFQUVCRUIpfX0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1kaWFsb2ctYnV0dG9uOmhvdmVyIHsnLFxyXG4gICAgICAgICdjb2xvcjojYjRiNGI0O2N1cnNvcjpkZWZhdWx0OycsXHJcbiAgICAgICAgJ2dyYWRpZW50KCNFQkVCRUIsI0ZGRkZGRil9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtZGlhbG9nLWVycm9yIHtjb2xvcjogI2NlNTg1YTtmb250LXNpemU6MTFweDttYXJnaW4tdG9wOjVweDtjbGVhcjpib3RoO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1kaWFsb2ctdGV4dGJveC1idXR0b24ge30nLFxyXG5cclxuICAgICAgICAvL2NvbXBvc2Vib3hcclxuXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gge21hcmdpbi1ib3R0b206IDIzcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtbG9naW4ge30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LWxvZ2luIGRpdiB7ZGlzcGxheTppbmxpbmUtYmxvY2s7bGluZS1oZWlnaHQ6MzBweDtmb250LXdlaWdodDogYm9sZDsgfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtb3Ige21hcmdpbjogMCAxMHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXNvY2lhbC1sb2dpbiwgKi5naWctY29tcG9zZWJveC1ndWVzdC1sb2dpbiwgKi5naWctY29tcG9zZWJveC1zaXRlLWxvZ2luIHsnLFxyXG4gICAgICAgICdib3JkZXItcmFkaXVzOiAzcHg7Y3Vyc29yOnBvaW50ZXI7cGFkZGluZzogMCAxNXB4O2ZvbnQtc2l6ZTogMTRweDtib3gtc2hhZG93OiBpbnNldCAxcHggMXB4ICNmZmY7Ym9yZGVyOiBzb2xpZCAxcHggI2UyZTJlMjsnLFxyXG4gICAgICAgICdncmFkaWVudCgjZjVmNWY1LCNmMWYxZjApOycsXHJcbiAgICAgICAgJ30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXNvY2lhbC1sb2dpbjpob3ZlciwgKi5naWctY29tcG9zZWJveC1ndWVzdC1sb2dpbjpob3ZlciwgKi5naWctY29tcG9zZWJveC1zaXRlLWxvZ2luOmhvdmVyIHtncmFkaWVudCgjRUZFRkVGLCNFMUUxRTEpO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXNvY2lhbC1sb2dpbiB7cGFkZGluZzowIDlweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpyaWdodCBjZW50ZXI7Z3JhZGllbnQoI2Y1ZjVmNSwjZjFmMWYwKTt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1zb2NpYWwtbG9naW46aG92ZXIge2dyYWRpZW50KCNFRkVGRUYsI0UxRTFFMSk7fScsXHJcbiAgICAgICAgXCIqLmdpZy1jb21wb3NlYm94LWxvZ2luLWljb24ge2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOiAzNnB4OyBoZWlnaHQ6MTdweDttYXJnaW46MCA3cHg7dmVydGljYWwtYWxpZ246bWlkZGxlO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ0xvZ2luLWljb25zLWZiX3R3JywgMSkgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21wb3NlYm94LWxvZ2luLWljb24ge2JhY2tncm91bmQtc2l6ZTpjb250YWluO2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnTG9naW4taWNvbnMtZmJfdHcnKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIqLmdpZy1jb21wb3NlYm94LWxvZ2luLWRyb3AtaWNvbiB7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6IDlweDsgaGVpZ2h0OjE3cHg7dmVydGljYWwtYWxpZ246bWlkZGxlO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ0xvZ2luX2ljb25zX2Fycm93JywgMSkgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21wb3NlYm94LWxvZ2luLWRyb3AtaWNvbiB7YmFja2dyb3VuZC1zaXplOmNvbnRhaW47YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdMb2dpbl9pY29uc19hcnJvdycpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1oZWFkZXIgeyB0cmFuc2l0aW9uLXByb3BlcnR5Om1heC1oZWlnaHQ7IG92ZXJmbG93OmhpZGRlbjsgbWFyZ2luLWJvdHRvbTo0cHg7IH0nLFxyXG4gICAgICAgICcuZ2lnLWNvbXBvc2Vib3gtb3BlbiAqLmdpZy1jb21wb3NlYm94LWhlYWRlciB7IG1hcmdpbi1ib3R0b206NHB4O30nLFxyXG4gICAgICAgICcuZ2lnLWNvbW1lbnRzLXJldmlld3MgLmdpZy1jb21wb3NlYm94LWhlYWRlciwgLmdpZy1jb21tZW50cy1yZXZpZXdzIC5naWctY29tcG9zZWJveC1vcGVuIC5naWctY29tcG9zZWJveC1oZWFkZXIge21heC1oZWlnaHQ6bm9uZTt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1oZWFkZXItbGVmdCB7ZmxvYXQ6bGVmdDt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1oZWFkZXItcmlnaHQge2Zsb2F0OnJpZ2h0O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LWhlYWRlci1yaWdodCAqLCAqLmdpZy1jb21wb3NlYm94LWhlYWRlci1sZWZ0ICoge3ZlcnRpY2FsLWFsaWduOmJvdHRvbTt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC10aXRsZSwgKi5naWctY29tcG9zZWJveC1uYW1lIHtkaXNwbGF5OmlubGluZS1ibG9jaztmb250LXNpemU6MTRweDtmb250LXdlaWdodDpib2xkO21hcmdpbjowIDVweCAwIDA7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtbG9nb3V0IHtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmlubGluZS1ibG9jaztmb250LXNpemU6MTFweDsgY29sb3I6ICM5OTk5OTk7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtbG9nb3V0IHNwYW4ge2ZvbnQtc2l6ZToxMnB4OyBjb2xvcjojMDc5NmM2fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtbG9nb3V0OmhvdmVyIHNwYW4ge3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9JyxcclxuXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtY2xvc2Uge3Zpc2liaWxpdHk6aGlkZGVuO30nLFxyXG4gICAgICAgIFwiKi5naWctY29tbWVudC1yZXBseWJveCAqLmdpZy1jb21wb3NlYm94LWNsb3NlIHt2aXNpYmlsaXR5OnZpc2libGU7IGRpc3BsYXk6aW5saW5lLWJsb2NrOyBtYXJnaW4tbGVmdDo1cHg7IGN1cnNvcjpwb2ludGVyOyB3aWR0aDogMTVweDsgaGVpZ2h0OiAxNXB4OyBiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnY2xvc2VfaWNvbicsIDEpICtcclxuICAgICAgICAgICAgXCInKTsgYmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7IGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDt9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnQtcmVwbHlib3ggKi5naWctY29tcG9zZWJveC1jbG9zZSB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ2Nsb3NlX2ljb24nKSArXHJcbiAgICAgICAgICAgIFwiJyk7IGJhY2tncm91bmQtc2l6ZTogY29udGFpbjsgfVwiLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXJlcGx5Ym94ICouZ2lnLWNvbXBvc2Vib3gtY2xvc2U6aG92ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZWJlYmViOyB9JyxcclxuXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtZm9sbG93IHtmb250LXNpemU6MTNweDtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmlubGluZS1ibG9jazsgY29sb3I6IzkxOTE5MTtwYWRkaW5nLWxlZnQ6IDEycHg7JyxcclxuICAgICAgICBcImJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7IGJhY2tncm91bmQtcG9zaXRpb246IGxlZnQgY2VudGVyO2JhY2tncm91bmQtc2l6ZTogOHB4IDhweDtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ0ZvbGxvdycsIDEpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tcG9zZWJveC1mb2xsb3cge2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgKyBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnRm9sbG93JykgKyBcIicpfVwiLFxyXG4gICAgICAgIFwiKi5naWctY29tcG9zZWJveC1mb2xsb3dpbmcge2JhY2tncm91bmQtc2l6ZTogOHB4IDhweDtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ0ZvbGxvd2luZycsIDEpICsgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tcG9zZWJveC1mb2xsb3dpbmcge2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgKyBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnRm9sbG93aW5nJykgKyBcIicpfVwiLFxyXG4gICAgICAgIFwiKi5naWctY29tcG9zZWJveC1mb2xsb3dpbmc6aG92ZXIge2JhY2tncm91bmQtc2l6ZTogOHB4IDhweDtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1VuZm9sbG93JywgMSkgKyBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21wb3NlYm94LWZvbGxvd2luZzpob3ZlciB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdVbmZvbGxvdycpICsgXCInKX1cIixcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1waG90byB7ZmxvYXQ6bGVmdDt3aWR0aDogMzdweDtoZWlnaHQ6MzdweH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LWRhdGEge3BhZGRpbmctbGVmdDo0N3B4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1jb21wb3NlYm94ICouZ2lnLWNvbXBvc2Vib3gtZGF0YSB7bWFyZ2luLWJvdHRvbToyMHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LWZvb3RlciB7ZGlzcGxheTpub25lO292ZXJmbG93OmhpZGRlbjttYXJnaW4tdG9wOjRweDt9JyxcclxuICAgICAgICAnLmdpZy1jb21wb3NlYm94LW9wZW4gKi5naWctY29tcG9zZWJveC1mb290ZXIge2Rpc3BsYXk6YmxvY2s7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtZm9vdGVyLWxlZnQsICouZ2lnLWNvbXBvc2Vib3gtZm9vdGVyLXJpZ2h0IHtwYWRkaW5nOiAycHggMDt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1mb290ZXItbGVmdCB7ZmxvYXQ6bGVmdDt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1mb290ZXItcmlnaHQge2Zsb2F0OnJpZ2h0O30nLFxyXG5cclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1jYW5jZWwge2N1cnNvcjpwb2ludGVyOyBwYWRkaW5nOiAwIDE4cHg7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6ICM0ODQ4NDg7IGRpc3BsYXk6aW5saW5lLWJsb2NrOycsXHJcbiAgICAgICAgJ2xpbmUtaGVpZ2h0OiAyOHB4OyBib3JkZXItcmFkaXVzOiAzcHg7IGJhY2tncm91bmQtY29sb3I6ICM0ODQ4NDg7IGJveC1zaGFkb3c6IDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQpIGluc2V0OycsXHJcbiAgICAgICAgJ2JvcmRlcjogMXB4IHNvbGlkICNiZmJmYmY7IGdyYWRpZW50KCNlMmUyZTIsICNiZmJmYmYpOyBtYXJnaW4tcmlnaHQ6IDZweDt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1jYW5jZWw6aG92ZXIge2dyYWRpZW50KCNlMmUyZTIsICNiZmJmYmYpO30nLFxyXG5cclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1wb3N0IHtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOiAwIDE4cHg7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6ICNGRkZGRkY7IGRpc3BsYXk6aW5saW5lLWJsb2NrOycsXHJcbiAgICAgICAgJ2xpbmUtaGVpZ2h0OiAyOHB4OyBib3JkZXItcmFkaXVzOiAzcHg7IGJhY2tncm91bmQtY29sb3I6ICNEOEQ4RDg7IGJveC1zaGFkb3c6IDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQpIGluc2V0OycsXHJcbiAgICAgICAgJ2JvcmRlcjogMXB4IHNvbGlkICM1MUFFNDg7IGdyYWRpZW50KCM4OGNiODIsIzcyYzI2ZCk7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWJ1dHRvbiB7Y3Vyc29yOiAtbW96LXVzZXItc2VsZWN0OiBub25lOyAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7IC13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTsgLW8tdXNlci1zZWxlY3Q6bm9uZTsgfScsXHJcblxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXBvc3Q6aG92ZXIge2dyYWRpZW50KCM3QUI1NzQsIzY4QUY2Myk7fScsXHJcblxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXBvc3RBbm9ueW1vdXNseSB7ZGlzcGxheTppbmxpbmUtYmxvY2s7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtYW5vbi10ZXh0IHsgdmVydGljYWwtYWxpZ246bWlkZGxlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2ZvbnQtZmFtaWx5OmFyaWFsO2ZvbnQtc2l6ZToxMnB4O2NvbG9yOiM5OTk5OTk7cGFkZGluZzowIDEwcHggMCA1cHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtYW5vbi1jaGVja2JveCB7IHZlcnRpY2FsLWFsaWduOm1pZGRsZTt9JyxcclxuXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtc3VtbWFyeSB7ZGlzcGxheTpub25lO3BhZGRpbmc6IDlweDt9JyxcclxuICAgICAgICAnLmdpZy1jb21wb3NlYm94LW9wZW4gKi5naWctY29tcG9zZWJveC1zdW1tYXJ5IHtkaXNwbGF5OmJsb2NrO21hcmdpbi1ib3R0b206NXB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXN1bW1hcnkgaW5wdXQge3dpZHRoOjEwMCU7Ym9yZGVyOm5vbmU7Y29sb3I6IzU4NTg1ODt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1lZGl0b3Ige3RleHQtYWxpZ246IHJpZ2h0O3BhZGRpbmc6IDAgOXB4IDlweCA5cHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtZWRpdG9yLXdpdGgtc2lkZWJhciB7cGFkZGluZzogMCAyOXB4IDlweCA5cHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtZWRpdG9yLCAqLmdpZy1jb21wb3NlYm94LXN1bW1hcnkgeycsXHJcbiAgICAgICAgJ2JhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7IGJvcmRlcjogMXB4IHNvbGlkICNENUQ1RDU7ICcsXHJcbiAgICAgICAgJ2JvcmRlci1yYWRpdXM6IDNweDtib3gtc2hhZG93OiAwIDAgNXB4IHJnYmEoMCwgMCwgMCwgMC4wNSkgaW5zZXQ7IGJvcmRlcjogc29saWQgMXB4ICNkNWQ1ZDU7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtdGV4dGFyZWEgeyBsaW5lLWhlaWdodDoxOHB4O3RyYW5zaXRpb24tcHJvcGVydHk6IG1pbi1oZWlnaHQ7IHRleHQtYWxpZ246bGVmdDtjdXJzb3I6IHRleHQ7bWluLWhlaWdodDoxN3B4O3Jlc2l6ZTogbm9uZTtib3JkZXI6bm9uZTttYXJnaW4tdG9wOjlweDsgb3V0bGluZTpub25lfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtdGV4dGFyZWEsICouZ2lnLWNvbXBvc2Vib3gtdGV4dGFyZWEgKiB7Y29sb3I6IzU4NTg1ODtmb250LXNpemU6IDE0cHg7fScsXHJcbiAgICAgICAgJ3RleHRhcmVhLmdpZy1jb21wb3NlYm94LXRleHRhcmVhIHtvdmVyZmxvdzpoaWRkZW47d2lkdGg6MTAwJTtkaXNwbGF5OmJsb2NrO2hlaWdodDoxN3B4O30nLFxyXG4gICAgICAgICcuZ2lnLWNvbXBvc2Vib3gtb3BlbiB0ZXh0YXJlYS5naWctY29tcG9zZWJveC10ZXh0YXJlYSB7aGVpZ2h0OjY1cHg7fScsXHJcblxyXG4gICAgICAgICcuZ2lnLWNvbXBvc2Vib3gtb3BlbiAqLmdpZy1jb21wb3NlYm94LXRleHRhcmVhIHttaW4taGVpZ2h0OjY5cHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtdGV4dGFyZWEsICouZ2lnLWNvbXBvc2Vib3gtdGV4dGFyZWEgKiwgKi5naWctY29tcG9zZWJveC1zdW1tYXJ5IGlucHV0IHtmb250LXNpemU6MTJweDt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC10ZXh0YXJlYTplbXB0eTpub3QoOmZvY3VzKTpiZWZvcmUge2NvbG9yOiM5OTk7IGNvbnRlbnQ6YXR0cihkYXRhLXBsYWNlaG9sZGVyKTt9JyxcclxuICAgICAgICAndWwuZ2lnLWNvbXBvc2Vib3gtc2lkZWJhciB7ZGlzcGxheTpub25lO2JhY2tncm91bmQtY29sb3I6I0ZGRkZGRjtmbG9hdDpyaWdodDttYXJnaW4tcmlnaHQ6LTI5cHg7fScsXHJcbiAgICAgICAgJ3VsLmdpZy1jb21wb3NlYm94LXNpZGViYXIge3RyYW5zaXRpb24tcHJvcGVydHk6b3BhY2l0eTtvcGFjaXR5OjA7fScsXHJcbiAgICAgICAgJy5naWctY29tcG9zZWJveC1vcGVuICouZ2lnLWNvbXBvc2Vib3gtc2lkZWJhciB7b3BhY2l0eToxO2Rpc3BsYXk6aW5saW5lLWJsb2NrO30nLFxyXG4gICAgICAgICcuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1idXR0b24ge2JhY2tncm91bmQtc2l6ZTogMThweCAxOHB4OyB9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1zaWRlYmFyLWJ1dHRvbiB7Ym9yZGVyLXJhZGl1czowcHg7YmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDsgd2lkdGg6IDI5cHg7aGVpZ2h0OjI5cHg7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kLWNvbG9yOiNGN0YzRjc7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1idXR0b246bGFzdC1jaGlsZDpudGgtY2hpbGQoLW4rMikgeyBib3JkZXItcmFkaXVzOjAgMCAwIDNweDsgfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1idXR0b246aG92ZXIsICouZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1idXR0b24tZG93biB7YmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTtib3gtc2hhZG93OiBpbnNldCAwIDAgOXB4IHJnYmEoMCwwLDAsLjI2KTt9JyxcclxuICAgICAgICBcIiouZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1mb250IHtjdXJzb3I6cG9pbnRlcjt3aWR0aDogMjlweDtoZWlnaHQ6MjlweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7IGJhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnUmljaF9UZXh0X3VwJywgMSkgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21wb3NlYm94LXNpZGViYXItZm9udCB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdSaWNoX1RleHRfdXAnKSArIFwiJyl9XCIsXHJcbiAgICAgICAgXCIqLmdpZy1jb21wb3NlYm94LXNpZGViYXItZm9udDpob3ZlciwgKi5naWctY29tcG9zZWJveC1zaWRlYmFyLWZvbnQuZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1idXR0b24tZG93biB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdSaWNoX1RleHRfaG92ZXInLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1mb250OmhvdmVyLCAuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1mb250LmdpZy1jb21wb3NlYm94LXNpZGViYXItYnV0dG9uLWRvd24ge2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnUmljaF9UZXh0X2hvdmVyJykgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgIFwiKi5naWctY29tcG9zZWJveC1zaWRlYmFyLXRhZyB7Y3Vyc29yOnBvaW50ZXI7d2lkdGg6IDI5cHg7aGVpZ2h0OjI5cHg7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyOyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1VzZXJfdGFnZ2luZ191cCcsIDEpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tcG9zZWJveC1zaWRlYmFyLXRhZyB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdVc2VyX3RhZ2dpbmdfdXAnKSArIFwiJyl9XCIsXHJcbiAgICAgICAgXCIqLmdpZy1jb21wb3NlYm94LXNpZGViYXItdGFnOmhvdmVyLCAqLmdpZy1jb21wb3NlYm94LXNpZGViYXItdGFnLmdpZy1jb21wb3NlYm94LXNpZGViYXItYnV0dG9uLWRvd24ge2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnVXNlcl90YWdnaW5nX2hvdmVyJywgMSkgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21wb3NlYm94LXNpZGViYXItdGFnOmhvdmVyLCAqLmdpZy1jb21wb3NlYm94LXNpZGViYXItdGFnLmdpZy1jb21wb3NlYm94LXNpZGViYXItYnV0dG9uLWRvd24ge2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnVXNlcl90YWdnaW5nX2hvdmVyJywgMSkgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgIFwiKi5naWctY29tcG9zZWJveC1zaWRlYmFyLW1lZGlhIHtjdXJzb3I6cG9pbnRlcjt3aWR0aDogMjlweDtoZWlnaHQ6MjlweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7IGJhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnTWVkaWFfdXAnLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1tZWRpYSB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdNZWRpYV91cCcpICsgXCInKX1cIixcclxuICAgICAgICBcIiouZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1tZWRpYTpob3ZlciwgKi5naWctY29tcG9zZWJveC1zaWRlYmFyLW1lZGlhLmdpZy1jb21wb3NlYm94LXNpZGViYXItYnV0dG9uLWRvd24ge2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnTWVkaWFfaG92ZXInLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1tZWRpYTpob3ZlciwgLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21wb3NlYm94LXNpZGViYXItbWVkaWEuZ2lnLWNvbXBvc2Vib3gtc2lkZWJhci1idXR0b24tZG93biB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdNZWRpYV9ob3ZlcicpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1maWVsZC1lcnJvciB7Ym9yZGVyOiAxcHggc29saWQgI0Y5ODg4RTt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1lcnJvciB7Ym9yZGVyLXJhZGl1czozcHg7Y29sb3I6ICNGRkZGRkY7dGV4dC1hbGlnbjpjZW50ZXI7bGluZS1oZWlnaHQ6MjJweDtiYWNrZ3JvdW5kOiNGOTg4OEU7bWFyZ2luLWJvdHRvbTo3cHg7ZGlzcGxheTpub25lO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEzcHg7fScsXHJcblxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXBvc3RBbm9ueW1vdXNseSB7IGN1cnNvcjpwb2ludGVyOyB2ZXJ0aWNhbC1hbGlnbjp0b3A7IHBhZGRpbmctdG9wOjRweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtY2hlY2tib3ggeyB3aWR0aDogMTBweDtoZWlnaHQ6IDEwcHg7IGJvcmRlcjoxcHggc29saWQgI0M2QzZDNjtkaXNwbGF5OmlubGluZS1ibG9jaztcdGJvcmRlci1yYWRpdXM6IDFweDsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtib3gtc2hhZG93OiAwIDAgNXB4IHJnYmEoMTg5LCAxODksIDE4OSwgMC4yNSkgaW5zZXR9JyxcclxuICAgICAgICBcIiouZ2lnLWNvbW1lbnRzLWNoZWNrYm94LWNoZWNrZWQge2JhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdzaGFyZVRvUHJvdmlkZXJzL2NoZWNrbWFyaycsIDEpICtcclxuICAgICAgICAgICAgXCInKTsgYmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7IGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDt9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnRzLWNoZWNrYm94LWNoZWNrZWQge2JhY2tncm91bmQtc2l6ZTpjb250YWluOyBiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnc2hhcmVUb1Byb3ZpZGVycy9jaGVja21hcmsnKSArXHJcbiAgICAgICAgICAgIFwiJyk7fVwiLFxyXG5cclxuICAgICAgICAvLyBzZWxmIHJldmlld1xyXG4gICAgICAgICcqLmdpZy1zZWxmcmV2aWV3LWhlYWRlciB7b3ZlcmZsb3c6aGlkZGVuO30nLFxyXG4gICAgICAgICcqLmdpZy1zZWxmcmV2aWV3LWhlYWRlci1sZWZ0IHtmbG9hdDpsZWZ0O30nLFxyXG4gICAgICAgICcqLmdpZy1zZWxmcmV2aWV3LWhlYWRlci1yaWdodCB7ZmxvYXQ6cmlnaHQ7fScsXHJcbiAgICAgICAgJyouZ2lnLXNlbGZyZXZpZXctc3VtbWFyeS1jb250YWluZXIsICouZ2lnLXNlbGZyZXZpZXctYm9keS1jb250YWluZXIge2JhY2tncm91bmQtY29sb3I6I0VERURFRDsgbWFyZ2luOiA1cHggMDtwYWRkaW5nOjZweCAxMHB4O2JvcmRlci1yYWRpdXM6M3B4O30nLFxyXG4gICAgICAgICcqLmdpZy1zZWxmcmV2aWV3LWZpZWxkLXRpdGxlIHtmb250LXdlaWdodDpib2xkO21hcmdpbjowIDdweCAwIDA7fScsXHJcbiAgICAgICAgJyouZ2lnLXNlbGZyZXZpZXctbmFtZUFuZExvZ291dCB7cGFkZGluZzogMCAwIDAgNDdweDtoZWlnaHQ6MzdweDt9JyxcclxuICAgICAgICAnKi5naWctc2VsZnJldmlldy15b3VyUmV2aWV3IHtmb250LXdlaWdodDpib2xkO2NvbG9yOiM5MTkxOTE7bWFyZ2luLWJvdHRvbTozcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLXNlbGZyZXZpZXctcmF0aW5ncyB7bWFyZ2luOiA1cHggMH0nLFxyXG5cclxuICAgICAgICAnKi5naWctc2VsZnJldmlldy1yYXRpbmcgLmdpZy1jb21tZW50LXJhdGluZy12YWx1ZSB7bWFyZ2luLWxlZnQ6MnB4OyB9JyxcclxuICAgICAgICAnKi5naWctc2VsZnJldmlldy1yYXRpbmctX292ZXJhbGwgLmdpZy1jb21tZW50LXJhdGluZy12YWx1ZSB7bWFyZ2luLWxlZnQ6MHB4OyB9JyxcclxuICAgICAgICAnKi5naWctc2VsZnJldmlldy1yYXRpbmctX292ZXJhbGwuZ2lnLXNlbGZyZXZpZXctcmF0aW5nIHttYXJnaW4tYm90dG9tOjVweDt9JyxcclxuXHJcbiAgICAgICAgLy9ndWVzdGJveFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1ndWVzdGJveCB7dHJhbnNpdGlvbi1wcm9wZXJ0eTogbWF4LWhlaWdodDtiYWNrZ3JvdW5kLWNvbG9yOiNGRkZGRkY7Ym9yZGVyOiAxcHggc29saWQgI0UyRTJFMjsgYm9yZGVyLXJhZGl1czogMCAzcHggM3B4IDNweDsgb3ZlcmZsb3c6aGlkZGVuO3dpZHRoOjE1MHB4O2ZvbnQtc2l6ZToxMHB4O2NvbG9yOiM5MTkxOTE7cGFkZGluZzogMCAxM3B4IDAgMTNweH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1ndWVzdGJveCBpbnB1dCB7d2lkdGg6MTUwcHg7Ym9yZGVyLXJhZGl1czozcHg7IGhlaWdodDoyNHB4OyBsaW5lLWhlaWdodDoyMnB4O2NvbG9yOiM5MTkxOTE7Ym9yZGVyOjFweCBzb2xpZCAjQzBDMEMwO3BhZGRpbmctbGVmdDoycHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWd1ZXN0Ym94LWZpZWxkcyB7bWFyZ2luOiAxNnB4IDAgMHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1ndWVzdGJveC1uaWNrbmFtZSB7bWFyZ2luOiAwcHggMCAxMHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1ndWVzdGJveC10ZXh0IHtmb250LXNpemU6MTBweDttYXJnaW46IDVweCAwO30nLFxyXG4gICAgICAgICcqLmdpZy1ndWVzdGJveC1vayB7bWFyZ2luLWJvdHRvbTogOHB4O2Zsb2F0OnJpZ2h0O2Rpc3BsYXk6aW5saW5lLWJsb2NrO2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6IDAgOXB4O2ZvbnQtd2VpZ2h0OiBib2xkO2NvbG9yOiAjMjIyMTIxO3RleHQtc2hhZG93OiAwIDJweCByZ2JhKDI1NSwgMjU1LCAyNTUsIC40KTsnLFxyXG4gICAgICAgICdsaW5lLWhlaWdodDogMjJweDtib3JkZXItcmFkaXVzOiAzcHg7YmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAuMjUpLCBpbnNldCAwIDAgMnB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjI0KTsnLFxyXG4gICAgICAgICdib3JkZXI6IHNvbGlkIDFweCAjYzRjN2NkOyB9JyxcclxuICAgICAgICAnKi5naWctZ3Vlc3Rib3gtZXJyb3Ige21hcmdpbi1sZWZ0OiA0cHg7IGRpc3BsYXk6aW5saW5lLWJsb2NrO2NvbG9yOiNlNzA3MDc7Zm9udC1zaXplOjEwcHg7d2lkdGg6MTAwcHg7ZmxvYXQ6bGVmdDttYXJnaW4tYm90dG9tOiA4cHg7fScsXHJcblxyXG4gICAgICAgIC8vbG9naW5ib3hcclxuICAgICAgICAnKi5naWctY29tbWVudHMtbG9naW5ib3gge3RyYW5zaXRpb24tcHJvcGVydHk6IG1heC1oZWlnaHQ7YmFja2dyb3VuZC1jb2xvcjojRkZGRkZGO2JvcmRlcjogMXB4IHNvbGlkICNFMkUyRTI7IGJvcmRlci1yYWRpdXM6IDAgMCAzcHggM3B4OyBvdmVyZmxvdzpoaWRkZW47bWluLXdpZHRoOjExNXB4O2ZvbnQtc2l6ZToxMHB4O2NvbG9yOiM5MTkxOTE7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWxvZ2luYm94LW9wZW4ge30nLFxyXG4gICAgICAgICcqLmdpZy1sb2dpbmJveC1wcm92aWRlciB7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOmxlZnQgY2VudGVyOyBtYXJnaW4tbGVmdDo5cHg7IHBhZGRpbmc6OHB4IDhweCA4cHggMjJweDsgY3Vyc29yOnBvaW50ZXI7Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNFQUVBRUF9JyxcclxuICAgICAgICAnKi5naWctbG9naW5ib3gtcHJvdmlkZXI6bGFzdC1jaGlsZCB7Ym9yZGVyLWJvdHRvbTpub25lO30nLFxyXG4gICAgICAgICcqLmdpZy1sb2dpbmJveC1wcm92aWRlcjpob3ZlciB7YmFja2dyb3VuZC1jb2xvcjojRjlGOUY5fScsXHJcbiAgICAgICAgJyouZ2lnLWxvZ2luYm94LXByb3ZpZGVyW2RhdGEtcHJvdmlkZXI9bW9yZV0geyBwYWRkaW5nLWxlZnQ6MHB4IH0nLFxyXG5cclxuICAgICAgICAvL3NpZ24gaW4gd2l0aCBib3hcclxuICAgICAgICAnKi5naWctc2lnbmluYm94LXByb3ZpZGVyIHttYXJnaW4tbGVmdDo4cHg7IHBhZGRpbmc6OHB4IDhweCA4cHggMXB4OyBjdXJzb3I6ZGVmYXVsdDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNFQUVBRUF9JyxcclxuXHJcbiAgICAgICAgLy8gdXNlciB0YWdnaW5nIGJveFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy11c2VydGFnZ2luZ2JveCB7IHdpZHRoOjI5MHB4OyBib3JkZXItcmFkaXVzOjNweDsgYmFja2dyb3VuZC1jb2xvcjojRkZGOyBib3JkZXI6IHNvbGlkIDFweCAjZDVkNWQ1OyBmb250LWZhbWlseTphcmlhbDsgfScsXHJcbiAgICAgICAgJyouZ2lnLXVzZXJ0YWdnaW5nLXRpdGxlIHsgY29sb3I6IzY2NjY2NjsgYmFja2dyb3VuZC1jb2xvcjojRjRGNEY0OyBmb250LXNpemU6MTBweDsgYm9yZGVyLXJhZGl1czoycHg7IHBhZGRpbmc6N3B4OyBmb250LWZhbWlseTppbmhlcml0OyB9JyxcclxuICAgICAgICAnKi5naWctdXNlcnRhZ2dpbmctc3VnZ2VzdGlvbnMgeyBsaXN0LXN0eWxlLXR5cGU6bm9uZTsgbWFyZ2luOjA7IHBhZGRpbmc6MHB4OyBmb250LWZhbWlseTppbmhlcml0OyBmb250LXNpemU6MTJweDsgfScsXHJcbiAgICAgICAgJyouZ2lnLXVzZXJ0YWdnaW5nLXN1Z2dlc3Rpb25zIGxpIHsgY3Vyc29yOnBvaW50ZXI7cGFkZGluZy1sZWZ0OjhweDsgYm9yZGVyLXRvcDpzb2xpZCAxcHggI2VhZWFlYTtoZWlnaHQ6MThweDtwYWRkaW5nLXRvcDo0cHg7cGFkZGluZy1ib3R0b206NHB4OycsXHJcbiAgICAgICAgJ30nLFxyXG4gICAgICAgICcqLmdpZy11c2VydGFnZ2luZy1zdWdnZXN0aW9ucyBsaSAqLmdpZy11c2VydGFnZ2luZy11c2VybmFtZSB7IG1hcmdpbi1sZWZ0OjhweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7bGluZS1oZWlnaHQ6MjBweDsgfScsXHJcbiAgICAgICAgJyouZ2lnLXVzZXJ0YWdnaW5nLXN1Z2dlc3Rpb25zIGxpICouZ2lnLXVzZXJ0YWdnaW5nLXVzZXJpbWFnZSB7IGJvcmRlci1yYWRpdXM6M3B4O3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHg7IH0nLFxyXG4gICAgICAgICcqLmdpZy11c2VydGFnZ2luZy1zdWdnZXN0aW9ucyBsaS5naWctdXNlcnRhZ2dpbmctc2VsZWN0ZWQgeyBiYWNrZ3JvdW5kLWNvbG9yOiNmOWY5Zjk7IH0nLFxyXG4gICAgICAgICcqLmdpZy11c2VydGFnZ2luZy10YWcgeyAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7IGJvcmRlci1yYWRpdXM6OHB4IDlweCA5cHggOHB4IC8gOHB4IDhweCAxMHB4IDEwcHg7IGJhY2tncm91bmQtY29sb3I6I2Q1ZTRmMjsgYm9yZGVyLXN0eWxlOm5vbmU7IHBhZGRpbmc6MHB4IDRweCAwcHggNHB4OycsXHJcbiAgICAgICAgJyB9JyxcclxuXHJcbiAgICAgICAgLy8gc2hhcmUgdG9cclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1zaGFyZSB7dmVydGljYWwtYWxpZ246dG9wO292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kLWNvbG9yOiNGNEY0RjQ7IGJvcmRlci1yYWRpdXM6M3B4OyBwYWRkaW5nLWxlZnQ6NHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50IC5naWctY29tcG9zZWJveC1zaGFyZSB7Ym9yZGVyOiAxcHggc29saWQgI0U4RThFOH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXNoYXJlLXRleHQge2xpbmUtaGVpZ2h0OjI2cHg7dmVydGljYWwtYWxpZ246dG9wO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2NvbG9yOiM5OTk5OTk7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtc2hhcmUtcHJvdmlkZXJzIHtkaXNwbGF5OmlubGluZS1ibG9jazt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtc2hhcmUtcHJvdmlkZXIge2Rpc3BsYXk6bm9uZTtoZWlnaHQ6MThweDt3aWR0aDozNnB4O2JhY2tncm91bmQtcG9zaXRpb246IDIzcHggY2VudGVyO3BhZGRpbmc6NHB4IDNweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7Y3Vyc29yOnBvaW50ZXI7IGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNGRkZGRkY7fScsXHJcbiAgICAgICAgJy5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudHMtc2hhcmUtcHJvdmlkZXIge2JhY2tncm91bmQtc2l6ZToxNnB4IDE2cHh9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtc2hhcmUtcHJvdmlkZXItc2hvd24ge2Rpc3BsYXk6aW5saW5lLWJsb2NrO30nLFxyXG4gICAgICAgIFwiKi5naWctY29tbWVudHMtc2hhcmUtbW9yZSB7Y3Vyc29yOnBvaW50ZXI7IHZlcnRpY2FsLWFsaWduOnRvcDsgcGFkZGluZzo0cHg7IGRpc3BsYXk6aW5saW5lLWJsb2NrOyBoZWlnaHQ6MThweDsgd2lkdGg6MTZweDsgYmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7IGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdzaGFyZXRvUHJvdmlkZXJzL1NoYXJlX01vcmVfcHJvdmlkZXJzJywgMSkgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21tZW50cy1zaGFyZS1tb3JlIHtiYWNrZ3JvdW5kLXNpemU6OHB4IDhweDsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdzaGFyZXRvUHJvdmlkZXJzL1NoYXJlX01vcmVfcHJvdmlkZXJzJykgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1zaGFyZS1wcm92aWRlci1jaGVja2JveCB7IG1hcmdpbi10b3A6M3B4OyB9JyxcclxuICAgICAgICAvLyAgICAgICAgICAgIFNoYXJlX01vcmVfcHJvdmlkZXJzLnBuZ1xyXG5cclxuICAgICAgICAvLyBzaGFyZSB0byAtIG1vcmVcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1tb3JlYm94IHt3aWR0aDogMjY1cHg7Ym9yZGVyOiA1cHggc29saWQgIzg1ODU4NTsgYm9yZGVyLXJhZGl1czozcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtbW9yZWJveC1jYXB0aW9uIHtiYWNrZ3JvdW5kLWNvbG9yOiNGM0YzRjM7b3ZlcmZsb3c6aGlkZGVuO2xpbmUtaGVpZ2h0OiAxNXB4O3BhZGRpbmc6IDNweDt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1tb3JlYm94LXRpdGxlIHttYXJnaW4tbGVmdDozcHg7Zm9udC13ZWlnaHQ6Ym9sZDsgZmxvYXQ6bGVmdDtiYWNrZ3JvdW5kLWNvbG9yOiNGM0YzRjM7b3ZlcmZsb3c6aGlkZGVuO2NvbG9yOiM0RDRENEQ7fScsXHJcbiAgICAgICAgXCIqLmdpZy1jb21wb3NlYm94LW1vcmVib3gtY2xvc2Uge2Zsb2F0OnJpZ2h0OyBiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnY2xvc2VfaWNvbicsIDEpICtcclxuICAgICAgICAgICAgXCInKTsgd2lkdGg6MTVweDsgaGVpZ2h0OjE1cHg7IGN1cnNvcjpwb2ludGVyOyBiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlcjsgYmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O31cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tcG9zZWJveC1tb3JlYm94LWNsb3NlIHtiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnY2xvc2VfaWNvbicpICtcclxuICAgICAgICAgICAgXCInKTsgYmFja2dyb3VuZC1zaXplOmNvbnRhaW47fVwiLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LW1vcmVib3ggKi5naWctY29tcG9zZWJveC1tb3JlYm94LXByb3ZpZGVycyB7cGFkZGluZzogMCA2cHg7IGJhY2tncm91bmQtY29sb3I6I0ZGRkZGRjt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1tb3JlYm94ICouZ2lnLWNvbXBvc2Vib3gtbW9yZWJveC1wcm92aWRlcnMgbGkge3BhZGRpbmctbGVmdDogMThweDsgbWFyZ2luOiA0cHggMDsgd2lkdGg6IDEwNXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLXNpemU6IDE0cHg7fScsXHJcblxyXG4gICAgICAgIC8vIHNvcnRib3hcclxuICAgICAgICAnKi5naWctY29tbWVudHMtc29ydGJveCB7bWFyZ2luLXRvcDo5cHg7Ym9yZGVyLXJhZGl1czogM3B4O2JhY2tncm91bmQtY29sb3I6ICNmZmY7Ym94LXNoYWRvdzogLTFweCAycHggMXB4IHJnYmEoMzUsMzEsMzIsLjA3KTtib3JkZXI6IHNvbGlkIDFweCAjYjBiMGIwO3BhZGRpbmc6IDNweCA4cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLXNvcnRib3g6YmVmb3JlIHtjb250ZW50OlwiXCI7d2lkdGg6IDEzcHg7cmlnaHQ6IDEycHg7aGVpZ2h0OjdweDtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTdweDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXCcnICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1NvcnRfZHJvcGRvd25fdHJpYW5nbGUnLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnRzLXNvcnRib3g6YmVmb3JlIHtiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgKyBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnU29ydF9kcm9wZG93bl90cmlhbmdsZScpICsgXCInKX1cIixcclxuICAgICAgICAnKi5naWctY29tbWVudHMtc29ydGJveCBsaSB7Y29sb3I6Izk5OTk5OTtjdXJzb3I6cG9pbnRlcjsgbWluLXdpZHRoOiA4MHB4OyBwYWRkaW5nOiA3cHggNXB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0VBRUFFQTt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtc29ydGJveCBsaTpsYXN0LWNoaWxkIHtib3JkZXItYm90dG9tOiBub25lfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLXNvcnRib3ggbGk6aG92ZXIge2NvbG9yOiM4NDg0ODQ7YmFja2dyb3VuZC1jb2xvcjojRjRGNEY0O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1zb3J0Ym94LXNlbGVjdGVkIHtmb250LXdlaWdodDpib2xkfScsXHJcblxyXG4gICAgICAgIC8vIGZvbnRib3hcclxuICAgICAgICAnKi5naWctY29tbWVudHMtZm9udGJveCB7cGFkZGluZy1yaWdodDogOHB4O3BhZGRpbmctdG9wOjdweDt0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMjVzOyBvcGFjaXR5OjA7IH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1mb250Ym94IHVsOmFmdGVyIHtjb250ZW50OlwiXCI7d2lkdGg6IDhweDtoZWlnaHQ6MTNweDtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxcHg7dG9wOiAxMnB4O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcJycgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnU2lkZWJhcl9ib3hfdGh1YicsIDEpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudHMtZm9udGJveCB1bDphZnRlciB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1NpZGViYXJfYm94X3RodWInKSArIFwiJyl9XCIsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWZvbnRib3ggdWwge3BhZGRpbmc6IDJweDsgd2lkdGg6IDY5cHg7YmFja2dyb3VuZC1jb2xvcjojRkZGRkZGOyBib3JkZXI6IDFweCBzb2xpZCAjQjBCMEIwOyBib3JkZXItcmFkaXVzOjJweDtjdXJzb3I6cG9pbnRlcjt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtZm9udGJveCBsaSB7Ym9yZGVyOiAxcHggbm9uZSAjRUVFRUVFO3dpZHRoOiAzM3B4O2hlaWdodDozM3B4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdH0nLFxyXG4gICAgICAgIFwiKi5naWctY29tbWVudHMtZm9udGJveCAqLmdpZy1jb21wb3NlYm94LWZvbnQtYm9sZCB7Ym9yZGVyLXJpZ2h0LXN0eWxlOnNvbGlkO2JvcmRlci1ib3R0b20tc3R5bGU6c29saWQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1JpY2hfVGV4dF9ib2xkJywgMSkgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21tZW50cy1mb250Ym94ICouZ2lnLWNvbXBvc2Vib3gtZm9udC1ib2xkIHtiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnUmljaF9UZXh0X2JvbGQnKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50cy1mb250Ym94ICouZ2lnLWNvbXBvc2Vib3gtZm9udC1pdGFsaWMge2JvcmRlci1ib3R0b20tc3R5bGU6c29saWQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1JpY2hfVGV4dF9pdGFsaWMnLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnRzLWZvbnRib3ggKi5naWctY29tcG9zZWJveC1mb250LWl0YWxpYyB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1JpY2hfVGV4dF9pdGFsaWMnKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50cy1mb250Ym94ICouZ2lnLWNvbXBvc2Vib3gtZm9udC11bmRlcmxpbmUge2JhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdSaWNoX1RleHRfdW5kZXJsaW5lJywgMSkgKyBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21tZW50cy1mb250Ym94ICouZ2lnLWNvbXBvc2Vib3gtZm9udC11bmRlcmxpbmUge2JhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdSaWNoX1RleHRfdW5kZXJsaW5lJykgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgIFwiKi5naWctY29tbWVudHMtZm9udGJveCAqLmdpZy1jb21wb3NlYm94LWZvbnQtYnVsbGV0cyB7Ym9yZGVyLWxlZnQtc3R5bGU6c29saWQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1JpY2hfVGV4dF9hbGlnbicsIDEpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudHMtZm9udGJveCAqLmdpZy1jb21wb3NlYm94LWZvbnQtYnVsbGV0cyB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1JpY2hfVGV4dF9hbGlnbicpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuXHJcbiAgICAgICAgLy8gbWVkaWFib3hcclxuICAgICAgICAnKi5naWctY29tbWVudHMtbWVkaWFib3ggeyBwYWRkaW5nLXJpZ2h0OiA4cHg7IHRyYW5zaXRpb246IG9wYWNpdHkgMC4yNXM7IG9wYWNpdHk6MDsgJyxcclxuICAgICAgICAnIH0nLFxyXG4gICAgICAgICcqLmdpZy1tZWRpYWJveC1maWVsZHMgeyAgcGFkZGluZzoxMnB4IDZweCAxMHB4OyB3aWR0aDozODJweDsgYm9yZGVyOiBzb2xpZCAxcHggI2IwYjBiMDsgYm9yZGVyLXJhZGl1czogMnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOyAtd2Via2l0LWJveC1zaGFkb3c6IC0xcHggMnB4IDFweCByZ2JhKDM1LDMxLDMyLC4wNyk7IC1tb3otYm94LXNoYWRvdzogLTFweCAycHggMXB4IHJnYmEoMzUsIDMxLCAzMiwgLjA3KTsgYm94LXNoYWRvdzogLTFweCAycHggMXB4IHJnYmEoMzUsIDMxLCAzMiwgLjA3KTsgfScsXHJcbiAgICAgICAgJyouZ2lnLW1lZGlhYm94LWZpZWxkczphZnRlciB7IGNvbnRlbnQ6XCJcIjsgd2lkdGg6IDhweDsgaGVpZ2h0OjEzcHg7IHBvc2l0aW9uOmFic29sdXRlOyBkaXNwbGF5OmlubGluZS1ibG9jazsgcmlnaHQ6MXB4OyB0b3A6MTJweDsgYmFja2dyb3VuZC1pbWFnZTp1cmwoXFwnJyArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdTaWRlYmFyX2JveF90aHViJywgMSkgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1tZWRpYWJveC1maWVsZHM6YWZ0ZXIgeyBiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgKyBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnU2lkZWJhcl9ib3hfdGh1YicpICsgXCInKX1cIixcclxuICAgICAgICAnKi5naWctbWVkaWFib3gtdXJsIHsgdmVydGljYWwtYWxpZ246dG9wOyBwYWRkaW5nLWxlZnQ6OHB4OyBtYXJnaW4tYm90dG9tOjEwcHg7IG1hcmdpbi1yaWdodDo1cHg7IHdpZHRoOiAzMDdweDsgaGVpZ2h0OiAyOHB4OyBib3JkZXItcmFkaXVzOiAzcHg7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDVweCByZ2JhKDAsMCwwLC4xNSk7IC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAwIDVweCByZ2JhKDAsMCwwLC4xNSk7IGJveC1zaGFkb3c6IGluc2V0IDAgMCA1cHggcmdiYSgwLDAsMCwuMTUpOyBib3JkZXI6IHNvbGlkIDFweCAjZDVkNWQ1OyB9JyxcclxuICAgICAgICAnKi5naWctbWVkaWFib3gtdXJsOmVtcHR5OmJlZm9yZSB7Y29sb3I6IzU4NTg1ODsgY29udGVudDphdHRyKGRhdGEtcGxhY2Vob2xkZXIpO30nLFxyXG4gICAgICAgICcqLmdpZy1tZWRpYWJveC1vayB7IHZlcnRpY2FsLWFsaWduOnRvcDsgY3Vyc29yOnBvaW50ZXI7IHRleHQtYWxpZ246Y2VudGVyOyBkaXNwbGF5OmlubGluZS1ibG9jazsgZm9udC13ZWlnaHQ6Ym9sZDsgZm9udC1zaXplOjE0cHg7IGNvbG9yOiMzMzMzMzM7IGxpbmUtaGVpZ2h0OjI4cHg7IHdpZHRoOiA1N3B4OyBoZWlnaHQ6IDI4cHg7IGJvcmRlci1yYWRpdXM6IDNweDsgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMTsgYm94LXNoYWRvdzogaW5zZXQgMXB4IDFweCAjZmZmOyAtbW96LWJveC1zaGFkb3c6IGluc2V0IDFweCAxcHggI2ZmZjsgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAxcHggMXB4ICNmZmY7IGJvcmRlcjogc29saWQgMXB4ICNkNWQ1ZDU7IGdyYWRpZW50KCNmNWY1ZjUsI2YxZjFmMCk7IH0nLFxyXG4gICAgICAgICcqLmdpZy1tZWRpYWJveC1vazpob3ZlciB7IGdyYWRpZW50KCNlZmVmZWYsICNlOWU5ZTkpOyB9JyxcclxuICAgICAgICAnKi5naWctbWVkaWFib3gtdGV4dCB7IGZvbnQtZmFtaWx5OmFyaWFsOyBmb250LXNpemU6MTJweDsgY29sb3I6IzY2NjY2NjsgbGluZS1oZWlnaHQ6MTRweDsgfScsXHJcblxyXG4gICAgICAgIC8vIG1lZGlhaXRlbXMgZGlzcGxheVxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LW1lZGlhLWRpc3BsYXkgeyBtYXJnaW4tYm90dG9tOjEycHg7IH0nLFxyXG4gICAgICAgICcqLmdpZy1tZWRpYS1jYXB0aW9uIHsgZm9udC1mYW1pbHk6YXJpYWw7IGZvbnQtc2l6ZToxMnB4OyBjb2xvcjojNjY2NjY2OyBsaW5lLWhlaWdodDoxN3B4OyBtYXJnaW46NHB4IDEycHggMHB4IDFweDsgfScsXHJcbiAgICAgICAgJyouZ2lnLW1lZGlhLWNhcHRpb24tdGV4dCB7IHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt3b3JkLXdyYXA6bm9ybWFsOyB9JyxcclxuICAgICAgICAnKi5naWctbWVkaWEtY2FwdGlvbi11cmwgeyBkaXNwbGF5OmJsb2NrOyBwYWRkaW5nLWxlZnQ6MjNweDsgdGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTsgd29yZC13cmFwOm5vcm1hbDsgY29sb3I6IzA3OTZjNjsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtc2l6ZToxMnB4OyB0ZXh0LW92ZXJmbG93OmVsbGlwc2lzOyB3aGl0ZS1zcGFjZTonLFxyXG4gICAgICAgICdub3dyYXA7IG92ZXJmbG93OmhpZGRlbjsgdmVydGljYWwtYWxpZ246dGV4dC10b3A7IGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDsgYmFja2dyb3VuZC1wb3NpdGlvbjpsZWZ0OyBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47fScsXHJcbiAgICAgICAgJyouZ2lnLW1lZGlhLXRodW1ibmFpbCB7IGhlaWdodDogMzAzcHg7IH0nLFxyXG4gICAgICAgICcqLmdpZy1tZWRpYS10aHVtYm5haWwtaW1hZ2UgeyBtYXJnaW46YXV0bzsgZGlzcGxheTpibG9jazsgfScsXHJcbiAgICAgICAgJyouZ2lnLW1lZGlhLW92ZXJsYXkgeyBwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6LTMwM3B4O2hlaWdodDowcHg7IH0nLFxyXG4gICAgICAgIFwiKi5naWctbWVkaWEtcGxheSB7IGRpc3BsYXk6bm9uZTsgb3BhY2l0eTowLjg1OyB3aWR0aDogNzVweDsgaGVpZ2h0OiA0NXB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjNTQ1NDU0OyBiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnbWVkaWFfcGxheScsIDEpICtcclxuICAgICAgICAgICAgXCInKTsgXCIsXHJcbiAgICAgICAgJ2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIGNlbnRlcjsgYmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0OyBjdXJzb3I6cG9pbnRlcjsgcG9zaXRpb246cmVsYXRpdmU7JyxcclxuICAgICAgICAnYm94LXNoYWRvdzogMCAtMXB4IDNweCByZ2JhKDAsMCwwLC40KSwgaW5zZXQgMCAxcHggcmdiYSgyNTUsMjU1LDI1NSwuMjkpOyAtbW96LWJveC1zaGFkb3c6IDAgLTFweCAzcHggcmdiYSgwLDAsMCwuNCksIGluc2V0IDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjI5KTsgLXdlYmtpdC1ib3gtc2hhZG93OiAwIC0xcHggM3B4IHJnYmEoMCwwLDAsLjQpLCBpbnNldCAwIDFweCByZ2JhKDI1NSwyNTUsMjU1LC4yOSk7IH0nLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1tZWRpYS1wbGF5IHsgYmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ21lZGlhX3BsYXknKSArIFwiJyk7IH1cIixcclxuICAgICAgICAnKi5naWctbWVkaWEtcGxheTpob3ZlciB7IGJhY2tncm91bmQtY29sb3I6IzY2NjU2NTsgfScsXHJcbiAgICAgICAgJyouZ2lnLW1lZGlhLWNhbmNlbCB7IGN1cnNvcjpwb2ludGVyOyBtYXJnaW4tdG9wOi0xOHB4OyBtYXJnaW4tcmlnaHQ6MHB4OyBmbG9hdDpyaWdodDsgd2lkdGg6IDEzcHg7IGhlaWdodDogMTNweDsgYm9yZGVyLXJhZGl1czogMnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjYzljNmM2OycsXHJcbiAgICAgICAgJ2JveC1zaGFkb3c6IGluc2V0IDAgMCA5cHggcmdiYSgwLCAwLCAwLCAuMjYpOyAtbW96IC0gYm94LXNoYWRvdzogaW5zZXQgMCAwIDlweCByZ2JhKDAsIDAsIDAsIC4yNik7IC13ZWJraXQgLSBib3gtc2hhZG93OiBpbnNldCAwIDAgOXB4IHJnYmEoMCwgMCwgMCwgLjI2KTsnLFxyXG4gICAgICAgIFwiYmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ21lZGlhX2Nsb3NlX2ljb24nLCAxKSArIFwiJyk7IGJhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIGNlbnRlcjsgYmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0OyB9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLW1lZGlhLWNhbmNlbCB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ21lZGlhX2Nsb3NlX2ljb24nKSArIFwiJyk7IH1cIixcclxuICAgICAgICAnKi5naWctbWVkaWEtY2FuY2VsOmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogI2ViZWJlYjsgfScsXHJcblxyXG4gICAgICAgIC8vIG1lZGlhaXRlbXMgLSBzcGVjaWZpYyB0byBjb21tZW50IGRpc3BsYXlcclxuICAgICAgICAnKi5naWctY29tbWVudC1tZWRpYWl0ZW0geyBtYXJnaW4tdG9wOjdweDsgfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtY29udGVudCAuZ2lnLW1lZGlhLXRodW1ibmFpbC1pbWFnZSB7IG1hcmdpbi1sZWZ0OjBweDsgbWFyZ2luLXJpZ2h0OiAwcHg7IH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWNvbnRlbnQgLmdpZy1tZWRpYS1jYXB0aW9uIHsgbWFyZ2luOjhweCAxMnB4IDBweCAwcHg7IH0nLFxyXG5cclxuICAgICAgICAvLyBtZWRpYWl0ZW1zIC0gc3BlY2lmaWMgdG8gcHJldmlldyAoY29tcG9zZWJveClcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1tZWRpYS1wcmV2aWV3IHsgcGFkZGluZy1sZWZ0OjRweDsgcGFkZGluZy1yaWdodDo0cHg7IGJvcmRlci1yYWRpdXM6IDBweCAwcHggM3B4IDNweDsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNXB4IHJnYmEoMCwwLDAsLjE1KTsgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwIDAgNXB4IHJnYmEoMCwwLDAsLjE1KTsgYm94LXNoYWRvdzogaW5zZXQgMCAwIDVweCByZ2JhKDAsMCwwLC4xNSk7JyxcclxuICAgICAgICBcImJvcmRlcjogc29saWQgMXB4ICNkNWQ1ZDU7IGJvcmRlci10b3A6bm9uZTsgcGFkZGluZy10b3A6MjNweDsgcGFkZGluZy1ib3R0b206NXB4OyBiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnbWVkaWFfbG9hZGVyX2dpZicsIDEsICdnaWYnKSArXHJcbiAgICAgICAgICAgIFwiJyk7IGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDsgYmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgY2VudGVyOyB9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbXBvc2Vib3gtbWVkaWEtcHJldmlldyB7IGJhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdtZWRpYV9sb2FkZXJfZ2lmJywgMCwgJ2dpZicpICsgXCInKTt9XCIsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtZWRpdG9yLXdpdGgtbWVkaWEgeyBib3JkZXItcmFkaXVzOjNweCAzcHggMHB4IDBweDsgfScsXHJcblxyXG4gICAgICAgIC8vIG1lZGlhaXRlbXMgcGxheWVyXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50cy1tZWRpYXBsYXllci1kaW1tZXIgeyB0b3A6MHB4O2xlZnQ6MHB4O2hlaWdodDoxMDAlO3dpZHRoOjEwMCU7dHJhbnNpdGlvbjpvcGFjaXR5IDAuMjVzO3Bvc2l0aW9uOmZpeGVkOyBmaWx0ZXI6ICdhbHBoYShvcGFjaXR5PTUwKSc7YmFja2dyb3VuZC1jb2xvcjpibGFjazt9XCIsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLW1lZGlhcGxheWVyIHsgdG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2l0aW9uOm9wYWNpdHkgMC4yNXM7cGFkZGluZy1sZWZ0OjE4cHg7cGFkZGluZy1yaWdodDoxOHB4OyBwb3NpdGlvbjpmaXhlZDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmY7Ym9yZGVyLXJhZGl1czozcHg7IH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1tZWRpYXBsYXllci10b3AgeyBoZWlnaHQ6MTRweDtwYWRkaW5nLXRvcDozcHg7cGFkZGluZy1ib3R0b20tMnB4O3BhZGRpbmctcmlnaHQ6M3B4OyB9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtbWVkaWFwbGF5ZXItdG9wIC5naWctbWVkaWEtY2FuY2VsIHsgbWFyZ2luLXJpZ2h0Oi0xOHB4O3BhZGRpbmctcmlnaHQ6MHB4O21hcmdpbi10b3A6MHB4OyB9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtbWVkaWFwbGF5ZXItYm90dG9tIHsgbWFyZ2luOjVweCAwcHggNXB4IDBweDsgYmFja2dyb3VuZC1jb2xvcjojZDVkNmQ2OyBib3JkZXItcmFkaXVzOjNweDsgfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLW1lZGlhcGxheWVyLWNhcHRpb24geyBiYWNrZ3JvdW5kLXNpemU6Y29udGFpbjsgYmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOmxlZnQ7Zm9udC1zaXplOjEzcHg7Zm9udC1mYW1pbHk6YXJpYWw7IHBhZGRpbmctbGVmdDoyM3B4O2xpbmUtaGVpZ2h0OjE3cHg7IH0nLFxyXG5cclxuICAgICAgICAvLyB1cGRhdGVzXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLXVwZGF0ZXMge3RyYW5zaXRpb24tcHJvcGVydHk6IG9wYWNpdHksIGhlaWdodDsgaGVpZ2h0OjA7IG9wYWNpdHk6MDsgdmlzaWJpbGl0eTpoaWRkZW47IGJvcmRlci1yYWRpdXM6M3B4OyBiYWNrZ3JvdW5kLWNvbG9yOiM5MEQ4OTA7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtdmlzaWJsZSB7b3BhY2l0eToxOyB2aXNpYmlsaXR5OnZpc2libGU7IGhlaWdodDoyNXB4OyBtYXJnaW46IDVweCAwO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy11cGRhdGVzLXRleHQge3RleHQtYWxpZ246Y2VudGVyOyBsaW5lLWhlaWdodDogMjVweDsgY29sb3I6I0ZGRkZGRjsgZm9udC13ZWlnaHQ6Ym9sZDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtdXBkYXRlcy1saW5rIHtjdXJzb3I6cG9pbnRlcjsgZm9udC1zaXplOjEycHg7IGNvbG9yOiAjRkZGRkZGO30nLFxyXG5cclxuICAgICAgICAnKi5naWctY29tbWVudHMtdXBkYXRlcy1mdWxsIHt0ZXh0LWFsaWduOnJpZ2h0O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy11cGRhdGVzLWZ1bGwgLmdpZy1jb21tZW50cy11cGRhdGVzLWxpbmsge2Rpc3BsYXk6aW5saW5lLWJsb2NrOyBsaW5lLWhlaWdodDogMjVweDt0b3A6IC0yNXB4OyBwb3NpdGlvbjpyZWxhdGl2ZTsgbWFyZ2luLXJpZ2h0OiAxMXB4OycsXHJcbiAgICAgICAgXCJwYWRkaW5nLWxlZnQ6MTVweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpsZWZ0IGNlbnRlcjsgYmFja2dyb3VuZC1zaXplOjExcHggMTFweDsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdQYXVzZV9TdHJlYW0nLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtZnVsbCAuZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtbGluayB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdQYXVzZV9TdHJlYW0nKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcblxyXG4gICAgICAgIFwiKi5naWctY29tbWVudHMtdXBkYXRlcy1mdWxsIC5naWctY29tbWVudHMtdXBkYXRlcy1saW5rOmhvdmVyIHsgYmFja2dyb3VuZC1zaXplOjExcHggMTFweDsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdQYXVzZV9TdHJlYW1faG92ZXInLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtZnVsbCAuZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtbGluazpob3ZlciB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnUGF1c2VfU3RyZWFtX2hvdmVyJykgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgIFwiKi5naWctY29tbWVudHMtdXBkYXRlcy1mdWxsLmdpZy1jb21tZW50cy11cGRhdGVzLXBhdXNlZCAuZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtbGluayB7YmFja2dyb3VuZC1zaXplOjExcHggMTFweDsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdSZXN1bWVfU3RyZWFtJywgMSkgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21tZW50cy11cGRhdGVzLWZ1bGwuZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtcGF1c2VkIC5naWctY29tbWVudHMtdXBkYXRlcy1saW5rIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1Jlc3VtZV9TdHJlYW0nKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50cy11cGRhdGVzLWZ1bGwuZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtcGF1c2VkIC5naWctY29tbWVudHMtdXBkYXRlcy1saW5rOmhvdmVyIHtiYWNrZ3JvdW5kLXNpemU6MTFweCAxMXB4OyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1Jlc3VtZV9TdHJlYW1faG92ZXInLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtZnVsbC5naWctY29tbWVudHMtdXBkYXRlcy1wYXVzZWQgLmdpZy1jb21tZW50cy11cGRhdGVzLWxpbms6aG92ZXIge2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnUmVzdW1lX1N0cmVhbV9ob3ZlcicpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtY291bnRvbmx5IHt0ZXh0LWFsaWduOmNlbnRlcjt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtdXBkYXRlcy1jb3VudG9ubHkgLmdpZy1jb21tZW50cy11cGRhdGVzLXRleHQge2Rpc3BsYXk6aW5saW5lLWJsb2NrfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtY291bnRvbmx5IC5naWctY29tbWVudHMtdXBkYXRlcy1saW5rIHtkaXNwbGF5OmlubGluZS1ibG9jazsgbWFyZ2luLWxlZnQ6NXB4OyBmb250LXdlaWdodDpib2xkOyB0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy11cGRhdGVzLWNvdW50b25seSAuZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtbGluazpob3ZlciB7dGV4dC1kZWNvcmF0aW9uOm5vbmU7fScsXHJcblxyXG4gICAgICAgIC8vIHRpdGxlIChzdW1tYXJ5IGFuZCByYXRpbmcpXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtdGl0bGUgKiB7dmVydGljYWwtYWxpZ246Ym90dG9tO2Rpc3BsYXk6aW5saW5lLWJsb2NrO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXRpdGxlIHttYXJnaW4tYm90dG9tOjhweDt9JyxcclxuICAgICAgICBcIiouZ2lnLWNvbW1lbnQtcmF0aW5nLWRyb3Age21hcmdpbjogMCAzcHg7IGN1cnNvcjpwb2ludGVyOyB3aWR0aDogMTNweDsgaGVpZ2h0OiAxNHB4OzAgN3B4IDAgMnB4O3ZlcnRpY2FsLWFsaWduOmJvdHRvbTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1JhdGluZ19Ecm9wX0ljb24nLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnQtcmF0aW5nLWRyb3Age2JhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdSYXRpbmdfRHJvcF9JY29uJywgMSkgKyBcIicpfVwiLFxyXG4gICAgICAgIFwiKi5naWctY29tbWVudC1yYXRpbmctZHJvcDpob3ZlciwgKi5naWctY29tbWVudC1yYXRpbmctZHJvcC1kb3duIHtiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnUmF0aW5nX0Ryb3BfSWNvbl9ob3ZlcicsIDEpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudC1yYXRpbmctZHJvcDpob3ZlciwgKi5naWctY29tbWVudC1yYXRpbmctZHJvcC1kb3duIHtiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnUmF0aW5nX0Ryb3BfSWNvbl9ob3ZlcicsIDEpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtcmF0aW5nLXRpdGxlLCAqLmdpZy1jb21tZW50LXJhdGluZy12YWx1ZSwgKi5naWctY29tcG9zZWJveC1yYXRpbmctdGl0bGUsICouZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLXZhbHVlIHtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtcmF0aW5nLXRpdGxlIHttYXJnaW46MCAxMHB4IDAgMDt2ZXJ0aWNhbC1hbGlnbjpib3R0b207bWluLXdpZHRoOjUzcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLXZhbHVlIHttYXJnaW4tbGVmdDozcHg7IH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXJhdGluZy10aXRsZSB7bWFyZ2luLXJpZ2h0OjEwcHg7dmVydGljYWwtYWxpZ246Ym90dG9tO30nLFxyXG4gICAgICAgIFwiKi5naWctY29tbWVudC1yYXRpbmctc3RhciwgKi5naWctY29tcG9zZWJveC1yYXRpbmctc3RhciwgKi5naWctc2VsZnJldmlldy1yYXRpbmctc3RhciB7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246Ym90dG9tO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtwYWRkaW5nLXJpZ2h0OjNweDsgd2lkdGg6IDE2cHg7IGhlaWdodDoxNnB4O2JhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdTdGFyX2dyYXlfc21hbGwnLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnQtcmF0aW5nLXN0YXIsIC5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tcG9zZWJveC1yYXRpbmctc3RhciwgLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1zZWxmcmV2aWV3LXJhdGluZy1zdGFyIHtiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1N0YXJfZ3JheV9zbWFsbCcpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICBcIiouZ2lnLWNvbW1lbnQtcmF0aW5nLXN0YXItZnVsbCwgKi5naWctY29tcG9zZWJveC1yYXRpbmctc3Rhci1mdWxsLCAqLmdpZy1zZWxmcmV2aWV3LXJhdGluZy1zdGFyLWZ1bGwge2JhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdTdGFyX3llbGxvd19zbWFsbCcsIDEpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudC1yYXRpbmctc3Rhci1mdWxsLCAuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLXN0YXItZnVsbCwgLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1zZWxmcmV2aWV3LXJhdGluZy1zdGFyLWZ1bGwge2JhY2tncm91bmQtc2l6ZTogY29udGFpbjtiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnU3Rhcl95ZWxsb3dfc21hbGwnKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtcmF0aW5nLWRpbWVuc2lvbnMge2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi10b3A6OXB4O3Bvc2l0aW9uOmFic29sdXRlO3BhZGRpbmc6IDEwcHg7YmFja2dyb3VuZC1jb2xvcjojRkZGRkZGO2JveC1zaGFkb3c6IC0xcHggMnB4IDFweCByZ2JhKDM1LDMxLDMyLC4wNyk7Ym9yZGVyOiAxcHggc29saWQgI0IwQjBCMDtib3JkZXItcmFkaXVzOjJweDt3aGl0ZS1zcGFjZTpub3dyYXB9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1yYXRpbmctZGltZW5zaW9uczpiZWZvcmUge21hcmdpbi1sZWZ0OiAtN3B4O2NvbnRlbnQ6XCJcIjt3aWR0aDogMTNweDtoZWlnaHQ6N3B4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3RvcDotN3B4O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcJycgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnU29ydF9kcm9wZG93bl90cmlhbmdsZScsIDEpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudC1yYXRpbmctZGltZW5zaW9uczpiZWZvcmUge2JhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdTb3J0X2Ryb3Bkb3duX3RyaWFuZ2xlJykgKyBcIicpfVwiLFxyXG5cclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1yYXRpbmctc3RhciB7Y3Vyc29yOnBvaW50ZXI7fScsXHJcblxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXJhdGluZ3Mge21hcmdpbi1ib3R0b206NXB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXJhdGluZy1fb3ZlcmFsbCAuZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLXZhbHVlIHttYXJnaW4tbGVmdDowIH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXJhdGluZy1fb3ZlcmFsbCB7Zm9udC13ZWlnaHQ6Ym9sZDttYXJnaW46IDVweCAwO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXJhdGluZy1fb3ZlcmFsbCAuZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLXN0YXIsICouZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLV9vdmVyYWxsLmdpZy1jb21wb3NlYm94LWZpZWxkLWVycm9yOmhvdmVyIC5naWctY29tcG9zZWJveC1yYXRpbmctc3RhciwgKi5naWctc2VsZnJldmlldy1yYXRpbmctX292ZXJhbGwgLmdpZy1zZWxmcmV2aWV3LXJhdGluZy1zdGFyICcsXHJcbiAgICAgICAgXCJ7cGFkZGluZy1yaWdodDogNHB4OyB3aWR0aDogMjFweDsgaGVpZ2h0OiAyMHB4OyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1N0YXJfZ3JheV9iaWcnLCAxKSArIFwiJyl9XCIsXHJcbiAgICAgICAgJy5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tcG9zZWJveC1yYXRpbmctX292ZXJhbGwgLmdpZy1jb21wb3NlYm94LXJhdGluZy1zdGFyLCAuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLV9vdmVyYWxsLmdpZy1jb21wb3NlYm94LWZpZWxkLWVycm9yOmhvdmVyIC5naWctY29tcG9zZWJveC1yYXRpbmctc3RhciwgLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1zZWxmcmV2aWV3LXJhdGluZy1fb3ZlcmFsbCAuZ2lnLXNlbGZyZXZpZXctcmF0aW5nLXN0YXIgJyxcclxuICAgICAgICBcIntiYWNrZ3JvdW5kLXNpemU6Y29udGFpbjtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1N0YXJfZ3JheV9iaWcnKSArIFwiJyl9XCIsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLV9vdmVyYWxsIC5naWctY29tcG9zZWJveC1yYXRpbmctc3Rhci1mdWxsLCAqLmdpZy1jb21wb3NlYm94LXJhdGluZy1fb3ZlcmFsbC5naWctY29tcG9zZWJveC1maWVsZC1lcnJvcjpob3ZlciAuZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLXN0YXItZnVsbCwgKi5naWctc2VsZnJldmlldy1yYXRpbmctX292ZXJhbGwgLmdpZy1zZWxmcmV2aWV3LXJhdGluZy1zdGFyLWZ1bGwgJyxcclxuICAgICAgICBcIntiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1N0YXJfeWVsbG93X2JpZycsIDEpICsgXCInKX1cIixcclxuICAgICAgICAnLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21wb3NlYm94LXJhdGluZy1fb3ZlcmFsbCAuZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLXN0YXItZnVsbCwgLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21wb3NlYm94LXJhdGluZy1fb3ZlcmFsbC5naWctY29tcG9zZWJveC1maWVsZC1lcnJvcjpob3ZlciAuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zIC5naWctY29tcG9zZWJveC1yYXRpbmctc3Rhci1mdWxsLCAuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLXNlbGZyZXZpZXctcmF0aW5nLV9vdmVyYWxsIC5naWctc2VsZnJldmlldy1yYXRpbmctc3Rhci1mdWxsICcsXHJcbiAgICAgICAgXCJ7YmFja2dyb3VuZC1zaXplOmNvbnRhaW47YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdTdGFyX3llbGxvd19iaWcnKSArIFwiJyl9XCIsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLV9vdmVyYWxsLmdpZy1jb21wb3NlYm94LWZpZWxkLWVycm9yIHtib3JkZXI6IG5vbmU7fScsXHJcbiAgICAgICAgXCIqLmdpZy1jb21wb3NlYm94LXJhdGluZy1fb3ZlcmFsbC5naWctY29tcG9zZWJveC1maWVsZC1lcnJvciAuZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLXN0YXIge2JhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdTdGFyX3JlZF9iaWcnLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLV9vdmVyYWxsLmdpZy1jb21wb3NlYm94LWZpZWxkLWVycm9yIC5naWctY29tcG9zZWJveC1yYXRpbmctc3RhciB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1N0YXJfcmVkX2JpZycpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuXHJcbiAgICAgICAgLy8gQ29sb3JlZFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWNvbG9yZWQtYmFja2dyb3VuZCB7Ym9yZGVyLXJhZGl1czo0cHg7IHBhZGRpbmc6IDNweCA2cHggNnB4IDZweDt9JyxcclxuICAgICAgICAnZGl2LmdpZy1jb21tZW50LXBpbm5lZC1iYWNrZ3JvdW5kIHtiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmY2QyO30nLFxyXG5cclxuICAgICAgICAvLyBIaWdobGlnaHRpbmcgQmFkZ2VzXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtd2l0aEJhZGdlcyAqLmdpZy1jb21tZW50LWhlYWRlci1yaWdodCB7dGV4dC1hbGlnbjogcmlnaHQ7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtd2l0aEJhZGdlcyAqLmdpZy1jb21tZW50LXVzZXJuYW1lIHsgbWFyZ2luLWJvdHRvbTo1cHg7IH0nLFxyXG5cclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC13aXRoQmFkZ2VzICouZ2lnLWNvbXBvc2Vib3gtbG9nb3V0ICB7ZGlzcGxheTpibG9jazsgfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtd2l0aEJhZGdlcyAqLmdpZy1jb21wb3NlYm94LWhlYWRlci1yaWdodCB7ICB0ZXh0LWFsaWduOnJpZ2h0OyBtYXJnaW4tYm90dG9tOiA0cHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtd2l0aEJhZGdlcyAqLmdpZy1jb21wb3NlYm94LXRpdGxlIHsgcG9zaXRpb246IHJlbGF0aXZlOyBib3R0b206IDdweDsgfScsXHJcblxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWNvbW1lbnRCYWRnZSB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOjExcHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyBwYWRkaW5nLXJpZ2h0OiAyMnB4OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiByaWdodDsgaGVpZ2h0OjE3cHg7IGxpbmUtaGVpZ2h0OiAxN3B4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXVzZXJCYWRnZSB7IG1hcmdpbi1ib3R0b206IDVweDsgbWFyZ2luLXJpZ2h0OiA2cHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOjExcHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBsaW5lLWhlaWdodDogMTVweDt9JyxcclxuICAgICAgICAnKi5naWctYmFkZ2UtYm9yZGVyIHtib3JkZXI6IDFweCBzb2xpZDsgYm9yZGVyLXJhZGl1czogMnB4OyBwYWRkaW5nOiAwcHggNXB4O30nLFxyXG5cclxuICAgICAgICAvLyBlZGl0Ym94XHJcblxyXG4gICAgICAgICcqLmdpZy1jb21tZW50IC5naWctY29tbWVudC1lZGl0Ym94IHtkaXNwbGF5Om5vbmU7YmFja2dyb3VuZC1jb2xvcjojRjZGNkY2OyBwYWRkaW5nOjRweCA2cHggNHB4IDZweDsgbWFyZ2luLWxlZnQ6LTQxcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQgLmdpZy1jb21tZW50LWVkaXRib3ggLmdpZy1jb21wb3NlYm94LXJhdGluZ3MgKiB7Y29sb3I6IzU4NTg1ODt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudCAuZ2lnLWNvbW1lbnQtZWRpdGJveC1vcGVuIHtkaXNwbGF5OmJsb2NrOyBtYXJnaW4tYm90dG9tOiAxMHB4O30nLFxyXG5cclxuICAgICAgICBcIiouZ2lnLWNvbW1lbnQtZWRpdGJveCAqLmdpZy1jb21wb3NlYm94LWNsb3NlIHtkaXNwbGF5OmlubGluZS1ibG9jazsgbWFyZ2luLWxlZnQ6NXB4OyBjdXJzb3I6cG9pbnRlcjsgd2lkdGg6IDE1cHg7IGhlaWdodDogMTVweDsgYmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ2Nsb3NlX2ljb24nLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyk7IGJhY2tncm91bmQtcG9zaXRpb246Y2VudGVyOyBiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7fVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21tZW50LWVkaXRib3ggKi5naWctY29tcG9zZWJveC1jbG9zZSB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ2Nsb3NlX2ljb24nKSArXHJcbiAgICAgICAgICAgIFwiJyk7IGJhY2tncm91bmQtc2l6ZTogY29udGFpbjsgfVwiLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWVkaXRib3ggKi5naWctY29tcG9zZWJveC1jbG9zZTpob3ZlciB7IGJhY2tncm91bmQtY29sb3I6ICNlYmViZWI7IH0nLFxyXG5cclxuICAgICAgICAnKi5naWctY29tbWVudC1lZGl0ZWQge2ZvbnQtc2l6ZTogMTFweDsgZGlzcGxheTppbmxpbmUtYmxvY2s7IG1hcmdpbjoycHggMCAwIDVweDsgZmxvYXQ6cmlnaHQ7IGZvbnQtc3R5bGU6aXRhbGljOyBjb2xvcjojOTk5OTk5fScsXHJcblxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWRhdGEtcmVtb3ZlZCB7bWFyZ2luLWxlZnQ6IC00MXB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWRhdGEtcmVtb3ZlZCAuZ2lnLWNvbW1lbnQtY29udGVudCB7cGFkZGluZy1sZWZ0OiAwcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtZGF0YS1yZW1vdmVkIC5naWctY29tbWVudC1ib2R5IHtjb2xvcjojOTk5OTk5OyBmb250LXNpemU6MTJweDsgZm9udC1zdHlsZTppdGFsaWM7IGxpbmUtaGVpZ2h0OjE2LjVweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1kYXRhLXJlbW92ZWQgLmdpZy1jb21tZW50LWZvb3RlciB7bWFyZ2luOiA0cHggMHB4IDEwcHg7IHBhZGRpbmctbGVmdDogMHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWRhdGEtcmVtb3ZlZCAuZ2lnLWNvbW1lbnQtZm9vdGVyIC5naWctY29tbWVudC1mb290ZXItbGVmdCAuZ2lnLWNvbW1lbnQtZmxhZyB7ZGlzcGxheTogbm9uZTt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1kYXRhLXJlbW92ZWQgLmdpZy1jb21tZW50LWZvb3Rlci1yaWdodCwgKi5naWctY29tbWVudC1kYXRhLXJlbW92ZWQgLmdpZy1jb21tZW50LWhlYWRlciB7ZGlzcGxheTpub25lO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWRhdGEtcmVtb3ZlZCAuZ2lnLWNvbW1lbnQtcmVwbHlMaW5rICwgKi5naWctY29tbWVudC1kYXRhLXJlbW92ZWQgLmdpZy1jb21tZW50LWxpa2VMaW5rICwgKi5naWctY29tbWVudC1kYXRhLXJlbW92ZWQgLmdpZy1jb21tZW50LXNoYXJlTGluayAsICouZ2lnLWNvbW1lbnQtZGF0YS1yZW1vdmVkIC5naWctY29tbWVudC1kZWxldGVMaW5rICwgKi5naWctY29tbWVudC1kYXRhLXJlbW92ZWQgLmdpZy1jb21tZW50LWVkaXRMaW5rIHtkaXNwbGF5Om5vbmU7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtZGF0YS1yZW1vdmVkIC5naWctY29tbWVudC1jb250ZW50IHt0cmFuc2l0aW9uOiBub25lOyAtd2Via2l0LXRyYW5zaXRpb246IG5vbmV9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1kYXRhLXJlbW92ZWQgLmdpZy1jb21tZW50LWNvbnRlbnQge3RyYW5zaXRpb246IG5vbmU7IC13ZWJraXQtdHJhbnNpdGlvbjogbm9uZX0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXRpdGxlLXJlbW92ZWQge2Rpc3BsYXk6bm9uZTt9JyxcclxuXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtcGhvdG8tcmVtb3ZlZCB7ZGlzcGxheTpub25lO30nLFxyXG4gICAgXS5qb2luKCcnKSxcclxuICAgIHJ0bDogW1xyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWRhdGEge3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6NDFweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1mb290ZXItcmlnaHQsICouZ2lnLWNvbW1lbnRzLWhlYWRlci1yaWdodCwgKi5naWctY29tcG9zZWJveC1mb290ZXItcmlnaHQsICouZ2lnLWNvbXBvc2Vib3gtaGVhZGVyLXJpZ2h0LCAqLmdpZy1jb21tZW50LWhlYWRlci1yaWdodCwgKi5naWctY29tbWVudHMtZGlhbG9nLWNsb3NlLCAqLmdpZy1jb21tZW50cy1kaWFsb2ctYnV0dG9uLCAqLmdpZy1zZWxmcmV2aWV3LWhlYWRlci1yaWdodCB7ZmxvYXQ6bGVmdH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWZvb3Rlci1sZWZ0LCAqLmdpZy1jb21tZW50cy1oZWFkZXItbGVmdCwgKi5naWctY29tcG9zZWJveC1mb290ZXItbGVmdCwgKi5naWctY29tcG9zZWJveC1oZWFkZXItbGVmdCwgKi5naWctY29tbWVudC1oZWFkZXItbGVmdCwqLmdpZy1jb21tZW50cy1kaWFsb2ctY2FwdGlvbiwqLmdpZy1jb21tZW50cy1kaWFsb2ctdGV4dGJveC1jb250YWluZXIsICouZ2lnLXNlbGZyZXZpZXctaGVhZGVyLWxlZnQsICouZ2lnLWNvbXBvc2Vib3gtcGhvdG8sICouZ2lnLWNvbW1lbnQtcGhvdG8ge2Zsb2F0OnJpZ2h0fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtZGF0YSB7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDogNDdweDt9JyxcclxuICAgICAgICAnKi5naWctbG9naW5ib3gtcHJvdmlkZXIge3BhZGRpbmc6IDhweCAyMnB4IDhweCA4cHg7YmFja2dyb3VuZC1wb3NpdGlvbjpyaWdodCBjZW50ZXI7IG1hcmdpbi1yaWdodDo4cHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtZWRpdG9yLXdpdGgtc2lkZWJhciB7cGFkZGluZzogMCA5cHggOXB4IDI5cHg7dGV4dC1hbGlnbjpsZWZ0O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXRleHRhcmVhIHt0ZXh0LWFsaWduOnJpZ2h0fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWZvbnRib3ggKi5naWctY29tcG9zZWJveC1mb250LWJvbGQge2JvcmRlci1sZWZ0LXN0eWxlOnNvbGlkO2JvcmRlci1yaWdodC1zdHlsZTpub25lO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1mb250Ym94ICouZ2lnLWNvbXBvc2Vib3gtZm9udC1idWxsZXRzIHtib3JkZXItcmlnaHQtc3R5bGU6c29saWQ7Ym9yZGVyLWxlZnQtc3R5bGU6bm9uZTt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtc2hhcmUtcHJvdmlkZXItc2hvd24ge2JhY2tncm91bmQtcG9zaXRpb246NnB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1zaGFyZS1wcm92aWRlciB7Ym9yZGVyLXJpZ2h0Om5vbmU7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICNGRkZGRkZ9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtbGlua3NDb250YWluZXIgbGk6YWZ0ZXIge21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OiAzcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyIGxpIHttYXJnaW4tcmlnaHQ6MDttYXJnaW4tbGVmdDogM3B4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LWZvbGxvdyB7cGFkZGluZy1yaWdodDoxMnB4O3BhZGRpbmctbGVmdDowO2JhY2tncm91bmQtcG9zaXRpb246cmlnaHQ7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtZm9vdGVyLCAqLmdpZy1jb21tZW50LXJlcGxpZXMge3BhZGRpbmctbGVmdDogMDtwYWRkaW5nLXJpZ2h0OiA2cHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtcmVwbHlib3ggKi5naWctY29tcG9zZWJveC1jbG9zZSB7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6NXB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWVkaXRib3ggKi5naWctY29tcG9zZWJveC1jbG9zZSB7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6NXB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1kaWFsb2ctY2FwdGlvbi1jb250YWluZXIge3BhZGRpbmc6IDVweCAxMnB4IDVweCA1cHh9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC10aXRsZSB7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLWxlZnQ6NXB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50IC5naWctY29tbWVudC1jb250ZW50IHtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjZweDt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1tb3JlYm94ICouZ2lnLWNvbXBvc2Vib3gtbW9yZWJveC1wcm92aWRlcnMgbGkge3BhZGRpbmctbGVmdDowOyBwYWRkaW5nLXJpZ2h0OiAxOHB4OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOnJpZ2h0O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1kaWFsb2ctYnV0dG9uIHttYXJnaW46IDAgN3B4IDAgMH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy11cGRhdGVzLWZ1bGwge3RleHQtYWxpZ246bGVmdDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtdXBkYXRlcy1mdWxsIC5naWctY29tbWVudHMtdXBkYXRlcy1saW5rIHttYXJnaW46IDAgMCAwIDExcHg7cGFkZGluZzowIDE1cHggMCAwOyBiYWNrZ3JvdW5kLXBvc2l0aW9uOnJpZ2h0IGNlbnRlcjt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtdXBkYXRlcy1jb3VudG9ubHkgLmdpZy1jb21tZW50cy11cGRhdGVzLWxpbmsge21hcmdpbi1yaWdodDo1cHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWZvbnRib3gge21hcmdpbi1sZWZ0OjhweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtZm9udGJveCB1bDphZnRlciB7bGVmdDotN3B4O3JpZ2h0OmF1dG87LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO30nLFxyXG4gICAgICAgICd1bC5naWctY29tcG9zZWJveC1zaWRlYmFyIHtmbG9hdDpsZWZ0O21hcmdpbi1sZWZ0Oi0yOXB4fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtdGV4dGFyZWEgdWwsIC5naWctY29tbWVudC1ib2R5IHVsIHtwYWRkaW5nLXJpZ2h0OjIwcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLXNlbGZyZXZpZXctZmllbGQtdGl0bGUge21hcmdpbjowIDAgMCA3cHg7fScsXHJcbiAgICAgICAgJyouZ2lnLXNlbGZyZXZpZXctbmFtZUFuZExvZ291dCB7cGFkZGluZzogMCA0N3B4IDAgMDt9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC10aXRsZSwgKi5naWctY29tcG9zZWJveC1uYW1lIHttYXJnaW46MCAwIDAgNXB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXJhdGluZy10aXRsZSB7bWFyZ2luOjAgMCAwIDEwcHg7IG1pbi13aWR0aDo1M3B4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXByb3ZpZGVyTG9nbyB7dGV4dC1hbGlnbjpsZWZ0O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXByb3ZpZGVyTG9nbyBpbWcge21hcmdpbi1sZWZ0Oi0ycHg7bWFyZ2luLXJpZ2h0OjA7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtdmlhUHJvdmlkZXIge2JhY2tncm91bmQtcG9zaXRpb246cmlnaHQgY2VudGVyO3BhZGRpbmc6IDAgMTJweCAwIDA7fScsXHJcbiAgICAgICAgJyouZ2lnLXVzZXJ0YWdnaW5nLXN1Z2dlc3Rpb25zIGxpIHsgcGFkZGluZy1yaWdodDo4cHg7IH0nLFxyXG4gICAgICAgICcqLmdpZy11c2VydGFnZ2luZy1zdWdnZXN0aW9ucyBsaSAqLmdpZy11c2VydGFnZ2luZy11c2VybmFtZSB7IG1hcmdpbi1yaWdodDo4cHg7IH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWNvbnRlbnQgLmdpZy1tZWRpYS1jYXB0aW9uIHsgbWFyZ2luOjhweCAwcHggMHB4IDEycHg7IH0nLFxyXG4gICAgICAgICcqLmdpZy1tZWRpYS1jYXB0aW9uLXVybCB7IGJhY2tncm91bmQtcG9zaXRpb246cmlnaHQ7IHBhZGRpbmctcmlnaHQ6MjNweDsgcGFkZGluZy1sZWZ0OjBweDsgfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLW1lZGlhcGxheWVyLWNhcHRpb24geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOnJpZ2h0O3BhZGRpbmctcmlnaHQ6MjNweDt0ZXh0LWFsaWduOnJpZ2h0OyB9JyxcclxuICAgICAgICAnKi5naWctbWVkaWFib3gtdXJsIHsgcGFkZGluZy1yaWdodDo4cHg7IG1hcmdpbi1sZWZ0OjVweDtwYWRkaW5nLWxlZnQ6MHB4O21hcmdpbi1yaWdodDowcHg7IH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1tZWRpYWJveCB7IHBhZGRpbmctcmlnaHQ6MHB4O3BhZGRpbmctbGVmdDo4cHg7IH0nLFxyXG4gICAgICAgICcqLmdpZy1tZWRpYWJveC1maWVsZHM6YWZ0ZXIgeyBsZWZ0OjFweDsgcmlnaHQ6YXV0bzsgLXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpOyB9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1zaWRlYmFyLWJ1dHRvbjpsYXN0LWNoaWxkOm50aC1jaGlsZCgtbisyKSB7IGJvcmRlci1yYWRpdXM6MCAwIDNweCAwOyB9JyxcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1zaWRlYmFyLWJ1dHRvbiB7IHRyYW5zZm9ybTpzY2FsZVgoLTEpOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlWCgtMSk7LW1zLXRyYW5zZm9ybTpzY2FsZVgoLTEpOyB9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC12b3RlLW5lZyB7bWFyZ2luOiAwIDE1cHggMCAwO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXJlcGxpZXNBcnJvdy1jb2xsYXBzZWQgLmdpZy1jb21tZW50LXJlcGxpZXNBcnJvdy1pbWcgey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtMjcwZGVnKTsgdHJhbnNmb3JtOnJvdGF0ZSgtMjcwZGVnKTt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC10aW1lIHttYXJnaW46MnB4IDEwcHggMCAwO30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LWNhbmNlbCB7IG1hcmdpbi1sZWZ0OiA2cHg7IG1hcmdpbi1yaWdodDogMHB4fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtZWRpdGVkIHsgbWFyZ2luOjJweCA1cHggMCAwOyBmbG9hdDogbGVmdDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudCAuZ2lnLWNvbW1lbnQtZWRpdGJveCB7bWFyZ2luLWxlZnQ6MHB4O21hcmdpbi1yaWdodDotNDFweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1mb290ZXItcmlnaHQgKiB7ZGlyZWN0aW9uOmx0cjt0ZXh0LWFsaWduOnJpZ2h0O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXZvdGUtcG9zbmVnICouZ2lnLWNvbW1lbnQtdm90ZS1uZWcge21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjJweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC12b3RlLXRvdGFsIHttYXJnaW4tcmlnaHQ6MDttYXJnaW4tbGVmdDo1cHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtZGF0YS1yZW1vdmVkIHttYXJnaW4tcmlnaHQ6IC00MXB4O30nLFxyXG4gICAgICAgIC8vIEhpZ2hsaWdodGluZyBCYWRnZXNcclxuICAgICAgICAnKi5naWctY29tbWVudC11c2VyQmFkZ2UgeyBtYXJnaW4tcmlnaHQ6IDBweDsgbWFyZ2luLWxlZnQ6IDZweDt9JyxcclxuICAgICAgICAvLycqLmdpZy1jb21tZW50LWJhZGdlLWltYWdlIHttYXJnaW4tbGVmdDogMHB4OyBtYXJnaW4tcmlnaHQ6IDVweDsgfScsXHJcblxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXdpdGhCYWRnZXMgKi5naWctY29tbWVudC11c2VybmFtZSB7IG1hcmdpbi1yaWdodDowcHg7IG1hcmdpbi1sZWZ0OjZweDsgfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtd2l0aEJhZGdlcyAqLmdpZy1jb21tZW50LXRpbWUgeyBmbG9hdDpsZWZ0OyBtYXJnaW4tcmlnaHQ6NnB4O30nLFxyXG4gICAgXS5qb2luKCcnKSxcclxuICAgIG1vYmlsZTogW1xyXG4gICAgICAgICcuZ2lnLWNvbW1lbnRzLWNvbnRhaW5lciB7cGFkZGluZzogMCAxMHB4OyAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O2JveC1zaXppbmc6IGJvcmRlci1ib3g7fScsXHJcbiAgICAgICAgJy5naWctY29tbWVudHMtY29udGFpbmVyICoge3RyYW5zaXRpb246IG5vbmU7Zm9udC1zaXplOjE2cHg7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0Om5vbmU7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyIGxpIHtwYWRkaW5nOiAwIDNweCAwIDA7bWFyZ2luLXJpZ2h0OjNweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtbGlua3NDb250YWluZXIgbGk6YWZ0ZXIge21hcmdpbi1ib3R0b206N3B4O21hcmdpbi1sZWZ0OjdweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC10aW1lIHtmb250LXNpemU6IDEzcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtZm9vdGVyICoge2ZvbnQtc2l6ZToxNXB4fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtZm9sbG93IHtmb250LXNpemU6MTZweDsgcGFkZGluZy1sZWZ0OiAyMHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1zaGFyZS1wcm92aWRlciB7aGVpZ2h0OjIzcHg7YmFja2dyb3VuZC1wb3NpdGlvbjogMzFweCBjZW50ZXI7cGFkZGluZzo0cHggMTBweDt3aWR0aDozOXB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1jaGVja2JveCB7d2lkdGg6IDE2cHg7aGVpZ2h0OiAxNnB4OyB9JyxcclxuICAgICAgICBcIiouZ2lnLWNvbW1lbnRzLWNoZWNrYm94LWNoZWNrZWQgKi5naWctY29tbWVudHMtc2hhcmUtcHJvdmlkZXItY2hlY2tib3gge2JhY2tncm91bmQtaW1hZ2U6dXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdzaGFyZXRvUHJvdmlkZXJzL2NoZWNrbWFyaycsIDEpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudHMtY2hlY2tib3gtY2hlY2tlZCAqLmdpZy1jb21tZW50cy1zaGFyZS1wcm92aWRlci1jaGVja2JveCB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ3NoYXJldG9Qcm92aWRlcnMvY2hlY2ttYXJrJykgK1xyXG4gICAgICAgICAgICBcIicpfVwiLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LXNoYXJlLXRleHQge2xpbmUtaGVpZ2h0OjMwcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLXNoYXJlLW1vcmUge2hlaWdodDogMjJweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1kYXRhIHtwYWRkaW5nOiAwfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtc2VsZi1kYXRhIHtwYWRkaW5nLWxlZnQ6NDFweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1yZXBsaWVzIHtwYWRkaW5nLWxlZnQ6IDE1cHh9JyxcclxuICAgICAgICAnLmdpZy1jb21wb3NlYm94LW9wZW4gdGV4dGFyZWEuZ2lnLWNvbXBvc2Vib3gtdGV4dGFyZWEge2hlaWdodDo0NXB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXJlcGx5Ym94ICouZ2lnLWNvbXBvc2Vib3gtY2xvc2UgeyB2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7IH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWVkaXRib3ggKi5naWctY29tcG9zZWJveC1jbG9zZSB7IHZlcnRpY2FsLWFsaWduOm1pZGRsZTsgfScsXHJcbiAgICAgICAgJy5naWctY29tcG9zZWJveC1vcGVuICouZ2lnLWNvbXBvc2Vib3gtdGV4dGFyZWEge21pbi1oZWlnaHQ6NDVweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtZGlhbG9nIHt3aWR0aDogYXV0bzttaW4td2lkdGg6MDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtZGlhbG9nLXRleHRib3gtYnV0dG9uIHtmbG9hdDpyaWdodDttYXJnaW4tdG9wOjEwcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWRpYWxvZy1ib2R5IHtvdmVyZmxvdzpoaWRkZW59JyxcclxuXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtdGV4dGFyZWEsICouZ2lnLWNvbXBvc2Vib3gtdGV4dGFyZWEgKiwgKi5naWctY29tcG9zZWJveC1zdW1tYXJ5IGlucHV0IHtmb250LXNpemU6MThweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtY291bnQge2xpbmUtaGVpZ2h0OjMwcHh9JyxcclxuXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtdm90ZS1wb3MsIC5naWctY29tbWVudC12b3RlLW5lZyB7cGFkZGluZy1sZWZ0OjMwcHg7fScsXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50LXZvdGUtcG9zIHtiYWNrZ3JvdW5kLXNpemU6MjdweCAyN3B4O2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgKyBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnbW9iaWxlL1RodW1ic191cCcsIDEpICsgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudC12b3RlLXBvcyB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdtb2JpbGUvVGh1bWJzX3VwJykgKyBcIicpfVwiLFxyXG4gICAgICAgIFwiKi5naWctY29tbWVudC12b3RlLXBvcy1kb3due2JhY2tncm91bmQtc2l6ZToyN3B4IDI3cHg7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdtb2JpbGUvVGh1bWJzX3VwX3ByZXNzZWQnLCAxKSArIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnQtdm90ZS1wb3MtZG93bntiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ21vYmlsZS9UaHVtYnNfdXBfcHJlc3NlZCcpICsgXCInKX1cIixcclxuICAgICAgICBcIiouZ2lnLWNvbW1lbnQtdm90ZS1uZWcge2JhY2tncm91bmQtc2l6ZToyN3B4IDI3cHg7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArXHJcbiAgICAgICAgICAgIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdtb2JpbGUvVGh1bWJzX2Rvd24nLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyk7YmFja2dyb3VuZC1wb3NpdGlvbjowIDZweH1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudC12b3RlLW5lZyB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdtb2JpbGUvVGh1bWJzX2Rvd24nKSArIFwiJyk7fVwiLFxyXG4gICAgICAgIFwiKi5naWctY29tbWVudC12b3RlLW5lZy1kb3duIHtiYWNrZ3JvdW5kLXNpemU6MjdweCAyN3B4O2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgK1xyXG4gICAgICAgICAgICBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnbW9iaWxlL1RodW1ic19kb3duX3ByZXNzZWQnLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyk7YmFja2dyb3VuZC1wb3NpdGlvbjowIDZweH1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudC12b3RlLW5lZy1kb3duIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ21vYmlsZS9UaHVtYnNfZG93bl9wcmVzc2VkJykgKyBcIicpO31cIixcclxuICAgICAgICAnKi5naWctY29tbWVudC1mb290ZXItcmlnaHQgZGl2IHtoZWlnaHQ6MzFweDtsaW5lLWhlaWdodDozMXB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21wb3NlYm94LWhlYWRlci1sZWZ0ICosICouZ2lnLWNvbXBvc2Vib3gtaGVhZGVyLXJpZ2h0ICosICouZ2lnLWNvbXBvc2Vib3gtbG9nb3V0IHNwYW4ge2ZvbnQtc2l6ZToxNXB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50IC5naWctY29tbWVudC1yZXBseWJveCB7bWFyZ2luLWJvdHRvbToxMHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50IC5naWctY29tbWVudC1lZGl0Ym94IHttYXJnaW4tYm90dG9tOjEwcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtZmxhZyB7ZGlzcGxheTpub25lfScsXHJcblxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXJhdGluZywgKi5naWctY29tbWVudC1yYXRpbmctZHJvcCB7bWFyZ2luLWJvdHRvbTozcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtc3VtbWFyeSB7bWFyZ2luLWxlZnQ6MnB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy1jb250YWluZXIuZ2lnLWNvbW1lbnQtcmF0aW5nLWRpbWVuc2lvbnMge3BhZGRpbmc6IDEwcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLCAqLmdpZy1zZWxmcmV2aWV3LXJhdGluZyB7cGFkZGluZzogM3B4IDA7IG1hcmdpbjogNXB4IDB9JyxcclxuXHJcbiAgICAgICAgXCIqLmdpZy1jb21wb3NlYm94LXJhdGluZy1zdGFyLCAqLmdpZy1zZWxmcmV2aWV3LXJhdGluZy1zdGFyIHtwYWRkaW5nLXJpZ2h0OjRweDt3aWR0aDogMjFweDsgaGVpZ2h0OjIwcHg7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1N0YXJfZ3JheV9iaWcnLCAxKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLXN0YXIsIC5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctc2VsZnJldmlldy1yYXRpbmctc3RhciB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1N0YXJfZ3JheV9iaWcnKSArXHJcbiAgICAgICAgICAgIFwiJyl9XCIsXHJcbiAgICAgICAgXCIqLmdpZy1jb21wb3NlYm94LXJhdGluZy1zdGFyLWZ1bGwsICouZ2lnLXNlbGZyZXZpZXctcmF0aW5nLXN0YXItZnVsbCB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1N0YXJfeWVsbG93X2JpZycsIDEpICsgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tcG9zZWJveC1yYXRpbmctc3Rhci1mdWxsLCAuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLXNlbGZyZXZpZXctcmF0aW5nLXN0YXItZnVsbCB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1wiICtcclxuICAgICAgICAgICAgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1N0YXJfeWVsbG93X2JpZycpICtcclxuICAgICAgICAgICAgXCInKX1cIixcclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC1yYXRpbmctdmFsdWUge21hcmdpbjowO30nLFxyXG5cclxuICAgICAgICAnKi5naWctc2VsZnJldmlldy1yYXRpbmcgLmdpZy1jb21tZW50LXJhdGluZy12YWx1ZSB7bWFyZ2luOiAycHggNXB4fScsXHJcbiAgICAgICAgJ3VsLmdpZy1jb21tZW50cy1oZWFkZXItcmlnaHQge21hcmdpbi1sZWZ0OjEwcHh9JyxcclxuICAgICAgICAvLycqLmdpZy1jb21tZW50cy1oZWFkZXItcmlnaHQgbGkge21hcmdpbi10b3A6MDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtY291bnQge2xpbmUtaGVpZ2h0Om5vcm1hbH0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWZvb3Rlci1yaWdodCB7bWFyZ2luLWxlZnQ6MTBweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1mb290ZXItbGVmdCwgKi5naWctY29tbWVudHMtaGVhZGVyLWxlZnQgKiwgKi5naWctY29tbWVudHMtbGlua3NDb250YWluZXIge2xpbmUtaGVpZ2h0OjMxcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyIGxpOmFmdGVyIHttYXJnaW4tYm90dG9tOjEwcHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLWd1ZXN0Ym94IHt3aWR0aDogMTc4cHg7fScsXHJcbiAgICAgICAgJyouZ2lnLWNvbXBvc2Vib3gtbW9yZWJveCB7cGFkZGluZzowfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnRzLXVwZGF0ZXMtdmlzaWJsZSB7aGVpZ2h0OmF1dG87bWluLWhlaWdodDo1MHB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50cy11cGRhdGVzLWZ1bGwgLmdpZy1jb21tZW50cy11cGRhdGVzLWxpbmsge3RvcDowfScsXHJcbiAgICAgICAgLy8nKi5naWctY29tcG9zZWJveC1yYXRpbmctc3RhciB7cGFkZGluZzogMCA3cHh9J1xyXG5cclxuICAgICAgICAnKi5naWctY29tbWVudC1ib2R5LCAuZ2lnLWNvbW1lbnQtYm9keSAqIHtsaW5lLWhlaWdodDoyMHB4O30nLFxyXG5cclxuICAgICAgICAnKi5naWctY29tcG9zZWJveC13aXRoQmFkZ2VzICouZ2lnLWNvbXBvc2Vib3gtdGl0bGUgeyBib3R0b206IDVweDsgfScsXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQgLmdpZy1jb21tZW50LWVkaXRib3gge21hcmdpbi1sZWZ0OjA7fScsXHJcbiAgICBdLmpvaW4oJycpLFxyXG4gICAgbW9iaWxlUnRsOiBbXHJcbiAgICAgICAgJyouZ2lnLWNvbW1lbnQtcmVwbGllcyB7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDoxNXB4O30nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LWRhdGEge3BhZGRpbmc6IDB9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudC1zZWxmLWRhdGEge3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6NDFweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtc2hhcmUtcHJvdmlkZXIge2JhY2tncm91bmQtcG9zaXRpb246MTFweDt9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudCAuZ2lnLWNvbW1lbnQtZWRpdGJveCB7bWFyZ2luLXJpZ2h0OjA7fScsXHJcbiAgICBdLmpvaW4oJycpLFxyXG4gICAgbm9uTW9iaWxlOiBbXHJcbiAgICAgICAgJy5naWctY29tbWVudHMtY29udGFpbmVyICogIHtmb250LXNpemU6MTJweDt0cmFuc2l0aW9uOiBub25lIDUwMG1zIGN1YmljLWJlemllcigwLjc4NSwgMC4xMzUsIDAuMTUsIDAuODYpOyAtd2Via2l0LXRyYW5zaXRpb246IG5vbmUgNTAwbXMgY3ViaWMtYmV6aWVyKDAuNzg1LCAwLjEzNSwgMC4xNSwgMC44Nil9JyxcclxuICAgICAgICAnKi5naWctY29tbWVudHMtbGlua3NDb250YWluZXIgbGk6aG92ZXIsICouZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyIGE6aG92ZXIge3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7dGV4dC1kZWNvcmF0aW9uLXNraXA6YWxsfScsXHJcbiAgICAgICAgXCIqLmdpZy1jb21tZW50LXZvdGUtcG9zOmhvdmVyIHtiYWNrZ3JvdW5kLXNpemU6MTRweCAxNHB4O2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgKyBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnVGh1bWJzX3VwX2hvdmVyJywgMSkgKyBcIicpfVwiLFxyXG4gICAgICAgIFwiLmdpZy1jb21tZW50cy1oaXJlcy1pY29ucyAqLmdpZy1jb21tZW50LXZvdGUtcG9zOmhvdmVyIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1RodW1ic191cF9ob3ZlcicpICsgXCInKX1cIixcclxuICAgICAgICBcIiouZ2lnLWNvbW1lbnQtdm90ZS1uZWc6aG92ZXIge2JhY2tncm91bmQtc2l6ZToxNHB4IDE0cHg7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdUaHVtYnNfZG93bl9ob3ZlcicsIDEpICsgXCInKX1cIixcclxuICAgICAgICBcIi5naWctY29tbWVudHMtaGlyZXMtaWNvbnMgKi5naWctY29tbWVudC12b3RlLW5lZzpob3ZlciB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdUaHVtYnNfZG93bl9ob3ZlcicpICsgXCInKX1cIixcclxuICAgICAgICAnKi5naWctY29tbWVudC1mb290ZXIgbGk6aG92ZXIsICouZ2lnLWNvbW1lbnQtcmVwbGllc0Fycm93OmhvdmVyIGRpdiB7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX0nLFxyXG4gICAgICAgICcqLmdpZy1jb21tZW50LXNlbGYtZGF0YTpob3ZlciAqLmdpZy1jb21tZW50LWZsYWcsICouZ2lnLWNvbW1lbnQtZmxhZy12aXNpYmxlIHt2aXNpYmlsaXR5OnZpc2libGU7IH0nLFxyXG4gICAgICAgIFwiKi5naWctY29tbWVudC12b3RlLXBvcy1kb3duOmhvdmVyIHtiYWNrZ3JvdW5kLXNpemU6MTRweCAxNHB4O2JhY2tncm91bmQtaW1hZ2U6IHVybCgnXCIgKyBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnVGh1bWJzX3VwX3ByZXNzZWQnLCAxKSArIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnQtdm90ZS1wb3MtZG93bjpob3ZlciB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdUaHVtYnNfdXBfcHJlc3NlZCcpICsgXCInKX1cIixcclxuICAgICAgICBcIiouZ2lnLWNvbW1lbnQtdm90ZS1uZWctZG93bjpob3ZlciB7YmFja2dyb3VuZC1zaXplOjE0cHggMTRweDtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ1wiICsgSW1hZ2VzLmdldFBob3RvRnVsbE5hbWUoJ1RodW1ic19kb3duX3ByZXNzZWQnLCAxKSArIFwiJyl9XCIsXHJcbiAgICAgICAgXCIuZ2lnLWNvbW1lbnRzLWhpcmVzLWljb25zICouZ2lnLWNvbW1lbnQtdm90ZS1uZWctZG93bjpob3ZlciB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCdcIiArIEltYWdlcy5nZXRQaG90b0Z1bGxOYW1lKCdUaHVtYnNfZG93bl9wcmVzc2VkJykgKyBcIicpfVwiLFxyXG4gICAgXS5qb2luKCcnKSxcclxufTtcclxuIiwiaW1wb3J0IHsgQmFzZUNvbXBvc2VCb3ggfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0Jhc2VDb21wb3NlQm94JztcclxuaW1wb3J0IHsgQ29tbWVudHNQbHVnaW4gfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnRzUGx1Z2luJztcclxuaW1wb3J0IHsgQ29tbWVudERhdGEgfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnREYXRhJztcclxuaW1wb3J0IHsgVXNlclRhZ2dpbmcgfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnRzVXRpbHMnO1xyXG5pbXBvcnQgeyBDb21tZW50IH0gZnJvbSAnc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9Db21tZW50JztcclxuaW1wb3J0IHsgVGV4dE1vZGUgfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnRzLk1vZGVscyc7XHJcbmV4cG9ydCBjbGFzcyBFZGl0Q29tbWVudEJveCBleHRlbmRzIEJhc2VDb21wb3NlQm94IHtcclxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogQ29tbWVudHNQbHVnaW4sIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGRhdGE6IENvbW1lbnREYXRhLCBvbkNsb3NlPzogKGNhbmNlbGVkPzogYm9vbGVhbikgPT4gdm9pZCkge1xyXG4gICAgICAgIHN1cGVyKHBsdWdpbiwgY29udGFpbmVyLCBkYXRhLCBvbkNsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgc3VwZXIucmVuZGVyKCk7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Db21tZW50RGF0YSgpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyTWVkaWFJdGVtSWZOZWVkZWQoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVVJKCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlck1lZGlhSXRlbUlmTmVlZGVkKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5kYXRhLm1lZGlhSXRlbXMgfHwgdGhpcy5kYXRhLm1lZGlhSXRlbXMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5tZWRpYUl0ZW0gPSB0aGlzLmRhdGEubWVkaWFJdGVtc1swXTtcclxuICAgICAgICB0aGlzLnNob3dNZWRpYUl0ZW1QcmV2aWV3KCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNZWRpYUl0ZW0oKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3B1bGF0ZUZyb21Db21tZW50RGF0YSgpIHtcclxuICAgICAgICBpZiAodGhpcy51aUVsZW1lbnRzLnN1bW1hcnlJbnB1dCAmJiB0aGlzLmRhdGEuY29tbWVudFRpdGxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy5zdW1tYXJ5SW5wdXQudmFsdWUgPSB0aGlzLmRhdGEuY29tbWVudFRpdGxlO1xyXG4gICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMuc3VtbWFyeUlucHV0WydyZWZyZXNoUGxhY2Vob2xkZXInXSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMudWlFbGVtZW50cy50ZXh0QXJlYSAmJiB0eXBlb2YgdGhpcy5kYXRhLmNvbW1lbnRUZXh0ICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy50ZXh0QXJlYS5pbm5lckhUTUwgPSB0aGlzLmRhdGEuY29tbWVudFRleHQ7XHJcbiAgICAgICAgICAgIFVzZXJUYWdnaW5nLnJlcGxhY2VTcGFuc1dpdGhVc2VyVGFncyh0aGlzLnVpRWxlbWVudHMudGV4dEFyZWEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdWJtaXRDYWxsYmFjayhyZXNwb25zZTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgb2xkRGVzY2VuZGFudHNDb3VudEFycjogQXJyYXk8e1xyXG4gICAgICAgICAgICBjb21tZW50OiBDb21tZW50O1xyXG4gICAgICAgICAgICBvbGREZXNjZW5kYW50c0NvdW50OiBudW1iZXI7XHJcbiAgICAgICAgfT4gPSBbXTtcclxuICAgICAgICBsZXQgY3VyckNvbW1lbnRJRCA9IHJlc3BvbnNlWydjb21tZW50J11bJ0lEJ107XHJcbiAgICAgICAgd2hpbGUgKGN1cnJDb21tZW50SUQpIHtcclxuICAgICAgICAgICAgY29uc3QgY29tbWVudCA9IHRoaXMucGx1Z2luLmdldENvbW1lbnQoY3VyckNvbW1lbnRJRCk7XHJcbiAgICAgICAgICAgIG9sZERlc2NlbmRhbnRzQ291bnRBcnIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBjb21tZW50LFxyXG4gICAgICAgICAgICAgICAgb2xkRGVzY2VuZGFudHNDb3VudDogY29tbWVudC5kZXNjZW5kYW50c0NvdW50LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY3VyckNvbW1lbnRJRCA9IGNvbW1lbnQuZGF0YS5wYXJlbnRJRDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN1cGVyLnN1Ym1pdENhbGxiYWNrKHJlc3BvbnNlKTtcclxuICAgICAgICBpZiAocmVzcG9uc2VbJ2Vycm9yQ29kZSddICE9IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgY29tbWVudCA9IHRoaXMucGx1Z2luLmdldENvbW1lbnQocmVzcG9uc2VbJ2NvbW1lbnQnXVsnSUQnXSk7XHJcblxyXG4gICAgICAgIGNvbW1lbnQuZGF0YS5yZXBsaWVzID0gdGhpcy5kYXRhLnJlcGxpZXM7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgeyBjb21tZW50LCBvbGREZXNjZW5kYW50c0NvdW50IH0gb2Ygb2xkRGVzY2VuZGFudHNDb3VudEFycikge1xyXG4gICAgICAgICAgICBjb21tZW50LmRlc2NlbmRhbnRzQ291bnQgPSBvbGREZXNjZW5kYW50c0NvdW50O1xyXG4gICAgICAgICAgICBjb21tZW50LnVwZGF0ZVJlcGxpZXNDb3VudCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbW1lbnQuZGF0YS5zdGF0dXMgPT09ICdwZW5kaW5nJykge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zdHJlYW1JbmZvLmNvbW1lbnRDb3VudC0tO1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi51cGRhdGVDb3VudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVVSSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMucGx1Z2luLnVzZXIuaXNDb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdXBlci51cGRhdGVVSSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vI3JlZ2lvbiBPdmVycmlkZXNcclxuXHJcbiAgICBwdWJsaWMgZ2V0U3VibWl0VGV4dCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFRleHQoJ2RvbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3VibWl0KCk6IHZvaWQge1xyXG4gICAgICAgIHZhciB1cGRhdGVQYXJhbXM6IGFueSA9IHtcclxuICAgICAgICAgICAgY29tbWVudElEOiB0aGlzLmRhdGEuSUQsXHJcbiAgICAgICAgICAgIGNvbW1lbnRUZXh0OiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVDb21tZW50Qm9keSAhPSAnZGlzYWJsZWQnID8gdGhpcy5kYXRhLmNvbW1lbnRUZXh0IDogbnVsbCxcclxuICAgICAgICAgICAgY29tbWVudFRpdGxlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVDb21tZW50VGl0bGVzICE9ICdkaXNhYmxlZCcgJiYgIXRoaXMuZGF0YS5pc1JlcGx5KCkgPyB0aGlzLmRhdGEuY29tbWVudFRpdGxlIDogbnVsbCxcclxuICAgICAgICAgICAgdGFnZ2VkVXNlcnM6IHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVVzZXJUYWdnaW5nID8gdGhpcy5kYXRhLnRhZ2dlZFVzZXJzIDogbnVsbCxcclxuICAgICAgICAgICAgcmF0aW5nczogdGhpcy5wbHVnaW4udGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUyA/IHRoaXMuZGF0YS5yYXRpbmdzIDogbnVsbCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHJlcyA9PiB0aGlzLnN1Ym1pdENhbGxiYWNrKHJlcyksXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZU1lZGlhSXRlbXMpIHVwZGF0ZVBhcmFtcy5tZWRpYUl0ZW1zID0gdGhpcy5kYXRhLm1lZGlhSXRlbXMubGVuZ3RoID4gMCA/IHRoaXMuZGF0YS5tZWRpYUl0ZW1zWzBdLnVybCA6IFtdO1xyXG5cclxuICAgICAgICBnaWd5YS5jb21tZW50cy51cGRhdGVDb21tZW50KHRoaXMucGx1Z2luLnBhcmFtcywgdXBkYXRlUGFyYW1zKTtcclxuXHJcbiAgICAgICAgdmFyIGNvbW1lbnQgPSB0aGlzLnBsdWdpbi5nZXRDb21tZW50KHRoaXMuZGF0YS5JRCk7XHJcbiAgICAgICAgY29tbWVudC5kYXRhID0gdGhpcy5kYXRhO1xyXG4gICAgICAgIGNvbW1lbnQuZGF0YS5lZGl0ZWQgPSB0cnVlO1xyXG4gICAgICAgIGNvbW1lbnQuaW5mbyA9ICcnO1xyXG4gICAgICAgIGNvbW1lbnQuZXJyb3IgPSAnJztcclxuICAgICAgICBjb21tZW50LmlzUG9zdCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmIChjb21tZW50LmlzUG9zdFBlbmRpbmcoKSlcclxuICAgICAgICAgICAgY29tbWVudC5pbmZvID1cclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnRleHRNb2RlID09IFRleHRNb2RlLlJFVklFV1MgJiYgY29tbWVudC5sZXZlbCA9PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmdldFRleHQoJ3lvdXJfZWRpdGVkX3Jldmlld19pc19hd2FpdGluZ19tb2RlcmF0aW9uJylcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0VGV4dCgneW91cl9lZGl0ZWRfY29tbWVudF9pc19hd2FpdGluZ19tb2RlcmF0aW9uJyk7XHJcblxyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICBjb21tZW50LnVwZGF0ZUFsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZnRlclJlbmRlcigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmhpZGVFbGVtZW50KHRoaXMudWlFbGVtZW50cy5sb2dvdXRMaW5rKTtcclxuICAgICAgICB0aGlzLmhpZGVFbGVtZW50KHRoaXMudWlFbGVtZW50cy5zaGFyZVNlY3Rpb24pO1xyXG4gICAgICAgIHRoaXMuaGlkZUVsZW1lbnQodGhpcy51aUVsZW1lbnRzLnBvc3RBbm9ueW1vdXNseVNlY3Rpb24pO1xyXG4gICAgICAgIHRoaXMuaGlkZUVsZW1lbnQodGhpcy51aUVsZW1lbnRzLmxvZ2luQmFyKTtcclxuXHJcbiAgICAgICAgdGhpcy51aUVsZW1lbnRzLmxvZ291dExpbmsgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudWlFbGVtZW50cy5zaGFyZVNlY3Rpb24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMudWlFbGVtZW50cy5wb3N0QW5vbnltb3VzbHlTZWN0aW9uID0gbnVsbDtcclxuICAgICAgICB0aGlzLnVpRWxlbWVudHMubG9naW5CYXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUaXRsZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFRleHQoJ2VkaXRpbmcnKSArICcuLi4nO1xyXG4gICAgfVxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG59XHJcbiIsImV4cG9ydCB2YXIgaW1nQmFzZSA9IChnaWd5YS50aGlzU2NyaXB0ID8gZ2lneWEuXy5nZXRDZG5SZXNvdXJjZSgpIDogJycpICsgJy9ncy9pL2NvbW1lbnRzMi8nO1xyXG4iLCJpbXBvcnQgeyBCYXNlQ29tcG9zZUJveCB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQmFzZUNvbXBvc2VCb3gnO1xyXG5pbXBvcnQgeyBDb21wb3NlU2hhcmUgfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbXBvc2VTaGFyZSc7XHJcbmltcG9ydCB7IENvbW1lbnQgfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnQnO1xyXG5pbXBvcnQgeyBDb21tZW50c1BsdWdpbiB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudHNQbHVnaW4nO1xyXG5pbXBvcnQgeyBDb21tZW50RGF0YSB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudERhdGEnO1xyXG5pbXBvcnQgeyBUZXh0TW9kZSB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQ29tbWVudHMuTW9kZWxzJztcclxuZXhwb3J0IGNsYXNzIE5ld0NvbW1lbnRCb3ggZXh0ZW5kcyBCYXNlQ29tcG9zZUJveCB7XHJcbiAgICBwcml2YXRlIHNoYXJlOiBDb21wb3NlU2hhcmU7XHJcbiAgICBwcml2YXRlIHBvc3RBbm9ueW1vdXNseTogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgc2VsZlJldmlldzogQ29tbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46IENvbW1lbnRzUGx1Z2luLCBjb250YWluZXI6IEhUTUxFbGVtZW50LCBwYXJlbnRDb21tZW50SUQ/OiBzdHJpbmcsIG9uQ2xvc2U/OiAoY2FuY2VsZWQ/OiBib29sZWFuKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgc3VwZXIocGx1Z2luLCBjb250YWluZXIsIG5ldyBDb21tZW50RGF0YSgnbmV3Q29tbWVudCcsIHBhcmVudENvbW1lbnRJRCksIG9uQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vI3JlZ2lvbiBSZW5kZXJpbmcgdGhlIGVsZW1lbnRzXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgLy8gTm8gbmVlZCB0byByZW5kZXIgaWYgbnJlYWRvbmx5XHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnJlYWRPbmx5IHx8IHRoaXMucGx1Z2luLnN0cmVhbUluZm8uc3RhdHVzID09ICdyZWFkT25seScpIHJldHVybjtcclxuXHJcbiAgICAgICAgc3VwZXIucmVuZGVyKCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJTZWxmUmV2aWV3SWZOZWVkZWQoKTtcclxuICAgICAgICB0aGlzLnJlbmRlclNoYXJlT3B0aW9ucygpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyUG9zdEFub255bW91c2x5KCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVVSSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclNoYXJlT3B0aW9ucygpIHtcclxuICAgICAgICBpZiAoIXRoaXMudWlFbGVtZW50cy5zaGFyZVNlY3Rpb24gfHwgIXRoaXMudWlFbGVtZW50cy5zaGFyZVByb3ZpZGVycykgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgZW5hYmxlZFByb3ZpZGVycyA9IHRoaXMucGx1Z2luLnBhcmFtc1snZW5hYmxlZFNoYXJlUHJvdmlkZXJzJ10gfHwgdGhpcy5wbHVnaW4ucGFyYW1zWydlbmFibGVkUHJvdmlkZXJzJ10gfHwgJyonO1xyXG4gICAgICAgIHZhciBkaXNhYmxlZFByb3ZpZGVycyA9IHRoaXMucGx1Z2luLnBhcmFtc1snZGlzYWJsZWRTaGFyZVByb3ZpZGVycyddIHx8IHRoaXMucGx1Z2luLnBhcmFtc1snZGlzYWJsZWRQcm92aWRlcnMnXSB8fCAnJztcclxuICAgICAgICB2YXIgYXJQcm92aWRlcnMgPSBnaWd5YS5zb2NpYWxpemUuZ2V0UHJvdmlkZXJzQnlOYW1lKGVuYWJsZWRQcm92aWRlcnMpO1xyXG4gICAgICAgIGFyUHJvdmlkZXJzID0gZ2lneWEuc29jaWFsaXplLmhpZGVQcm92aWRlcnNCeU5hbWUoYXJQcm92aWRlcnMsIGRpc2FibGVkUHJvdmlkZXJzKTtcclxuICAgICAgICBhclByb3ZpZGVycyA9IGdpZ3lhLnNvY2lhbGl6ZS5nZXRQcm92aWRlcnNGb3JSZXF1aXJlZENhcGFiaWxpdGllcyhhclByb3ZpZGVycywgWydhY3Rpb25zJ10pO1xyXG5cclxuICAgICAgICB0aGlzLnNoYXJlID0gbmV3IENvbXBvc2VTaGFyZSh0aGlzLnVpRWxlbWVudHMuc2hhcmVQcm92aWRlcnMsIHRoaXMucGx1Z2luLCBhclByb3ZpZGVycywgdGhpcy5wbHVnaW4udXNlci5pZGVudGl0aWVzKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJQb3N0QW5vbnltb3VzbHkoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVpRWxlbWVudHMucG9zdEFub255bW91c2x5U2VjdGlvbikgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmFsbG93QW5vbnltb3VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy5wb3N0QW5vbnltb3VzbHlTZWN0aW9uLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy51aUVsZW1lbnRzLnBvc3RBbm9ueW1vdXNseVNlY3Rpb24pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zdEFub255bW91c2x5KCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgYW5vblRvb2x0aXA7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi50ZXh0TW9kZSA9PSBUZXh0TW9kZS5DT01NRU5UUylcclxuICAgICAgICAgICAgICAgIGFub25Ub29sdGlwID0gdGhpcy5nZXRUZXh0KCd3aGVuX3Bvc3RpbmdfYW5vbnltb3VzbHksX290aGVyX3VzZXJzX3dpbGxfbm90X3NlZV95b3VyX3BlcnNvbmFsX2luZm9fbmV4dF90b195b3VyX2NvbW1lbnQuJyk7XHJcbiAgICAgICAgICAgIGVsc2UgYW5vblRvb2x0aXAgPSB0aGlzLmdldFRleHQoJ3doZW5fcG9zdGluZ19hbm9ueW1vdXNseSxfb3RoZXJfdXNlcnNfd2lsbF9ub3Rfc2VlX3lvdXJfcGVyc29uYWxfaW5mb19uZXh0X3RvX3lvdXJfcmV2aWV3LicpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGFyVG9vbHRpcCA9IGFub25Ub29sdGlwLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSA2OyBpIDwgYXJUb29sdGlwLmxlbmd0aDsgaSArPSA2KSB7XHJcbiAgICAgICAgICAgICAgICBhclRvb2x0aXAuc3BsaWNlKGksIDAsIFsnXFxuJ10pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMucG9zdEFub255bW91c2x5U2VjdGlvbi5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgYXJUb29sdGlwLmpvaW4oJyAnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclNlbGZSZXZpZXdJZk5lZWRlZCgpIHtcclxuICAgICAgICB0aGlzLnNlbGZSZXZpZXcgPSB0aGlzLnBsdWdpbi5nZXRTZWxmUmV2aWV3KCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNlbGZSZXZpZXcgfHwgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYWxsb3dNdWx0aXBsZVJldmlld3NQZXJVc2VyIHx8IHRoaXMuZGF0YS5pc1JlcGx5KCkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gZ2lneWEudXRpbHMudGVtcGxhdGVzLmZpbGwodGhpcy5wbHVnaW4udGVtcGxhdGVzWydteVJldmlldyddLCB7XHJcbiAgICAgICAgICAgIGxvZ291dDogdGhpcy5nZXRUZXh0KCdsb2dvdXQnKSxcclxuICAgICAgICAgICAgeW91cl9yZXZpZXc6IHRoaXMuZ2V0VGV4dCgneW91cl9yZXZpZXcnKSxcclxuICAgICAgICAgICAgc3VtbWFyeTogdGhpcy5nZXRUZXh0KCdzdW1tYXJ5X2NvbG9uJyksXHJcbiAgICAgICAgICAgIHJldmlldzogdGhpcy5nZXRUZXh0KCdyZXZpZXdfY29sb24nKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5idWlsZFVJRWxlbWVudHNPYmooKTtcclxuICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVNlbGZSZXZpZXcoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogc2hvdWxkIGJlIG1lcmdlZCB3aXRoIHRoZSBjb2RlIHRoYXQgZHJhd3MgcmF0aW5nIGRpbWVuc2lvbnMgZm9yIGEgbmV3IGNvbW1lbnRcclxuICAgIGdldFNlbGZSYXRpbmdEaW1lbnNpb25FbGVtZW50KHNlbGZSZXZpZXc6IENvbW1lbnQsIGRpbWVuc2lvbjogc3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIHJhdGluZ1ZhbHVlID0gc2VsZlJldmlldy5kYXRhLnJhdGluZ3NbZGltZW5zaW9uXTtcclxuICAgICAgICB2YXIgZWxEaW1lbnNpb246IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZWxEaW1lbnNpb24uaW5uZXJIVE1MID0gdGhpcy5wbHVnaW4udGVtcGxhdGVzWydyYXRpbmcnXTtcclxuICAgICAgICBlbERpbWVuc2lvbi5jbGFzc05hbWUgPSAnZ2lnLXNlbGZyZXZpZXctcmF0aW5nIGdpZy1zZWxmcmV2aWV3LXJhdGluZy0nICsgZGltZW5zaW9uO1xyXG5cclxuICAgICAgICB2YXIgZGltVGl0bGU6IHN0cmluZztcclxuICAgICAgICBpZiAoZGltZW5zaW9uID09ICdfb3ZlcmFsbCcpIHtcclxuICAgICAgICAgICAgZGltVGl0bGUgPSB0aGlzLmdldFRleHQoJ215X3JhdGluZ19jb2xvbicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBkaW1lbnNpb25zID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MucmF0aW5nRGltcztcclxuICAgICAgICAgICAgaWYgKGRpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaW1lbnNpb25zW2ldLmlkID09IGRpbWVuc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaW1UaXRsZSA9IGRpbWVuc2lvbnNbaV0ubmFtZSArICc6JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZGltVGl0bGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgdmFyIGVsRGltVGl0bGUgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGVsRGltZW5zaW9uLCAnZ2lnLWNvbW1lbnQtcmF0aW5nLXRpdGxlJylbMF07XHJcbiAgICAgICAgaWYgKGVsRGltVGl0bGUpIGVsRGltVGl0bGUuaW5uZXJIVE1MID0gZGltVGl0bGU7XHJcblxyXG4gICAgICAgIHZhciBlbERpbVZhbHVlID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyhlbERpbWVuc2lvbiwgJ2dpZy1jb21tZW50LXJhdGluZy12YWx1ZScpWzBdO1xyXG4gICAgICAgIGlmIChlbERpbVZhbHVlKSB7XHJcbiAgICAgICAgICAgIGVsRGltVmFsdWUuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIGVsRGltVmFsdWUudGl0bGUgPSByYXRpbmdWYWx1ZS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsQ3VyclN0YXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxDdXJyU3RhciwgJ2dpZy1zZWxmcmV2aWV3LXJhdGluZy1zdGFyJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhckNsYXNzID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCBNYXRoLmZsb29yKHJhdGluZ1ZhbHVlKSkgc3RhckNsYXNzID0gJ2dpZy1zZWxmcmV2aWV3LXJhdGluZy1zdGFyLWZ1bGwnO1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KGVsQ3VyclN0YXIsIHN0YXJDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBlbERpbVZhbHVlLmFwcGVuZENoaWxkKGVsQ3VyclN0YXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbERpbWVuc2lvbjtcclxuICAgIH1cclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gU2hhcmluZ1xyXG5cclxuICAgIGdldFVzZXJBY3Rpb24oY29tbWVudERhdGE6IENvbW1lbnREYXRhLCB1c2VyQWN0aW9uOiBhbnkgPSBudWxsKTogT2JqZWN0IHtcclxuICAgICAgICBpZiAoIXVzZXJBY3Rpb24pIHVzZXJBY3Rpb24gPSB0aGlzLmRhdGEuaXNSZXBseSgpID8gdGhpcy5wbHVnaW4ucGFyYW1zWydyZXBseVVzZXJBY3Rpb24nXSA6IHRoaXMucGx1Z2luLnBhcmFtc1sndXNlckFjdGlvbiddO1xyXG5cclxuICAgICAgICBpZiAoIXVzZXJBY3Rpb24pIHtcclxuICAgICAgICAgICAgdXNlckFjdGlvbiA9IG5ldyBnaWd5YS5zb2NpYWxpemUuVXNlckFjdGlvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpb24gPSB1c2VyQWN0aW9uLmNsb25lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdXNlckFjdGlvbi50aXRsZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4udGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUyAmJiAhdGhpcy5kYXRhLmlzUmVwbHkoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbW1lbnREYXRhLnJhdGluZ3MgJiYgY29tbWVudERhdGEucmF0aW5nc1snX292ZXJhbGwnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJBY3Rpb24udGl0bGUgPSB0aGlzLmdldFRleHQoJ2lfcmF0ZWRfcGFnZXRpdGxlX2FzX3JhdGluZ181JywgJyVyYXRpbmcnLCBjb21tZW50RGF0YS5yYXRpbmdzWydfb3ZlcmFsbCddLnRvU3RyaW5nKCkpLnJlcGxhY2UoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICclcGFnZVRpdGxlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckFjdGlvbi50aXRsZSA9IHRoaXMuZ2V0VGV4dCgnbXlfcmV2aWV3X29uX2NvbG9uX3BhZ2V0aXRsZScsICclcGFnZVRpdGxlJywgZG9jdW1lbnQudGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGlvbi50aXRsZSA9IHRoaXMuZ2V0VGV4dCgnY29tbWVudGVkX29uX2NvbG9uX3BhZ2V0aXRsZScsICclcGFnZVRpdGxlJywgZG9jdW1lbnQudGl0bGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdXNlckFjdGlvbi5saW5rQmFjaylcclxuICAgICAgICAgICAgdXNlckFjdGlvbi5saW5rQmFjayA9IGdpZ3lhLl8ucGx1Z2lucy51dGlscy5VUkwuYWRkT3JSZXBsYWNlSGFzaEZyYWdtZW50KGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsICdnaWdfY29tbWVudF9pZCcsICckY29tbWVudElEJCcpO1xyXG4gICAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgICAgIHAuaW5uZXJIVE1MID0gY29tbWVudERhdGEuY29tbWVudFRleHQucmVwbGFjZSgvPGJyPi9nLCAnXFxuJykucmVwbGFjZSgvPFxcLz9kaXY+L2csICdcXG4nKTtcclxuICAgICAgICB1c2VyQWN0aW9uLnVzZXJNZXNzYWdlID0gcC5pbm5lclRleHQgfHwgcC50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgICAgdmFyIHBsYWNlaG9sZGVycyA9IHtcclxuICAgICAgICAgICAgY29tbWVudFRpdGxlOiBjb21tZW50RGF0YS5jb21tZW50VGl0bGUsXHJcbiAgICAgICAgICAgIGNvbW1lbnRUZXh0OiBjb21tZW50RGF0YS5jb21tZW50VGV4dCxcclxuICAgICAgICAgICAgcmF0aW5nOiBjb21tZW50RGF0YS5yYXRpbmdzID8gY29tbWVudERhdGEucmF0aW5nc1snX292ZXJhbGwnXSA6IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGFjZWhvbGRlcnNbJ3JhdGluZ0Rlc2NyaXB0aW9uJ10gPSBbXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VGV4dCgnaV9oYXRlX2l0JyksXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VGV4dCgnaV9kb250X2xpa2VfaXQnKSxcclxuICAgICAgICAgICAgdGhpcy5nZXRUZXh0KCdpdHNfb2snKSxcclxuICAgICAgICAgICAgdGhpcy5nZXRUZXh0KCdpX2xpa2VfaXQnKSxcclxuICAgICAgICAgICAgdGhpcy5nZXRUZXh0KCdpX2xvdmVfaXQnKSxcclxuICAgICAgICBdW3BsYWNlaG9sZGVycy5yYXRpbmcgLSAxXTtcclxuICAgICAgICByZXR1cm4gZ2lneWEuZ2xvYmFsLmZpbGxVc2VyQWN0aW9uVGVtcGxhdGUodXNlckFjdGlvbiwgcGxhY2Vob2xkZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gRXZlbnQgaGFuZGxpbmdcclxuICAgIGJpbmRFdmVudHMoKSB7XHJcbiAgICAgICAgc3VwZXIuYmluZEV2ZW50cygpO1xyXG5cclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnVpRWxlbWVudHMucG9zdEFub255bW91c2x5U2VjdGlvbiwgJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBvc3RBbm9ueW1vdXNseSA9ICF0aGlzLnBvc3RBbm9ueW1vdXNseTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3N0QW5vbnltb3VzbHkoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gVXBkYXRpbmcgdGhlIFVJXHJcbiAgICB1cGRhdGVVSSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMudWlFbGVtZW50cykgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIHVnbHkgYW5kIG5lZWQgcmVmYWN0b3JpbmdcclxuICAgICAgICAvLyBJZiB0aGUgXCJzZWxmIHJldmlld1wiIGhhcyBjaGFuZ2VkLCB3ZSBtdXN0IHJlLXJlbmRlciB0aGUgdWkuXHJcbiAgICAgICAgdmFyIHJldmlldyA9IHRoaXMucGx1Z2luLmdldFNlbGZSZXZpZXcoKTtcclxuICAgICAgICBpZiAoIXRoaXMuZGF0YS5pc1JlcGx5KCkgJiYgIXRoaXMucGx1Z2luLnNldHRpbmdzLmFsbG93TXVsdGlwbGVSZXZpZXdzUGVyVXNlcikge1xyXG4gICAgICAgICAgICBpZiAocmV2aWV3ICE9IHRoaXMuc2VsZlJldmlldykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXZpZXcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsZlJldmlldygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdXBlci51cGRhdGVVSSgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2hhcmVPcHRpb25zKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVQb3N0QW5vbnltb3VzbHkoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTZWxmUmV2aWV3KCkge1xyXG4gICAgICAgIC8vIFRPRE86IHRoaXMgd2hvbGUgY29kZSBpcyBiYWQuIFNlbGYtcmV2aWV3IHNob3VsZCBiZSBzZXBhcmF0ZWQgdG8gYSBkaWZmZXJlbnQgY2xhc3MsIG5vdCByZWxhdGVkIHRvIENvbXBvc2VCb3ggaW4gYW55IHdheVxyXG4gICAgICAgIHZhciBlbFN1bW1hcnlDb250YWluZXIgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKHRoaXMuY29udGFpbmVyLCAnZ2lnLXNlbGZyZXZpZXctc3VtbWFyeS1jb250YWluZXInKVswXTtcclxuICAgICAgICB2YXIgZWxTdW1tYXJ5ID0gZ2lneWEudXRpbHMuRE9NLmdldEVsZW1lbnRzQnlDbGFzcyh0aGlzLmNvbnRhaW5lciwgJ2dpZy1zZWxmcmV2aWV3LXN1bW1hcnknKVswXTtcclxuICAgICAgICBpZiAoZWxTdW1tYXJ5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGZSZXZpZXcgJiYgdGhpcy5zZWxmUmV2aWV3LmRhdGEuY29tbWVudFRpdGxlKSB7XHJcbiAgICAgICAgICAgICAgICBlbFN1bW1hcnkuaW5uZXJIVE1MID0gdGhpcy5zZWxmUmV2aWV3LmRhdGEuY29tbWVudFRpdGxlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsU3VtbWFyeUNvbnRhaW5lcikgZWxTdW1tYXJ5Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsU3VtbWFyeS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmIChlbFN1bW1hcnlDb250YWluZXIpIGVsU3VtbWFyeUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBlbFJldmlld0JvZHkgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKHRoaXMuY29udGFpbmVyLCAnZ2lnLXNlbGZyZXZpZXctYm9keScpWzBdO1xyXG4gICAgICAgIGlmIChlbFJldmlld0JvZHkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZlJldmlldyAmJiB0aGlzLnNlbGZSZXZpZXcuZGF0YS5jb21tZW50VGV4dCkge1xyXG4gICAgICAgICAgICAgICAgZWxSZXZpZXdCb2R5LmlubmVySFRNTCA9IGdpZ3lhLmdsb2JhbC53YnIodGhpcy5zZWxmUmV2aWV3LmRhdGEuY29tbWVudFRleHQucmVwbGFjZSgvXFxuL2csICc8YnIgLz4nKSwgMjApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxSZXZpZXdCb2R5LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsUmV2aWV3Qm9keUNvbnRhaW5lciA9IGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50c0J5Q2xhc3ModGhpcy5jb250YWluZXIsICdnaWctc2VsZnJldmlldy1ib2R5LWNvbnRhaW5lcicpWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsUmV2aWV3Qm9keUNvbnRhaW5lcikgZWxSZXZpZXdCb2R5Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBtYXhEaW1XaWR0aCA9IDA7XHJcbiAgICAgICAgdmFyIGVsUmF0aW5ncyA9IGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50c0J5Q2xhc3ModGhpcy5jb250YWluZXIsICdnaWctc2VsZnJldmlldy1yYXRpbmdzJylbMF07XHJcbiAgICAgICAgaWYgKGVsUmF0aW5ncykge1xyXG4gICAgICAgICAgICBlbFJhdGluZ3MuaWQgPSAnZ2lnXycgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgZWxSYXRpbmdzLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICBpZiAoZWxSYXRpbmdzICYmIHRoaXMuc2VsZlJldmlldy5kYXRhLnJhdGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGRpbWVuc2lvbiBpbiB0aGlzLnNlbGZSZXZpZXcuZGF0YS5yYXRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsRGltZW5zaW9uID0gdGhpcy5nZXRTZWxmUmF0aW5nRGltZW5zaW9uRWxlbWVudCh0aGlzLnNlbGZSZXZpZXcsIGRpbWVuc2lvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbERpbWVuc2lvbikgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpbWVuc2lvbiAhPSAnX292ZXJhbGwnIHx8ICFlbFJhdGluZ3MuZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbFJhdGluZ3MuYXBwZW5kQ2hpbGQoZWxEaW1lbnNpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsUmF0aW5ncy5pbnNlcnRCZWZvcmUoZWxEaW1lbnNpb24sIGVsUmF0aW5ncy5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsRGltVGl0bGUgPSBnaWd5YS51dGlscy5ET00uZ2V0RWxlbWVudHNCeUNsYXNzKGVsRGltZW5zaW9uLCAnZ2lnLWNvbW1lbnQtcmF0aW5nLXRpdGxlJylbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4RGltV2lkdGggPSBNYXRoLm1heChtYXhEaW1XaWR0aCwgZWxEaW1UaXRsZS5vZmZzZXRXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRpbmcgdGhlIENTUyBmb3IgdGhlIG1heCBjYXRlZ29yeSB3aWR0aFxyXG4gICAgICAgICAgICAgICAgZ2lneWEuXy5wbHVnaW5zLnV0aWxzLmNzcy5hZGRDc3MoJyMnICsgZWxSYXRpbmdzLmlkICsgJyAqLmdpZy1jb21tZW50LXJhdGluZy10aXRsZSB7IHdpZHRoOicgKyBtYXhEaW1XaWR0aCArICdweDsgfScsICcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTaGFyZU9wdGlvbnMoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVpRWxlbWVudHMuc2hhcmVTZWN0aW9uKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICgodGhpcy5wbHVnaW4udXNlci5pc0Nvbm5lY3RlZCB8fCAhdGhpcy5wbHVnaW4udXNlci5pc0d1ZXN0KSAmJiB0aGlzLnNoYXJlLnByb3ZpZGVycy5sZW5ndGggPiAwICYmIHRoaXMucGx1Z2luLnNoYXJlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMuc2hhcmVTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5zaGFyZS51cGRhdGVJY29ucygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy5zaGFyZVNlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUG9zdEFub255bW91c2x5KCkge1xyXG4gICAgICAgIGlmICghdGhpcy51aUVsZW1lbnRzLnBvc3RBbm9ueW1vdXNseVNlY3Rpb24gfHwgIXRoaXMudWlFbGVtZW50cy5wb3N0QW5vbnltb3VzbHlDaGVja2JveCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMucGx1Z2luLnVzZXIuaXNDb25uZWN0ZWQgfHwgdGhpcy5wbHVnaW4udXNlci5pc0d1ZXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy5wb3N0QW5vbnltb3VzbHlTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLnBvc3RBbm9ueW1vdXNseVNlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucG9zdEFub255bW91c2x5KSB7XHJcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQodGhpcy51aUVsZW1lbnRzLnBvc3RBbm9ueW1vdXNseUNoZWNrYm94LCAnZ2lnLWNvbW1lbnRzLWNoZWNrYm94LWNoZWNrZWQnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KHRoaXMudWlFbGVtZW50cy5wb3N0QW5vbnltb3VzbHlDaGVja2JveCwgJ2dpZy1jb21tZW50cy1jaGVja2JveC1jaGVja2VkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxvZ2luTG9nb3V0RWxlbWVudHMoKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTG9naW5Mb2dvdXRFbGVtZW50cygpO1xyXG4gICAgICAgIHZhciBlbE9yID0gdGhpcy5nZXRFbGVtZW50KCdvcicpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy51aUVsZW1lbnRzLmxvZ2luQmFyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTG9naW5Ecm9wZG93bkVuYWJsZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnVzZXIuaXNDb25uZWN0ZWQgfHwgdGhpcy5wbHVnaW4udXNlci5pc0d1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLmxvZ2luQmFyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VTaXRlTG9naW4gJiYgdGhpcy51aUVsZW1lbnRzLnNpdGVMb2dpbkJ1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMuc2l0ZUxvZ2luQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVpRWxlbWVudHMuc29jaWFsTG9naW5CdXR0b24pIHRoaXMudWlFbGVtZW50cy5zb2NpYWxMb2dpbkJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVpRWxlbWVudHMuc2l0ZUxvZ2luQnV0dG9uKSB0aGlzLnVpRWxlbWVudHMuc2l0ZUxvZ2luQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51aUVsZW1lbnRzLnNvY2lhbExvZ2luQnV0dG9uKSB0aGlzLnVpRWxlbWVudHMuc29jaWFsTG9naW5CdXR0b24uc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aUVsZW1lbnRzLmxvZ2luQmFyLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy5sb2dpbkJhci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy51aUVsZW1lbnRzLmd1ZXN0TG9naW5CdXR0b24pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmFsbG93R3Vlc3QgJiYgdGhpcy5pc0xvZ2luRHJvcGRvd25FbmFibGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy5ndWVzdExvZ2luQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZWxPcikgZWxPci5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVpRWxlbWVudHMuZ3Vlc3RMb2dpbkJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChlbE9yKSBlbE9yLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIE92ZXJyaWRlc1xyXG4gICAgcHVibGljIGFmdGVyUmVuZGVyKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaGlkZUVsZW1lbnQodGhpcy51aUVsZW1lbnRzLmNhbmNlbEJ1dHRvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFN1Ym1pdFRleHQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUZXh0KCdwb3N0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRpdGxlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgdmFyIHRpdGxlOiBzdHJpbmc7XHJcbiAgICAgICAgdmFyIHBhcmVudENvbW1lbnQgPSB0aGlzLnBsdWdpbi5nZXRDb21tZW50KHRoaXMuZGF0YS5wYXJlbnRJRCk7XHJcbiAgICAgICAgaWYgKHBhcmVudENvbW1lbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB2YXIgdGl0bGVJZCA9IHRoaXMucGx1Z2luLnRleHRNb2RlID09IFRleHRNb2RlLlJFVklFV1MgPyAnY29tbWVudF9vbl91c2VybmFtZV9yZXZpZXcnIDogJ3JlcGx5X3RvX3VzZXJuYW1lJztcclxuICAgICAgICAgICAgdGl0bGUgPSB0aGlzLmdldFRleHQoXHJcbiAgICAgICAgICAgICAgICB0aXRsZUlkLFxyXG4gICAgICAgICAgICAgICAgJyV1c2VybmFtZScsXHJcbiAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJnaWctY29tcG9zZWJveC11c2VybmFtZVwiPicgKyBnaWd5YS51dGlscy5zYW5pdGl6ZS5zYW5pdGl6ZUhUTUwocGFyZW50Q29tbWVudC5nZXRVc2VybmFtZSgpKSArICc8L3NwYW4+JyxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4udXNlci5pc0Nvbm5lY3RlZCB8fCB0aGlzLnBsdWdpbi51c2VyLmlzR3Vlc3QpIHtcclxuICAgICAgICAgICAgICAgIHRpdGxlID0gdGhpcy5nZXRUZXh0KCdoZWxsb191c2VybmFtZScsICcldXNlcm5hbWUnLCB0aGlzLnBsdWdpbi5nZXRVc2VybmFtZSgpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRpdGxlID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRpdGxlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdWJtaXQoZG9udFB1Ymxpc2g/OiBib29sZWFuKSB7XHJcbiAgICAgICAgdmFyIHBvc3RCdXR0b24gPSB0aGlzLnVpRWxlbWVudHMuc3VibWl0QnV0dG9uO1xyXG4gICAgICAgIHZhciB0YkNvbW1lbnRUaXRsZSA9IHRoaXMudWlFbGVtZW50cy5zdW1tYXJ5SW5wdXQ7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4udXNlci5pc0d1ZXN0ICYmICF0aGlzLnBsdWdpbi51c2VyLmlzQ29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgIC8vbG9nZ2VkIG91dFxyXG4gICAgICAgICAgICB2YXIgb25Mb2dpbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0KCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VTaXRlTG9naW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25TaXRlTG9naW5DbGljayhvbkxvZ2luKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25Mb2dpbkNsaWNrKHBvc3RCdXR0b24sIHRoaXMucGx1Z2luLnNldHRpbmdzLmFsbG93R3Vlc3QsIG9uTG9naW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICB2YXIgcGVuZGluZ0NvbW1lbnRJZCA9ICdwZW5kaW5nXycgKyB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRhdGEuaXNSZXBseSgpKSB0aGlzLmNsb3NlKCk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGV2ZW50dWFsbHkgdGhpcyBzaG91bGQgYmUgdmVyeSBzbWFsbCwgYXMgdGhlIG1vZGVsIHdpbGwgYmUgdXBkYXRlZCB3aGlsZSBjaGFuZ2luZyB0aGUgVUlcclxuICAgICAgICB0aGlzLmRhdGEgPSBnaWd5YS51dGlscy5vYmplY3QubWVyZ2UoW1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIElEOiBwZW5kaW5nQ29tbWVudElkLFxyXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXHJcbiAgICAgICAgICAgICAgICB0aHJlYWRUaW1lc3RhbXA6IHRpbWVzdGFtcCxcclxuICAgICAgICAgICAgICAgIHNlbmRlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHBob3RvVVJMOiBnaWd5YS5nbG9iYWwuZ2V0UGhvdG9VUkwodGhpcy5wbHVnaW4udXNlci50aHVtYm5haWxVUkwgfHwgdGhpcy5wbHVnaW4udXNlci5waG90b1VSTCksXHJcbiAgICAgICAgICAgICAgICAgICAgbG9naW5Qcm92aWRlcjogdGhpcy5nZXRMb2dpblByb3ZpZGVyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5wbHVnaW4uZ2V0VXNlcm5hbWUoKSxcclxuICAgICAgICAgICAgICAgICAgICBVSUQ6IHRoaXMucGx1Z2luLnVzZXIgPyB0aGlzLnBsdWdpbi51c2VyLlVJRCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdGFnczogdGhpcy5wbHVnaW4ucGFyYW1zWydjb21tZW50VGFncyddLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0pIGFzIENvbW1lbnREYXRhO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wb3N0QW5vbnltb3VzbHkpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhLmhpZ2hsaWdodEdyb3VwcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEuc2VuZGVyID0geyBuYW1lOiB0aGlzLnBsdWdpbi5nZXRUZXh0KCdhbm9ueW1vdXMnKSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGNvbW1lbnRQYXJhbXMgPSBnaWd5YS51dGlscy5vYmplY3QucmVtb3ZlVW5kZWZpbmVkKHtcclxuICAgICAgICAgICAgY29tbWVudFRleHQ6IHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZUNvbW1lbnRCb2R5ICE9ICdkaXNhYmxlZCcgPyB0aGlzLmRhdGEuY29tbWVudFRleHQgOiBudWxsLFxyXG4gICAgICAgICAgICBwYXJlbnRJRDogdGhpcy5kYXRhLnBhcmVudElEID8gdGhpcy5kYXRhLnBhcmVudElEIDogbnVsbCxcclxuICAgICAgICAgICAgY29tbWVudFRpdGxlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVDb21tZW50VGl0bGVzICE9ICdkaXNhYmxlZCcgJiYgIXRoaXMuZGF0YS5pc1JlcGx5KCkgPyB0aGlzLmRhdGEuY29tbWVudFRpdGxlIDogbnVsbCxcclxuICAgICAgICAgICAgdGFnZ2VkVXNlcnM6IHRoaXMuZGF0YS50YWdnZWRVc2Vycy5sZW5ndGggPiAwID8gdGhpcy5kYXRhLnRhZ2dlZFVzZXJzLmpvaW4oJywnKSA6IG51bGwsXHJcbiAgICAgICAgICAgIG1lZGlhSXRlbXM6IHRoaXMuZGF0YS5tZWRpYUl0ZW1zLmxlbmd0aCA+IDAgPyB0aGlzLmRhdGEubWVkaWFJdGVtc1swXS51cmwgOiBudWxsLFxyXG4gICAgICAgICAgICByYXRpbmdzOiB0aGlzLnBsdWdpbi50ZXh0TW9kZSA9PSBUZXh0TW9kZS5SRVZJRVdTID8gdGhpcy5kYXRhLnJhdGluZ3MgOiBudWxsLFxyXG4gICAgICAgICAgICBlbmFibGVkUHJvdmlkZXJzOiBkb250UHVibGlzaCB8fCAhdGhpcy5zaGFyZSB8fCB0aGlzLnNoYXJlLmdldFNlbGVjdGVkKCkubGVuZ3RoID09IDAgPyAnICcgOiB0aGlzLnNoYXJlLmdldFNlbGVjdGVkKCkuam9pbignLCcpLFxyXG4gICAgICAgICAgICB0YWdzOiB0aGlzLnBsdWdpbi5wYXJhbXNbJ2NvbW1lbnRUYWdzJ10sXHJcbiAgICAgICAgICAgIGFub255bW91czogdGhpcy5wb3N0QW5vbnltb3VzbHkgPyB0cnVlIDogbnVsbCxcclxuICAgICAgICAgICAgZ3Vlc3ROYW1lOiB0aGlzLnBsdWdpbi51c2VyLmlzR3Vlc3QgPyB0aGlzLnBsdWdpbi51c2VyLm5pY2tuYW1lIDogbnVsbCxcclxuICAgICAgICAgICAgZ3Vlc3RFbWFpbDogdGhpcy5wbHVnaW4udXNlci5pc0d1ZXN0ID8gdGhpcy5wbHVnaW4udXNlci5lbWFpbCA6IG51bGwsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiByZXMgPT4gdGhpcy5zdWJtaXRDYWxsYmFjayhyZXMpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBjaGVjayBpZiB0aGlzIGlzIGFjdHVhbHkgbmVjZXNzYXJ5XHJcbiAgICAgICAgLy8gaXQgaXMgcG9zc2libGUgdGhhdCB0aGUgY2xpZW50IHdvdWxkIHJlbW92ZSB0aGUgc2hhcmUgYmFyIGZyb20gdGhlIHRlbXBsYXRlXHJcbiAgICAgICAgaWYgKHRoaXMuc2hhcmUpIHtcclxuICAgICAgICAgICAgLy8gbWVyZ2UgdXNlckFjdGlvbnMgZGVmYXVsdHMgdG8gdGhlIHNwZWNpZmljIHVzZXJBY3Rpb25zXHJcbiAgICAgICAgICAgIGZvciAodmFyIHNoYXJlUHJvdmlkZXJJbmRleCA9IDA7IHNoYXJlUHJvdmlkZXJJbmRleCA8IHRoaXMuc2hhcmUuZ2V0U2VsZWN0ZWQoKS5sZW5ndGg7IHNoYXJlUHJvdmlkZXJJbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVQcm92aWRlciA9IHRoaXMuc2hhcmUuZ2V0U2VsZWN0ZWQoKVtzaGFyZVByb3ZpZGVySW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhY3Rpb25OYW1lID0gc2hhcmVQcm92aWRlciArICdVc2VyQWN0aW9uJztcclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnBhcmFtc1thY3Rpb25OYW1lXSA9IHRoaXMuZ2V0VXNlckFjdGlvbih0aGlzLmRhdGEsIHRoaXMucGx1Z2luLnBhcmFtc1thY3Rpb25OYW1lXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZpcmUgdGhlIGJlZm9yZUNvbW1lbnRTdWJtaXR0ZWQgZXZlbnRcclxuICAgICAgICB2YXIgZTogYW55ID0gY29tbWVudFBhcmFtcztcclxuICAgICAgICBpZiAoIWUuZ3Vlc3ROYW1lKSBlLmd1ZXN0TmFtZSA9ICcnO1xyXG4gICAgICAgIGlmICghZS5ndWVzdEVtYWlsKSBlLmd1ZXN0RW1haWwgPSAnJztcclxuICAgICAgICBlLmV2ZW50TmFtZSA9ICdiZWZvcmVDb21tZW50U3VibWl0dGVkJztcclxuICAgICAgICBpZiAoZ2lneWEuZXZlbnRzLmRpc3BhdGNoRm9yV2lkZ2V0KGUsIHRoaXMucGx1Z2luLnBhcmFtcykgPT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29tbWVudFBhcmFtcyA9IGU7IC8vIHRvIGdldCBjaGFuZ2VkIHBhcmFtc1xyXG4gICAgICAgIGlmIChlLmd1ZXN0TmFtZSA9PSAnJykgZGVsZXRlIGUuZ3Vlc3ROYW1lO1xyXG4gICAgICAgIGlmIChlLmd1ZXN0RW1haWwgPT0gJycpIGRlbGV0ZSBlLmd1ZXN0RW1haWw7XHJcblxyXG4gICAgICAgIHZhciBwYXJlbnRDb21tZW50ID0gdGhpcy5wbHVnaW4uZ2V0Q29tbWVudCh0aGlzLmRhdGEucGFyZW50SUQpO1xyXG4gICAgICAgIHZhciBsZXZlbCA9IHBhcmVudENvbW1lbnQgPyBwYXJlbnRDb21tZW50LmxldmVsICsgMSA6IDA7XHJcbiAgICAgICAgdmFyIGluZm9NZXNzYWdlID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5kYXRhLnN0YXR1cyA9PSAncGVuZGluZycpXHJcbiAgICAgICAgICAgIGluZm9NZXNzYWdlID1cclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnRleHRNb2RlID09IFRleHRNb2RlLlJFVklFV1MgJiYgbGV2ZWwgPT0gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5nZXRUZXh0KCd5b3VyX3Jldmlld19pc19hd2FpdGluZ19tb2RlcmF0aW9uJylcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0VGV4dCgneW91cl9jb21tZW50X2lzX2F3YWl0aW5nX21vZGVyYXRpb24nKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbHVnaW4uYWRkQ29tbWVudHMoW3RoaXMuZGF0YV0sIGxldmVsLCBmYWxzZSwgdHJ1ZSwgbnVsbCwgaW5mb01lc3NhZ2UpO1xyXG4gICAgICAgIGdpZ3lhLmNvbW1lbnRzLnBvc3RDb21tZW50KHRoaXMucGx1Z2luLnBhcmFtcywgY29tbWVudFBhcmFtcyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNoYXJlKSB0aGlzLnNoYXJlLnNhdmVTZWxlY3RlZCgpO1xyXG4gICAgICAgIHRoaXMucGx1Z2luLnNldFN0cmVhbUluZm9JZk5lZWRlZCgpO1xyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdWJtaXRDYWxsYmFjayhyZXNwb25zZTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuc3VibWl0Q2FsbGJhY2socmVzcG9uc2UpO1xyXG4gICAgICAgIGlmIChyZXNwb25zZVsnZXJyb3JDb2RlJ10gIT0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgY29tbWVudCA9IHRoaXMucGx1Z2luLmdldENvbW1lbnQocmVzcG9uc2VbJ2NvbW1lbnQnXVsnSUQnXSk7XHJcblxyXG4gICAgICAgIGlmIChjb21tZW50LmRhdGEuc3RhdHVzID09PSAncHVibGlzaGVkJykge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zdHJlYW1JbmZvLmNvbW1lbnRDb3VudCsrO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGF0YS5pc1JlcGx5KCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnN0cmVhbUluZm8ucmF0aW5nQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4udXBkYXRlQ291bnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBvRXZlbnQgPSBnaWd5YS51dGlscy5vYmplY3QucmVtb3ZlVW5kZWZpbmVkKHtcclxuICAgICAgICAgICAgZXZlbnROYW1lOiAnY29tbWVudFN1Ym1pdHRlZCcsXHJcbiAgICAgICAgICAgIHN0cmVhbUlEOiB0aGlzLnBsdWdpbi5wYXJhbXNbJ3N0cmVhbUlEJ10sXHJcbiAgICAgICAgICAgIGNhdGVnb3J5SUQ6IHRoaXMucGx1Z2luLnBhcmFtc1snY2F0ZWdvcnlJRCddLFxyXG4gICAgICAgICAgICBjb21tZW50VGV4dDogY29tbWVudC5kYXRhLmNvbW1lbnRUZXh0LFxyXG4gICAgICAgICAgICBjb21tZW50OiBnaWd5YS51dGlscy5vYmplY3QuY2xvbmUoY29tbWVudC5kYXRhLCB0cnVlLCB0cnVlKSxcclxuICAgICAgICAgICAgbW9kZTogdGhpcy5wbHVnaW4udGV4dE1vZGUgPT0gVGV4dE1vZGUuUkVWSUVXUyA/ICdyZXZpZXdzJyA6ICdjb21tZW50cycsXHJcbiAgICAgICAgICAgIHJhdGluZ3M6IGNvbW1lbnQuZGF0YS5yYXRpbmdzLFxyXG4gICAgICAgICAgICBjb21tZW50VGl0bGU6IGNvbW1lbnQuZGF0YS5jb21tZW50VGl0bGUsXHJcbiAgICAgICAgICAgIHByb3ZpZGVyUG9zdElEczogY29tbWVudC5kYXRhLnByb3ZpZGVyUG9zdElEcyxcclxuICAgICAgICAgICAgdXNlcjogdGhpcy5wbHVnaW4udXNlci5VSUQgPyB0aGlzLnBsdWdpbi51c2VyIDogbnVsbCxcclxuICAgICAgICAgICAgZ3Vlc3RVc2VyOiB0aGlzLnBsdWdpbi51c2VyLmlzR3Vlc3QgPyB7IG5pY2tuYW1lOiB0aGlzLnBsdWdpbi51c2VyLm5pY2tuYW1lLCBlbWFpbDogdGhpcy5wbHVnaW4udXNlci5lbWFpbCB9IDogbnVsbCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wbHVnaW4udXNlckNvbW1lbnRzRGF0YS5wdXNoKGNvbW1lbnQuZGF0YSk7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4uc2V0VXNlckNvbW1lbnRzKHRoaXMucGx1Z2luLnVzZXJDb21tZW50c0RhdGEpO1xyXG4gICAgICAgIGdpZ3lhLmV2ZW50cy5kaXNwYXRjaEZvcldpZGdldChvRXZlbnQsIHRoaXMucGx1Z2luLnBhcmFtcyk7XHJcbiAgICB9XHJcbiAgICAvLyNlbmRyZWdpb25cclxufVxyXG4iLCJleHBvcnQgdmFyIGRlZmF1bHRUZW1wbGF0ZXMgPSB7XHJcbiAgICBjb21tZW50c1BsdWdpbjogW1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnRzLWNvbXBvc2Vib3hcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnRzLWhlYWRlclwiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudHMtdXBkYXRlc1wiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudHMtY29tbWVudHNcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnRzLW1vcmVcIj48L2Rpdj4nLFxyXG4gICAgXS5qb2luKCcnKSxcclxuICAgIGNvbW1lbnRzUGx1Z2luQ29tcG9zZUJvdHRvbTogW1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnRzLWhlYWRlclwiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudHMtdXBkYXRlc1wiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudHMtY29tbWVudHNcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnRzLW1vcmVcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnRzLWNvbXBvc2Vib3hcIj48L2Rpdj4nLFxyXG4gICAgXS5qb2luKCcnKSxcclxuICAgIGhlYWRlcjogW1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnRzLWhlYWRlci1sZWZ0XCI+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy1jb3VudFwiPjwvZGl2PicsXHJcbiAgICAgICAgJzwvZGl2PicsXHJcbiAgICAgICAgJzx1bCBjbGFzcz1cImdpZy1jb21tZW50cy1oZWFkZXItcmlnaHQgZ2lnLWNvbW1lbnRzLWxpbmtzQ29udGFpbmVyXCIgcm9sZT1cInByZXNlbnRhdGlvblwiPicsXHJcbiAgICAgICAgJzxsaSBjbGFzcz1cImdpZy1jb21tZW50cy1zb3J0XCI+JHNvcnQ8L2xpPicsXHJcbiAgICAgICAgJzxsaSBjbGFzcz1cImdpZy1jb21tZW50cy1zdWJzY3JpYmVcIj4kc3Vic2NyaWJlPC9saT4nLFxyXG4gICAgICAgICc8bGkgY2xhc3M9XCJnaWctY29tbWVudHMtcnNzXCI+JHJzczwvbGk+JyxcclxuICAgICAgICAnPC91bD4nLFxyXG4gICAgXS5qb2luKCcnKSxcclxuICAgIHVwZGF0ZXM6IFsnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy11cGRhdGVzLXRleHRcIj48L2Rpdj4nLCAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy11cGRhdGVzLWxpbmtcIj48L2Rpdj4nXS5qb2luKCcnKSxcclxuICAgIGNvbW1lbnQ6IFtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50LXRpdGxlXCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50LXBob3RvXCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50LWRhdGFcIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnQtZWRpdGJveFwiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudC1zZWxmLWRhdGFcIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnQtY29udGVudFwiPicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudC1oZWFkZXJcIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnQtaGVhZGVyLXJpZ2h0XCI+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50LXZpYVByb3ZpZGVyXCI+PC9kaXY+JyxcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJnaWctY29tbWVudC1lZGl0ZWRcIj4oJGVkaXRlZCk8L3NwYW4+JyxcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJnaWctY29tbWVudC10aW1lXCI+PC9zcGFuPicsXHJcbiAgICAgICAgJzwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudC1oZWFkZXItbGVmdFwiPicsXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwiZ2lnLWNvbW1lbnQtdXNlcm5hbWVcIj48L3NwYW4+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50LXN0YXR1c1wiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudC1ib2R5XCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50LW1lZGlhSXRlbVwiPjwvZGl2PicsXHJcbiAgICAgICAgJzwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudC1mb290ZXJcIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnQtZm9vdGVyLWxlZnRcIj4nLFxyXG4gICAgICAgICc8dWwgY2xhc3M9XCJnaWctY29tbWVudHMtbGlua3NDb250YWluZXJcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+JyxcclxuICAgICAgICAnPGxpIGNsYXNzPVwiZ2lnLWNvbW1lbnQtbGlrZUxpbmtcIiBhcmlhLWF0b21pYz1cInRydWVcIiBhcmlhLWxpdmU9XCJwb2xpdGVcIiBhcmlhLXJlbGV2YW50PVwidGV4dFwiPiRsaWtlPC9saT4nLFxyXG4gICAgICAgICc8bGkgY2xhc3M9XCJnaWctY29tbWVudC1yZXBseUxpbmtcIj4kcmVwbHk8L2xpPicsXHJcbiAgICAgICAgJzxsaSBjbGFzcz1cImdpZy1jb21tZW50LWVkaXRMaW5rXCI+JGVkaXQ8L2xpPicsXHJcbiAgICAgICAgJzxsaSBjbGFzcz1cImdpZy1jb21tZW50LWRlbGV0ZUxpbmtcIj4kZGVsZXRlPC9saT4nLFxyXG4gICAgICAgICc8bGkgY2xhc3M9XCJnaWctY29tbWVudC1zaGFyZUxpbmtcIj4kc2hhcmU8L2xpPicsXHJcbiAgICAgICAgJzxsaSBjbGFzcz1cImdpZy1jb21tZW50LXJlcGxpZXNBcnJvd1wiPicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudC1yZXBsaWVzQXJyb3ctdGV4dFwiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudC1yZXBsaWVzQXJyb3ctaW1nXCI+PC9kaXY+JyxcclxuICAgICAgICAnPC9saT4nLFxyXG4gICAgICAgICc8L3VsPicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudC1mbGFnXCI+PC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50LWZvb3Rlci1yaWdodFwiPicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudC12b3RlLXRvdGFsXCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50LXZvdGUtcG9zXCIgdGl0bGU9XCIkbGlrZVwiIGFyaWEtbGFiZWw9XCIkbGlrZVwiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudC12b3RlLW5lZ1wiIHRpdGxlPVwiJHVubGlrZVwiIGFyaWEtbGFiZWw9XCIkdW5saWtlXCI+PC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50LXJlcGx5Ym94XCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50LXJlcGxpZXNcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8L2Rpdj4nLFxyXG4gICAgXS5qb2luKCcnKSxcclxuICAgIG1lZGlhSXRlbTogW1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLW1lZGlhLWRpc3BsYXlcIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLW1lZGlhLXRodW1ibmFpbFwiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctbWVkaWEtb3ZlcmxheVwiPicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctbWVkaWEtY2FuY2VsXCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1tZWRpYS1wbGF5XCI+PC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1tZWRpYS1jYXB0aW9uXCI+JyxcclxuICAgICAgICAnPGEgaHJlZj1cIiR1cmxcIiB0YXJnZXQ9XCJfYmxhbmtcIiBjbGFzcz1cImdpZy1tZWRpYS1jYXB0aW9uLXVybFwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTp1cmwoJHByb3ZpZGVySWNvbik7XCI+JGRpc3BsYXlVcmw8L2E+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1tZWRpYS1jYXB0aW9uLXRleHRcIj4kY2FwdGlvbjwvZGl2PicsXHJcbiAgICAgICAgJzwvZGl2PicsXHJcbiAgICBdLmpvaW4oJycpLFxyXG4gICAgZGlhbG9nOiBbXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudHMtZGlhbG9nXCI+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy1kaWFsb2ctY2FwdGlvbi1jb250YWluZXJcIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnRzLWRpYWxvZy1jYXB0aW9uXCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy1kaWFsb2ctY2xvc2VcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnRzLWRpYWxvZy1ib2R5XCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy1kaWFsb2ctYnV0dG9uc1wiPicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudHMtZGlhbG9nLWJ1dHRvbiBnaWctY29tbWVudHMtZGlhbG9nLWJ1dHRvbi1va1wiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudHMtZGlhbG9nLWJ1dHRvbiBnaWctY29tbWVudHMtZGlhbG9nLWJ1dHRvbi1jYW5jZWxcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgICc8L2Rpdj4nLFxyXG4gICAgXS5qb2luKCcnKSxcclxuICAgIGVtYWlsVGV4dGJveERpYWxvZ0JvZHk6IFtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy1kaWFsb2ctdGV4dFwiPiR0ZXh0PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy1kaWFsb2ctdGV4dGJveC1jb250YWluZXJcIj4nLFxyXG4gICAgICAgICc8aW5wdXQgdHlwZT1cInRleHRib3hcIiBjbGFzcz1cImdpZy1jb21tZW50cy1kaWFsb2ctdGV4dGJveFwiIHZhbHVlPVwiJGVtYWlsXCIgYXJpYS1sYWJlbD1cIiRlbWFpbExhYmVsXCIgLz4nLFxyXG4gICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnRzLWRpYWxvZy1idXR0b24gZ2lnLWNvbW1lbnRzLWRpYWxvZy10ZXh0Ym94LWJ1dHRvblwiPiRidXR0b25UZXh0PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy1kaWFsb2ctZXJyb3JcIiBhcmlhLXJvbGU9XCJhbGVydFwiIGFyaWEtYXRvbWljPVwidHJ1ZVwiIGFyaWEtbGl2ZT1cInBvbGl0ZVwiPjwvZGl2PicsXHJcbiAgICBdLmpvaW4oJycpLFxyXG4gICAgcGhvdG86IFsnPGltZyBjbGFzcz1cImdpZy1jb21tZW50LWltZ1wiIGFsdD1cIlwiIHNyYz1cIiRwaG90b1VSTFwiIHN0eWxlPVwidmVydGljYWwtYWxpZ246dG9wXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz4kcHJvdmlkZXJJbWFnZSddLmpvaW4oJycpLFxyXG4gICAgcHJvdmlkZXJJbWFnZTogJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudC1wcm92aWRlckxvZ29cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48aW1nIGFsdD1cIlwiIHNyYz1cIiRwcm92aWRlckltYWdlVXJsXCIgc3R5bGU9XCJ2ZXJ0aWNhbC1hbGlnbjp0b3BcIiAvPjwvZGl2PicsXHJcbiAgICBjb21wb3NlYm94OiBbXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tcG9zZWJveC1lcnJvclwiIHJvbGU9XCJhbGVydFwiIGFyaWEtYXRvbWljPVwidHJ1ZVwiIGFyaWEtbGl2ZT1cInBvbGl0ZVwiPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tcG9zZWJveC1oZWFkZXJcIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtbG9naW5cIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtc29jaWFsLWxvZ2luIGdpZy1jb21tZW50cy1idXR0b25cIj4kbG9naW48ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtbG9naW4taWNvblwiPjwvZGl2PjxkaXYgY2xhc3M9XCJnaWctY29tcG9zZWJveC1sb2dpbi1kcm9wLWljb25cIj48L2Rpdj48L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtc2l0ZS1sb2dpblwiPiRsb2dpbjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tcG9zZWJveC1vclwiPiRvcjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tcG9zZWJveC1ndWVzdC1sb2dpbiBnaWctY29tbWVudHMtYnV0dG9uXCI+JGd1ZXN0PC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LWhlYWRlci1yaWdodFwiPicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tcG9zZWJveC1mb2xsb3dcIiBhcmlhLWF0b21pYz1cInRydWVcIiBhcmlhLWxpdmU9XCJwb2xpdGVcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtY2xvc2VcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtaGVhZGVyLWxlZnRcIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtdGl0bGVcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtbG9nb3V0XCI+KDxzcGFuPiRsb2dvdXQ8L3NwYW4+KTwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tcG9zZWJveC1yYXRpbmdzXCI+PC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LXBob3RvXCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LWRhdGFcIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtc3VtbWFyeVwiPjxpbnB1dCBjbGFzcz1cImdpZy1jb21wb3NlYm94LXN1bW1hcnktaW5wdXRcIiBkYXRhLXBsYWNlaG9sZGVyPVwiJHN1bW1hcnlcIiBhcmlhLWxhYmVsPVwiJHN1bW1hcnlcIiAvPjwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tcG9zZWJveC1lZGl0b3JcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtbWVkaWFJdGVtXCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LWZvb3RlclwiPicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tcG9zZWJveC1mb290ZXItcmlnaHRcIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtcG9zdEFub255bW91c2x5XCI+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LWFub24tY2hlY2tib3ggZ2lnLWNvbW1lbnRzLWNoZWNrYm94XCI+PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LWFub24tdGV4dFwiPiRwb3N0QW5vbnltb3VzbHk8L2Rpdj4nLFxyXG4gICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtY2FuY2VsIGdpZy1jb21tZW50cy1idXR0b25cIj4kY2FuY2VsPC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LXBvc3QgZ2lnLWNvbW1lbnRzLWJ1dHRvblwiPiRwb3N0PC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LWZvb3Rlci1sZWZ0XCI+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LXNoYXJlXCI+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LXNoYXJlLXRleHRcIj4kc2hhcmU8L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtc2hhcmUtcHJvdmlkZXJzXCI+PC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgIF0uam9pbignJyksXHJcbiAgICBlZGl0b3I6IFtcclxuICAgICAgICAnPHVsIGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtc2lkZWJhclwiPicsXHJcbiAgICAgICAgJzxsaSBjbGFzcz1cImdpZy1jb21wb3NlYm94LXNpZGViYXItYnV0dG9uIGdpZy1jb21wb3NlYm94LXNpZGViYXItZm9udFwiIHRpdGxlPVwiJGZvbnRBbHRcIiBhcmlhLWxhYmVsPVwiJGZvbnRBbHRcIj48L2xpPicsXHJcbiAgICAgICAgJzxsaSBjbGFzcz1cImdpZy1jb21wb3NlYm94LXNpZGViYXItYnV0dG9uIGdpZy1jb21wb3NlYm94LXNpZGViYXItbWVkaWFcIiB0aXRsZT1cIiRtZWRpYUFsdFwiIGFyaWEtbGFiZWw9XCIkbWVkaWFBbHRcIj48L2xpPicsXHJcbiAgICAgICAgJzxsaSBjbGFzcz1cImdpZy1jb21wb3NlYm94LXNpZGViYXItYnV0dG9uIGdpZy1jb21wb3NlYm94LXNpZGViYXItdGFnXCIgdGl0bGU9XCIkdGFnQWx0XCIgYXJpYS1sYWJlbD1cIiR0YWdBbHRcIj48L2xpPicsXHJcbiAgICAgICAgJzwvdWw+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LXRleHRhcmVhXCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiIHJvbGU9XCJ0ZXh0YXJlYVwiIGFyaWEtbXVsdGlsaW5lPVwidHJ1ZVwiIGRhdGEtcGxhY2Vob2xkZXI9XCIkd3JpdGVfYV9jb21tZW50XCIgYXJpYS1sYWJlbD1cIiR3cml0ZV9hX2NvbW1lbnRcIiBhcmlhLXJlcXVpcmVkPVwidHJ1ZVwiPjwvZGl2PicsXHJcbiAgICAgICAgJzxwPjwvcD4nLCAvL3RoaXMgaXMgZm9yIElFLCBtZXJnZSBub2RlcyB3aGVuIHRyeWluZyB0byBjcmVhdGUgbmV3IHVsXHJcbiAgICBdLmpvaW4oJycpLFxyXG4gICAgbWVkaWFJdGVtUGxheWVyOiBbXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudHMtbWVkaWFwbGF5ZXItdG9wXCI+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1tZWRpYS1jYW5jZWxcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnRzLW1lZGlhcGxheWVyLWNvbnRlbnRcIiBzdHlsZT1cImhlaWdodDoke3BsYXllckhlaWdodH1weDtcIj4kcGxheWVySFRNTDwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudHMtbWVkaWFwbGF5ZXItYm90dG9tXCI+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy1tZWRpYXBsYXllci1jYXB0aW9uXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOnVybCgkcHJvdmlkZXJJY29uKTtcIj4kY2FwdGlvbjwvZGl2PicsXHJcbiAgICAgICAgJzwvZGl2PicsXHJcbiAgICBdLmpvaW4oJycpLFxyXG4gICAgZ3Vlc3Rib3g6IFtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1ndWVzdGJveC1maWVsZHNcIj4nLFxyXG4gICAgICAgICc8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImdpZy1ndWVzdGJveC1uaWNrbmFtZVwiIGRhdGEtcGxhY2Vob2xkZXI9XCIkbmlja25hbWVcIiBhcmlhLWxhYmVsPVwiJG5pY2tuYW1lXCIgLz4nLFxyXG4gICAgICAgICc8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImdpZy1ndWVzdGJveC1lbWFpbFwiIGRhdGEtcGxhY2Vob2xkZXI9XCIkZW1haWxcIiBhcmlhLWxhYmVsPVwiJGVtYWlsXCIgLz4nLFxyXG4gICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWd1ZXN0Ym94LXRleHRcIj4ke2VtYWlsX25vdF9kaXNwbGF5ZWRfcHVibGljbHl9PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1ndWVzdGJveC1va1wiPiRvazwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctZ3Vlc3Rib3gtZXJyb3JcIj48L2Rpdj4nLFxyXG4gICAgXS5qb2luKCcnKSxcclxuICAgIHNvcnRib3g6IFtcclxuICAgICAgICAnPHVsPicsXHJcbiAgICAgICAgJzxsaSBkYXRhLXNvcnQ9XCJkYXRlRGVzY1wiPiRtb3N0X3JlY2VudDwvbGk+JyxcclxuICAgICAgICAnPGxpIGRhdGEtc29ydD1cImRhdGVBc2NcIj4kb2xkZXN0PC9saT4nLFxyXG4gICAgICAgICc8bGkgZGF0YS1zb3J0PVwidm90ZXNEZXNjXCI+JG1vc3Rfdm90ZWQ8L2xpPicsXHJcbiAgICAgICAgJzxsaSBkYXRhLXNvcnQ9XCJyYXRpbmdEZXNjXCI+JHJhdGluZ3M8L2xpPicsXHJcbiAgICAgICAgJzwvdWw+JyxcclxuICAgIF0uam9pbignJyksXHJcbiAgICBmb250Ym94OiBbXHJcbiAgICAgICAgJzx1bD4nLFxyXG4gICAgICAgICc8bGkgY2xhc3M9XCJnaWctY29tcG9zZWJveC1mb250LWJvbGRcIiBkYXRhLWNvbW1hbmQ9XCJib2xkXCI+PC9saT4nLFxyXG4gICAgICAgICc8bGkgY2xhc3M9XCJnaWctY29tcG9zZWJveC1mb250LWl0YWxpY1wiIGRhdGEtY29tbWFuZD1cIml0YWxpY1wiPjwvbGk+JyxcclxuICAgICAgICAnPGxpIGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtZm9udC11bmRlcmxpbmVcIiBkYXRhLWNvbW1hbmQ9XCJ1bmRlcmxpbmVcIj48L2xpPicsXHJcbiAgICAgICAgJzxsaSBjbGFzcz1cImdpZy1jb21wb3NlYm94LWZvbnQtYnVsbGV0c1wiIGRhdGEtY29tbWFuZD1cImJ1bGxldHNcIj48L2xpPicsXHJcbiAgICAgICAgJzwvdWw+JyxcclxuICAgIF0uam9pbignJyksXHJcbiAgICBtZWRpYWJveDogW1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLW1lZGlhYm94LWZpZWxkc1wiPicsXHJcbiAgICAgICAgJzxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZ2lnLW1lZGlhYm94LXVybFwiIHBsYWNlaG9sZGVyPVwiJHtlbnRlcl91cmx9XCIgYXJpYS1sYWJlbD1cIiR7ZW50ZXJfdXJsfVwiIHZhbHVlPVwiJHVybFwiIC8+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1tZWRpYWJveC1va1wiPiRvazwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctbWVkaWFib3gtdGV4dFwiPiR7YWRkX21lZGlhX2l0ZW19PC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgIF0uam9pbignJyksXHJcbiAgICBjb21wb3NlU2hhcmVNb3JlQm94OiBbXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tcG9zZWJveC1tb3JlYm94LWNhcHRpb25cIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtbW9yZWJveC10aXRsZVwiPiRtb3JlX3NoYXJlX2Rlc3RpbmF0aW9uczwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctY29tcG9zZWJveC1tb3JlYm94LWNsb3NlXCI+PC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPHVsIGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtbW9yZWJveC1wcm92aWRlcnNcIj4nLFxyXG4gICAgICAgICc8L3VsPicsXHJcbiAgICBdLmpvaW4oJycpLFxyXG4gICAgdXNlclRhZ2dpbmdCb3g6IFtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50cy11c2VydGFnZ2luZ2JveCBnaWctY29tbWVudHMtY29udGFpbmVyXCI+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy11c2VydGFnZ2luZy10aXRsZVwiPiR0aXRsZTwvZGl2PicsXHJcbiAgICAgICAgJzx1bCBjbGFzcz1cImdpZy11c2VydGFnZ2luZy1zdWdnZXN0aW9uc1wiPicsXHJcbiAgICAgICAgJzwvdWwgPiAnLFxyXG4gICAgICAgICc8L2Rpdj4gJyxcclxuICAgIF0uam9pbignJyksXHJcbiAgICB1c2VyVGFnZ2luZ09wdGlvbjogW1xyXG4gICAgICAgICc8aW1nIHNyYz1cIiRwaG90b1VSTFwiIGFsdD1cIlwiIGNsYXNzPVwiZ2lnLXVzZXJ0YWdnaW5nLXVzZXJpbWFnZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+PHNwYW4gY2xhc3M9XCJnaWctdXNlcnRhZ2dpbmctdXNlcm5hbWVcIj4kbmFtZTwvc3Bhbj4nLFxyXG4gICAgXS5qb2luKCcnKSxcclxuICAgIHJhdGluZzogJzxkaXYgY2xhc3M9XCJnaWctY29tbWVudC1yYXRpbmctdGl0bGVcIj48L2Rpdj48ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnQtcmF0aW5nLXZhbHVlXCI+PC9kaXY+JyxcclxuICAgIGNvbXBvc2Vib3hSYXRpbmc6ICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtcmF0aW5nLXRpdGxlXCI+PC9kaXY+PGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LXJhdGluZy12YWx1ZVwiPjwvZGl2PicsXHJcbiAgICBjb21tZW50VGl0bGU6IFsnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50LXJhdGluZ1wiPjwvZGl2PicsICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbW1lbnQtcmF0aW5nLWRyb3BcIj48L2Rpdj4nLCAnPGRpdiBjbGFzcz1cImdpZy1jb21tZW50LXN1bW1hcnlcIj48L2Rpdj4nXS5qb2luKCcnKSxcclxuICAgIG15UmV2aWV3OiBbXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctc2VsZnJldmlldy1oZWFkZXJcIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLXNlbGZyZXZpZXctaGVhZGVyLWxlZnRcIj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtcGhvdG9cIj48L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLXNlbGZyZXZpZXctbmFtZUFuZExvZ291dFwiPicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctc2VsZnJldmlldy15b3VyUmV2aWV3XCI+JHlvdXJfcmV2aWV3PC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LW5hbWVcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLWNvbXBvc2Vib3gtbG9nb3V0XCIgYXJpYS1sYWJlbD1cIiRsb2dvdXRcIj4oPHNwYW4+JGxvZ291dDwvc3Bhbj4pPC9kaXY+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1zZWxmcmV2aWV3LXJhdGluZ3NcIj48L2Rpdj4nLFxyXG4gICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ2lnLXNlbGZyZXZpZXctaGVhZGVyLXJpZ2h0XCI+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1jb21wb3NlYm94LWZvbGxvd1wiPjwvZGl2PicsXHJcbiAgICAgICAgJzwvZGl2PicsXHJcbiAgICAgICAgJzwvZGl2PicsXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJnaWctc2VsZnJldmlldy1zdW1tYXJ5LWNvbnRhaW5lclwiPicsXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwiZ2lnLXNlbGZyZXZpZXctZmllbGQtdGl0bGVcIj4kc3VtbWFyeTwvc3Bhbj48c3BhbiBjbGFzcz1cImdpZy1zZWxmcmV2aWV3LXN1bW1hcnlcIj48L3NwYW4+JyxcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImdpZy1zZWxmcmV2aWV3LWJvZHktY29udGFpbmVyXCI+JyxcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJnaWctc2VsZnJldmlldy1maWVsZC10aXRsZVwiPiRyZXZpZXc8L3NwYW4+PHNwYW4gY2xhc3M9XCJnaWctc2VsZnJldmlldy1ib2R5XCI+PC9zcGFuPicsXHJcbiAgICAgICAgJzwvZGl2PicsXHJcbiAgICBdLFxyXG59O1xyXG4iLCJpbXBvcnQgeyBCYXNlQ29tcG9zZUJveCB9IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQmFzZUNvbXBvc2VCb3gnO1xyXG5pbXBvcnQgeyBFdmVudHMsIEltYWdlcywgVXNlclRhZ2dpbmcgfSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnRzVXRpbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVzZXJUYWdnaW5nQm94IHtcclxuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgcmVsYXRlZFVzZXJzOiBhbnlbXTtcclxuXHJcbiAgICBwcml2YXRlIGN1cnJlbnRQcmVmaXg6IHN0cmluZztcclxuICAgIHByaXZhdGUgc2VsZWN0ZWRJbmRleDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZFVJRDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBrZXlkb3duRGVsZWdhdGU6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkO1xyXG5cclxuICAgIHN0YXRpYyB0YWdnaW5nVGVybWluYXRvcktleXMgPSBbMjcgLyogRXNjICovXTtcclxuICAgIHN0YXRpYyB0YWdnaW5nQ29uZmlybWF0aW9uS2V5cyA9IFs5IC8qIFRhYiAqLywgMTMgLyogRW50ZXIgKi9dO1xyXG4gICAgc3RhdGljIHZlcnRpY2FsS2V5cyA9IHsgMzg6ICd1cCcsIDQwOiAnZG93bicgfTtcclxuICAgIHN0YXRpYyBob3Jpem9udGFsS2V5cyA9IHsgMzc6ICdsZWZ0JywgMzk6ICdyaWdodCcgfTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgY29tcG9zZUJveDogQmFzZUNvbXBvc2VCb3gsIHB1YmxpYyBvblJlc3VsdDogKHVpZDogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpID0+IHZvaWQsIHRleHQ/OiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgcHJlZml4ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAwO1xyXG5cclxuICAgICAgICBpZiAodGV4dCkgcHJlZml4ID0gdGhpcy5nZXRVc2VyUHJlZml4KHRleHQpO1xyXG5cclxuICAgICAgICB0aGlzLmZldGNoUmVsYXRlZFVzZXJzKHByZWZpeCk7XHJcblxyXG4gICAgICAgIHRoaXMua2V5ZG93bkRlbGVnYXRlID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzS2V5RG93bihlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcihjb21wb3NlQm94LnVpRWxlbWVudHMudGV4dEFyZWEsICdrZXlkb3duJywgdGhpcy5rZXlkb3duRGVsZWdhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmV0Y2hSZWxhdGVkVXNlcnModXNlcm5hbWVQcmVmaXgpIHtcclxuICAgICAgICB2YXIgcGFyZW50Q29tbWVudCA9IHRoaXMuY29tcG9zZUJveC5wbHVnaW4uZ2V0Q29tbWVudCh0aGlzLmNvbXBvc2VCb3guZGF0YS5wYXJlbnRJRCk7XHJcblxyXG4gICAgICAgIGdpZ3lhLmNvbW1lbnRzLmdldFJlbGF0ZWRVc2Vycyh7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lUHJlZml4OiB1c2VybmFtZVByZWZpeCxcclxuICAgICAgICAgICAgY2F0ZWdvcnlJRDogdGhpcy5jb21wb3NlQm94LnBsdWdpbi5wYXJhbXNbJ2NhdGVnb3J5SUQnXSxcclxuICAgICAgICAgICAgc3RyZWFtSUQ6IHRoaXMuY29tcG9zZUJveC5wbHVnaW4ucGFyYW1zWydzdHJlYW1JRCddLFxyXG4gICAgICAgICAgICBwYXJlbnRDb21tZW50SUQ6IHBhcmVudENvbW1lbnQgPyBwYXJlbnRDb21tZW50LmlkIDogbnVsbCxcclxuICAgICAgICAgICAgbGltaXQ6IDEwLFxyXG4gICAgICAgICAgICBjYWNoZVRpbWVvdXQ6IDMwICogMTAwMCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLnJlbGF0ZWRVc2Vycykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVsYXRlZFVzZXJzID0gcmVzLnJlbGF0ZWRVc2VycztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikgdGhpcy5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVXNlcnMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3KCkge1xyXG4gICAgICAgIHZhciBlbEVkaXRvciA9IHRoaXMuY29tcG9zZUJveC51aUVsZW1lbnRzLmVkaXRvcjtcclxuICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBlbC5pbm5lckhUTUwgPSBnaWd5YS51dGlscy50ZW1wbGF0ZXMuZmlsbCh0aGlzLmNvbXBvc2VCb3gucGx1Z2luLnRlbXBsYXRlc1sndXNlclRhZ2dpbmdCb3gnXSwge1xyXG4gICAgICAgICAgICB0aXRsZTogdGhpcy5jb21wb3NlQm94LnBsdWdpbi5nZXRUZXh0KCd0YWdfYV9jb21tZW50ZXInKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBnaWd5YS5wbHVnaW5VdGlscy5ET00uYWRkUG9wb3Zlck5lYXJFbGVtZW50KFxyXG4gICAgICAgICAgICBlbEVkaXRvcixcclxuICAgICAgICAgICAgZWwsXHJcbiAgICAgICAgICAgICdib3R0b20nLFxyXG4gICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAhdGhpcy5jb21wb3NlQm94LnBsdWdpbi5pc1J0bCxcclxuICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIChlPzogRXZlbnQsIHdhc09wZW4/OiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGUgJiYgd2FzT3BlbikgRXZlbnRzLmNhbmNlbEV2ZW50KGUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBbdGhpcy5jb21wb3NlQm94LnVpRWxlbWVudHMudGV4dEFyZWFdLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VTZWxlY3RlZEJ5SW5kZXgoMCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVVc2VycygpO1xyXG5cclxuICAgICAgICB2YXIgZWxTdWdnZXN0aW9ucyA9IHRoaXMuZ2V0RWxlbWVudCgnc3VnZ2VzdGlvbnMnKTtcclxuICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcihlbFN1Z2dlc3Rpb25zLCAnbW91c2VvdmVyJywgKGU6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdmFyIGVsID0gKGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudCkgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHdoaWxlIChlbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdpZ3lhLnV0aWxzLkRPTS5pc0VsZW1lbnRDbGFzcyhlbCwgJ2dpZy11c2VydGFnZ2luZy11c2VyJykpIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nZXRDaGlsZE5vZGVJbmRleChlbFN1Z2dlc3Rpb25zLCBlbCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlU2VsZWN0ZWRCeUluZGV4KGluZGV4KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWxTdWdnZXN0aW9ucywgJ21vdXNlZG93bicsIChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5jYW5jZWxFdmVudChlKTtcclxuICAgICAgICAgICAgdGhpcy5jb25maXJtU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDaGlsZE5vZGVJbmRleChlbENvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGVsQ2hpbGQ6IEhUTUxFbGVtZW50KTogbnVtYmVyIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsQ29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGVsQ29udGFpbmVyLmNoaWxkTm9kZXNbaV0gPT0gZWxDaGlsZCkgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVVc2VycygpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWxhdGVkVXNlcnMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgaXNUaGVyZVNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBlbFN1Z2dlc3Rpb25zID0gdGhpcy5nZXRFbGVtZW50KCdzdWdnZXN0aW9ucycpO1xyXG5cclxuICAgICAgICAgICAgLy8gVGhpcyBsb29wIGdvZXMgb3ZlciB0aGUgZXhpc3RpbmcgdXNlciBlbGVtZW50cyAoaWYgdGhpcyBpcyBub3QgdGhlIGZpcnN0IHRpbWUpLCBhbmQga2VlcHMgdGhlIG9uZXMgdGhhdCBhcHBlYXIgaW4gdGhlIG5ldyBsaXN0XHJcbiAgICAgICAgICAgIC8vIChhbmQgYXJlIGluIHRoZSByaWdodCBvcmRlciksIGZvciBhIHNtb290aGVyIGV4cGVyaWVuY2UgKG5vIHJlZHJhdykuXHJcbiAgICAgICAgICAgIHZhciBrZXB0Q291bnRlciA9IDA7XHJcbiAgICAgICAgICAgIHZhciBleGlzdGluZ0VsZW1lbnRzID0gZWxTdWdnZXN0aW9ucy5jaGlsZEVsZW1lbnRDb3VudDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleGlzdGluZ0VsZW1lbnRzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyVXNlcjogYW55ID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGtlcHRDb3VudGVyIDwgdGhpcy5yZWxhdGVkVXNlcnMubGVuZ3RoKSBjdXJyVXNlciA9IHRoaXMucmVsYXRlZFVzZXJzW2tlcHRDb3VudGVyXTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY3VyckVsZW1lbnQgPSBlbFN1Z2dlc3Rpb25zLmNoaWxkTm9kZXNba2VwdENvdW50ZXJdIGFzIEhUTUxFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyVXNlci51aWQgJiYgY3VyclVzZXIudWlkID09IGN1cnJFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1naWctdWlkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyclVzZXIudWlkID09IHRoaXMuc2VsZWN0ZWRVSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUaGVyZVNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0ga2VwdENvdW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBrZXB0Q291bnRlcisrO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlbFN1Z2dlc3Rpb25zLnJlbW92ZUNoaWxkKGN1cnJFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXcgdXNlciBlbGVtZW50c1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0ga2VwdENvdW50ZXI7IGkgPCB0aGlzLnJlbGF0ZWRVc2Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHVzZXIgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXIgPSB0aGlzLnJlbGF0ZWRVc2Vyc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBlbFVzZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KGVsVXNlciwgJ2dpZy11c2VydGFnZ2luZy11c2VyJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodXNlci51aWQpIGVsVXNlci5zZXRBdHRyaWJ1dGUoJ2RhdGEtZ2lnLXVpZCcsIHVzZXIudWlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlbFVzZXIuaW5uZXJIVE1MID0gZ2lneWEudXRpbHMudGVtcGxhdGVzLmZpbGwodGhpcy5jb21wb3NlQm94LnBsdWdpbi50ZW1wbGF0ZXNbJ3VzZXJUYWdnaW5nT3B0aW9uJ10sIHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6IGdpZ3lhLmdsb2JhbC5nZXRQaG90b1VSTCh1c2VyLnBob3RvVVJMLCBJbWFnZXMuZ2V0UGhvdG9GdWxsTmFtZSgnQXZhdGFyX2VtcHR5JywgdGhpcy5jb21wb3NlQm94LnBsdWdpbi5waXhlbFJhdGlvKSksXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSBzZWxlY3RlZCB1c2VyIGZyb20gbGFzdCB0aW1lIC0gcmUtc2VsZWN0IGl0XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFVJRCAmJiB1c2VyLnVpZCA9PSB0aGlzLnNlbGVjdGVkVUlEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZENsYXNzVG9FbGVtZW50KGVsVXNlciwgJ2dpZy11c2VydGFnZ2luZy1zZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNUaGVyZVNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBlbFN1Z2dlc3Rpb25zLmFwcGVuZENoaWxkKGVsVXNlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFySW1hZ2VzID0gZWxVc2VyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKTtcclxuICAgICAgICAgICAgICAgIGlmIChhckltYWdlcyAmJiBhckltYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsSW1hZ2UgPSBhckltYWdlc1swXTtcclxuICAgICAgICAgICAgICAgICAgICBlbEltYWdlLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgICAgICAgICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkRXZlbnRMaXN0ZW5lcihlbEltYWdlLCAnbG9hZCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsTG9hZGVkSW1hZ2UgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdpZ3lhLmdsb2JhbC5zY2FsZUltYWdlVG9Db250YWluZXIoZWxMb2FkZWRJbWFnZSwgdHJ1ZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbExvYWRlZEltYWdlLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghaXNUaGVyZVNlbGVjdGVkKSB0aGlzLmNoYW5nZVNlbGVjdGVkQnlJbmRleCgwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhbmNlbCgpIHtcclxuICAgICAgICBpZiAodGhpcy5jb250YWluZXIgJiYgdGhpcy5jb250YWluZXIucGFyZW50RWxlbWVudCkgdGhpcy5jb250YWluZXIucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9uUmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHRoaXMub25SZXN1bHQobnVsbCwgbnVsbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnaWd5YS51dGlscy5ET00ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLmNvbXBvc2VCb3gudWlFbGVtZW50cy50ZXh0QXJlYSwgJ2tleWRvd24nLCB0aGlzLmtleWRvd25EZWxlZ2F0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRVc2VyUHJlZml4KHRleHQ6IHN0cmluZywgc3RhcnQ/OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAndW5kZWZpbmVkJykgc3RhcnQgPSB0ZXh0Lmxhc3RJbmRleE9mKCdAJyk7XHJcblxyXG4gICAgICAgIGlmIChzdGFydCAhPSAtMSkge1xyXG4gICAgICAgICAgICB2YXIgcHJlZml4ID0gJyc7XHJcblxyXG4gICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVmaXggPSB0ZXh0LnN1YnN0cmluZyhzdGFydCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcHJlZml4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJvY2Vzc1RleHRDaGFuZ2VkKHRleHQ6IHN0cmluZykge1xyXG4gICAgICAgIHZhciBzdGFydCA9IHRleHQubGFzdEluZGV4T2YoJ0AnKTtcclxuXHJcbiAgICAgICAgaWYgKHN0YXJ0ID09PSAwIHx8IChzdGFydCA+IDAgJiYgdGV4dC5jaGFyQXQoc3RhcnQgLSAxKSA9PSAnICcpKSB7XHJcbiAgICAgICAgICAgIHZhciBwcmVmaXggPSB0aGlzLmdldFVzZXJQcmVmaXgodGV4dCwgc3RhcnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcmVmaXggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZldGNoUmVsYXRlZFVzZXJzKHByZWZpeCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEVsZW1lbnQobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIGdpZ3lhLnV0aWxzLkRPTS5nZXRFbGVtZW50c0J5Q2xhc3ModGhpcy5jb250YWluZXIsICdnaWctdXNlcnRhZ2dpbmctJyArIG5hbWUpWzBdIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hhbmdlU2VsZWN0ZWRCeUluZGV4KGluZGV4KSB7XHJcbiAgICAgICAgdmFyIGVsU3VnZ2VzdGlvbnMgPSB0aGlzLmdldEVsZW1lbnQoJ3N1Z2dlc3Rpb25zJyk7XHJcbiAgICAgICAgdmFyIHVzZXJzTnVtID0gdGhpcy5yZWxhdGVkVXNlcnMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRVSUQgPSAnJztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleCA+PSAwICYmIHRoaXMuc2VsZWN0ZWRJbmRleCA8IHVzZXJzTnVtKSB7XHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVDbGFzc0Zyb21FbGVtZW50KGVsU3VnZ2VzdGlvbnMuY2hpbGROb2Rlc1t0aGlzLnNlbGVjdGVkSW5kZXhdIGFzIEhUTUxFbGVtZW50LCAnZ2lnLXVzZXJ0YWdnaW5nLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHVzZXJzTnVtKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRVSUQgPSB0aGlzLnJlbGF0ZWRVc2Vyc1tpbmRleF0udWlkO1xyXG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYWRkQ2xhc3NUb0VsZW1lbnQoZWxTdWdnZXN0aW9ucy5jaGlsZE5vZGVzW2luZGV4XSBhcyBIVE1MRWxlbWVudCwgJ2dpZy11c2VydGFnZ2luZy1zZWxlY3RlZCcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPCAwKSBpbmRleCA9IC0xO1xyXG4gICAgICAgIGVsc2UgaWYgKGluZGV4ID49IHVzZXJzTnVtKSBpbmRleCA9IHVzZXJzTnVtO1xyXG5cclxuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBwYXJzZUludChpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb25maXJtU2VsZWN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9uUmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHZhciB1c2VyID0gdGhpcy5yZWxhdGVkVXNlcnNbdGhpcy5zZWxlY3RlZEluZGV4XTtcclxuICAgICAgICAgICAgdmFyIGVsVXNlciA9IFVzZXJUYWdnaW5nLmNyZWF0ZVRhZ2dlZFVzZXJFbGVtZW50KHVzZXIubmFtZSwgdXNlci51aWQpO1xyXG4gICAgICAgICAgICB0aGlzLm9uUmVzdWx0KHVzZXIudWlkLCBlbFVzZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbmVyKSB0aGlzLmNvbnRhaW5lci5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5jb21wb3NlQm94LnVpRWxlbWVudHMudGV4dEFyZWEsICdrZXlkb3duJywgdGhpcy5rZXlkb3duRGVsZWdhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcm9jZXNzS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICAgICAgLy8gQ29uZmlybWF0aW9uICh1c2VyIHNlbGVjdGVkKVxyXG4gICAgICAgIGlmIChVc2VyVGFnZ2luZ0JveC50YWdnaW5nQ29uZmlybWF0aW9uS2V5cy5pbmRleE9mKGUua2V5Q29kZSkgIT0gLTEpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVsYXRlZFVzZXJzICYmIHRoaXMuc2VsZWN0ZWRJbmRleCA8IHRoaXMucmVsYXRlZFVzZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmNhbmNlbEV2ZW50KGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maXJtU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVGVybWluYXRpb24gKGNhbmNlbCB0YWdnaW5nKVxyXG4gICAgICAgIGVsc2UgaWYgKFVzZXJUYWdnaW5nQm94LnRhZ2dpbmdUZXJtaW5hdG9yS2V5cy5pbmRleE9mKGUua2V5Q29kZSkgIT0gLTEpIHtcclxuICAgICAgICAgICAgZ2lneWEudXRpbHMuRE9NLmNhbmNlbEV2ZW50KGUpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBVcC9kb3duIGtleXMgKHNlbGVjdGluZyB1c2VyKVxyXG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSBpbiBVc2VyVGFnZ2luZ0JveC52ZXJ0aWNhbEtleXMpIHtcclxuICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IFVzZXJUYWdnaW5nQm94LnZlcnRpY2FsS2V5c1tlLmtleUNvZGVdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAndXAnKSB0aGlzLmNoYW5nZVNlbGVjdGVkQnlJbmRleCh0aGlzLnNlbGVjdGVkSW5kZXggLSAxKTtcclxuICAgICAgICAgICAgZWxzZSB0aGlzLmNoYW5nZVNlbGVjdGVkQnlJbmRleCh0aGlzLnNlbGVjdGVkSW5kZXggKyAxKTtcclxuXHJcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5jYW5jZWxFdmVudChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgR2lneWFQbHVnaW5UeXBlc0NvbW1lbnRzIGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvQmFzZUNvbXBvc2VCb3gnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVBsdWdpblR5cGVzQ29tbWVudHNfMSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnQnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVBsdWdpblR5cGVzQ29tbWVudHNfMiBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnREYXRhJztcclxuaW1wb3J0ICogYXMgR2lneWFQbHVnaW5UeXBlc0NvbW1lbnRzXzMgZnJvbSAnc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9Db21tZW50cy5Nb2RlbHMnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVBsdWdpblR5cGVzQ29tbWVudHNfNCBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnRzUGx1Z2luJztcclxuaW1wb3J0ICogYXMgR2lneWFQbHVnaW5UeXBlc0NvbW1lbnRzQ29tbWVudHNVdGlscyBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbW1lbnRzVXRpbHMnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVBsdWdpblR5cGVzQ29tbWVudHNfNSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0NvbXBvc2VTaGFyZSc7XHJcbmltcG9ydCAqIGFzIEdpZ3lhUGx1Z2luVHlwZXNDb21tZW50c182IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvRGVmYXVsdENzcyc7XHJcbmltcG9ydCAqIGFzIEdpZ3lhUGx1Z2luVHlwZXNDb21tZW50c183IGZyb20gJ3NyYy9jb21tZW50cy9HaWd5YS5Db21tZW50cy5Kc1BsdWdpbi9hcHAvRWRpdENvbW1lbnRCb3gnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVBsdWdpblR5cGVzQ29tbWVudHNfOCBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL0ltZ0Jhc2UnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVBsdWdpblR5cGVzQ29tbWVudHNfOSBmcm9tICdzcmMvY29tbWVudHMvR2lneWEuQ29tbWVudHMuSnNQbHVnaW4vYXBwL05ld0NvbW1lbnRCb3gnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVBsdWdpblR5cGVzQ29tbWVudHNfMTAgZnJvbSAnc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9UZW1wbGF0ZXMnO1xyXG5pbXBvcnQgKiBhcyBHaWd5YVBsdWdpblR5cGVzQ29tbWVudHNfMTEgZnJvbSAnc3JjL2NvbW1lbnRzL0dpZ3lhLkNvbW1lbnRzLkpzUGx1Z2luL2FwcC9Vc2VyVGFnZ2luZ0JveCc7XHJcblxyXG5kZWNsYXJlIGNvbnN0IGdpZ3lhOiBhbnk7XHJcbmlmICghZ2lneWEucGx1Z2luVHlwZXMpIHtcclxuICAgIGdpZ3lhLnBsdWdpblR5cGVzID0ge307XHJcbn1cclxuaWYgKCFnaWd5YS5wbHVnaW5UeXBlcy5jb21tZW50cykge1xyXG4gICAgZ2lneWEucGx1Z2luVHlwZXMuY29tbWVudHMgPSB7fTtcclxufVxyXG5pZiAoIWdpZ3lhLnBsdWdpblR5cGVzLmNvbW1lbnRzLkNvbW1lbnRzVXRpbHMpIHtcclxuICAgIGdpZ3lhLnBsdWdpblR5cGVzLmNvbW1lbnRzLkNvbW1lbnRzVXRpbHMgPSB7fTtcclxufVxyXG5cclxuT2JqZWN0LmFzc2lnbihcclxuICAgIGdpZ3lhLnBsdWdpblR5cGVzLmNvbW1lbnRzLFxyXG4gICAgR2lneWFQbHVnaW5UeXBlc0NvbW1lbnRzLFxyXG4gICAgR2lneWFQbHVnaW5UeXBlc0NvbW1lbnRzXzEsXHJcbiAgICBHaWd5YVBsdWdpblR5cGVzQ29tbWVudHNfMixcclxuICAgIEdpZ3lhUGx1Z2luVHlwZXNDb21tZW50c18zLFxyXG4gICAgR2lneWFQbHVnaW5UeXBlc0NvbW1lbnRzXzQsXHJcbiAgICBHaWd5YVBsdWdpblR5cGVzQ29tbWVudHNfNSxcclxuICAgIEdpZ3lhUGx1Z2luVHlwZXNDb21tZW50c182LFxyXG4gICAgR2lneWFQbHVnaW5UeXBlc0NvbW1lbnRzXzcsXHJcbiAgICBHaWd5YVBsdWdpblR5cGVzQ29tbWVudHNfOCxcclxuICAgIEdpZ3lhUGx1Z2luVHlwZXNDb21tZW50c185LFxyXG4gICAgR2lneWFQbHVnaW5UeXBlc0NvbW1lbnRzXzEwLFxyXG4gICAgR2lneWFQbHVnaW5UeXBlc0NvbW1lbnRzXzExLFxyXG4pO1xyXG5PYmplY3QuYXNzaWduKGdpZ3lhLnBsdWdpblR5cGVzLmNvbW1lbnRzLkNvbW1lbnRzVXRpbHMsIEdpZ3lhUGx1Z2luVHlwZXNDb21tZW50c0NvbW1lbnRzVXRpbHMpO1xyXG5cclxuZ2lneWEuXy5VSS5hdHRhY2hQbHVnaW4oR2lneWFQbHVnaW5UeXBlc0NvbW1lbnRzXzQuQ29tbWVudHNQbHVnaW4sICdjb21tZW50cycsICdjb21tZW50czInLCAnc2hvd0NvbW1lbnRzVUknKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==