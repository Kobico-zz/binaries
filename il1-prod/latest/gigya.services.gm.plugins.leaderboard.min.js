!function(e){var t={};function i(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(o,a,function(t){return e[t]}.bind(null,a));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=369)}({369:function(e,t){void 0===window.gigya.services.gm.plugins&&(window.gigya.services.gm.plugins={}),function(){window.gigya.services.gm.plugins.leaderboard={instances:{},showLeaderboardUI:function(e,i,o){t.createInstance(e,i,o)}};var e=window.gigya.services.gm.plugins.leaderboard,t={instances_size:0,leaderboardPlugin:function(e,t,i){this._c=e,this._p=t,this._i=i,this._elid=t.containerID},createInstance:function(i,o,a){var d=document.getElementById(o.containerID);if(null!=d){d.innerHTML="";var r=new t.leaderboardPlugin(i,o,a);e.instances[o.containerID]=r,t.instances_size++,r.init()}},createDefaultTemplates:function(){var e={_map:{},get:function(e){return this._map[e]},set:function(e,t){this._map[e]=t instanceof Array?t.join(""):t}};return e.set("user",['<a class="gig-leaderboard-topUser">','<div class="gig-leaderboard-topUser-border">','<div class="gig-leaderboard-topUser-header">#${rank}</div>',"$photo ",'<div class="gig-leaderboard-topUser-friendIcon-container">$friendIcon</div>','<div class="gig-leaderboard-topUser-top3Icon-container">$top3Icon</div>',"</div>",'<div class="gig-leaderboard-topUser-name">$name</div>',"</a>"]),e.set("details",['<div class="gig-leaderboard gig-leaderboard-details">','<div class="gig-leaderboard-details-top">','<div class="gig-leaderboard-details-photo-container">$photo</div>','<div class="gig-leaderboard-details-nameAndPoints">','<div class="gig-leaderboard-details-name">$name</div>','<div class="gig-leaderboard-details-points-container">','<span class="gig-leaderboard-details-pointsText">$TEXT("num_points","%num","<span class=\\"gig-leaderboard-details-pointsValue\\">$points</span>")</span>',"</div>","</div>",'<div class="gig-leaderboard-details-challengeBadge">$challengeBadge</div>',"</div>","$detailsFooter","</div>"]),e.set("detailsFooter",['<div class="gig-leaderboard-details-bottom">$otherChallengesBadges</div>']),e.set("detailsPhoto",['<div class="gig-leaderboard-details-userPhoto">','<img alt="" id="${id}_userPhoto" src="${photoURL}" />',"</div>"]),e.set("topUserPhoto",['<div class="gig-leaderboard-topUser-userPhoto">','<img alt="" id="${id}_userPhoto" src="${photoURL}" />',"</div>"]),e.set("top3Icon",['<div class="gig-leaderboard-topUser-top3Icon"></div>']),e.set("friendIcon",['<div class="gig-leaderboard-topUser-friendIcon"></div>']),e.set("badge",['<div class="gig-leaderboard-details-badge-container" alt="$levelDescription" title="$levelDescription">','<img alt="" class="gig-leaderboard-details-badge" src="$badgeURL" />','<div class="gig-leaderboard-details-badge-levelTitle">$levelTitle</div>',"</div>"]),e},defaultCss:[".gig-leaderboard *, div.gig-leaderboard, .gig-leaderboard span, .gig-leaderboard a:hover, .gig-leaderboard a:visited, .gig-leaderboard a:link, .gig-leaderboard a:active{","border:none; line-height:normal;padding:0px;margin:0px;color:inherit;text-decoration:none;width:auto;float:none;-moz-border-radius:0;border-radius:0;","font-family:arial;font-size:12px;color:#313131;background:none;text-align:left}","div.gig-leaderboard-container {border: 1px solid #E6E6E6;overflow:hidden;padding: 8px 2px;text-align:center;}","div.gig-leaderboard-topUser-container {float:left;cursor:pointer;overflow:hidden;;width:72px;}","a.gig-leaderboard-topUser, a:hover.gig-leaderboard-topUser {padding:5px 8px;display:block;text-align:center;}","a:hover.gig-leaderboard-topUser div.gig-leaderboard-topUser-name {text-decoration:underline}","div.gig-leaderboard-topUser-header {font-size: 11px; color: #313131;margin: 0 2px;text-align:center;",'background: #FFFFFF; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#FFFFFF", endColorstr="#EAEBEB");zoom:1;',"background: -webkit-gradient(linear, left top, left bottom, from(#FFFFFF), to(#EAEBEB));","background: -moz-linear-gradient(top,  #FFFFFF,  #EAEBEB)}","div.gig-leaderboard-topUser-border {margin-bottom:3px; border: 1px solid #E8E8E8; overflow:hidden;background-color:#FFFFFF;}","div.gig-leaderboard-topUser-name {font-size: 11px; color: #313131;text-align:center;overflow:hidden;line-height:1.2;width:56px;height:28px;margin:0 auto;overflow:hidden;}","div.gig-leaderboard-topUser-userPhoto {width: 50px; height:50px; overflow:hidden;padding:2px;zoom:1}","div.gig-leaderboard-details {}","div.gig-leaderboard-details-userPhoto {width: 50px; height:50px; overflow:hidden;border: 1px solid #E8E8E8;text-align:center;padding:2px;display:inline-block;*display:inline;}","span.gig-leaderboard-details-pointsText {font-size: 12px; font-weight:bold; color: #0B81C1}","span.gig-leaderboard-details-pointsValue {font-size: 20px; font-weight:bold; color: #0B81C1}","div.gig-leaderboard-details-name {padding-top: 5px;padding-bottom:3px;font-size: 14px; font-weight:bold; color: #313131}","div.gig-leaderboard-details-photo-container {float:left;margin-right:12px;}","div.gig-leaderboard-details-top {overflow:hidden;zoom:1}","div.gig-leaderboard-details-badge-container {width:86px;text-align:center;display:inline-block;}","div.gig-leaderboard-otherBadges div.gig-leaderboard-details-badge-container {float:left;}","img.gig-leaderboard-details-badge {width:50px;height:50px;margin:0 5px 4px 5px;}","div.gig-leaderboard-details-badge-levelTitle {font-size: 12px; color:#313131;margin:0 5px;line-height:115%;text-align:center;}","div.gig-leaderboard-details-nameAndPoints {float:left;width:150px;}","div.gig-leaderboard-details-challengeBadge {float:right;padding-left:15px;}","div.gig-leaderboard-details-bottom { padding-top:8px; margin-top:8px; border-top: 1px solid #E8E8E8; overflow:hidden;zoom:1}","div.gig-leaderboard-topUser-top3Icon {width:15px; height:21px; background-image:url('"+window.gigya._.getCdnResource("/gs/i/gm/top3Icon.png")+"')}","div.gig-leaderboard-topUser-top3Icon-container {margin-top:-69px;margin-left:-1px;position:absolute;}","div.gig-leaderboard-topUser-friendIcon {width:14px; height:14px; background-image:url('"+window.gigya._.getCdnResource("/gs/i/gm/friendIcon.png")+"')}","div.gig-leaderboard-topUser-friendIcon-container {position:absolute;margin-left:41px;margin-top:-13px;}"]};window.gigya.localInfo.quirksMode&&t.defaultCss.push(["div.gig-leaderboard-topUser-userPhoto {width: 54px; height:54px}","div.gig-leaderboard-details-userPhoto {width: 54px; height:54px}","div.gig-leaderboard-topUser-header {width: 50px;}","div.gig-leaderboard-topUser-border {zoom:1;display:inline;}"]),t.leaderboardPlugin.prototype={init:function(){this.templates=t.createDefaultTemplates(),this._p.userTemplate&&this.templates.set("user",this._p.userTemplate),this._p.detailsTemplate&&this.templates.set("details",this._p.detailsTemplate),!this._p.cssPrefix&&t.addedCSS||(window.gigya.global.addCSS(t.defaultCss,this._p.cssPrefix),t.addedCSS=!0),this.refresh();var e=this,i=function(){window.setTimeout(function(){e.refresh(null,!0)},3e3)};window.gigya.services.socialize.addEventHandlers({listenerType:"component"},{onLogout:function(t){e.refresh(t)}}),window.gigya.events.addMap({defaultMethod:i,eventMap:[{events:"sendDone,reactionClicked,commentSubmitted,commentVoted,login,connectionAdded",args:[]}]}),window.gigya.socialize.addEventHandlers({listenerType:"component"},{onActionNotified:i})},getText:function(e,t,i){return window.gigya.pluginUtils.lang.getLocalizedText("gigya.services.gm.plugins.leaderboard.js",e,this._p.lang,t,i)},refresh:function(e,t){t||window.gigya.global.showLoader(document.getElementById(this._elid),"gig-leaderboard gig-leaderboard-container",this.getCanvasHeight());var i=this;window.gigya.services.gm.getTopUsers(this._c,{callback:function(e){i.afterGetTopUsers(e)}})},afterGetTopUsers:function(e){e.errorCode>0&&window.gigya.events.dispatchErrorFromResponse(this._p,e),this.users=[],e.users&&(this.users=e.users),this.draw()},getHTMLSize:function(e){var t=document.createElement("div");t.style.position="absolute",t.style.left="-1000px",t.innerHTML=e,document.getElementById(this._elid).appendChild(t);var i=t.offsetWidth,o=t.offsetHeight;return t.parentNode.removeChild(t),{w:i,h:o}},getCanvasWidth:function(){var e=document.createElement("div");e.className="gig-leaderboard gig-leaderboard-container";var t=document.createElement("div");e.appendChild(t),document.getElementById(this._elid).appendChild(e);var i=t.offsetWidth;return e.parentNode.removeChild(e),i},getCanvasHeight:function(){var e=this.getCanvasWidth(),t=this.getItemSize().w,i=this.getItemSize().h,o=Math.floor(e/t),a=this._p.totalCount;a||(a=12),a>36&&(a=36);var d=Math.ceil(a/o);return window.gigya.localInfo.quirksMode?d*i+window.gigya.global.getClassBordersAndPaddings("gig-leaderboard-container").h:d*i},draw:function(){for(var e=this.getCanvasWidth(),t=this.getCanvasHeight(),i=this.getItemSize(),o=i.w,a=Math.floor(e/o),d=(e-a*o)/(a-1),r=[],n=0;n<this.users.length;n++){var s="0 "+Math.floor(d)+"px 0 0";1==a?(d=(e-o)/2,s="0 0 0 "+Math.floor(d)+"px"):(n+1)/a==Math.round((n+1)/a)&&(s="0"),r.push(this.getItemHTML(n,s,o,i.h))}document.getElementById(this._elid).innerHTML='<div class="gig-leaderboard gig-leaderboard-container" style="height:'+t+'px">'+r.join("")+"</div>",this.resizePhotos(),this.firedLoadEvent||(this.firedLoadEvent=!0,window.gigya.events.dispatchForWidget({eventName:"load",containerID:this._p.containerID},this._p))},resizePhotos:function(){for(var e=0;e<this.users.length;e++){var t=document.getElementById(this._elid+"_"+e+"_userPhoto");window.gigya.global.scaleImageToContainer(t)}},getItemHTML:function(e,t,i,o){var a=window.gigya.utils.object.clone(this.users[e]);a.TEXT=window.gigya.utils.delegate.create(this,this.getText),a.id=this._elid+"_"+e,a.name=window.gigya.utils.sanitize.sanitizeHTML(a.name),a.photo=this.templates.get("topUserPhoto"),"friend"==a.type?a.friendIcon=window.gigya.utils.templates.fill(this.templates.get("friendIcon"),a):a.friendIcon="",a.rank<=3?a.top3Icon=window.gigya.utils.templates.fill(this.templates.get("top3Icon"),a):a.top3Icon="",a.photoURL=window.gigya.global.getPhotoURL(a.photoURL),a.photoURL&&""!=a.photoURL||(a.photoURL=window.gigya._.getCdnResource("/gs/i/gm/User.png")),a.points=this.getChallengePoints(e);var d=this.getInstanceRefString()+".showDetailsBubble("+e+", this);",r=this.getInstanceRefString()+".hideDetailsBubble("+e+", this);",n=this.templates.get("user");return'<div tabindex="0" class="gig-leaderboard-topUser-container" style="width:'+i+"px;height:"+o+"px;margin:"+t+'" onfocus="'+d+'" onblur="'+r+'">'+window.gigya.utils.templates.fill(n,a)+"</div>"},getItemSize:function(){var e={TEXT:window.gigya.utils.delegate.create(this,this.getText),friendIcon:window.gigya.utils.templates.fill(this.templates.get("friendIcon"),{}),top3Icon:window.gigya.utils.templates.fill(this.templates.get("top3Icon"),{}),name:"John<br />Doe",photoURL:window.gigya._.getCdnResource("/gs/i/gm/User.png"),point:999,rank:20,photo:this.templates.get("topUserPhoto")},t=this.templates.get("user");return this.getHTMLSize('<div class="gig-leaderboard-topUser-container">'+window.gigya.utils.templates.fill(t,e)+"</div>")},getBadgeHTML:function(e,t){var i=this.templates.get("badge"),o=window.gigya.utils.object.clone(e);return o.levelTitle||(o.levelTitle=""),o.levelDescription||(o.levelDescription=""),o.badgeURL=window.gigya.global.getPhotoURL(o.badgeURL),window.gigya.utils.templates.fill(i,o)},showDetailsBubble:function(e,t){this.currentDetailsBubbleFriendIndex=e;var i=this.templates.get("details"),o=window.gigya.utils.object.clone(this.users[e]);o.TEXT=window.gigya.utils.delegate.create(this,this.getText),o.name=window.gigya.utils.sanitize.sanitizeHTML(o.name.toUpperCase()),o.detailsFooter="",o.photo=this.templates.get("detailsPhoto"),o.photoURL=window.gigya.global.getPhotoURL(o.photoURL);var a=this.users[e].achievements,d=this._p.challenge;d||(d="_default"),o.challengeBadge="",o.points=this.getChallengePoints(e),o.photoURL&&""!=o.photoURL||(o.photoURL=window.gigya._.getCdnResource("/gs/i/gm/User.png"));for(var r=[],n=0;n<a.length;n++)a[n].badgeURL&&(a[n].challengeID==d?o.challengeBadge=this.getBadgeHTML(a[n],!0):r.length<4&&r.push(this.getBadgeHTML(a[n])));o.otherChallengesBadges='<div class="gig-leaderboard-otherBadges" style="overflow:hidden;display:inline-block;">'+r.join("")+"</div>",""!=o.otherChallengesBadges&&(o.detailsFooter=this.templates.get("detailsFooter")),o.id=this._elid+"_details"+e;var s=window.gigya.utils.templates.fill(i,o);window.gigya.global.putGMBalloonNextTo(t,s,null,344,null,null,this._elid+"_details");var l=document.getElementById(o.id+"_userPhoto");window.gigya.global.scaleImageToContainer(l)},hideDetailsBubble:function(e,t){var i=this;setTimeout(function(){i.currentDetailsBubbleFriendIndex===e&&(window.gigya.global.removeGMBalloon(),i.currentDetailsBubbleFriendIndex=void 0)},0)},getChallengePoints:function(e){var t=this._p.challenge;t||(t="_default");for(var i=this.users[e].achievements,o=0;o<i.length;o++)if(i[o].challengeID==t)return"all"==this._p.period?i[o].pointsTotal:i[o].points7Days},getInstanceRefString:function(){return"gigya.services.gm.plugins.leaderboard.instances['"+encodeURIComponent(this._elid)+"']"}}}()}});