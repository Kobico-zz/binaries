!function(e){var o={};function n(i){if(o[i])return o[i].exports;var r=o[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=o,n.d=function(e,o,i){n.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,o){if(1&o&&(e=n(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)n.d(i,r,function(o){return e[o]}.bind(null,r));return i},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="",n(n.s=347)}({155:function(e,o,n){Object.defineProperty(o,"__esModule",{value:!0});var i=n(52);o.findConfiguration=function(){var e=function(){for(var e,o=document.getElementsByTagName("script"),n=o.length-1;n>=0;n--){var i=o[n],r=i.src.toLowerCase();if(""!=r&&(r.indexOf("//cdnd*.gigya.com")>-1||r.indexOf("//cdnsd*.gigya.com")>-1||r.indexOf("?apikey=")>-1)&&r.indexOf("gigya.saml.js")>-1){e=i;break}}return e}();if(!e)throw new Error("failed to find script element");var o=i.urlParams(e.src).apiKey,n=e.innerHTML.replace(/^\s+|\s+$/g,"");if(!n)throw new Error("No object params was found.");if(!o)throw new Error("failed to find api key");return{apiKey:o,configJson:n}},o.parseConfiguration=function(e){var o=i.deserializeJSON(e.configJson);if(!o)throw new Error("The params object is not valid.");var n=i.objectMerge({apiKey:e.apiKey},o);if(!n.loginURL)throw new Error("The 'loginURL' param is not valid.");if(!n.logoutURL)throw new Error("The 'logoutURL' param is not valid.");return n}},156:function(e,o,n){Object.defineProperty(o,"__esModule",{value:!0});var i=n(52);function r(e,o){i.saveContext(o.apiKey,e,function(){i.redirect(o.loginURL,e,{samlContext:e.samlContext})})}function t(e,o){i.isLoggedIn(function(n){var r=n?i.getLoginToken(o.apiKey):null;i.redirectToSamlEndPont("idp/sso/continue",{samlContext:e.samlContext,loginToken:r},o.apiKey)},o.apiKey)}o.processLogin=function(e,o){i.isLoggedIn(function(n){n?i.redirectToSamlEndPont("idp/sso/continue",{samlContext:e.samlContext,loginToken:i.getLoginToken(o.apiKey)},o.apiKey):r(e,o)},o.apiKey)},o.processForceLogin=r,o.processAfterLogin=function(e,o){i.loadContext(o.apiKey,function(n){e.samlContext=e.samlContext||n.samlContext,e.spName=e.spName||n.spName,t(e,o)})},o.processPassiveLogin=t,o.processInitSSO=function(e,o){i.isLoggedIn(function(n){var r=n?i.getLoginToken(o.apiKey):null;i.redirectToSamlEndPont("idp/sso/init",{spName:e.params.spName,redirectURL:e.params.redirectURL,loginToken:r},o.apiKey)},o.apiKey)}},157:function(e,o,n){Object.defineProperty(o,"__esModule",{value:!0});var i=n(52);o.processLogout=function(e,o){var n=function(n){if(0!==n.errorCode)return i.reportError({errorCode:n.errorCode,errorMessage:n.errorMessage,response:n,action:e,configuration:o},e);if(n.samlContext){var r=function(){return i.redirectToSamlEndPont("idp/slo/finalize",{samlContext:n.samlContext},o.apiKey)},t=function(){return window.setTimeout(r,4e3)};o.logoutURL?i.openIframe(o.logoutURL,t,4e3):t()}};i.logout(e.samlContext,function(o){return 0===o.errorCode&&o.originalResponse&&403005===o.originalResponse.errorCode?i.logout(e.samlContext,n):n(o)})}},347:function(e,o,n){Object.defineProperty(o,"__esModule",{value:!0});var i=n(348),r=n(155),t=n(156),a=n(157),s=n(92),g=n(350),u=n(52);window.gigya||(window.gigya={}),window.gigyaSaml||(window.gigyaSaml={});var d=window.gigyaSaml;d.proxy||(d.proxy={bootstrap:i.bootstrap,findConfiguration:r.findConfiguration,parseConfiguration:r.parseConfiguration,processLogin:t.processLogin,processForceLogin:t.processForceLogin,processAfterLogin:t.processAfterLogin,processPassiveLogin:t.processPassiveLogin,processInitSSO:t.processInitSSO,processLogout:a.processLogout,ProxyMode:s.ProxyMode,parseUrl:s.parseUrl,processRequest:g.processRequest}),d.proxy.utils||(d.proxy.utils={urlParams:u.urlParams,openIframe:u.openIframe,reportError:u.reportError,redirectToSamlEndPont:u.redirectToSamlEndPont,setUrlParams:u.setUrlParams,getLoginToken:u.getLoginToken,saveContext:u.saveContext,loadContext:u.loadContext,templateFill:u.templateFill,deserializeJSON:u.deserializeJSON,objectMerge:u.objectMerge,isLoggedIn:u.isLoggedIn,logout:u.logout}),d.proxy.bootstrap(g.processRequest)},348:function(e,o,n){Object.defineProperty(o,"__esModule",{value:!0});var i=n(92),r=n(155),t=n(349);o.bootstrap=function(e){var o=i.parseUrl(location.search),n=r.findConfiguration();t.ensureJsSdkLoaded(n.apiKey,function(){var i=r.parseConfiguration(n);window.gigya._.logoutBehaviour.logoutBeforeServerResponse=!1,window.gigya._.logoutBehaviour.alwaysSendLogoutToServer=!0,e(o,i)},!0,!0)}},349:function(e,o){function n(e){for(var o,n=document.getElementsByTagName("script"),i=/\/\/cdn(s)?\.(ru1\.)?gigya.com/,r=n.length-1;r>=0;r--){var t=n[r],a=t.src.toLowerCase();if(""!==a)if(i.test(a)||a.indexOf("?apikey=")>-1)if(0===e.length||e.some(function(e){return a.indexOf(e)>-1})){o=t;break}}return o}function i(e,i,t,a,s,g){void 0===t&&(t=!0),void 0===a&&(a=!1),void 0===s&&(s=!1),void 0===g&&(g=!1),window.gigya.isGigya?(o.debug&&console.debug("$G gigya-jsSdk already loaded."),window.gigya.isReady?i():r(i)):(!function(e,i,r,t,a){var s;if(window.gigya.isGigya=!0,r){var g=document.createElement("a");g.href=n([]).src,s=g.protocol+"//"+g.host}else s="https://cdns.gigya.com";var u=(a?"":s)+"/js/gigya.js?apiKey="+e,d=document.createElement("script");if(d.type="text/javascript",t){var c=new XMLHttpRequest;c.open("GET",u,i),c.send(""),d.text=c.responseText}else d.src=u,d.async=i;o.debug&&console.debug("$G loading gigya-jsSdk...");document.getElementsByTagName("head")[0].appendChild(d)}(e,t,a,s,g),r(i))}function r(e){var n=null;void 0!==window.onGigyaServiceReady&&(n=window.onGigyaServiceReady),window.onGigyaServiceReady=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];n&&n.apply(this,i),o.debug&&console.debug("$G gigya-jsSdk loaded!"),e()}}Object.defineProperty(o,"__esModule",{value:!0}),o.debug=!1,o.getGigyaScriptElement=n,o.ensureJsSdkLoaded=i,o.ensureBasePluginLoaded=function(e,o,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1),i(e,function(){window.gigya._.plugins.BasePlugin&&!window.gigya._.plugins.BasePlugin.isMock?o():window.gigya._.loadBasePlugin({onLoad:o})},n,r)}},350:function(e,o,n){Object.defineProperty(o,"__esModule",{value:!0});var i=n(92),r=n(156),t=n(157);o.processRequest=function(e,o){switch(e.mode=e.mode||i.ProxyMode.afterLogin,e.mode){case i.ProxyMode.login:r.processLogin(e,o);break;case i.ProxyMode.forceLogin:r.processForceLogin(e,o);break;case i.ProxyMode.afterLogin:r.processAfterLogin(e,o);break;case i.ProxyMode.passiveLogin:r.processPassiveLogin(e,o);break;case i.ProxyMode.initSSO:r.processInitSSO(e,o);break;case i.ProxyMode.logout:t.processLogout(e,o);break;default:throw new Error("Unimplemented mode")}}},52:function(e,o){function n(e,o){return window.gigya.utils.URL.addParamsToURL(e,o)}function i(e,o,i){e=n(e=s(e,o),i),location.href=e}function r(e){return window.gigya._.apiAdapters.web.tokenStore.get(e)}function t(e){return"gig_samlContext_"+e}Object.defineProperty(o,"__esModule",{value:!0}),o.urlParams=function(e){e.indexOf("?")>-1&&(e=e.substring(e.indexOf("?")+1));for(var o=e.split(/&/),n={},i=0;i<o.length;++i){var r=o[i];if(-1!==r.indexOf("=")){var t=r.split("=");2===t.length&&(n[t[0]]=decodeURIComponent(t[1]))}}return n},o.openIframe=function(e,o,n){var i=!1,r=function(){i||(i=!0,o())};window.gigya.utils.script.triggerResource(e,r,window.gigya.utils.script.ResourceTypes.iframe,!1),n&&setTimeout(r,n)},o.reportError=function(e,o){if(window.gigya.samlConfig.errorPageURL)return i(window.gigya.samlConfig.errorPageURL,o,{error:e})},o.redirectToSamlEndPont=function(e,o,n){var r=window.gigya._.getApiDomain("fidm"),t="https://"+r+"/saml/v2.0/"+n+"/"+e,a=window.gigya._.apiAdapter.getGmidTicket();a&&(o.gmidTicket=a),i(t,{domain:r,apiKey:n,endPoint:e},o)},o.setUrlParams=n,o.redirect=i,o.getLoginToken=r;var a=6e5;function s(e,o){return window.gigya.utils.templates.fill(e,o)}o.saveContext=function(e,o,n){var i=t(e);window.gigya.utils.sessionCache.get(i,a,function(e){(e=e||[]).push(o),window.gigya.utils.sessionCache.set(i,e),n()})},o.loadContext=function(e,o){var n=t(e);window.gigya.utils.sessionCache.get(n,a,function(e){var i=(e=e||[]).shift()||{};window.gigya.utils.sessionCache.set(n,e),o(i)})},o.templateFill=s,o.deserializeJSON=function(e){return window.gigya.utils.JSON.deserialize(e,"")},o.objectMerge=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return window.gigya.utils.object.merge(e)},o.isLoggedIn=function(e,o){var n=r(o);e(Boolean(n))},o.logout=function(e,o){window.gigya.socialize.logout({callback:o,samlContext:e})}},92:function(e,o,n){Object.defineProperty(o,"__esModule",{value:!0});var i,r=n(52);!function(e){e[e._undefined=0]="_undefined",e[e.login=1]="login",e[e.forceLogin=2]="forceLogin",e[e.passiveLogin=3]="passiveLogin",e[e.afterLogin=4]="afterLogin",e[e.initSSO=5]="initSSO",e[e.logout=6]="logout",e[e._debug=7]="_debug"}(i=o.ProxyMode||(o.ProxyMode={})),o.parseUrl=function(e){var o=r.urlParams(e);return{mode:i[o.mode],samlContext:o.samlContext,params:o,spName:o.spName}}}});